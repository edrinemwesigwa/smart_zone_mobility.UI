{"ast":null,"code":"import { getApiBase } from \"./api-base\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class AuthorityDataService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = `${getApiBase()}/api/authority-data`;\n  }\n  getAuthorities() {\n    return this.http.get(`${this.apiUrl}/authorities`);\n  }\n  getDataSources(authorityCode) {\n    return this.http.get(`${this.apiUrl}/${authorityCode}/data-sources`);\n  }\n  getRecommendations(authorityCode) {\n    return this.http.get(`${this.apiUrl}/${authorityCode}/recommendations`);\n  }\n  getZoneData(authorityCode, zoneId) {\n    return this.http.get(`${this.apiUrl}/${authorityCode}/zone-data/${zoneId}`);\n  }\n  runAuthoritySimulation(authorityCode, request) {\n    return this.http.post(`${this.apiUrl}/${authorityCode}/simulate`, request);\n  }\n  getAuthorityReport(authorityCode, simulationId) {\n    return this.http.get(`${this.apiUrl}/${authorityCode}/report/${simulationId}`, {\n      responseType: \"blob\"\n    });\n  }\n  getAuthorityPitchDeck(authorityCode, simulationId) {\n    return this.http.get(`${this.apiUrl}/${authorityCode}/pitch-deck/${simulationId}`, {\n      responseType: \"blob\"\n    });\n  }\n  getAuthorityBusinessCase(authorityCode, simulationId) {\n    return this.http.get(`${this.apiUrl}/${authorityCode}/business-case/${simulationId}`);\n  }\n  compareRtaVsItc(request) {\n    return this.http.post(`${this.apiUrl}/compare/rta-itc`, request);\n  }\n  getUaeRoadmap() {\n    return this.http.get(`${this.apiUrl}/roadmap`);\n  }\n  static {\n    this.ɵfac = function AuthorityDataService_Factory(t) {\n      return new (t || AuthorityDataService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: AuthorityDataService,\n      factory: AuthorityDataService.ɵfac,\n      providedIn: \"root\"\n    });\n  }\n}","map":{"version":3,"names":["getApiBase","AuthorityDataService","constructor","http","apiUrl","getAuthorities","get","getDataSources","authorityCode","getRecommendations","getZoneData","zoneId","runAuthoritySimulation","request","post","getAuthorityReport","simulationId","responseType","getAuthorityPitchDeck","getAuthorityBusinessCase","compareRtaVsItc","getUaeRoadmap","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\edrin\\OneDrive\\Desktop\\Mobility\\SmartZoneSimulator.UI\\src\\app\\services\\authority-data.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Observable } from \"rxjs\";\r\nimport { getApiBase } from \"./api-base\";\r\nimport { TransportAuthority } from \"../models/transport-authority.model\";\r\nimport {\r\n  AuthorityComparison,\r\n  AuthorityDataSource,\r\n  AuthorityRoadmap,\r\n  AuthorityZoneData,\r\n  AuthorityZoneRecommendation,\r\n} from \"../models/authority-data.model\";\r\nimport {\r\n  SimulationRequest,\r\n  SimulationResult,\r\n} from \"../models/simulation.model\";\r\nimport { BusinessCaseDto } from \"./business-case.service\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class AuthorityDataService {\r\n  private apiUrl = `${getApiBase()}/api/authority-data`;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getAuthorities(): Observable<TransportAuthority[]> {\r\n    return this.http.get<TransportAuthority[]>(`${this.apiUrl}/authorities`);\r\n  }\r\n\r\n  getDataSources(authorityCode: string): Observable<AuthorityDataSource[]> {\r\n    return this.http.get<AuthorityDataSource[]>(\r\n      `${this.apiUrl}/${authorityCode}/data-sources`,\r\n    );\r\n  }\r\n\r\n  getRecommendations(\r\n    authorityCode: string,\r\n  ): Observable<AuthorityZoneRecommendation[]> {\r\n    return this.http.get<AuthorityZoneRecommendation[]>(\r\n      `${this.apiUrl}/${authorityCode}/recommendations`,\r\n    );\r\n  }\r\n\r\n  getZoneData(\r\n    authorityCode: string,\r\n    zoneId: string,\r\n  ): Observable<AuthorityZoneData> {\r\n    return this.http.get<AuthorityZoneData>(\r\n      `${this.apiUrl}/${authorityCode}/zone-data/${zoneId}`,\r\n    );\r\n  }\r\n\r\n  runAuthoritySimulation(\r\n    authorityCode: string,\r\n    request: SimulationRequest,\r\n  ): Observable<SimulationResult> {\r\n    return this.http.post<SimulationResult>(\r\n      `${this.apiUrl}/${authorityCode}/simulate`,\r\n      request,\r\n    );\r\n  }\r\n\r\n  getAuthorityReport(\r\n    authorityCode: string,\r\n    simulationId: string,\r\n  ): Observable<Blob> {\r\n    return this.http.get(\r\n      `${this.apiUrl}/${authorityCode}/report/${simulationId}`,\r\n      {\r\n        responseType: \"blob\",\r\n      },\r\n    );\r\n  }\r\n\r\n  getAuthorityPitchDeck(\r\n    authorityCode: string,\r\n    simulationId: string,\r\n  ): Observable<Blob> {\r\n    return this.http.get(\r\n      `${this.apiUrl}/${authorityCode}/pitch-deck/${simulationId}`,\r\n      { responseType: \"blob\" },\r\n    );\r\n  }\r\n\r\n  getAuthorityBusinessCase(\r\n    authorityCode: string,\r\n    simulationId: string,\r\n  ): Observable<BusinessCaseDto> {\r\n    return this.http.get<BusinessCaseDto>(\r\n      `${this.apiUrl}/${authorityCode}/business-case/${simulationId}`,\r\n    );\r\n  }\r\n\r\n  compareRtaVsItc(request: SimulationRequest): Observable<AuthorityComparison> {\r\n    return this.http.post<AuthorityComparison>(\r\n      `${this.apiUrl}/compare/rta-itc`,\r\n      request,\r\n    );\r\n  }\r\n\r\n  getUaeRoadmap(): Observable<AuthorityRoadmap> {\r\n    return this.http.get<AuthorityRoadmap>(`${this.apiUrl}/roadmap`);\r\n  }\r\n}\r\n\r\n"],"mappings":"AAGA,SAASA,UAAU,QAAQ,YAAY;;;AAkBvC,OAAM,MAAOC,oBAAoB;EAG/BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFhB,KAAAC,MAAM,GAAG,GAAGJ,UAAU,EAAE,qBAAqB;EAEd;EAEvCK,cAAcA,CAAA;IACZ,OAAO,IAAI,CAACF,IAAI,CAACG,GAAG,CAAuB,GAAG,IAAI,CAACF,MAAM,cAAc,CAAC;EAC1E;EAEAG,cAAcA,CAACC,aAAqB;IAClC,OAAO,IAAI,CAACL,IAAI,CAACG,GAAG,CAClB,GAAG,IAAI,CAACF,MAAM,IAAII,aAAa,eAAe,CAC/C;EACH;EAEAC,kBAAkBA,CAChBD,aAAqB;IAErB,OAAO,IAAI,CAACL,IAAI,CAACG,GAAG,CAClB,GAAG,IAAI,CAACF,MAAM,IAAII,aAAa,kBAAkB,CAClD;EACH;EAEAE,WAAWA,CACTF,aAAqB,EACrBG,MAAc;IAEd,OAAO,IAAI,CAACR,IAAI,CAACG,GAAG,CAClB,GAAG,IAAI,CAACF,MAAM,IAAII,aAAa,cAAcG,MAAM,EAAE,CACtD;EACH;EAEAC,sBAAsBA,CACpBJ,aAAqB,EACrBK,OAA0B;IAE1B,OAAO,IAAI,CAACV,IAAI,CAACW,IAAI,CACnB,GAAG,IAAI,CAACV,MAAM,IAAII,aAAa,WAAW,EAC1CK,OAAO,CACR;EACH;EAEAE,kBAAkBA,CAChBP,aAAqB,EACrBQ,YAAoB;IAEpB,OAAO,IAAI,CAACb,IAAI,CAACG,GAAG,CAClB,GAAG,IAAI,CAACF,MAAM,IAAII,aAAa,WAAWQ,YAAY,EAAE,EACxD;MACEC,YAAY,EAAE;KACf,CACF;EACH;EAEAC,qBAAqBA,CACnBV,aAAqB,EACrBQ,YAAoB;IAEpB,OAAO,IAAI,CAACb,IAAI,CAACG,GAAG,CAClB,GAAG,IAAI,CAACF,MAAM,IAAII,aAAa,eAAeQ,YAAY,EAAE,EAC5D;MAAEC,YAAY,EAAE;IAAM,CAAE,CACzB;EACH;EAEAE,wBAAwBA,CACtBX,aAAqB,EACrBQ,YAAoB;IAEpB,OAAO,IAAI,CAACb,IAAI,CAACG,GAAG,CAClB,GAAG,IAAI,CAACF,MAAM,IAAII,aAAa,kBAAkBQ,YAAY,EAAE,CAChE;EACH;EAEAI,eAAeA,CAACP,OAA0B;IACxC,OAAO,IAAI,CAACV,IAAI,CAACW,IAAI,CACnB,GAAG,IAAI,CAACV,MAAM,kBAAkB,EAChCS,OAAO,CACR;EACH;EAEAQ,aAAaA,CAAA;IACX,OAAO,IAAI,CAAClB,IAAI,CAACG,GAAG,CAAmB,GAAG,IAAI,CAACF,MAAM,UAAU,CAAC;EAClE;;;uBAlFWH,oBAAoB,EAAAqB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAApBxB,oBAAoB;MAAAyB,OAAA,EAApBzB,oBAAoB,CAAA0B,IAAA;MAAAC,UAAA,EAFnB;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}