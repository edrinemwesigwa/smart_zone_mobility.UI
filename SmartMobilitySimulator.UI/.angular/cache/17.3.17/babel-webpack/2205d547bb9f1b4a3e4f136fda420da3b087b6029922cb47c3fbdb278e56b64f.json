{"ast":null,"code":"import { BehaviorSubject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nexport class ToastService {\n  constructor() {\n    this.toasts = [];\n    this.toastsSubject = new BehaviorSubject([]);\n    this.toasts$ = this.toastsSubject.asObservable();\n    this.nextId = 0;\n  }\n  show(message, type = \"info\", duration = 5000) {\n    const toast = {\n      id: this.nextId++,\n      message,\n      type,\n      duration\n    };\n    this.toasts.push(toast);\n    this.toastsSubject.next([...this.toasts]);\n    if (duration > 0) {\n      setTimeout(() => this.remove(toast.id), duration);\n    }\n  }\n  success(message, duration = 5000) {\n    this.show(message, \"success\", duration);\n  }\n  error(message, duration = 8000) {\n    this.show(message, \"error\", duration);\n  }\n  warning(message, duration = 6000) {\n    this.show(message, \"warning\", duration);\n  }\n  info(message, duration = 5000) {\n    this.show(message, \"info\", duration);\n  }\n  remove(id) {\n    this.toasts = this.toasts.filter(t => t.id !== id);\n    this.toastsSubject.next([...this.toasts]);\n  }\n  clear() {\n    this.toasts = [];\n    this.toastsSubject.next([]);\n  }\n  static {\n    this.ɵfac = function ToastService_Factory(t) {\n      return new (t || ToastService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ToastService,\n      factory: ToastService.ɵfac,\n      providedIn: \"root\"\n    });\n  }\n}","map":{"version":3,"names":["BehaviorSubject","ToastService","constructor","toasts","toastsSubject","toasts$","asObservable","nextId","show","message","type","duration","toast","id","push","next","setTimeout","remove","success","error","warning","info","filter","t","clear","factory","ɵfac","providedIn"],"sources":["C:\\Users\\edrin\\OneDrive\\Desktop\\Mobility\\SmartZoneSimulator.UI\\src\\app\\services\\toast.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { BehaviorSubject, Observable } from \"rxjs\";\r\n\r\nexport interface Toast {\r\n  id: number;\r\n  message: string;\r\n  type: \"success\" | \"error\" | \"warning\" | \"info\";\r\n  duration: number;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class ToastService {\r\n  private toasts: Toast[] = [];\r\n  private toastsSubject = new BehaviorSubject<Toast[]>([]);\r\n  public toasts$ = this.toastsSubject.asObservable();\r\n  private nextId = 0;\r\n\r\n  show(\r\n    message: string,\r\n    type: Toast[\"type\"] = \"info\",\r\n    duration: number = 5000,\r\n  ): void {\r\n    const toast: Toast = {\r\n      id: this.nextId++,\r\n      message,\r\n      type,\r\n      duration,\r\n    };\r\n\r\n    this.toasts.push(toast);\r\n    this.toastsSubject.next([...this.toasts]);\r\n\r\n    if (duration > 0) {\r\n      setTimeout(() => this.remove(toast.id), duration);\r\n    }\r\n  }\r\n\r\n  success(message: string, duration: number = 5000): void {\r\n    this.show(message, \"success\", duration);\r\n  }\r\n\r\n  error(message: string, duration: number = 8000): void {\r\n    this.show(message, \"error\", duration);\r\n  }\r\n\r\n  warning(message: string, duration: number = 6000): void {\r\n    this.show(message, \"warning\", duration);\r\n  }\r\n\r\n  info(message: string, duration: number = 5000): void {\r\n    this.show(message, \"info\", duration);\r\n  }\r\n\r\n  remove(id: number): void {\r\n    this.toasts = this.toasts.filter((t) => t.id !== id);\r\n    this.toastsSubject.next([...this.toasts]);\r\n  }\r\n\r\n  clear(): void {\r\n    this.toasts = [];\r\n    this.toastsSubject.next([]);\r\n  }\r\n}\r\n\r\n"],"mappings":"AACA,SAASA,eAAe,QAAoB,MAAM;;AAYlD,OAAM,MAAOC,YAAY;EAHzBC,YAAA;IAIU,KAAAC,MAAM,GAAY,EAAE;IACpB,KAAAC,aAAa,GAAG,IAAIJ,eAAe,CAAU,EAAE,CAAC;IACjD,KAAAK,OAAO,GAAG,IAAI,CAACD,aAAa,CAACE,YAAY,EAAE;IAC1C,KAAAC,MAAM,GAAG,CAAC;;EAElBC,IAAIA,CACFC,OAAe,EACfC,IAAA,GAAsB,MAAM,EAC5BC,QAAA,GAAmB,IAAI;IAEvB,MAAMC,KAAK,GAAU;MACnBC,EAAE,EAAE,IAAI,CAACN,MAAM,EAAE;MACjBE,OAAO;MACPC,IAAI;MACJC;KACD;IAED,IAAI,CAACR,MAAM,CAACW,IAAI,CAACF,KAAK,CAAC;IACvB,IAAI,CAACR,aAAa,CAACW,IAAI,CAAC,CAAC,GAAG,IAAI,CAACZ,MAAM,CAAC,CAAC;IAEzC,IAAIQ,QAAQ,GAAG,CAAC,EAAE;MAChBK,UAAU,CAAC,MAAM,IAAI,CAACC,MAAM,CAACL,KAAK,CAACC,EAAE,CAAC,EAAEF,QAAQ,CAAC;;EAErD;EAEAO,OAAOA,CAACT,OAAe,EAAEE,QAAA,GAAmB,IAAI;IAC9C,IAAI,CAACH,IAAI,CAACC,OAAO,EAAE,SAAS,EAAEE,QAAQ,CAAC;EACzC;EAEAQ,KAAKA,CAACV,OAAe,EAAEE,QAAA,GAAmB,IAAI;IAC5C,IAAI,CAACH,IAAI,CAACC,OAAO,EAAE,OAAO,EAAEE,QAAQ,CAAC;EACvC;EAEAS,OAAOA,CAACX,OAAe,EAAEE,QAAA,GAAmB,IAAI;IAC9C,IAAI,CAACH,IAAI,CAACC,OAAO,EAAE,SAAS,EAAEE,QAAQ,CAAC;EACzC;EAEAU,IAAIA,CAACZ,OAAe,EAAEE,QAAA,GAAmB,IAAI;IAC3C,IAAI,CAACH,IAAI,CAACC,OAAO,EAAE,MAAM,EAAEE,QAAQ,CAAC;EACtC;EAEAM,MAAMA,CAACJ,EAAU;IACf,IAAI,CAACV,MAAM,GAAG,IAAI,CAACA,MAAM,CAACmB,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACV,EAAE,KAAKA,EAAE,CAAC;IACpD,IAAI,CAACT,aAAa,CAACW,IAAI,CAAC,CAAC,GAAG,IAAI,CAACZ,MAAM,CAAC,CAAC;EAC3C;EAEAqB,KAAKA,CAAA;IACH,IAAI,CAACrB,MAAM,GAAG,EAAE;IAChB,IAAI,CAACC,aAAa,CAACW,IAAI,CAAC,EAAE,CAAC;EAC7B;;;uBAlDWd,YAAY;IAAA;EAAA;;;aAAZA,YAAY;MAAAwB,OAAA,EAAZxB,YAAY,CAAAyB,IAAA;MAAAC,UAAA,EAFX;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}