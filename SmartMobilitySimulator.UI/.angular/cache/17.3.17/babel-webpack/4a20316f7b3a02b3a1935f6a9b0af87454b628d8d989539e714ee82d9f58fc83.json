{"ast":null,"code":"import { BehaviorSubject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nexport class ScenarioService {\n  constructor() {\n    this.STORAGE_KEY = \"smartmobility_scenarios\";\n    this.AUDIT_KEY = \"smartmobility_audit_log\";\n    this.scenariosSubject = new BehaviorSubject([]);\n    this.auditLogSubject = new BehaviorSubject([]);\n    this.scenarios$ = this.scenariosSubject.asObservable();\n    this.auditLog$ = this.auditLogSubject.asObservable();\n    this.loadScenarios();\n    this.loadAuditLog();\n  }\n  // Scenario Management\n  saveScenario(scenario) {\n    const scenarios = this.scenariosSubject.getValue();\n    const newScenario = {\n      ...scenario,\n      id: this.generateId(),\n      createdAt: new Date(),\n      updatedAt: new Date()\n    };\n    scenarios.push(newScenario);\n    this.scenariosSubject.next(scenarios);\n    this.saveToStorage();\n    this.logAction(\"scenario_saved\", `Saved scenario: ${scenario.name}`, `Zone: ${scenario.zoneName}`);\n    return newScenario;\n  }\n  updateScenario(id, updates) {\n    const scenarios = this.scenariosSubject.getValue();\n    const index = scenarios.findIndex(s => s.id === id);\n    if (index === -1) return null;\n    scenarios[index] = {\n      ...scenarios[index],\n      ...updates,\n      updatedAt: new Date()\n    };\n    this.scenariosSubject.next([...scenarios]);\n    this.saveToStorage();\n    this.logAction(\"scenario_saved\", `Updated scenario: ${scenarios[index].name}`, `Zone: ${scenarios[index].zoneName}`);\n    return scenarios[index];\n  }\n  deleteScenario(id) {\n    const scenarios = this.scenariosSubject.getValue();\n    const index = scenarios.findIndex(s => s.id === id);\n    if (index === -1) return false;\n    const deleted = scenarios[index];\n    scenarios.splice(index, 1);\n    this.scenariosSubject.next([...scenarios]);\n    this.saveToStorage();\n    this.logAction(\"scenario_deleted\", `Deleted scenario: ${deleted.name}`, `Zone: ${deleted.zoneName}`);\n    return true;\n  }\n  loadScenario(id) {\n    const scenarios = this.scenariosSubject.getValue();\n    const scenario = scenarios.find(s => s.id === id);\n    if (scenario) {\n      this.logAction(\"scenario_loaded\", `Loaded scenario: ${scenario.name}`, `Zone: ${scenario.zoneName}`);\n    }\n    return scenario || null;\n  }\n  getAllScenarios() {\n    return this.scenariosSubject.getValue();\n  }\n  // Audit Log\n  logAction(action, description, details) {\n    const log = this.auditLogSubject.getValue();\n    const newEntry = {\n      id: this.generateId(),\n      action,\n      description,\n      details,\n      timestamp: new Date()\n    };\n    log.unshift(newEntry);\n    // Keep only last 100 entries\n    if (log.length > 100) {\n      log.pop();\n    }\n    this.auditLogSubject.next([...log]);\n    this.saveAuditLog();\n  }\n  getAuditLog() {\n    return this.auditLogSubject.getValue();\n  }\n  getAuditLogByAction(action) {\n    return this.auditLogSubject.getValue().filter(entry => entry.action === action);\n  }\n  clearAuditLog() {\n    this.auditLogSubject.next([]);\n    this.saveAuditLog();\n  }\n  // Export/Import\n  exportScenarios() {\n    const scenarios = this.scenariosSubject.getValue();\n    return JSON.stringify(scenarios, null, 2);\n  }\n  importScenarios(json) {\n    try {\n      const scenarios = JSON.parse(json);\n      if (Array.isArray(scenarios)) {\n        this.scenariosSubject.next(scenarios);\n        this.saveToStorage();\n        return true;\n      }\n      return false;\n    } catch {\n      return false;\n    }\n  }\n  // Private methods\n  generateId() {\n    return Date.now().toString(36) + Math.random().toString(36).substr(2);\n  }\n  loadScenarios() {\n    try {\n      const stored = localStorage.getItem(this.STORAGE_KEY);\n      if (stored) {\n        const scenarios = JSON.parse(stored);\n        this.scenariosSubject.next(scenarios);\n      }\n    } catch {\n      this.scenariosSubject.next([]);\n    }\n  }\n  saveToStorage() {\n    try {\n      localStorage.setItem(this.STORAGE_KEY, JSON.stringify(this.scenariosSubject.getValue()));\n    } catch {\n      console.error(\"Failed to save scenarios to localStorage\");\n    }\n  }\n  loadAuditLog() {\n    try {\n      const stored = localStorage.getItem(this.AUDIT_KEY);\n      if (stored) {\n        const log = JSON.parse(stored);\n        this.auditLogSubject.next(log);\n      }\n    } catch {\n      this.auditLogSubject.next([]);\n    }\n  }\n  saveAuditLog() {\n    try {\n      localStorage.setItem(this.AUDIT_KEY, JSON.stringify(this.auditLogSubject.getValue()));\n    } catch {\n      console.error(\"Failed to save audit log to localStorage\");\n    }\n  }\n  static {\n    this.ɵfac = function ScenarioService_Factory(t) {\n      return new (t || ScenarioService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ScenarioService,\n      factory: ScenarioService.ɵfac,\n      providedIn: \"root\"\n    });\n  }\n}","map":{"version":3,"names":["BehaviorSubject","ScenarioService","constructor","STORAGE_KEY","AUDIT_KEY","scenariosSubject","auditLogSubject","scenarios$","asObservable","auditLog$","loadScenarios","loadAuditLog","saveScenario","scenario","scenarios","getValue","newScenario","id","generateId","createdAt","Date","updatedAt","push","next","saveToStorage","logAction","name","zoneName","updateScenario","updates","index","findIndex","s","deleteScenario","deleted","splice","loadScenario","find","getAllScenarios","action","description","details","log","newEntry","timestamp","unshift","length","pop","saveAuditLog","getAuditLog","getAuditLogByAction","filter","entry","clearAuditLog","exportScenarios","JSON","stringify","importScenarios","json","parse","Array","isArray","now","toString","Math","random","substr","stored","localStorage","getItem","setItem","console","error","factory","ɵfac","providedIn"],"sources":["C:\\Users\\edrin\\OneDrive\\Desktop\\Mobility\\SmartZoneSimulator.UI\\src\\app\\services\\scenario.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { BehaviorSubject, Observable } from \"rxjs\";\r\n\r\nexport interface SavedScenario {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  zoneId: string;\r\n  zoneName: string;\r\n  config: {\r\n    hourlyRate: number;\r\n    freeHours: number;\r\n    peakMultiplier: number;\r\n    exemptPublicTransport: boolean;\r\n    exemptCommercial: boolean;\r\n    exemptEmergency: boolean;\r\n  };\r\n  results?: {\r\n    congestionReduction: number;\r\n    estimatedRevenue: number;\r\n    vehiclesDiverted: number;\r\n    environmentalImpact: number;\r\n  };\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n}\r\n\r\nexport interface AuditLogEntry {\r\n  id: string;\r\n  action:\r\n    | \"simulation_run\"\r\n    | \"scenario_saved\"\r\n    | \"scenario_loaded\"\r\n    | \"scenario_deleted\"\r\n    | \"export_generated\"\r\n    | \"zone_created\"\r\n    | \"zone_updated\"\r\n    | \"settings_changed\";\r\n  description: string;\r\n  details: string;\r\n  timestamp: Date;\r\n  userId?: string;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class ScenarioService {\r\n  private readonly STORAGE_KEY = \"smartmobility_scenarios\";\r\n  private readonly AUDIT_KEY = \"smartmobility_audit_log\";\r\n\r\n  private scenariosSubject = new BehaviorSubject<SavedScenario[]>([]);\r\n  private auditLogSubject = new BehaviorSubject<AuditLogEntry[]>([]);\r\n\r\n  scenarios$ = this.scenariosSubject.asObservable();\r\n  auditLog$ = this.auditLogSubject.asObservable();\r\n\r\n  constructor() {\r\n    this.loadScenarios();\r\n    this.loadAuditLog();\r\n  }\r\n\r\n  // Scenario Management\r\n  saveScenario(\r\n    scenario: Omit<SavedScenario, \"id\" | \"createdAt\" | \"updatedAt\">,\r\n  ): SavedScenario {\r\n    const scenarios = this.scenariosSubject.getValue();\r\n    const newScenario: SavedScenario = {\r\n      ...scenario,\r\n      id: this.generateId(),\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n    };\r\n\r\n    scenarios.push(newScenario);\r\n    this.scenariosSubject.next(scenarios);\r\n    this.saveToStorage();\r\n\r\n    this.logAction(\r\n      \"scenario_saved\",\r\n      `Saved scenario: ${scenario.name}`,\r\n      `Zone: ${scenario.zoneName}`,\r\n    );\r\n\r\n    return newScenario;\r\n  }\r\n\r\n  updateScenario(\r\n    id: string,\r\n    updates: Partial<SavedScenario>,\r\n  ): SavedScenario | null {\r\n    const scenarios = this.scenariosSubject.getValue();\r\n    const index = scenarios.findIndex((s) => s.id === id);\r\n\r\n    if (index === -1) return null;\r\n\r\n    scenarios[index] = {\r\n      ...scenarios[index],\r\n      ...updates,\r\n      updatedAt: new Date(),\r\n    };\r\n\r\n    this.scenariosSubject.next([...scenarios]);\r\n    this.saveToStorage();\r\n\r\n    this.logAction(\r\n      \"scenario_saved\",\r\n      `Updated scenario: ${scenarios[index].name}`,\r\n      `Zone: ${scenarios[index].zoneName}`,\r\n    );\r\n\r\n    return scenarios[index];\r\n  }\r\n\r\n  deleteScenario(id: string): boolean {\r\n    const scenarios = this.scenariosSubject.getValue();\r\n    const index = scenarios.findIndex((s) => s.id === id);\r\n\r\n    if (index === -1) return false;\r\n\r\n    const deleted = scenarios[index];\r\n    scenarios.splice(index, 1);\r\n    this.scenariosSubject.next([...scenarios]);\r\n    this.saveToStorage();\r\n\r\n    this.logAction(\r\n      \"scenario_deleted\",\r\n      `Deleted scenario: ${deleted.name}`,\r\n      `Zone: ${deleted.zoneName}`,\r\n    );\r\n\r\n    return true;\r\n  }\r\n\r\n  loadScenario(id: string): SavedScenario | null {\r\n    const scenarios = this.scenariosSubject.getValue();\r\n    const scenario = scenarios.find((s) => s.id === id);\r\n\r\n    if (scenario) {\r\n      this.logAction(\r\n        \"scenario_loaded\",\r\n        `Loaded scenario: ${scenario.name}`,\r\n        `Zone: ${scenario.zoneName}`,\r\n      );\r\n    }\r\n\r\n    return scenario || null;\r\n  }\r\n\r\n  getAllScenarios(): SavedScenario[] {\r\n    return this.scenariosSubject.getValue();\r\n  }\r\n\r\n  // Audit Log\r\n  logAction(\r\n    action: AuditLogEntry[\"action\"],\r\n    description: string,\r\n    details: string,\r\n  ): void {\r\n    const log = this.auditLogSubject.getValue();\r\n    const newEntry: AuditLogEntry = {\r\n      id: this.generateId(),\r\n      action,\r\n      description,\r\n      details,\r\n      timestamp: new Date(),\r\n    };\r\n\r\n    log.unshift(newEntry);\r\n\r\n    // Keep only last 100 entries\r\n    if (log.length > 100) {\r\n      log.pop();\r\n    }\r\n\r\n    this.auditLogSubject.next([...log]);\r\n    this.saveAuditLog();\r\n  }\r\n\r\n  getAuditLog(): AuditLogEntry[] {\r\n    return this.auditLogSubject.getValue();\r\n  }\r\n\r\n  getAuditLogByAction(action: AuditLogEntry[\"action\"]): AuditLogEntry[] {\r\n    return this.auditLogSubject\r\n      .getValue()\r\n      .filter((entry) => entry.action === action);\r\n  }\r\n\r\n  clearAuditLog(): void {\r\n    this.auditLogSubject.next([]);\r\n    this.saveAuditLog();\r\n  }\r\n\r\n  // Export/Import\r\n  exportScenarios(): string {\r\n    const scenarios = this.scenariosSubject.getValue();\r\n    return JSON.stringify(scenarios, null, 2);\r\n  }\r\n\r\n  importScenarios(json: string): boolean {\r\n    try {\r\n      const scenarios = JSON.parse(json) as SavedScenario[];\r\n      if (Array.isArray(scenarios)) {\r\n        this.scenariosSubject.next(scenarios);\r\n        this.saveToStorage();\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Private methods\r\n  private generateId(): string {\r\n    return Date.now().toString(36) + Math.random().toString(36).substr(2);\r\n  }\r\n\r\n  private loadScenarios(): void {\r\n    try {\r\n      const stored = localStorage.getItem(this.STORAGE_KEY);\r\n      if (stored) {\r\n        const scenarios = JSON.parse(stored) as SavedScenario[];\r\n        this.scenariosSubject.next(scenarios);\r\n      }\r\n    } catch {\r\n      this.scenariosSubject.next([]);\r\n    }\r\n  }\r\n\r\n  private saveToStorage(): void {\r\n    try {\r\n      localStorage.setItem(\r\n        this.STORAGE_KEY,\r\n        JSON.stringify(this.scenariosSubject.getValue()),\r\n      );\r\n    } catch {\r\n      console.error(\"Failed to save scenarios to localStorage\");\r\n    }\r\n  }\r\n\r\n  private loadAuditLog(): void {\r\n    try {\r\n      const stored = localStorage.getItem(this.AUDIT_KEY);\r\n      if (stored) {\r\n        const log = JSON.parse(stored) as AuditLogEntry[];\r\n        this.auditLogSubject.next(log);\r\n      }\r\n    } catch {\r\n      this.auditLogSubject.next([]);\r\n    }\r\n  }\r\n\r\n  private saveAuditLog(): void {\r\n    try {\r\n      localStorage.setItem(\r\n        this.AUDIT_KEY,\r\n        JSON.stringify(this.auditLogSubject.getValue()),\r\n      );\r\n    } catch {\r\n      console.error(\"Failed to save audit log to localStorage\");\r\n    }\r\n  }\r\n}\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}