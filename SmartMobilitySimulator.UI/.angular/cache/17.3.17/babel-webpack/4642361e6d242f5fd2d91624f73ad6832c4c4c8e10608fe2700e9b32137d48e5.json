{"ast":null,"code":"import { getApiBase } from \"./api-base\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class SimulationService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = `${getApiBase()}/api/simulations`;\n  }\n  runSimulation(request) {\n    return this.http.post(`${this.apiUrl}/run`, request);\n  }\n  getSimulationResult(id) {\n    return this.http.get(`${this.apiUrl}/${id}`);\n  }\n  getAllSimulations() {\n    return this.http.get(this.apiUrl);\n  }\n  compareSimulations(ids) {\n    return this.http.post(`${this.apiUrl}/compare`, {\n      simulationIds: ids\n    });\n  }\n  deleteSimulation(id) {\n    return this.http.delete(`${this.apiUrl}/${id}`);\n  }\n  exportSimulationReport(id, format) {\n    return this.http.get(`${this.apiUrl}/${id}/export`, {\n      params: {\n        format\n      },\n      responseType: \"blob\"\n    });\n  }\n  getEconomicImpact(id) {\n    return this.http.get(`${this.apiUrl}/${id}/economic-impact`);\n  }\n  getInvestorReport(id) {\n    return this.http.get(`${this.apiUrl}/${id}/investor-report`, {\n      responseType: \"blob\"\n    });\n  }\n  static {\n    this.ɵfac = function SimulationService_Factory(t) {\n      return new (t || SimulationService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: SimulationService,\n      factory: SimulationService.ɵfac,\n      providedIn: \"root\"\n    });\n  }\n}","map":{"version":3,"names":["getApiBase","SimulationService","constructor","http","apiUrl","runSimulation","request","post","getSimulationResult","id","get","getAllSimulations","compareSimulations","ids","simulationIds","deleteSimulation","delete","exportSimulationReport","format","params","responseType","getEconomicImpact","getInvestorReport","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\edrin\\OneDrive\\Desktop\\Mobility\\SmartZoneSimulator.UI\\src\\app\\services\\simulation.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Observable } from \"rxjs\";\r\nimport {\r\n  SimulationRequest,\r\n  SimulationResult,\r\n} from \"../models/simulation.model\";\r\nimport { getApiBase } from \"./api-base\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class SimulationService {\r\n  private apiUrl = `${getApiBase()}/api/simulations`;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  runSimulation(request: SimulationRequest): Observable<SimulationResult> {\r\n    return this.http.post<SimulationResult>(`${this.apiUrl}/run`, request);\r\n  }\r\n\r\n  getSimulationResult(id: string): Observable<SimulationResult> {\r\n    return this.http.get<SimulationResult>(`${this.apiUrl}/${id}`);\r\n  }\r\n\r\n  getAllSimulations(): Observable<SimulationResult[]> {\r\n    return this.http.get<SimulationResult[]>(this.apiUrl);\r\n  }\r\n\r\n  compareSimulations(ids: string[]): Observable<any> {\r\n    return this.http.post<any>(`${this.apiUrl}/compare`, {\r\n      simulationIds: ids,\r\n    });\r\n  }\r\n\r\n  deleteSimulation(id: string): Observable<void> {\r\n    return this.http.delete<void>(`${this.apiUrl}/${id}`);\r\n  }\r\n\r\n  exportSimulationReport(\r\n    id: string,\r\n    format: \"pdf\" | \"csv\" | \"json\",\r\n  ): Observable<any> {\r\n    return this.http.get(`${this.apiUrl}/${id}/export`, {\r\n      params: { format },\r\n      responseType: \"blob\",\r\n    });\r\n  }\r\n\r\n  getEconomicImpact(id: string): Observable<any> {\r\n    return this.http.get<any>(`${this.apiUrl}/${id}/economic-impact`);\r\n  }\r\n\r\n  getInvestorReport(id: string): Observable<Blob> {\r\n    return this.http.get(`${this.apiUrl}/${id}/investor-report`, {\r\n      responseType: \"blob\",\r\n    });\r\n  }\r\n}\r\n"],"mappings":"AAOA,SAASA,UAAU,QAAQ,YAAY;;;AAKvC,OAAM,MAAOC,iBAAiB;EAG5BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFhB,KAAAC,MAAM,GAAG,GAAGJ,UAAU,EAAE,kBAAkB;EAEX;EAEvCK,aAAaA,CAACC,OAA0B;IACtC,OAAO,IAAI,CAACH,IAAI,CAACI,IAAI,CAAmB,GAAG,IAAI,CAACH,MAAM,MAAM,EAAEE,OAAO,CAAC;EACxE;EAEAE,mBAAmBA,CAACC,EAAU;IAC5B,OAAO,IAAI,CAACN,IAAI,CAACO,GAAG,CAAmB,GAAG,IAAI,CAACN,MAAM,IAAIK,EAAE,EAAE,CAAC;EAChE;EAEAE,iBAAiBA,CAAA;IACf,OAAO,IAAI,CAACR,IAAI,CAACO,GAAG,CAAqB,IAAI,CAACN,MAAM,CAAC;EACvD;EAEAQ,kBAAkBA,CAACC,GAAa;IAC9B,OAAO,IAAI,CAACV,IAAI,CAACI,IAAI,CAAM,GAAG,IAAI,CAACH,MAAM,UAAU,EAAE;MACnDU,aAAa,EAAED;KAChB,CAAC;EACJ;EAEAE,gBAAgBA,CAACN,EAAU;IACzB,OAAO,IAAI,CAACN,IAAI,CAACa,MAAM,CAAO,GAAG,IAAI,CAACZ,MAAM,IAAIK,EAAE,EAAE,CAAC;EACvD;EAEAQ,sBAAsBA,CACpBR,EAAU,EACVS,MAA8B;IAE9B,OAAO,IAAI,CAACf,IAAI,CAACO,GAAG,CAAC,GAAG,IAAI,CAACN,MAAM,IAAIK,EAAE,SAAS,EAAE;MAClDU,MAAM,EAAE;QAAED;MAAM,CAAE;MAClBE,YAAY,EAAE;KACf,CAAC;EACJ;EAEAC,iBAAiBA,CAACZ,EAAU;IAC1B,OAAO,IAAI,CAACN,IAAI,CAACO,GAAG,CAAM,GAAG,IAAI,CAACN,MAAM,IAAIK,EAAE,kBAAkB,CAAC;EACnE;EAEAa,iBAAiBA,CAACb,EAAU;IAC1B,OAAO,IAAI,CAACN,IAAI,CAACO,GAAG,CAAC,GAAG,IAAI,CAACN,MAAM,IAAIK,EAAE,kBAAkB,EAAE;MAC3DW,YAAY,EAAE;KACf,CAAC;EACJ;;;uBA7CWnB,iBAAiB,EAAAsB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAAjBzB,iBAAiB;MAAA0B,OAAA,EAAjB1B,iBAAiB,CAAA2B,IAAA;MAAAC,UAAA,EAFhB;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}