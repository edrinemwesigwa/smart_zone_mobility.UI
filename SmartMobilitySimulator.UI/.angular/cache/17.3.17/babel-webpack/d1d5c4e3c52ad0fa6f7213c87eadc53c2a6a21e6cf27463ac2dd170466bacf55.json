{"ast":null,"code":"import { getApiBase } from \"./api-base\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ZoneService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = `${getApiBase()}/api/zones`;\n  }\n  getAllZones() {\n    return this.http.get(this.apiUrl);\n  }\n  getZoneById(id) {\n    return this.http.get(`${this.apiUrl}/${id}`);\n  }\n  getZonesByEmirate(emirate) {\n    return this.http.get(`${this.apiUrl}/emirate/${emirate}`);\n  }\n  getZonesByType(zoneType) {\n    return this.http.get(`${this.apiUrl}/type/${zoneType}`);\n  }\n  getZoneBoundary(id) {\n    return this.http.get(`${this.apiUrl}/${id}/boundary`);\n  }\n  createZone(zone) {\n    return this.http.post(this.apiUrl, zone);\n  }\n  updateZone(id, zone) {\n    return this.http.put(`${this.apiUrl}/${id}`, zone);\n  }\n  deleteZone(id) {\n    return this.http.delete(`${this.apiUrl}/${id}`);\n  }\n  getZoneStatistics(zoneId, date) {\n    return this.http.get(`${this.apiUrl}/${zoneId}/statistics`, {\n      params: {\n        date: date.toISOString()\n      }\n    });\n  }\n  static {\n    this.ɵfac = function ZoneService_Factory(t) {\n      return new (t || ZoneService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ZoneService,\n      factory: ZoneService.ɵfac,\n      providedIn: \"root\"\n    });\n  }\n}","map":{"version":3,"names":["getApiBase","ZoneService","constructor","http","apiUrl","getAllZones","get","getZoneById","id","getZonesByEmirate","emirate","getZonesByType","zoneType","getZoneBoundary","createZone","zone","post","updateZone","put","deleteZone","delete","getZoneStatistics","zoneId","date","params","toISOString","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\edrin\\OneDrive\\Desktop\\Mobility\\SmartZoneSimulator.UI\\src\\app\\services\\zone.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Observable } from \"rxjs\";\r\nimport { Zone, ZoneStatistics, ZoneUpsertRequest } from \"../models/zone.model\";\r\nimport { getApiBase } from \"./api-base\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class ZoneService {\r\n  private apiUrl = `${getApiBase()}/api/zones`;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getAllZones(): Observable<Zone[]> {\r\n    return this.http.get<Zone[]>(this.apiUrl);\r\n  }\r\n\r\n  getZoneById(id: string): Observable<Zone> {\r\n    return this.http.get<Zone>(`${this.apiUrl}/${id}`);\r\n  }\r\n\r\n  getZonesByEmirate(emirate: string): Observable<Zone[]> {\r\n    return this.http.get<Zone[]>(`${this.apiUrl}/emirate/${emirate}`);\r\n  }\r\n\r\n  getZonesByType(zoneType: string): Observable<Zone[]> {\r\n    return this.http.get<Zone[]>(`${this.apiUrl}/type/${zoneType}`);\r\n  }\r\n\r\n  getZoneBoundary(id: string): Observable<any> {\r\n    return this.http.get<any>(`${this.apiUrl}/${id}/boundary`);\r\n  }\r\n\r\n  createZone(zone: ZoneUpsertRequest): Observable<Zone> {\r\n    return this.http.post<Zone>(this.apiUrl, zone);\r\n  }\r\n\r\n  updateZone(id: string, zone: ZoneUpsertRequest): Observable<Zone> {\r\n    return this.http.put<Zone>(`${this.apiUrl}/${id}`, zone);\r\n  }\r\n\r\n  deleteZone(id: string): Observable<void> {\r\n    return this.http.delete<void>(`${this.apiUrl}/${id}`);\r\n  }\r\n\r\n  getZoneStatistics(zoneId: string, date: Date): Observable<ZoneStatistics> {\r\n    return this.http.get<ZoneStatistics>(\r\n      `${this.apiUrl}/${zoneId}/statistics`,\r\n      {\r\n        params: { date: date.toISOString() },\r\n      },\r\n    );\r\n  }\r\n}\r\n\r\n"],"mappings":"AAIA,SAASA,UAAU,QAAQ,YAAY;;;AAKvC,OAAM,MAAOC,WAAW;EAGtBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFhB,KAAAC,MAAM,GAAG,GAAGJ,UAAU,EAAE,YAAY;EAEL;EAEvCK,WAAWA,CAAA;IACT,OAAO,IAAI,CAACF,IAAI,CAACG,GAAG,CAAS,IAAI,CAACF,MAAM,CAAC;EAC3C;EAEAG,WAAWA,CAACC,EAAU;IACpB,OAAO,IAAI,CAACL,IAAI,CAACG,GAAG,CAAO,GAAG,IAAI,CAACF,MAAM,IAAII,EAAE,EAAE,CAAC;EACpD;EAEAC,iBAAiBA,CAACC,OAAe;IAC/B,OAAO,IAAI,CAACP,IAAI,CAACG,GAAG,CAAS,GAAG,IAAI,CAACF,MAAM,YAAYM,OAAO,EAAE,CAAC;EACnE;EAEAC,cAAcA,CAACC,QAAgB;IAC7B,OAAO,IAAI,CAACT,IAAI,CAACG,GAAG,CAAS,GAAG,IAAI,CAACF,MAAM,SAASQ,QAAQ,EAAE,CAAC;EACjE;EAEAC,eAAeA,CAACL,EAAU;IACxB,OAAO,IAAI,CAACL,IAAI,CAACG,GAAG,CAAM,GAAG,IAAI,CAACF,MAAM,IAAII,EAAE,WAAW,CAAC;EAC5D;EAEAM,UAAUA,CAACC,IAAuB;IAChC,OAAO,IAAI,CAACZ,IAAI,CAACa,IAAI,CAAO,IAAI,CAACZ,MAAM,EAAEW,IAAI,CAAC;EAChD;EAEAE,UAAUA,CAACT,EAAU,EAAEO,IAAuB;IAC5C,OAAO,IAAI,CAACZ,IAAI,CAACe,GAAG,CAAO,GAAG,IAAI,CAACd,MAAM,IAAII,EAAE,EAAE,EAAEO,IAAI,CAAC;EAC1D;EAEAI,UAAUA,CAACX,EAAU;IACnB,OAAO,IAAI,CAACL,IAAI,CAACiB,MAAM,CAAO,GAAG,IAAI,CAAChB,MAAM,IAAII,EAAE,EAAE,CAAC;EACvD;EAEAa,iBAAiBA,CAACC,MAAc,EAAEC,IAAU;IAC1C,OAAO,IAAI,CAACpB,IAAI,CAACG,GAAG,CAClB,GAAG,IAAI,CAACF,MAAM,IAAIkB,MAAM,aAAa,EACrC;MACEE,MAAM,EAAE;QAAED,IAAI,EAAEA,IAAI,CAACE,WAAW;MAAE;KACnC,CACF;EACH;;;uBA5CWxB,WAAW,EAAAyB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAAX5B,WAAW;MAAA6B,OAAA,EAAX7B,WAAW,CAAA8B,IAAA;MAAAC,UAAA,EAFV;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}