{"ast":null,"code":"import { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/chart.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction RoiCalculatorComponent_div_68_tr_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r1 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Year \", i_r1, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" AED \", i0.ɵɵpipeBind2(5, 14, ctx_r1.results.yearlyRevenue[i_r1 - 1], \"1.0-0\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" AED \", i0.ɵɵpipeBind2(8, 17, ctx_r1.results.yearlyCosts[i_r1 - 1], \"1.0-0\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" AED \", i0.ɵɵpipeBind2(11, 20, ctx_r1.inputs.annualOperatingSavings, \"1.0-0\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"positive\", ctx_r1.results.yearlyRevenue[i_r1 - 1] - ctx_r1.results.yearlyCosts[i_r1 - 1] + ctx_r1.inputs.annualOperatingSavings > 0)(\"negative\", ctx_r1.results.yearlyRevenue[i_r1 - 1] - ctx_r1.results.yearlyCosts[i_r1 - 1] + ctx_r1.inputs.annualOperatingSavings <= 0);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" AED \", i0.ɵɵpipeBind2(14, 23, ctx_r1.results.yearlyRevenue[i_r1 - 1] - ctx_r1.results.yearlyCosts[i_r1 - 1] + ctx_r1.inputs.annualOperatingSavings, \"1.0-0\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"positive\", ctx_r1.cumulativeSum(i_r1) > 0)(\"negative\", ctx_r1.cumulativeSum(i_r1) <= 0);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" AED \", i0.ɵɵpipeBind2(17, 26, ctx_r1.cumulativeSum(i_r1), \"1.0-0\"), \" \");\n  }\n}\nfunction RoiCalculatorComponent_div_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"h3\");\n    i0.ɵɵtext(2, \"\\uD83D\\uDCCA Results\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 24)(4, \"div\", 25)(5, \"span\", 26);\n    i0.ɵɵtext(6, \"\\uD83D\\uDCC8\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 27);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 28);\n    i0.ɵɵtext(11, \"Total ROI\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 29)(13, \"span\", 26);\n    i0.ɵɵtext(14, \"\\u23F1\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 27);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 28);\n    i0.ɵɵtext(19, \"Payback Period (Years)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 29)(21, \"span\", 26);\n    i0.ɵɵtext(22, \"\\uD83D\\uDCB5\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"span\", 27);\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"span\", 28);\n    i0.ɵɵtext(27, \"Net Benefit (10 Years)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 29)(29, \"span\", 26);\n    i0.ɵɵtext(30, \"\\uD83D\\uDCC9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"span\", 27);\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"span\", 28);\n    i0.ɵɵtext(35, \"Net Present Value\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(36, \"div\", 30)(37, \"div\", 31)(38, \"h4\");\n    i0.ɵɵtext(39, \"Revenue vs Costs Over Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(40, \"canvas\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"div\", 31)(42, \"h4\");\n    i0.ɵɵtext(43, \"Cumulative Net Benefit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(44, \"canvas\", 33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(45, \"div\", 34)(46, \"h4\");\n    i0.ɵɵtext(47, \"\\uD83D\\uDCCB Year-by-Year Breakdown\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"table\", 35)(49, \"thead\")(50, \"tr\")(51, \"th\");\n    i0.ɵɵtext(52, \"Year\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"th\");\n    i0.ɵɵtext(54, \"Revenue\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"th\");\n    i0.ɵɵtext(56, \"Operating Cost\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"th\");\n    i0.ɵɵtext(58, \"Savings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"th\");\n    i0.ɵɵtext(60, \"Net Benefit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"th\");\n    i0.ɵɵtext(62, \"Cumulative\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(63, \"tbody\");\n    i0.ɵɵtemplate(64, RoiCalculatorComponent_div_68_tr_64_Template, 18, 29, \"tr\", 36);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(65, \"div\", 37)(66, \"h4\");\n    i0.ɵɵtext(67, \"\\uD83D\\uDCA1 Recommendations\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(68, \"div\", 38)(69, \"div\", 39)(70, \"span\", 40);\n    i0.ɵɵtext(71);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(72, \"div\", 41)(73, \"strong\");\n    i0.ɵɵtext(74);\n    i0.ɵɵpipe(75, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(76, \"p\");\n    i0.ɵɵtext(77);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(78, \"div\", 39)(79, \"span\", 40);\n    i0.ɵɵtext(80);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(81, \"div\", 41)(82, \"strong\");\n    i0.ɵɵtext(83);\n    i0.ɵɵpipe(84, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(85, \"p\");\n    i0.ɵɵtext(86);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(87, \"div\", 39)(88, \"span\", 40);\n    i0.ɵɵtext(89);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(90, \"div\", 41)(91, \"strong\");\n    i0.ɵɵtext(92);\n    i0.ɵɵpipe(93, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(94, \"p\");\n    i0.ɵɵtext(95);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(9, 20, ctx_r1.results.roiPercentage, \"1.0-0\"), \"%\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 23, ctx_r1.results.paybackPeriod, \"1.1-1\"));\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"AED \", i0.ɵɵpipeBind2(25, 26, ctx_r1.results.cumulativeNetBenefit, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"AED \", i0.ɵɵpipeBind2(33, 29, ctx_r1.results.npv, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(32);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.yearsArray);\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassProp(\"positive\", ctx_r1.results.paybackPeriod <= 3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.results.paybackPeriod <= 3 ? \"\\u2705\" : \"\\u26A0\\uFE0F\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Payback Period: \", i0.ɵɵpipeBind2(75, 32, ctx_r1.results.paybackPeriod, \"1.1-1\"), \" years\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.results.paybackPeriod <= 3 ? \"Excellent! The investment pays back quickly.\" : \"Consider optimizing costs or increasing compliance rate.\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"positive\", ctx_r1.results.roiPercentage >= 100);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.results.roiPercentage >= 100 ? \"\\u2705\" : \"\\u26A0\\uFE0F\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"ROI: \", i0.ɵɵpipeBind2(84, 35, ctx_r1.results.roiPercentage, \"1.0-0\"), \"%\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.results.roiPercentage >= 100 ? \"Strong return on investment!\" : \"Consider adjusting pricing strategy.\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"positive\", ctx_r1.results.npv > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.results.npv > 0 ? \"\\u2705\" : \"\\u274C\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"NPV: AED \", i0.ɵɵpipeBind2(93, 38, ctx_r1.results.npv, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.results.npv > 0 ? \"Positive net present value - investment is worthwhile.\" : \"Negative NPV - reconsider investment.\", \" \");\n  }\n}\nexport let RoiCalculatorComponent = /*#__PURE__*/(() => {\n  class RoiCalculatorComponent {\n    constructor(chartService) {\n      this.chartService = chartService;\n      this.inputs = {\n        implementationCost: 15000000,\n        annualOperatingCost: 2000000,\n        annualRevenue: 0,\n        annualOperatingSavings: 500000,\n        vehiclesPerDay: 50000,\n        averageTripCost: 15,\n        complianceRate: 85,\n        yearsToROI: 0\n      };\n      this.analysisYears = 5;\n      this.discountRate = 8;\n      this.results = null;\n      this.yearsArray = [];\n    }\n    ngOnInit() {\n      this.calculateROI();\n    }\n    calculateROI() {\n      // Calculate annual revenue based on inputs\n      const dailyRevenue = this.inputs.vehiclesPerDay * this.inputs.averageTripCost * (this.inputs.complianceRate / 100);\n      const annualRevenue = dailyRevenue * 365;\n      this.inputs.annualRevenue = annualRevenue;\n      // Generate yearly projections\n      const yearlyRevenue = [];\n      const yearlyCosts = [];\n      let cumulative = -this.inputs.implementationCost;\n      for (let i = 1; i <= this.analysisYears; i++) {\n        // Revenue grows slightly each year as awareness increases\n        const yearRevenue = annualRevenue * (1 + (i - 1) * 0.05);\n        yearlyRevenue.push(yearRevenue);\n        // Operating cost grows with inflation\n        const yearCost = this.inputs.annualOperatingCost * Math.pow(1.03, i - 1);\n        yearlyCosts.push(yearCost);\n        cumulative += yearRevenue - yearCost + this.inputs.annualOperatingSavings;\n      }\n      // Calculate payback period\n      let paybackPeriod = 0;\n      let cumCashFlow = -this.inputs.implementationCost;\n      for (let i = 0; i < yearlyRevenue.length; i++) {\n        const netCashFlow = yearlyRevenue[i] - yearlyCosts[i] + this.inputs.annualOperatingSavings;\n        cumCashFlow += netCashFlow;\n        if (cumCashFlow >= 0 && paybackPeriod === 0) {\n          const prevCashFlow = cumCashFlow - netCashFlow;\n          paybackPeriod = i + Math.abs(prevCashFlow) / netCashFlow;\n        }\n      }\n      if (paybackPeriod === 0) {\n        paybackPeriod = this.analysisYears + 1;\n      }\n      // Calculate NPV\n      let npv = -this.inputs.implementationCost;\n      for (let i = 0; i < yearlyRevenue.length; i++) {\n        const netCashFlow = yearlyRevenue[i] - yearlyCosts[i] + this.inputs.annualOperatingSavings;\n        npv += netCashFlow / Math.pow(1 + this.discountRate / 100, i + 1);\n      }\n      // Calculate total ROI\n      const totalBenefits = yearlyRevenue.reduce((a, b) => a + b, 0) + this.inputs.annualOperatingSavings * this.analysisYears;\n      const totalCosts = this.inputs.implementationCost + yearlyCosts.reduce((a, b) => a + b, 0);\n      const roiPercentage = (totalBenefits - totalCosts) / totalCosts * 100;\n      this.results = {\n        totalInvestment: this.inputs.implementationCost,\n        yearlyRevenue,\n        yearlyCosts,\n        cumulativeNetBenefit: cumulative,\n        roiPercentage,\n        paybackPeriod,\n        npv\n      };\n      this.yearsArray = Array.from({\n        length: this.analysisYears\n      }, (_, i) => i + 1);\n      setTimeout(() => this.renderCharts(), 100);\n    }\n    cumulativeSum(year) {\n      if (!this.results) return 0;\n      let sum = -this.inputs.implementationCost;\n      for (let i = 0; i < year; i++) {\n        sum += this.results.yearlyRevenue[i] - this.results.yearlyCosts[i] + this.inputs.annualOperatingSavings;\n      }\n      return sum;\n    }\n    renderCharts() {\n      if (!this.results) return;\n      // Revenue vs Costs Chart\n      this.chartService.createLineChart(\"roiRevenueChart\", this.yearsArray.map(y => `Year ${y}`), [{\n        label: \"Revenue (AED)\",\n        data: this.results.yearlyRevenue,\n        borderColor: \"#10b981\",\n        backgroundColor: \"rgba(16, 185, 129, 0.1)\",\n        fill: true\n      }, {\n        label: \"Costs (AED)\",\n        data: this.results.yearlyCosts,\n        borderColor: \"#ef4444\",\n        backgroundColor: \"rgba(239, 68, 68, 0.1)\",\n        fill: true\n      }]);\n      // Cumulative Benefit Chart\n      const cumulativeData = [];\n      let cum = -this.inputs.implementationCost;\n      for (let i = 0; i < this.results.yearlyRevenue.length; i++) {\n        cum += this.results.yearlyRevenue[i] - this.results.yearlyCosts[i] + this.inputs.annualOperatingSavings;\n        cumulativeData.push(cum);\n      }\n      this.chartService.createBarChart(\"roiCumulativeChart\", this.yearsArray.map(y => `Year ${y}`), [{\n        label: \"Cumulative Net Benefit (AED)\",\n        data: cumulativeData,\n        backgroundColor: cumulativeData.map(v => v >= 0 ? \"#10b981\" : \"#ef4444\")\n      }]);\n    }\n    applyPreset(type) {\n      switch (type) {\n        case \"small\":\n          this.inputs.implementationCost = 5000000;\n          this.inputs.annualOperatingCost = 1000000;\n          this.inputs.vehiclesPerDay = 20000;\n          this.inputs.averageTripCost = 10;\n          this.inputs.annualOperatingSavings = 200000;\n          this.analysisYears = 5;\n          break;\n        case \"medium\":\n          this.inputs.implementationCost = 15000000;\n          this.inputs.annualOperatingCost = 2000000;\n          this.inputs.vehiclesPerDay = 50000;\n          this.inputs.averageTripCost = 15;\n          this.inputs.annualOperatingSavings = 500000;\n          this.analysisYears = 5;\n          break;\n        case \"large\":\n          this.inputs.implementationCost = 50000000;\n          this.inputs.annualOperatingCost = 5000000;\n          this.inputs.vehiclesPerDay = 150000;\n          this.inputs.averageTripCost = 20;\n          this.inputs.annualOperatingSavings = 1500000;\n          this.analysisYears = 5;\n          break;\n      }\n      this.calculateROI();\n    }\n    static {\n      this.ɵfac = function RoiCalculatorComponent_Factory(t) {\n        return new (t || RoiCalculatorComponent)(i0.ɵɵdirectiveInject(i1.ChartService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RoiCalculatorComponent,\n        selectors: [[\"app-roi-calculator\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 85,\n        vars: 11,\n        consts: [[1, \"roi-container\"], [1, \"roi-header\"], [1, \"header-icon\"], [1, \"roi-content\"], [1, \"input-section\"], [1, \"input-grid\"], [1, \"input-card\"], [1, \"input-row\"], [\"type\", \"number\", \"min\", \"0\", \"step\", \"100000\", 3, \"ngModelChange\", \"ngModel\"], [1, \"hint\"], [\"type\", \"number\", \"min\", \"0\", \"step\", \"50000\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"min\", \"0\", \"step\", \"1000\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"min\", \"0\", \"step\", \"1\", 3, \"ngModelChange\", \"ngModel\"], [1, \"slider-row\"], [\"type\", \"range\", \"min\", \"50\", \"max\", \"100\", \"step\", \"1\", 3, \"ngModelChange\", \"ngModel\"], [1, \"slider-value\"], [\"type\", \"number\", \"min\", \"1\", \"max\", \"10\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"range\", \"min\", \"0\", \"max\", \"20\", \"step\", \"0.5\", 3, \"ngModelChange\", \"ngModel\"], [1, \"calculate-btn\", 3, \"click\"], [\"class\", \"results-section\", 4, \"ngIf\"], [1, \"presets-section\"], [1, \"preset-buttons\"], [1, \"preset-btn\", 3, \"click\"], [1, \"results-section\"], [1, \"metrics-grid\"], [1, \"metric-card\", \"primary\"], [1, \"metric-icon\"], [1, \"metric-value\"], [1, \"metric-label\"], [1, \"metric-card\"], [1, \"charts-grid\"], [1, \"chart-card\"], [\"id\", \"roiRevenueChart\"], [\"id\", \"roiCumulativeChart\"], [1, \"breakdown-section\"], [1, \"breakdown-table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"recommendations\"], [1, \"recommendation-cards\"], [1, \"rec-card\"], [1, \"rec-icon\"], [1, \"rec-content\"]],\n        template: function RoiCalculatorComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"span\", 2);\n            i0.ɵɵtext(3, \"\\uD83D\\uDCB0\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"h1\");\n            i0.ɵɵtext(5, \"ROI Calculator\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"p\");\n            i0.ɵɵtext(7, \" Calculate the return on investment for congestion pricing implementation \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"div\", 3)(9, \"div\", 4)(10, \"h3\");\n            i0.ɵɵtext(11, \"\\uD83D\\uDCCA Investment Parameters\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"div\", 5)(13, \"div\", 6)(14, \"h4\");\n            i0.ɵɵtext(15, \"\\uD83D\\uDCB5 Costs\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"div\", 7)(17, \"label\");\n            i0.ɵɵtext(18, \"Initial Implementation Cost (AED)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"input\", 8);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RoiCalculatorComponent_Template_input_ngModelChange_19_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.inputs.implementationCost, $event) || (ctx.inputs.implementationCost = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"span\", 9);\n            i0.ɵɵtext(21, \"Infrastructure, technology, setup\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(22, \"div\", 7)(23, \"label\");\n            i0.ɵɵtext(24, \"Annual Operating Cost (AED)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(25, \"input\", 10);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RoiCalculatorComponent_Template_input_ngModelChange_25_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.inputs.annualOperatingCost, $event) || (ctx.inputs.annualOperatingCost = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"span\", 9);\n            i0.ɵɵtext(27, \"Maintenance, staffing, operations\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(28, \"div\", 6)(29, \"h4\");\n            i0.ɵɵtext(30, \"\\uD83D\\uDCC8 Revenue & Traffic\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(31, \"div\", 7)(32, \"label\");\n            i0.ɵɵtext(33, \"Daily Vehicle Entries\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(34, \"input\", 11);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RoiCalculatorComponent_Template_input_ngModelChange_34_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.inputs.vehiclesPerDay, $event) || (ctx.inputs.vehiclesPerDay = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(35, \"div\", 7)(36, \"label\");\n            i0.ɵɵtext(37, \"Average Trip Charge (AED)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(38, \"input\", 12);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RoiCalculatorComponent_Template_input_ngModelChange_38_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.inputs.averageTripCost, $event) || (ctx.inputs.averageTripCost = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(39, \"div\", 7)(40, \"label\");\n            i0.ɵɵtext(41, \"Compliance Rate (%)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(42, \"div\", 13)(43, \"input\", 14);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RoiCalculatorComponent_Template_input_ngModelChange_43_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.inputs.complianceRate, $event) || (ctx.inputs.complianceRate = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(44, \"span\", 15);\n            i0.ɵɵtext(45);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(46, \"div\", 6)(47, \"h4\");\n            i0.ɵɵtext(48, \"\\u2699\\uFE0F Additional Parameters\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"div\", 7)(50, \"label\");\n            i0.ɵɵtext(51, \"Annual Operating Savings (AED)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(52, \"input\", 10);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RoiCalculatorComponent_Template_input_ngModelChange_52_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.inputs.annualOperatingSavings, $event) || (ctx.inputs.annualOperatingSavings = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(53, \"span\", 9);\n            i0.ɵɵtext(54, \"Reduced congestion costs, environmental benefits\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(55, \"div\", 7)(56, \"label\");\n            i0.ɵɵtext(57, \"Analysis Period (Years)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(58, \"input\", 16);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RoiCalculatorComponent_Template_input_ngModelChange_58_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.analysisYears, $event) || (ctx.analysisYears = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(59, \"div\", 7)(60, \"label\");\n            i0.ɵɵtext(61, \"Discount Rate (%)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(62, \"div\", 13)(63, \"input\", 17);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function RoiCalculatorComponent_Template_input_ngModelChange_63_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.discountRate, $event) || (ctx.discountRate = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(64, \"span\", 15);\n            i0.ɵɵtext(65);\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelementStart(66, \"button\", 18);\n            i0.ɵɵlistener(\"click\", function RoiCalculatorComponent_Template_button_click_66_listener() {\n              return ctx.calculateROI();\n            });\n            i0.ɵɵtext(67, \" \\uD83E\\uDDEE Calculate ROI \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(68, RoiCalculatorComponent_div_68_Template, 96, 41, \"div\", 19);\n            i0.ɵɵelementStart(69, \"div\", 20)(70, \"h4\");\n            i0.ɵɵtext(71, \"\\uD83D\\uDCCB Quick Scenarios\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(72, \"div\", 21)(73, \"button\", 22);\n            i0.ɵɵlistener(\"click\", function RoiCalculatorComponent_Template_button_click_73_listener() {\n              return ctx.applyPreset(\"small\");\n            });\n            i0.ɵɵtext(74, \" \\uD83C\\uDFD9\\uFE0F Small City \");\n            i0.ɵɵelementStart(75, \"span\");\n            i0.ɵɵtext(76, \"AED 5M setup\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(77, \"button\", 22);\n            i0.ɵɵlistener(\"click\", function RoiCalculatorComponent_Template_button_click_77_listener() {\n              return ctx.applyPreset(\"medium\");\n            });\n            i0.ɵɵtext(78, \" \\uD83C\\uDF06 Medium City \");\n            i0.ɵɵelementStart(79, \"span\");\n            i0.ɵɵtext(80, \"AED 15M setup\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(81, \"button\", 22);\n            i0.ɵɵlistener(\"click\", function RoiCalculatorComponent_Template_button_click_81_listener() {\n              return ctx.applyPreset(\"large\");\n            });\n            i0.ɵɵtext(82, \" \\uD83C\\uDFD9\\uFE0F Large City \");\n            i0.ɵɵelementStart(83, \"span\");\n            i0.ɵɵtext(84, \"AED 50M setup\");\n            i0.ɵɵelementEnd()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(19);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.inputs.implementationCost);\n            i0.ɵɵadvance(6);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.inputs.annualOperatingCost);\n            i0.ɵɵadvance(9);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.inputs.vehiclesPerDay);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.inputs.averageTripCost);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.inputs.complianceRate);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate1(\"\", ctx.inputs.complianceRate, \"%\");\n            i0.ɵɵadvance(7);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.inputs.annualOperatingSavings);\n            i0.ɵɵadvance(6);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.analysisYears);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.discountRate);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate1(\"\", ctx.discountRate, \"%\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.results);\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.DecimalPipe, FormsModule, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.RangeValueAccessor, i3.NgControlStatus, i3.MinValidator, i3.MaxValidator, i3.NgModel],\n        styles: [\".roi-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px}.roi-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.header-icon[_ngcontent-%COMP%]{font-size:48px;display:block;margin-bottom:16px}.roi-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e3a5f}.roi-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b}.roi-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.input-section[_ngcontent-%COMP%], .results-section[_ngcontent-%COMP%], .presets-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 4px 16px #00000014}.input-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .results-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .presets-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#1e3a5f}.input-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:24px}.input-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px}.input-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f;font-size:16px}.input-row[_ngcontent-%COMP%]{margin-bottom:16px}.input-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:13px;color:#64748b;margin-bottom:6px}.input-row[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px}.hint[_ngcontent-%COMP%]{display:block;font-size:11px;color:#94a3b8;margin-top:4px}.slider-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.slider-row[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{flex:1}.slider-value[_ngcontent-%COMP%]{font-weight:600;color:#3b82f6;min-width:50px}.calculate-btn[_ngcontent-%COMP%]{width:100%;padding:16px;background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;border-radius:12px;font-size:18px;font-weight:600;cursor:pointer;transition:all .2s}.calculate-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #10b98166}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:24px}.metric-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;text-align:center}.metric-card.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.metric-icon[_ngcontent-%COMP%]{font-size:24px;display:block;margin-bottom:8px}.metric-value[_ngcontent-%COMP%]{display:block;font-size:24px;font-weight:700}.metric-card.primary[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{color:#fff}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#64748b}.metric-card.primary[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{color:#fffc}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:24px}.chart-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px}.chart-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.chart-card[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%!important;height:250px!important}.breakdown-section[_ngcontent-%COMP%]{margin-bottom:24px}.breakdown-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.breakdown-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#f8fafc;border-radius:12px;overflow:hidden}.breakdown-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .breakdown-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:right;border-bottom:1px solid #e2e8f0}.breakdown-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#1e3a5f;color:#fff;font-weight:600}.breakdown-table[_ngcontent-%COMP%]   td.positive[_ngcontent-%COMP%]{color:#059669;font-weight:600}.breakdown-table[_ngcontent-%COMP%]   td.negative[_ngcontent-%COMP%]{color:#dc2626}.recommendations[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.recommendation-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.rec-card[_ngcontent-%COMP%]{display:flex;gap:12px;background:#f8fafc;border-radius:12px;padding:16px;border-right:4px solid #94a3b8}.rec-card.positive[_ngcontent-%COMP%]{border-right-color:#10b981}.rec-icon[_ngcontent-%COMP%]{font-size:24px}.rec-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:4px;color:#1e293b}.rec-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#64748b}.preset-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.preset-btn[_ngcontent-%COMP%]{flex:1;min-width:150px;padding:16px;background:#f8fafc;border:2px solid #e2e8f0;border-radius:12px;cursor:pointer;text-align:center;transition:all .2s}.preset-btn[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff}.preset-btn[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:16px;color:#1e293b;margin-bottom:4px}.preset-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#64748b}@media (max-width: 768px){.metrics-grid[_ngcontent-%COMP%], .charts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}\"]\n      });\n    }\n  }\n  return RoiCalculatorComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}