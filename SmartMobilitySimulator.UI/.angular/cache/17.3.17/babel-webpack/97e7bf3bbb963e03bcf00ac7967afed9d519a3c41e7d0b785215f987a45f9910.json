{"ast":null,"code":"import { Chart, registerables } from \"chart.js\";\nimport * as i0 from \"@angular/core\";\nexport class ChartService {\n  constructor() {\n    this.charts = new Map();\n    this.isDarkMode = false;\n    // Dark mode compatible colors\n    this.colors = {\n      primary: \"#3b82f6\",\n      secondary: \"#10b981\",\n      warning: \"#f59e0b\",\n      danger: \"#ef4444\",\n      purple: \"#8b5cf6\",\n      pink: \"#ec4899\",\n      cyan: \"#06b6d4\",\n      // Dark mode variants\n      darkPrimary: \"#60a5fa\",\n      darkSecondary: \"#34d399\",\n      darkBackground: \"#1e293b\",\n      darkText: \"#f1f5f9\"\n    };\n    Chart.register(...registerables);\n    this.detectDarkMode();\n  }\n  detectDarkMode() {\n    this.isDarkMode = document.documentElement.classList.contains(\"dark\");\n    // Listen for theme changes\n    const observer = new MutationObserver(() => {\n      this.isDarkMode = document.documentElement.classList.contains(\"dark\");\n      this.updateAllChartThemes();\n    });\n    observer.observe(document.documentElement, {\n      attributes: true,\n      attributeFilter: [\"class\"]\n    });\n  }\n  getThemeColors() {\n    return this.isDarkMode ? {\n      text: \"#f1f5f9\",\n      grid: \"#334155\",\n      background: \"transparent\"\n    } : {\n      text: \"#1e293b\",\n      grid: \"#e2e8f0\",\n      background: \"transparent\"\n    };\n  }\n  getDefaultColors() {\n    return this.isDarkMode ? [this.colors.darkPrimary, this.colors.darkSecondary, this.colors.warning, this.colors.danger, this.colors.purple, this.colors.pink, this.colors.cyan] : [this.colors.primary, this.colors.secondary, this.colors.warning, this.colors.danger, this.colors.purple, this.colors.pink, this.colors.cyan];\n  }\n  applyThemeOptions(options) {\n    const theme = this.getThemeColors();\n    return {\n      ...options,\n      color: theme.text,\n      scales: {\n        x: {\n          ...options?.scales?.x,\n          grid: {\n            color: theme.grid\n          },\n          ticks: {\n            color: theme.text\n          }\n        },\n        y: {\n          ...options?.scales?.y,\n          grid: {\n            color: theme.grid\n          },\n          ticks: {\n            color: theme.text\n          }\n        }\n      },\n      plugins: {\n        ...options?.plugins,\n        legend: {\n          ...options?.plugins?.legend,\n          labels: {\n            color: theme.text\n          }\n        }\n      }\n    };\n  }\n  updateAllChartThemes() {\n    this.charts.forEach(chart => {\n      const theme = this.getThemeColors();\n      const options = chart.options;\n      if (options?.scales?.x) {\n        if (options.scales.x.grid) options.scales.x.grid.color = theme.grid;\n        if (options.scales.x.ticks) options.scales.x.ticks.color = theme.text;\n      }\n      if (options?.scales?.y) {\n        if (options.scales.y.grid) options.scales.y.grid.color = theme.grid;\n        if (options.scales.y.ticks) options.scales.y.ticks.color = theme.text;\n      }\n      chart.update();\n    });\n  }\n  /**\n   * Create a new chart\n   */\n  createChart(canvasId, config, chartId) {\n    const canvas = document.getElementById(canvasId);\n    if (!canvas) {\n      throw new Error(`Canvas element with id '${canvasId}' not found`);\n    }\n    // Destroy existing chart if any\n    if (this.charts.has(chartId || canvasId)) {\n      this.charts.get(chartId || canvasId)?.destroy();\n    }\n    // Apply theme to config\n    config = this.applyThemeToConfig(config);\n    const chart = new Chart(canvas, config);\n    this.charts.set(chartId || canvasId, chart);\n    return chart;\n  }\n  applyThemeToConfig(config) {\n    const theme = this.getThemeColors();\n    const colors = this.getDefaultColors();\n    if (config.data.datasets) {\n      config.data.datasets = config.data.datasets.map((ds, index) => ({\n        ...ds,\n        borderColor: ds.borderColor || colors[index % colors.length],\n        backgroundColor: ds.backgroundColor || colors[index % colors.length],\n        pointBackgroundColor: colors[index % colors.length],\n        pointBorderColor: theme.text\n      }));\n    }\n    return config;\n  }\n  /**\n   * Create a bar chart with improved styling\n   */\n  createBarChart(canvasId, labels, datasets, options, chartId) {\n    const colors = this.getDefaultColors();\n    const config = {\n      type: \"bar\",\n      data: {\n        labels,\n        datasets: datasets.map((ds, index) => ({\n          ...ds,\n          backgroundColor: ds.backgroundColor || colors[index % colors.length],\n          borderColor: ds.backgroundColor ? Array.isArray(ds.backgroundColor) ? ds.backgroundColor[0] : ds.backgroundColor : colors[index % colors.length],\n          borderWidth: 1,\n          borderRadius: 6,\n          barPercentage: 0.8\n        }))\n      },\n      options: this.applyThemeOptions({\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            position: \"top\"\n          },\n          title: {\n            display: false\n          },\n          tooltip: {\n            backgroundColor: this.isDarkMode ? \"#334155\" : \"#1e293b\",\n            titleColor: \"#f1f5f9\",\n            bodyColor: \"#f1f5f9\",\n            padding: 12,\n            cornerRadius: 8\n          }\n        },\n        ...options\n      })\n    };\n    return this.createChart(canvasId, config, chartId);\n  }\n  /**\n   * Create a line chart with improved styling\n   */\n  createLineChart(canvasId, labels, datasets, options, chartId) {\n    const colors = this.getDefaultColors();\n    const config = {\n      type: \"line\",\n      data: {\n        labels,\n        datasets: datasets.map((ds, index) => ({\n          ...ds,\n          borderColor: ds.borderColor || colors[index % colors.length],\n          backgroundColor: ds.backgroundColor || `${colors[index % colors.length]}20`,\n          fill: ds.fill !== undefined ? ds.fill : true,\n          tension: 0.4,\n          pointRadius: 4,\n          pointHoverRadius: 6,\n          borderWidth: 2\n        }))\n      },\n      options: this.applyThemeOptions({\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            position: \"top\"\n          },\n          tooltip: {\n            backgroundColor: this.isDarkMode ? \"#334155\" : \"#1e293b\",\n            titleColor: \"#f1f5f9\",\n            bodyColor: \"#f1f5f9\",\n            padding: 12,\n            cornerRadius: 8\n          }\n        },\n        ...options\n      })\n    };\n    return this.createChart(canvasId, config, chartId);\n  }\n  /**\n   * Create a doughnut chart with improved styling\n   */\n  createDoughnutChart(canvasId, labels, datasets, options, chartId) {\n    const config = {\n      type: \"doughnut\",\n      data: {\n        labels,\n        datasets: datasets.map(ds => ({\n          ...ds,\n          backgroundColor: ds.backgroundColor || this.getDefaultColors(),\n          borderWidth: 2,\n          borderColor: this.isDarkMode ? \"#1e293b\" : \"#ffffff\",\n          hoverOffset: 8\n        }))\n      },\n      options: this.applyThemeOptions({\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            position: \"right\",\n            labels: {\n              padding: 16,\n              usePointStyle: true\n            }\n          },\n          tooltip: {\n            backgroundColor: this.isDarkMode ? \"#334155\" : \"#1e293b\",\n            titleColor: \"#f1f5f9\",\n            bodyColor: \"#f1f5f9\",\n            padding: 12,\n            cornerRadius: 8\n          }\n        },\n        cutout: \"65%\",\n        ...options\n      })\n    };\n    return this.createChart(canvasId, config, chartId);\n  }\n  /**\n   * Create a pie chart\n   */\n  createPieChart(canvasId, labels, datasets, options, chartId) {\n    const config = {\n      type: \"pie\",\n      data: {\n        labels,\n        datasets: datasets.map(ds => ({\n          ...ds,\n          backgroundColor: ds.backgroundColor || this.getDefaultColors(),\n          borderWidth: 2,\n          borderColor: this.isDarkMode ? \"#1e293b\" : \"#ffffff\",\n          hoverOffset: 8\n        }))\n      },\n      options: this.applyThemeOptions({\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            position: \"right\",\n            labels: {\n              padding: 16,\n              usePointStyle: true\n            }\n          },\n          tooltip: {\n            backgroundColor: this.isDarkMode ? \"#334155\" : \"#1e293b\",\n            titleColor: \"#f1f5f9\",\n            bodyColor: \"#f1f5f9\",\n            padding: 12,\n            cornerRadius: 8\n          }\n        },\n        ...options\n      })\n    };\n    return this.createChart(canvasId, config, chartId);\n  }\n  /**\n   * Create a radar chart (new)\n   */\n  createRadarChart(canvasId, labels, datasets, options, chartId) {\n    const colors = this.getDefaultColors();\n    const config = {\n      type: \"radar\",\n      data: {\n        labels,\n        datasets: datasets.map((ds, index) => ({\n          ...ds,\n          borderColor: ds.borderColor || colors[index % colors.length],\n          backgroundColor: ds.backgroundColor || `${colors[index % colors.length]}40`,\n          borderWidth: 2,\n          pointBackgroundColor: colors[index % colors.length]\n        }))\n      },\n      options: this.applyThemeOptions({\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            position: \"top\"\n          }\n        },\n        scales: {\n          r: {\n            grid: {\n              color: this.getThemeColors().grid\n            },\n            pointLabels: {\n              color: this.getThemeColors().text\n            },\n            ticks: {\n              display: false\n            }\n          }\n        },\n        ...options\n      })\n    };\n    return this.createChart(canvasId, config, chartId);\n  }\n  /**\n   * Get a chart by ID\n   */\n  getChart(chartId) {\n    return this.charts.get(chartId);\n  }\n  /**\n   * Update chart data\n   */\n  updateChartData(chartId, labels, datasets) {\n    const chart = this.charts.get(chartId);\n    if (chart) {\n      chart.data.labels = labels;\n      chart.data.datasets = datasets;\n      chart.update();\n    }\n  }\n  /**\n   * Destroy a chart\n   */\n  destroyChart(chartId) {\n    const chart = this.charts.get(chartId);\n    if (chart) {\n      chart.destroy();\n      this.charts.delete(chartId);\n    }\n  }\n  /**\n   * Destroy all charts\n   */\n  destroyAllCharts() {\n    this.charts.forEach(chart => chart.destroy());\n    this.charts.clear();\n  }\n  /**\n   * Export chart as image\n   */\n  exportChartAsImage(chartId, filename = \"chart.png\") {\n    const chart = this.charts.get(chartId);\n    if (chart) {\n      const link = document.createElement(\"a\");\n      link.download = filename;\n      link.href = chart.toBase64Image();\n      link.click();\n    }\n  }\n  static {\n    this.ɵfac = function ChartService_Factory(t) {\n      return new (t || ChartService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ChartService,\n      factory: ChartService.ɵfac,\n      providedIn: \"root\"\n    });\n  }\n}","map":{"version":3,"names":["Chart","registerables","ChartService","constructor","charts","Map","isDarkMode","colors","primary","secondary","warning","danger","purple","pink","cyan","darkPrimary","darkSecondary","darkBackground","darkText","register","detectDarkMode","document","documentElement","classList","contains","observer","MutationObserver","updateAllChartThemes","observe","attributes","attributeFilter","getThemeColors","text","grid","background","getDefaultColors","applyThemeOptions","options","theme","color","scales","x","ticks","y","plugins","legend","labels","forEach","chart","update","createChart","canvasId","config","chartId","canvas","getElementById","Error","has","get","destroy","applyThemeToConfig","set","data","datasets","map","ds","index","borderColor","length","backgroundColor","pointBackgroundColor","pointBorderColor","createBarChart","type","Array","isArray","borderWidth","borderRadius","barPercentage","responsive","maintainAspectRatio","position","title","display","tooltip","titleColor","bodyColor","padding","cornerRadius","createLineChart","fill","undefined","tension","pointRadius","pointHoverRadius","createDoughnutChart","hoverOffset","usePointStyle","cutout","createPieChart","createRadarChart","r","pointLabels","getChart","updateChartData","destroyChart","delete","destroyAllCharts","clear","exportChartAsImage","filename","link","createElement","download","href","toBase64Image","click","factory","ɵfac","providedIn"],"sources":["C:\\Users\\edrin\\OneDrive\\Desktop\\Mobility\\SmartZoneSimulator.UI\\src\\app\\services\\chart.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { Chart, ChartConfiguration, ChartType, registerables } from \"chart.js\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class ChartService {\r\n  private charts: Map<string, Chart> = new Map();\r\n  private isDarkMode = false;\r\n\r\n  // Dark mode compatible colors\r\n  private colors = {\r\n    primary: \"#3b82f6\",\r\n    secondary: \"#10b981\",\r\n    warning: \"#f59e0b\",\r\n    danger: \"#ef4444\",\r\n    purple: \"#8b5cf6\",\r\n    pink: \"#ec4899\",\r\n    cyan: \"#06b6d4\",\r\n    // Dark mode variants\r\n    darkPrimary: \"#60a5fa\",\r\n    darkSecondary: \"#34d399\",\r\n    darkBackground: \"#1e293b\",\r\n    darkText: \"#f1f5f9\",\r\n  };\r\n\r\n  constructor() {\r\n    Chart.register(...registerables);\r\n    this.detectDarkMode();\r\n  }\r\n\r\n  private detectDarkMode(): void {\r\n    this.isDarkMode = document.documentElement.classList.contains(\"dark\");\r\n    // Listen for theme changes\r\n    const observer = new MutationObserver(() => {\r\n      this.isDarkMode = document.documentElement.classList.contains(\"dark\");\r\n      this.updateAllChartThemes();\r\n    });\r\n    observer.observe(document.documentElement, {\r\n      attributes: true,\r\n      attributeFilter: [\"class\"],\r\n    });\r\n  }\r\n\r\n  private getThemeColors() {\r\n    return this.isDarkMode\r\n      ? {\r\n          text: \"#f1f5f9\",\r\n          grid: \"#334155\",\r\n          background: \"transparent\",\r\n        }\r\n      : {\r\n          text: \"#1e293b\",\r\n          grid: \"#e2e8f0\",\r\n          background: \"transparent\",\r\n        };\r\n  }\r\n\r\n  private getDefaultColors(): string[] {\r\n    return this.isDarkMode\r\n      ? [\r\n          this.colors.darkPrimary,\r\n          this.colors.darkSecondary,\r\n          this.colors.warning,\r\n          this.colors.danger,\r\n          this.colors.purple,\r\n          this.colors.pink,\r\n          this.colors.cyan,\r\n        ]\r\n      : [\r\n          this.colors.primary,\r\n          this.colors.secondary,\r\n          this.colors.warning,\r\n          this.colors.danger,\r\n          this.colors.purple,\r\n          this.colors.pink,\r\n          this.colors.cyan,\r\n        ];\r\n  }\r\n\r\n  private applyThemeOptions(options: any): any {\r\n    const theme = this.getThemeColors();\r\n    return {\r\n      ...options,\r\n      color: theme.text,\r\n      scales: {\r\n        x: {\r\n          ...options?.scales?.x,\r\n          grid: { color: theme.grid },\r\n          ticks: { color: theme.text },\r\n        },\r\n        y: {\r\n          ...options?.scales?.y,\r\n          grid: { color: theme.grid },\r\n          ticks: { color: theme.text },\r\n        },\r\n      },\r\n      plugins: {\r\n        ...options?.plugins,\r\n        legend: {\r\n          ...options?.plugins?.legend,\r\n          labels: { color: theme.text },\r\n        },\r\n      },\r\n    };\r\n  }\r\n\r\n  updateAllChartThemes(): void {\r\n    this.charts.forEach((chart) => {\r\n      const theme = this.getThemeColors();\r\n      const options = chart.options as any;\r\n      if (options?.scales?.x) {\r\n        if (options.scales.x.grid) options.scales.x.grid.color = theme.grid;\r\n        if (options.scales.x.ticks) options.scales.x.ticks.color = theme.text;\r\n      }\r\n      if (options?.scales?.y) {\r\n        if (options.scales.y.grid) options.scales.y.grid.color = theme.grid;\r\n        if (options.scales.y.ticks) options.scales.y.ticks.color = theme.text;\r\n      }\r\n      chart.update();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Create a new chart\r\n   */\r\n  createChart(\r\n    canvasId: string,\r\n    config: ChartConfiguration,\r\n    chartId?: string,\r\n  ): Chart {\r\n    const canvas = document.getElementById(canvasId) as HTMLCanvasElement;\r\n    if (!canvas) {\r\n      throw new Error(`Canvas element with id '${canvasId}' not found`);\r\n    }\r\n\r\n    // Destroy existing chart if any\r\n    if (this.charts.has(chartId || canvasId)) {\r\n      this.charts.get(chartId || canvasId)?.destroy();\r\n    }\r\n\r\n    // Apply theme to config\r\n    config = this.applyThemeToConfig(config);\r\n\r\n    const chart = new Chart(canvas, config);\r\n    this.charts.set(chartId || canvasId, chart);\r\n    return chart;\r\n  }\r\n\r\n  private applyThemeToConfig(config: ChartConfiguration): ChartConfiguration {\r\n    const theme = this.getThemeColors();\r\n    const colors = this.getDefaultColors();\r\n\r\n    if (config.data.datasets) {\r\n      config.data.datasets = config.data.datasets.map(\r\n        (ds: any, index: number) => ({\r\n          ...ds,\r\n          borderColor: ds.borderColor || colors[index % colors.length],\r\n          backgroundColor: ds.backgroundColor || colors[index % colors.length],\r\n          pointBackgroundColor: colors[index % colors.length],\r\n          pointBorderColor: theme.text,\r\n        }),\r\n      );\r\n    }\r\n\r\n    return config;\r\n  }\r\n\r\n  /**\r\n   * Create a bar chart with improved styling\r\n   */\r\n  createBarChart(\r\n    canvasId: string,\r\n    labels: string[],\r\n    datasets: {\r\n      label: string;\r\n      data: number[];\r\n      backgroundColor?: string | string[];\r\n    }[],\r\n    options?: any,\r\n    chartId?: string,\r\n  ): Chart {\r\n    const colors = this.getDefaultColors();\r\n    const config: ChartConfiguration = {\r\n      type: \"bar\",\r\n      data: {\r\n        labels,\r\n        datasets: datasets.map((ds, index) => ({\r\n          ...ds,\r\n          backgroundColor: ds.backgroundColor || colors[index % colors.length],\r\n          borderColor: ds.backgroundColor\r\n            ? Array.isArray(ds.backgroundColor)\r\n              ? ds.backgroundColor[0]\r\n              : ds.backgroundColor\r\n            : colors[index % colors.length],\r\n          borderWidth: 1,\r\n          borderRadius: 6,\r\n          barPercentage: 0.8,\r\n        })),\r\n      },\r\n      options: this.applyThemeOptions({\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n          legend: {\r\n            position: \"top\",\r\n          },\r\n          title: {\r\n            display: false,\r\n          },\r\n          tooltip: {\r\n            backgroundColor: this.isDarkMode ? \"#334155\" : \"#1e293b\",\r\n            titleColor: \"#f1f5f9\",\r\n            bodyColor: \"#f1f5f9\",\r\n            padding: 12,\r\n            cornerRadius: 8,\r\n          },\r\n        },\r\n        ...options,\r\n      }),\r\n    };\r\n    return this.createChart(canvasId, config, chartId);\r\n  }\r\n\r\n  /**\r\n   * Create a line chart with improved styling\r\n   */\r\n  createLineChart(\r\n    canvasId: string,\r\n    labels: string[],\r\n    datasets: {\r\n      label: string;\r\n      data: number[];\r\n      borderColor?: string;\r\n      backgroundColor?: string;\r\n      fill?: boolean;\r\n    }[],\r\n    options?: any,\r\n    chartId?: string,\r\n  ): Chart {\r\n    const colors = this.getDefaultColors();\r\n    const config: ChartConfiguration = {\r\n      type: \"line\",\r\n      data: {\r\n        labels,\r\n        datasets: datasets.map((ds, index) => ({\r\n          ...ds,\r\n          borderColor: ds.borderColor || colors[index % colors.length],\r\n          backgroundColor:\r\n            ds.backgroundColor || `${colors[index % colors.length]}20`,\r\n          fill: ds.fill !== undefined ? ds.fill : true,\r\n          tension: 0.4,\r\n          pointRadius: 4,\r\n          pointHoverRadius: 6,\r\n          borderWidth: 2,\r\n        })),\r\n      },\r\n      options: this.applyThemeOptions({\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n          legend: {\r\n            position: \"top\",\r\n          },\r\n          tooltip: {\r\n            backgroundColor: this.isDarkMode ? \"#334155\" : \"#1e293b\",\r\n            titleColor: \"#f1f5f9\",\r\n            bodyColor: \"#f1f5f9\",\r\n            padding: 12,\r\n            cornerRadius: 8,\r\n          },\r\n        },\r\n        ...options,\r\n      }),\r\n    };\r\n    return this.createChart(canvasId, config, chartId);\r\n  }\r\n\r\n  /**\r\n   * Create a doughnut chart with improved styling\r\n   */\r\n  createDoughnutChart(\r\n    canvasId: string,\r\n    labels: string[],\r\n    datasets: { label: string; data: number[]; backgroundColor?: string[] }[],\r\n    options?: any,\r\n    chartId?: string,\r\n  ): Chart {\r\n    const config: ChartConfiguration = {\r\n      type: \"doughnut\",\r\n      data: {\r\n        labels,\r\n        datasets: datasets.map((ds) => ({\r\n          ...ds,\r\n          backgroundColor: ds.backgroundColor || this.getDefaultColors(),\r\n          borderWidth: 2,\r\n          borderColor: this.isDarkMode ? \"#1e293b\" : \"#ffffff\",\r\n          hoverOffset: 8,\r\n        })),\r\n      },\r\n      options: this.applyThemeOptions({\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n          legend: {\r\n            position: \"right\",\r\n            labels: {\r\n              padding: 16,\r\n              usePointStyle: true,\r\n            },\r\n          },\r\n          tooltip: {\r\n            backgroundColor: this.isDarkMode ? \"#334155\" : \"#1e293b\",\r\n            titleColor: \"#f1f5f9\",\r\n            bodyColor: \"#f1f5f9\",\r\n            padding: 12,\r\n            cornerRadius: 8,\r\n          },\r\n        },\r\n        cutout: \"65%\",\r\n        ...options,\r\n      }),\r\n    };\r\n    return this.createChart(canvasId, config, chartId);\r\n  }\r\n\r\n  /**\r\n   * Create a pie chart\r\n   */\r\n  createPieChart(\r\n    canvasId: string,\r\n    labels: string[],\r\n    datasets: { label: string; data: number[]; backgroundColor?: string[] }[],\r\n    options?: any,\r\n    chartId?: string,\r\n  ): Chart {\r\n    const config: ChartConfiguration = {\r\n      type: \"pie\",\r\n      data: {\r\n        labels,\r\n        datasets: datasets.map((ds) => ({\r\n          ...ds,\r\n          backgroundColor: ds.backgroundColor || this.getDefaultColors(),\r\n          borderWidth: 2,\r\n          borderColor: this.isDarkMode ? \"#1e293b\" : \"#ffffff\",\r\n          hoverOffset: 8,\r\n        })),\r\n      },\r\n      options: this.applyThemeOptions({\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n          legend: {\r\n            position: \"right\",\r\n            labels: {\r\n              padding: 16,\r\n              usePointStyle: true,\r\n            },\r\n          },\r\n          tooltip: {\r\n            backgroundColor: this.isDarkMode ? \"#334155\" : \"#1e293b\",\r\n            titleColor: \"#f1f5f9\",\r\n            bodyColor: \"#f1f5f9\",\r\n            padding: 12,\r\n            cornerRadius: 8,\r\n          },\r\n        },\r\n        ...options,\r\n      }),\r\n    };\r\n    return this.createChart(canvasId, config, chartId);\r\n  }\r\n\r\n  /**\r\n   * Create a radar chart (new)\r\n   */\r\n  createRadarChart(\r\n    canvasId: string,\r\n    labels: string[],\r\n    datasets: {\r\n      label: string;\r\n      data: number[];\r\n      borderColor?: string;\r\n      backgroundColor?: string;\r\n    }[],\r\n    options?: any,\r\n    chartId?: string,\r\n  ): Chart {\r\n    const colors = this.getDefaultColors();\r\n    const config: ChartConfiguration = {\r\n      type: \"radar\",\r\n      data: {\r\n        labels,\r\n        datasets: datasets.map((ds, index) => ({\r\n          ...ds,\r\n          borderColor: ds.borderColor || colors[index % colors.length],\r\n          backgroundColor:\r\n            ds.backgroundColor || `${colors[index % colors.length]}40`,\r\n          borderWidth: 2,\r\n          pointBackgroundColor: colors[index % colors.length],\r\n        })),\r\n      },\r\n      options: this.applyThemeOptions({\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n          legend: { position: \"top\" },\r\n        },\r\n        scales: {\r\n          r: {\r\n            grid: { color: this.getThemeColors().grid },\r\n            pointLabels: { color: this.getThemeColors().text },\r\n            ticks: { display: false },\r\n          },\r\n        },\r\n        ...options,\r\n      }),\r\n    };\r\n    return this.createChart(canvasId, config, chartId);\r\n  }\r\n\r\n  /**\r\n   * Get a chart by ID\r\n   */\r\n  getChart(chartId: string): Chart | undefined {\r\n    return this.charts.get(chartId);\r\n  }\r\n\r\n  /**\r\n   * Update chart data\r\n   */\r\n  updateChartData(chartId: string, labels: string[], datasets: any[]): void {\r\n    const chart = this.charts.get(chartId);\r\n    if (chart) {\r\n      chart.data.labels = labels;\r\n      chart.data.datasets = datasets;\r\n      chart.update();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroy a chart\r\n   */\r\n  destroyChart(chartId: string): void {\r\n    const chart = this.charts.get(chartId);\r\n    if (chart) {\r\n      chart.destroy();\r\n      this.charts.delete(chartId);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroy all charts\r\n   */\r\n  destroyAllCharts(): void {\r\n    this.charts.forEach((chart) => chart.destroy());\r\n    this.charts.clear();\r\n  }\r\n\r\n  /**\r\n   * Export chart as image\r\n   */\r\n  exportChartAsImage(chartId: string, filename: string = \"chart.png\"): void {\r\n    const chart = this.charts.get(chartId);\r\n    if (chart) {\r\n      const link = document.createElement(\"a\");\r\n      link.download = filename;\r\n      link.href = chart.toBase64Image();\r\n      link.click();\r\n    }\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}