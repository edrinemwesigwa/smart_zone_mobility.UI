{"ast":null,"code":"import { BehaviorSubject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nexport class ThemeService {\n  constructor() {\n    this.darkModeSubject = new BehaviorSubject(false);\n    this.darkMode$ = this.darkModeSubject.asObservable();\n    // Check for saved preference\n    const savedTheme = localStorage.getItem(\"theme\");\n    if (savedTheme) {\n      this.darkModeSubject.next(savedTheme === \"dark\");\n    } else {\n      // Check system preference\n      const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n      this.darkModeSubject.next(prefersDark);\n    }\n    this.applyTheme(this.darkModeSubject.value);\n  }\n  toggle() {\n    const newValue = !this.darkModeSubject.value;\n    this.darkModeSubject.next(newValue);\n    this.applyTheme(newValue);\n    localStorage.setItem(\"theme\", newValue ? \"dark\" : \"light\");\n  }\n  applyTheme(isDark) {\n    if (isDark) {\n      document.documentElement.classList.add(\"dark\");\n    } else {\n      document.documentElement.classList.remove(\"dark\");\n    }\n  }\n  isDarkMode() {\n    return this.darkModeSubject.value;\n  }\n  static {\n    this.ɵfac = function ThemeService_Factory(t) {\n      return new (t || ThemeService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ThemeService,\n      factory: ThemeService.ɵfac,\n      providedIn: \"root\"\n    });\n  }\n}","map":{"version":3,"names":["BehaviorSubject","ThemeService","constructor","darkModeSubject","darkMode$","asObservable","savedTheme","localStorage","getItem","next","prefersDark","window","matchMedia","matches","applyTheme","value","toggle","newValue","setItem","isDark","document","documentElement","classList","add","remove","isDarkMode","factory","ɵfac","providedIn"],"sources":["C:\\Users\\edrin\\OneDrive\\Desktop\\Mobility\\SmartZoneSimulator.UI\\src\\app\\services\\theme.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class ThemeService {\r\n  private darkModeSubject = new BehaviorSubject<boolean>(false);\r\n  darkMode$ = this.darkModeSubject.asObservable();\r\n\r\n  constructor() {\r\n    // Check for saved preference\r\n    const savedTheme = localStorage.getItem(\"theme\");\r\n    if (savedTheme) {\r\n      this.darkModeSubject.next(savedTheme === \"dark\");\r\n    } else {\r\n      // Check system preference\r\n      const prefersDark = window.matchMedia(\r\n        \"(prefers-color-scheme: dark)\",\r\n      ).matches;\r\n      this.darkModeSubject.next(prefersDark);\r\n    }\r\n    this.applyTheme(this.darkModeSubject.value);\r\n  }\r\n\r\n  toggle(): void {\r\n    const newValue = !this.darkModeSubject.value;\r\n    this.darkModeSubject.next(newValue);\r\n    this.applyTheme(newValue);\r\n    localStorage.setItem(\"theme\", newValue ? \"dark\" : \"light\");\r\n  }\r\n\r\n  private applyTheme(isDark: boolean): void {\r\n    if (isDark) {\r\n      document.documentElement.classList.add(\"dark\");\r\n    } else {\r\n      document.documentElement.classList.remove(\"dark\");\r\n    }\r\n  }\r\n\r\n  isDarkMode(): boolean {\r\n    return this.darkModeSubject.value;\r\n  }\r\n}\r\n\r\n\r\n\r\n"],"mappings":"AACA,SAASA,eAAe,QAAQ,MAAM;;AAKtC,OAAM,MAAOC,YAAY;EAIvBC,YAAA;IAHQ,KAAAC,eAAe,GAAG,IAAIH,eAAe,CAAU,KAAK,CAAC;IAC7D,KAAAI,SAAS,GAAG,IAAI,CAACD,eAAe,CAACE,YAAY,EAAE;IAG7C;IACA,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAChD,IAAIF,UAAU,EAAE;MACd,IAAI,CAACH,eAAe,CAACM,IAAI,CAACH,UAAU,KAAK,MAAM,CAAC;KACjD,MAAM;MACL;MACA,MAAMI,WAAW,GAAGC,MAAM,CAACC,UAAU,CACnC,8BAA8B,CAC/B,CAACC,OAAO;MACT,IAAI,CAACV,eAAe,CAACM,IAAI,CAACC,WAAW,CAAC;;IAExC,IAAI,CAACI,UAAU,CAAC,IAAI,CAACX,eAAe,CAACY,KAAK,CAAC;EAC7C;EAEAC,MAAMA,CAAA;IACJ,MAAMC,QAAQ,GAAG,CAAC,IAAI,CAACd,eAAe,CAACY,KAAK;IAC5C,IAAI,CAACZ,eAAe,CAACM,IAAI,CAACQ,QAAQ,CAAC;IACnC,IAAI,CAACH,UAAU,CAACG,QAAQ,CAAC;IACzBV,YAAY,CAACW,OAAO,CAAC,OAAO,EAAED,QAAQ,GAAG,MAAM,GAAG,OAAO,CAAC;EAC5D;EAEQH,UAAUA,CAACK,MAAe;IAChC,IAAIA,MAAM,EAAE;MACVC,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;KAC/C,MAAM;MACLH,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACE,MAAM,CAAC,MAAM,CAAC;;EAErD;EAEAC,UAAUA,CAAA;IACR,OAAO,IAAI,CAACtB,eAAe,CAACY,KAAK;EACnC;;;uBApCWd,YAAY;IAAA;EAAA;;;aAAZA,YAAY;MAAAyB,OAAA,EAAZzB,YAAY,CAAA0B,IAAA;MAAAC,UAAA,EAFX;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}