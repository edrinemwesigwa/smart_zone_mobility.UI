{"ast":null,"code":"import { Chart, registerables } from \"chart.js\";\nimport * as i0 from \"@angular/core\";\nexport let ChartService = /*#__PURE__*/(() => {\n  class ChartService {\n    constructor() {\n      this.charts = new Map();\n      Chart.register(...registerables);\n    }\n    /**\n     * Create a new chart\n     */\n    createChart(canvasId, config, chartId) {\n      const canvas = document.getElementById(canvasId);\n      if (!canvas) {\n        throw new Error(`Canvas element with id '${canvasId}' not found`);\n      }\n      // Destroy existing chart if any\n      if (this.charts.has(chartId || canvasId)) {\n        this.charts.get(chartId || canvasId)?.destroy();\n      }\n      const chart = new Chart(canvas, config);\n      this.charts.set(chartId || canvasId, chart);\n      return chart;\n    }\n    /**\n     * Create a bar chart\n     */\n    createBarChart(canvasId, labels, datasets, options, chartId) {\n      const config = {\n        type: \"bar\",\n        data: {\n          labels,\n          datasets: datasets.map(ds => ({\n            ...ds,\n            backgroundColor: ds.backgroundColor || \"#3b82f6\",\n            borderColor: ds.backgroundColor || \"#3b82f6\",\n            borderWidth: 1\n          }))\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              position: \"top\"\n            },\n            title: {\n              display: false\n            }\n          },\n          ...options\n        }\n      };\n      return this.createChart(canvasId, config, chartId);\n    }\n    /**\n     * Create a line chart\n     */\n    createLineChart(canvasId, labels, datasets, options, chartId) {\n      const config = {\n        type: \"line\",\n        data: {\n          labels,\n          datasets: datasets.map(ds => ({\n            ...ds,\n            borderColor: ds.borderColor || \"#3b82f6\",\n            backgroundColor: ds.backgroundColor || \"rgba(59, 130, 246, 0.1)\",\n            fill: ds.fill !== undefined ? ds.fill : true,\n            tension: 0.4\n          }))\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              position: \"top\"\n            }\n          },\n          ...options\n        }\n      };\n      return this.createChart(canvasId, config, chartId);\n    }\n    /**\n     * Create a doughnut chart\n     */\n    createDoughnutChart(canvasId, labels, datasets, options, chartId) {\n      const config = {\n        type: \"doughnut\",\n        data: {\n          labels,\n          datasets: datasets.map(ds => ({\n            ...ds,\n            backgroundColor: ds.backgroundColor || [\"#3b82f6\", \"#10b981\", \"#f59e0b\", \"#ef4444\", \"#8b5cf6\"]\n          }))\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              position: \"right\"\n            }\n          },\n          ...options\n        }\n      };\n      return this.createChart(canvasId, config, chartId);\n    }\n    /**\n     * Create a pie chart\n     */\n    createPieChart(canvasId, labels, datasets, options, chartId) {\n      const config = {\n        type: \"pie\",\n        data: {\n          labels,\n          datasets: datasets.map(ds => ({\n            ...ds,\n            backgroundColor: ds.backgroundColor || [\"#3b82f6\", \"#10b981\", \"#f59e0b\", \"#ef4444\", \"#8b5cf6\"]\n          }))\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              position: \"right\"\n            }\n          },\n          ...options\n        }\n      };\n      return this.createChart(canvasId, config, chartId);\n    }\n    /**\n     * Get a chart by ID\n     */\n    getChart(chartId) {\n      return this.charts.get(chartId);\n    }\n    /**\n     * Update chart data\n     */\n    updateChartData(chartId, labels, datasets) {\n      const chart = this.charts.get(chartId);\n      if (chart) {\n        chart.data.labels = labels;\n        chart.data.datasets = datasets;\n        chart.update();\n      }\n    }\n    /**\n     * Destroy a chart\n     */\n    destroyChart(chartId) {\n      const chart = this.charts.get(chartId);\n      if (chart) {\n        chart.destroy();\n        this.charts.delete(chartId);\n      }\n    }\n    /**\n     * Destroy all charts\n     */\n    destroyAllCharts() {\n      this.charts.forEach(chart => chart.destroy());\n      this.charts.clear();\n    }\n    /**\n     * Export chart as image\n     */\n    exportChartAsImage(chartId, filename = \"chart.png\") {\n      const chart = this.charts.get(chartId);\n      if (chart) {\n        const link = document.createElement(\"a\");\n        link.download = filename;\n        link.href = chart.toBase64Image();\n        link.click();\n      }\n    }\n    static {\n      this.ɵfac = function ChartService_Factory(t) {\n        return new (t || ChartService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: ChartService,\n        factory: ChartService.ɵfac,\n        providedIn: \"root\"\n      });\n    }\n  }\n  return ChartService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}