{"ast":null,"code":"import { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/simulation.service\";\nimport * as i2 from \"../../services/chart.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ScenarioComparisonComponent_div_10_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" \\u2713 Selected \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ScenarioComparisonComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵlistener(\"click\", function ScenarioComparisonComponent_div_10_Template_div_click_0_listener() {\n      const scenario_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggleScenario(scenario_r2));\n    });\n    i0.ɵɵelement(1, \"div\", 12);\n    i0.ɵɵelementStart(2, \"h4\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ScenarioComparisonComponent_div_10_div_6_Template, 2, 0, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const scenario_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"border-color\", scenario_r2.color);\n    i0.ɵɵclassProp(\"selected\", ctx_r2.isSelected(scenario_r2));\n    i0.ɵɵadvance();\n    i0.ɵɵstyleProp(\"background\", scenario_r2.color);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(scenario_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(scenario_r2.description);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isSelected(scenario_r2));\n  }\n}\nfunction ScenarioComparisonComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"h4\");\n    i0.ɵɵtext(2, \"Create Custom Scenario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 16)(4, \"div\", 17)(5, \"label\");\n    i0.ɵɵtext(6, \"Scenario Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 18);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScenarioComparisonComponent_div_16_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.customScenario.name, $event) || (ctx_r2.customScenario.name = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 17)(9, \"label\");\n    i0.ɵɵtext(10, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 19);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScenarioComparisonComponent_div_16_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.customScenario.description, $event) || (ctx_r2.customScenario.description = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 17)(13, \"label\");\n    i0.ɵɵtext(14, \"Hourly Rate (AED)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 20);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScenarioComparisonComponent_div_16_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.customScenario.rate, $event) || (ctx_r2.customScenario.rate = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 17)(17, \"label\");\n    i0.ɵɵtext(18, \"Free Hours\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"input\", 20);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScenarioComparisonComponent_div_16_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.customScenario.freeHours, $event) || (ctx_r2.customScenario.freeHours = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 17)(21, \"label\");\n    i0.ɵɵtext(22, \"Peak Multiplier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"input\", 21);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScenarioComparisonComponent_div_16_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.customScenario.multiplier, $event) || (ctx_r2.customScenario.multiplier = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 17)(25, \"label\");\n    i0.ɵɵtext(26, \"Color\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"input\", 22);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ScenarioComparisonComponent_div_16_Template_input_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.customScenario.color, $event) || (ctx_r2.customScenario.color = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(28, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ScenarioComparisonComponent_div_16_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addCustomScenario());\n    });\n    i0.ɵɵtext(29, \" Add Scenario \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.customScenario.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.customScenario.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.customScenario.rate);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.customScenario.freeHours);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.customScenario.multiplier);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.customScenario.color);\n  }\n}\nfunction ScenarioComparisonComponent_div_17_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r6 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"color\", s_r6.color);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(s_r6.name);\n  }\n}\nfunction ScenarioComparisonComponent_div_17_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r7 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, s_r7.result == null ? null : s_r7.result.congestionReduction, \"1.1-1\"), \"% \");\n  }\n}\nfunction ScenarioComparisonComponent_div_17_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r8 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, s_r8.result == null ? null : s_r8.result.estimatedRevenue), \" \");\n  }\n}\nfunction ScenarioComparisonComponent_div_17_span_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r9 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, s_r9.result == null ? null : s_r9.result.vehiclesDiverted), \" \");\n  }\n}\nfunction ScenarioComparisonComponent_div_17_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r10 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, s_r10.result == null ? null : s_r10.result.environmentalImpact), \" \");\n  }\n}\nfunction ScenarioComparisonComponent_div_17_span_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r11 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", (s_r11.result == null ? null : s_r11.result.equityImpact == null ? null : s_r11.result.equityImpact.isRegressive) ? \"\\u26A0\\uFE0F Regressive\" : \"\\u2713 Fair\", \" \");\n  }\n}\nfunction ScenarioComparisonComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"h3\");\n    i0.ɵɵtext(3, \"\\uD83D\\uDCCA Comparison Summary\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 26)(5, \"div\", 27)(6, \"span\");\n    i0.ɵɵtext(7, \"Metric\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, ScenarioComparisonComponent_div_17_span_8_Template, 2, 3, \"span\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 29)(10, \"span\", 30);\n    i0.ɵɵtext(11, \"Congestion Reduction\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, ScenarioComparisonComponent_div_17_span_12_Template, 3, 4, \"span\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 29)(14, \"span\", 30);\n    i0.ɵɵtext(15, \"Revenue (AED)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, ScenarioComparisonComponent_div_17_span_16_Template, 3, 3, \"span\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 29)(18, \"span\", 30);\n    i0.ɵɵtext(19, \"Vehicles Diverted\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, ScenarioComparisonComponent_div_17_span_20_Template, 3, 3, \"span\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 29)(22, \"span\", 30);\n    i0.ɵɵtext(23, \"CO\\u2082 Reduction (kg)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, ScenarioComparisonComponent_div_17_span_24_Template, 3, 3, \"span\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 29)(26, \"span\", 30);\n    i0.ɵɵtext(27, \"Equity Impact\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(28, ScenarioComparisonComponent_div_17_span_28_Template, 2, 1, \"span\", 31);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(29, \"div\", 32)(30, \"div\", 33)(31, \"h4\");\n    i0.ɵɵtext(32, \"\\uD83D\\uDCC9 Congestion Reduction Comparison\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(33, \"canvas\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"div\", 33)(35, \"h4\");\n    i0.ɵɵtext(36, \"\\uD83D\\uDCB0 Revenue Comparison\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(37, \"canvas\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"div\", 36)(39, \"h4\");\n    i0.ɵɵtext(40, \"\\uD83D\\uDCCA Multi-Metric Comparison\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(41, \"canvas\", 37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(42, \"div\", 38)(43, \"h3\");\n    i0.ɵɵtext(44, \"\\uD83C\\uDFC6 Analysis & Recommendations\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"div\", 39)(46, \"div\", 40)(47, \"span\", 41);\n    i0.ɵɵtext(48, \"\\u2B50\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"h4\");\n    i0.ɵɵtext(50, \"Best for Revenue\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"p\");\n    i0.ɵɵtext(52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"span\", 42);\n    i0.ɵɵtext(54);\n    i0.ɵɵpipe(55, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(56, \"div\", 40)(57, \"span\", 41);\n    i0.ɵɵtext(58, \"\\uD83C\\uDF3F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"h4\");\n    i0.ɵɵtext(60, \"Best for Environment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"p\");\n    i0.ɵɵtext(62);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"span\", 42);\n    i0.ɵɵtext(64);\n    i0.ɵɵpipe(65, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(66, \"div\", 40)(67, \"span\", 41);\n    i0.ɵɵtext(68, \"\\u2696\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(69, \"h4\");\n    i0.ɵɵtext(70, \"Most Equitable\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(71, \"p\");\n    i0.ɵɵtext(72);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(73, \"span\", 42);\n    i0.ɵɵtext(74);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(75, \"div\", 43)(76, \"span\", 41);\n    i0.ɵɵtext(77, \"\\uD83D\\uDCA1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(78, \"h4\");\n    i0.ɵɵtext(79, \"Recommendation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(80, \"p\");\n    i0.ɵɵtext(81);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(82, \"div\", 44)(83, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function ScenarioComparisonComponent_div_17_Template_button_click_83_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.exportComparison());\n    });\n    i0.ɵɵtext(84, \" \\uD83D\\uDCE5 Export Comparison Report \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.selectedScenarios);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.selectedScenarios);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.selectedScenarios);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.selectedScenarios);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.selectedScenarios);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.selectedScenarios);\n    i0.ɵɵadvance(24);\n    i0.ɵɵtextInterpolate(ctx_r2.revenueWinner == null ? null : ctx_r2.revenueWinner.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"AED \", i0.ɵɵpipeBind1(55, 13, ctx_r2.revenueWinner == null ? null : ctx_r2.revenueWinner.result == null ? null : ctx_r2.revenueWinner.result.estimatedRevenue), \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r2.envWinner == null ? null : ctx_r2.envWinner.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(65, 15, ctx_r2.envWinner == null ? null : ctx_r2.envWinner.result == null ? null : ctx_r2.envWinner.result.environmentalImpact), \" kg CO\\u2082\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r2.equityWinner == null ? null : ctx_r2.equityWinner.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((ctx_r2.equityWinner == null ? null : ctx_r2.equityWinner.result == null ? null : ctx_r2.equityWinner.result.equityImpact == null ? null : ctx_r2.equityWinner.result.equityImpact.isRegressive) ? \"Regressive\" : \"Fair\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r2.recommendation);\n  }\n}\nfunction ScenarioComparisonComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47)(1, \"div\", 48);\n    i0.ɵɵtext(2, \"\\uD83D\\uDCCA\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"Select at least 2 scenarios to compare\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6, \"Choose scenarios from the list above or create custom ones\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let ScenarioComparisonComponent = /*#__PURE__*/(() => {\n  class ScenarioComparisonComponent {\n    constructor(simulationService, chartService) {\n      this.simulationService = simulationService;\n      this.chartService = chartService;\n      this.availableScenarios = [{\n        id: \"1\",\n        name: \"Baseline\",\n        description: \"No pricing (current state)\",\n        color: \"#94a3b8\"\n      }, {\n        id: \"2\",\n        name: \"Light Pricing\",\n        description: \"AED 10/hr, 2hr free\",\n        color: \"#10b981\"\n      }, {\n        id: \"3\",\n        name: \"Moderate\",\n        description: \"AED 25/hr, 1hr free\",\n        color: \"#3b82f6\"\n      }, {\n        id: \"4\",\n        name: \"Aggressive\",\n        description: \"AED 50/hr, no free hours\",\n        color: \"#ef4444\"\n      }];\n      this.selectedScenarios = [];\n      this.isRunning = false;\n      this.showCustomForm = false;\n      this.customScenario = {\n        name: \"\",\n        description: \"\",\n        rate: 20,\n        freeHours: 1,\n        multiplier: 1.5,\n        color: \"#8b5cf6\"\n      };\n      this.revenueWinner = null;\n      this.envWinner = null;\n      this.equityWinner = null;\n      this.recommendation = \"\";\n    }\n    ngOnInit() {}\n    get hasResults() {\n      return this.selectedScenarios.length >= 2 && this.selectedScenarios.every(s => s.result);\n    }\n    isSelected(scenario) {\n      return this.selectedScenarios.some(s => s.id === scenario.id);\n    }\n    toggleScenario(scenario) {\n      if (this.isSelected(scenario)) {\n        this.selectedScenarios = this.selectedScenarios.filter(s => s.id !== scenario.id);\n      } else {\n        if (this.selectedScenarios.length < 4) {\n          this.selectedScenarios.push({\n            ...scenario\n          });\n        }\n      }\n    }\n    addCustomScenario() {\n      const newScenario = {\n        id: `custom-${Date.now()}`,\n        name: this.customScenario.name,\n        description: this.customScenario.description || `AED ${this.customScenario.rate}/hr`,\n        color: this.customScenario.color\n      };\n      this.availableScenarios.push(newScenario);\n      this.showCustomForm = false;\n      this.customScenario = {\n        name: \"\",\n        description: \"\",\n        rate: 20,\n        freeHours: 1,\n        multiplier: 1.5,\n        color: \"#8b5cf6\"\n      };\n    }\n    runAllScenarios() {\n      if (this.selectedScenarios.length < 2) return;\n      this.isRunning = true;\n      // Run simulation for each selected scenario\n      this.selectedScenarios.forEach((scenario, index) => {\n        this.runSimulationForScenario(scenario, index);\n      });\n    }\n    runSimulationForScenario(scenario, index) {\n      // Get rate from scenario name/description\n      let rate = 25;\n      let freeHours = 1;\n      if (scenario.name.includes(\"Light\")) {\n        rate = 10;\n        freeHours = 2;\n      } else if (scenario.name.includes(\"Moderate\")) {\n        rate = 25;\n        freeHours = 1;\n      } else if (scenario.name.includes(\"Aggressive\")) {\n        rate = 50;\n        freeHours = 0;\n      } else if (scenario.name === \"Baseline\") {\n        rate = 0;\n        freeHours = 0;\n      }\n      // Create mock results for demo\n      const mockResult = {\n        id: scenario.id,\n        name: scenario.name,\n        description: scenario.description,\n        totalVehicles: 15000 + index * 1000,\n        vehiclesDiverted: Math.floor(1500 * (rate / 25) * (index + 1) * 0.3),\n        congestionReduction: 5 + rate / 10 * (index + 1),\n        estimatedRevenue: rate * 800 * (index + 1),\n        equityImpact: {\n          lowIncomeBurden: 1.5 + index * 0.5,\n          highIncomeBurden: 1 + index * 0.2,\n          burdenRatio: 1.5 + index * 0.3,\n          isRegressive: rate > 40\n        },\n        environmentalImpact: 3000 + index * 800,\n        zoneRules: {},\n        results: {},\n        createdAt: new Date()\n      };\n      scenario.result = mockResult;\n      // Check if all done\n      if (this.selectedScenarios.every(s => s.result)) {\n        this.isRunning = false;\n        this.analyzeResults();\n        this.renderCharts();\n      }\n    }\n    analyzeResults() {\n      // Find winners\n      this.revenueWinner = [...this.selectedScenarios].filter(s => s.result).sort((a, b) => (b.result?.estimatedRevenue || 0) - (a.result?.estimatedRevenue || 0))[0];\n      this.envWinner = [...this.selectedScenarios].filter(s => s.result).sort((a, b) => (b.result?.environmentalImpact || 0) - (a.result?.environmentalImpact || 0))[0];\n      this.equityWinner = [...this.selectedScenarios].filter(s => s.result && !s.result.equityImpact?.isRegressive).sort((a, b) => (a.result?.equityImpact?.burdenRatio || 0) - (b.result?.equityImpact?.burdenRatio || 0))[0] || this.selectedScenarios[0];\n      // Generate recommendation\n      if (this.revenueWinner && this.envWinner && this.equityWinner) {\n        if (this.revenueWinner.name === this.envWinner.name) {\n          this.recommendation = `${this.revenueWinner.name} offers the best balance of revenue and environmental impact.`;\n        } else {\n          this.recommendation = `Consider ${this.revenueWinner.name} for revenue or ${this.envWinner.name} for environmental goals. ${this.equityWinner.name} provides the most equitable outcome.`;\n        }\n      }\n    }\n    renderCharts() {\n      const labels = this.selectedScenarios.map(s => s.name);\n      const congestionData = this.selectedScenarios.map(s => s.result?.congestionReduction || 0);\n      const revenueData = this.selectedScenarios.map(s => s.result?.estimatedRevenue || 0);\n      const colors = this.selectedScenarios.map(s => s.color);\n      // Congestion Chart\n      this.chartService.createBarChart(\"compareCongestionChart\", labels, [{\n        label: \"Congestion Reduction %\",\n        data: congestionData,\n        backgroundColor: colors\n      }]);\n      // Revenue Chart\n      this.chartService.createBarChart(\"compareRevenueChart\", labels, [{\n        label: \"Revenue (AED)\",\n        data: revenueData,\n        backgroundColor: colors\n      }]);\n      // Multi-metric Chart\n      this.chartService.createBarChart(\"compareMultiChart\", labels, [{\n        label: \"Congestion Reduction\",\n        data: congestionData,\n        backgroundColor: colors[0] || \"#3b82f6\"\n      }, {\n        label: \"Revenue (÷1000)\",\n        data: revenueData.map(v => v / 1000),\n        backgroundColor: colors[1] || \"#10b981\"\n      }]);\n    }\n    exportComparison() {\n      alert(\"Exporting comparison report...\");\n    }\n    static {\n      this.ɵfac = function ScenarioComparisonComponent_Factory(t) {\n        return new (t || ScenarioComparisonComponent)(i0.ɵɵdirectiveInject(i1.SimulationService), i0.ɵɵdirectiveInject(i2.ChartService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ScenarioComparisonComponent,\n        selectors: [[\"app-scenario-comparison\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 19,\n        vars: 6,\n        consts: [[1, \"comparison-container\"], [1, \"page-header\"], [1, \"scenario-selection\"], [1, \"scenario-cards\"], [\"class\", \"scenario-card\", 3, \"selected\", \"border-color\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"action-row\"], [1, \"run-btn\", 3, \"click\", \"disabled\"], [1, \"add-custom-btn\", 3, \"click\"], [\"class\", \"custom-form\", 4, \"ngIf\"], [\"class\", \"results-section\", 4, \"ngIf\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [1, \"scenario-card\", 3, \"click\"], [1, \"scenario-color\"], [\"class\", \"scenario-check\", 4, \"ngIf\"], [1, \"scenario-check\"], [1, \"custom-form\"], [1, \"form-grid\"], [1, \"form-group\"], [\"type\", \"text\", \"placeholder\", \"e.g., High Pricing\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Brief description\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"step\", \"0.1\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"color\", 3, \"ngModelChange\", \"ngModel\"], [1, \"create-btn\", 3, \"click\"], [1, \"results-section\"], [1, \"summary-section\"], [1, \"metrics-compare\"], [1, \"metric-header\"], [3, \"color\", 4, \"ngFor\", \"ngForOf\"], [1, \"metric-row\"], [1, \"metric-label\"], [\"class\", \"metric-value\", 4, \"ngFor\", \"ngForOf\"], [1, \"charts-compare\"], [1, \"chart-panel\"], [\"id\", \"compareCongestionChart\"], [\"id\", \"compareRevenueChart\"], [1, \"chart-panel\", \"full-width\"], [\"id\", \"compareMultiChart\"], [1, \"winner-section\"], [1, \"winner-cards\"], [1, \"winner-card\", \"best\"], [1, \"winner-icon\"], [1, \"winner-value\"], [1, \"winner-card\", \"recommendation\"], [1, \"export-section\"], [1, \"export-btn\", 3, \"click\"], [1, \"metric-value\"], [1, \"empty-state\"], [1, \"empty-icon\"]],\n        template: function ScenarioComparisonComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n            i0.ɵɵtext(3, \"\\uD83D\\uDD0D Scenario Comparison\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"p\");\n            i0.ɵɵtext(5, \"Compare different pricing scenarios side-by-side\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"div\", 2)(7, \"h3\");\n            i0.ɵɵtext(8, \"Select Scenarios to Compare\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"div\", 3);\n            i0.ɵɵtemplate(10, ScenarioComparisonComponent_div_10_Template, 7, 9, \"div\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"div\", 5)(12, \"button\", 6);\n            i0.ɵɵlistener(\"click\", function ScenarioComparisonComponent_Template_button_click_12_listener() {\n              return ctx.runAllScenarios();\n            });\n            i0.ɵɵtext(13);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function ScenarioComparisonComponent_Template_button_click_14_listener() {\n              return ctx.showCustomForm = !ctx.showCustomForm;\n            });\n            i0.ɵɵtext(15, \" \\u2795 Add Custom Scenario \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(16, ScenarioComparisonComponent_div_16_Template, 30, 6, \"div\", 8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(17, ScenarioComparisonComponent_div_17_Template, 85, 17, \"div\", 9)(18, ScenarioComparisonComponent_div_18_Template, 7, 0, \"div\", 10);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"ngForOf\", ctx.availableScenarios);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.selectedScenarios.length < 2 || ctx.isRunning);\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \", ctx.isRunning ? \"\\u23F3 Running...\" : \"\\u25B6\\uFE0F Run All Scenarios\", \" \");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.showCustomForm);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.hasResults);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.hasResults);\n          }\n        },\n        dependencies: [CommonModule, i3.NgForOf, i3.NgIf, i3.DecimalPipe, FormsModule, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgModel],\n        styles: [\".comparison-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1e3a5f;margin:0 0 8px}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.scenario-selection[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 4px 16px #00000014}.scenario-selection[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.scenario-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;margin-bottom:20px}.scenario-card[_ngcontent-%COMP%]{border:2px solid #e2e8f0;border-radius:12px;padding:16px;cursor:pointer;transition:all .2s;position:relative}.scenario-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.scenario-card.selected[_ngcontent-%COMP%]{background:#f8fafc}.scenario-color[_ngcontent-%COMP%]{width:40px;height:6px;border-radius:3px;margin-bottom:12px}.scenario-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e293b}.scenario-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#64748b}.scenario-check[_ngcontent-%COMP%]{margin-top:12px;color:#10b981;font-weight:600;font-size:13px}.action-row[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.run-btn[_ngcontent-%COMP%], .add-custom-btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:10px;font-weight:600;cursor:pointer;transition:all .2s}.run-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#0ea5e9);color:#fff;border:none}.run-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)}.run-btn[_ngcontent-%COMP%]:disabled{opacity:.6}.add-custom-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;color:#475569}.add-custom-btn[_ngcontent-%COMP%]:hover{background:#f8fafc}.custom-form[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background:#f8fafc;border-radius:12px}.custom-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:13px;color:#64748b;margin-bottom:6px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #e2e8f0;border-radius:8px}.create-btn[_ngcontent-%COMP%]{padding:10px 20px;background:#10b981;color:#fff;border:none;border-radius:8px;cursor:pointer}.results-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 4px 16px #00000014}.summary-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .winner-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.metrics-compare[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:12px;overflow:hidden;margin-bottom:24px}.metric-header[_ngcontent-%COMP%], .metric-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px repeat(auto-fit,minmax(120px,1fr));padding:12px 16px}.metric-header[_ngcontent-%COMP%]{background:#f8fafc;font-weight:600;color:#64748b;font-size:13px}.metric-row[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0}.metric-label[_ngcontent-%COMP%]{color:#475569}.metric-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.charts-compare[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:24px}.chart-panel[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px}.chart-panel.full-width[_ngcontent-%COMP%]{grid-column:span 2}.chart-panel[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f;font-size:14px}.chart-panel[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%!important;height:250px!important}.winner-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.winner-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;text-align:center}.winner-card.best[_ngcontent-%COMP%]{background:#d1fae5}.winner-card.recommendation[_ngcontent-%COMP%]{background:#dbeafe}.winner-icon[_ngcontent-%COMP%]{font-size:32px;display:block;margin-bottom:12px}.winner-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#1e3a5f}.winner-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600;color:#1e293b}.winner-value[_ngcontent-%COMP%]{display:block;margin-top:8px;font-size:13px;color:#64748b}.export-section[_ngcontent-%COMP%]{text-align:center;margin-top:24px;padding-top:24px;border-top:1px solid #e2e8f0}.export-btn[_ngcontent-%COMP%]{padding:14px 32px;background:#1e3a5f;color:#fff;border:none;border-radius:10px;font-weight:600;cursor:pointer;transition:all .2s}.export-btn[_ngcontent-%COMP%]:hover{background:#0f172a}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:16px}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e3a5f}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b}@media (max-width: 768px){.scenario-cards[_ngcontent-%COMP%], .charts-compare[_ngcontent-%COMP%], .winner-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.chart-panel.full-width[_ngcontent-%COMP%]{grid-column:span 1}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}\"]\n      });\n    }\n  }\n  return ScenarioComparisonComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}