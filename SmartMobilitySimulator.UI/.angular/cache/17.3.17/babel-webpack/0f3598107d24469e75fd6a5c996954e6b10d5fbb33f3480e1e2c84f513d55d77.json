{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/authority-data.service\";\nimport * as i3 from \"@angular/common\";\nfunction AuthorityReportComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 20);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 27);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const metric_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(metric_r1.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(metric_r1.label);\n  }\n}\nfunction AuthorityReportComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 29)(4, \"div\", 30);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 31);\n    i0.ɵɵelement(7, \"div\", 32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 33);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 34);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const priority_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(priority_r2.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", priority_r2.impact, \"/10\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", priority_r2.impact * 10, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(priority_r2.evidence);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", priority_r2.recommendation, \" \");\n  }\n}\nfunction AuthorityReportComponent_div_28_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const task_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(task_r3);\n  }\n}\nfunction AuthorityReportComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35)(1, \"div\", 36)(2, \"span\", 37);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 38);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"h4\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ul\", 39);\n    i0.ɵɵtemplate(9, AuthorityReportComponent_div_28_li_9_Template, 2, 1, \"li\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 40)(11, \"strong\");\n    i0.ɵɵtext(12, \"Budget:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 41)(16, \"strong\");\n    i0.ɵɵtext(17, \"Expected Outcomes:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const phase_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Phase \", i_r5 + 1, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(phase_r4.duration);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(phase_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", phase_r4.tasks);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(14, 6, phase_r4.budget, \"AED\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", phase_r4.outcomes, \" \");\n  }\n}\nfunction AuthorityReportComponent_li_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const benefit_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", benefit_r6.name, \":\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", benefit_r6.value, \" \");\n  }\n}\nexport class AuthorityReportComponent {\n  constructor(route, authorityDataService) {\n    this.route = route;\n    this.authorityDataService = authorityDataService;\n    this.authority = {\n      name: \"Dubai Roads and Transport Authority (RTA)\",\n      code: \"RTA\",\n      jurisdiction: \"Dubai\",\n      logoUrl: \"/assets/logos/rta-logo.png\"\n    };\n    this.simulationResult = {\n      id: \"local\",\n      name: \"Authority Summary\",\n      totalVehicles: 0,\n      vehiclesDiverted: 0,\n      congestionReduction: 18,\n      estimatedRevenue: 1200000000,\n      equityImpact: {\n        lowIncomeBurden: 0.12,\n        highIncomeBurden: 0.08,\n        isRegressive: false,\n        burdenRatio: 0.66\n      },\n      environmentalImpact: 0,\n      zoneRules: {},\n      results: {},\n      createdAt: new Date()\n    };\n    this.today = new Date();\n    this.executiveMetrics = [];\n    this.simulationId = null;\n  }\n  ngOnInit() {\n    this.simulationId = this.route.snapshot.queryParamMap.get(\"simulationId\");\n    const authorityCode = this.route.snapshot.queryParamMap.get(\"authority\");\n    if (authorityCode) {\n      this.authority.code = authorityCode.toUpperCase();\n    }\n    this.authorityDataService.getAuthorities().subscribe({\n      next: authorities => {\n        const match = authorities.find(item => item.code.toUpperCase() === this.authority.code.toUpperCase());\n        if (match) {\n          this.authority = match;\n        }\n      },\n      error: () => null\n    });\n    this.executiveMetrics = [{\n      value: \"-25%\",\n      label: \"Congestion Reduction\"\n    }, {\n      value: \"180M AED\",\n      label: \"Annual Revenue\"\n    }, {\n      value: \"15%\",\n      label: \"Public Transport Shift\"\n    }, {\n      value: \"2.8\",\n      label: \"NPV (Billion AED)\"\n    }];\n  }\n  getAuthoritySummaryText(authorityCode) {\n    const summaries = {\n      RTA: \"This analysis demonstrates how Smart Zone Access (FAIR Model) can reduce Dubai's annual congestion cost of 4.5B AED by 25%, while generating 180M AED in annual revenue to fund Dubai Metro expansion and smart city initiatives. The system aligns with Dubai 2040 Urban Plan and enhances tourist experience. Our unique model provides FREE access for residents and workers, ensuring higher public acceptance.\",\n      ITC: \"The proposed system addresses Abu Dhabi's industrial congestion challenges, particularly in Mussafah, improving productivity by 20% while generating 120M AED in annual revenue. This supports Abu Dhabi Economic Vision 2030 and contributes to Net Zero 2050 goals through reduced emissions. The FAIR model ensures fair treatment for industrial workers.\",\n      SRTA: \"For Sharjah, this solution focuses on improving cross-border commuter efficiency and industrial worker mobility. It can reduce Sharjah-Dubai commute times by 25% while making affordable housing more accessible. The system supports Sharjah Urban Plan 2040 priorities with exemptions for residents and workers.\"\n    };\n    return summaries[authorityCode] ?? \"\";\n  }\n  getAuthorityPriorities(authorityCode) {\n    const priorities = {\n      RTA: [{\n        name: \"Dubai 2040 Urban Plan\",\n        impact: 9.2,\n        evidence: \"Projected 25% congestion reduction\",\n        recommendation: \"Prioritize tourist corridor pricing\"\n      }, {\n        name: \"Metro Integration\",\n        impact: 8.4,\n        evidence: \"Estimated 15% ridership shift\",\n        recommendation: \"Expand park-and-ride capacity\"\n      }],\n      ITC: [{\n        name: \"Industrial Productivity\",\n        impact: 8.7,\n        evidence: \"20% time savings in Mussafah\",\n        recommendation: \"Target freight peak windows\"\n      }, {\n        name: \"Net Zero 2050\",\n        impact: 7.9,\n        evidence: \"CO2 reduction from smoother flow\",\n        recommendation: \"Incentivize clean freight fleets\"\n      }],\n      SRTA: [{\n        name: \"Cross-border Efficiency\",\n        impact: 9.1,\n        evidence: \"25% commuter time savings\",\n        recommendation: \"Coordinate pricing with Dubai\"\n      }, {\n        name: \"Affordable Housing Access\",\n        impact: 7.8,\n        evidence: \"Reduced commute costs\",\n        recommendation: \"Subsidize low-income commuters\"\n      }]\n    };\n    return priorities[authorityCode] ?? [];\n  }\n  getImplementationPhases(authorityCode) {\n    const phases = {\n      RTA: [{\n        name: \"Pilot Tourist Corridors\",\n        duration: \"6 months\",\n        budget: 2000000,\n        outcomes: \"Validate demand shifts and metro load\",\n        tasks: [\"Deploy sensors\", \"Launch pricing\", \"Monitor KPIs\"]\n      }, {\n        name: \"CBD Expansion\",\n        duration: \"9 months\",\n        budget: 3000000,\n        outcomes: \"Increase revenue capture\",\n        tasks: [\"Expand zones\", \"Integrate parking\", \"Public comms\"]\n      }],\n      ITC: [{\n        name: \"Industrial Corridor Pilot\",\n        duration: \"6 months\",\n        budget: 1500000,\n        outcomes: \"Improve freight reliability\",\n        tasks: [\"Engage operators\", \"Deploy enforcement\", \"Measure safety\"]\n      }, {\n        name: \"City Access Program\",\n        duration: \"8 months\",\n        budget: 1500000,\n        outcomes: \"Reduce CBD delays\",\n        tasks: [\"Set pricing\", \"Update signage\", \"Adjust transit\"]\n      }],\n      SRTA: [{\n        name: \"Border Crossing Optimization\",\n        duration: \"5 months\",\n        budget: 1000000,\n        outcomes: \"Reduce commuter delays\",\n        tasks: [\"Coordinate with Dubai\", \"Deploy monitoring\", \"Public rollout\"]\n      }, {\n        name: \"Industrial Zones Rollout\",\n        duration: \"6 months\",\n        budget: 1000000,\n        outcomes: \"Improve worker mobility\",\n        tasks: [\"Adjust exemptions\", \"Transit support\", \"Evaluate results\"]\n      }]\n    };\n    return phases[authorityCode] ?? [];\n  }\n  calculate5YearRevenue() {\n    return this.simulationResult.estimatedRevenue * 5;\n  }\n  getImplementationCost(authorityCode) {\n    const costs = {\n      RTA: 5000000,\n      ITC: 3000000,\n      SRTA: 2000000\n    };\n    return costs[authorityCode] ?? 0;\n  }\n  getAnnualOperatingCost(authorityCode) {\n    const costs = {\n      RTA: 1500000,\n      ITC: 1000000,\n      SRTA: 800000\n    };\n    return costs[authorityCode] ?? 0;\n  }\n  calculateNPV() {\n    return this.calculate5YearRevenue() - this.getImplementationCost(this.authority.code);\n  }\n  calculateIRR() {\n    return 18.5;\n  }\n  calculatePayback() {\n    return 24;\n  }\n  getAuthorityBenefits(authorityCode) {\n    const benefits = {\n      RTA: [{\n        name: \"Metro Revenue\",\n        value: \"+AED 180M/year\"\n      }, {\n        name: \"Tourism Retention\",\n        value: \"+AED 120M/year\"\n      }, {\n        name: \"Resident Savings\",\n        value: \"AED 400/year free\"\n      }],\n      ITC: [{\n        name: \"Industrial Productivity\",\n        value: \"+AED 150M/year\"\n      }, {\n        name: \"Safety Savings\",\n        value: \"+AED 60M/year\"\n      }],\n      SRTA: [{\n        name: \"Commuter Savings\",\n        value: \"+AED 80M/year\"\n      }, {\n        name: \"Housing Access\",\n        value: \"+6% improvement\"\n      }]\n    };\n    return benefits[authorityCode] ?? [];\n  }\n  downloadPDF() {\n    if (!this.simulationId) {\n      console.warn(\"Simulation ID is required to download report.\");\n      return;\n    }\n    this.authorityDataService.getAuthorityReport(this.authority.code, this.simulationId).subscribe(blob => this.downloadBlob(blob, `${this.authority.code}_SmartZone_Analysis_${this.today.toISOString().slice(0, 10)}.pdf`));\n  }\n  downloadPPT() {\n    if (!this.simulationId) {\n      console.warn(\"Simulation ID is required to download pitch deck.\");\n      return;\n    }\n    this.authorityDataService.getAuthorityPitchDeck(this.authority.code, this.simulationId).subscribe(blob => this.downloadBlob(blob, `${this.authority.code}_Pitch_Deck_${this.today.toISOString().slice(0, 10)}.pptx`));\n  }\n  downloadExcel() {\n    console.log(\"Downloading financial model\");\n  }\n  downloadBlob(blob, filename) {\n    const url = window.URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.download = filename;\n    link.click();\n    window.URL.revokeObjectURL(url);\n  }\n  static {\n    this.ɵfac = function AuthorityReportComponent_Factory(t) {\n      return new (t || AuthorityReportComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AuthorityDataService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AuthorityReportComponent,\n      selectors: [[\"app-authority-report\"]],\n      inputs: {\n        authority: \"authority\",\n        simulationResult: \"simulationResult\"\n      },\n      decls: 79,\n      vars: 34,\n      consts: [[1, \"authority-report\", 3, \"ngClass\"], [1, \"report-header\"], [1, \"authority-logo-large\", 3, \"src\"], [1, \"header-text\"], [1, \"report-date\"], [1, \"uae-flag\"], [1, \"executive-summary\"], [1, \"summary-content\"], [\"class\", \"summary-metric\", 4, \"ngFor\", \"ngForOf\"], [1, \"summary-text\"], [1, \"authority-analysis\"], [1, \"priority-grid\"], [\"class\", \"priority-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"zone-recommendations\"], [1, \"implementation-phases\"], [\"class\", \"phase\", 4, \"ngFor\", \"ngForOf\"], [1, \"financial-analysis\"], [1, \"financial-metrics\"], [1, \"metric-row\"], [1, \"metric-name\"], [1, \"metric-value\"], [1, \"metric-row\", \"highlight\"], [1, \"authority-benefits\"], [4, \"ngFor\", \"ngForOf\"], [1, \"download-options\"], [1, \"download-btn\", 3, \"click\"], [1, \"summary-metric\"], [1, \"metric-label\"], [1, \"priority-card\"], [1, \"priority-impact\"], [1, \"impact-score\"], [1, \"impact-bar\"], [1, \"impact-fill\"], [1, \"priority-evidence\"], [1, \"priority-recommendation\"], [1, \"phase\"], [1, \"phase-header\"], [1, \"phase-number\"], [1, \"phase-duration\"], [1, \"phase-tasks\"], [1, \"phase-budget\"], [1, \"phase-outcomes\"]],\n      template: function AuthorityReportComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n          i0.ɵɵelement(2, \"img\", 2);\n          i0.ɵɵelementStart(3, \"div\", 3)(4, \"h1\");\n          i0.ɵɵtext(5, \"Smart Zone Access Analysis\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"h2\");\n          i0.ɵɵtext(7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 4);\n          i0.ɵɵtext(9);\n          i0.ɵɵpipe(10, \"date\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(11, \"div\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\", 6)(13, \"h3\");\n          i0.ɵɵtext(14, \"Executive Summary\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"div\", 7);\n          i0.ɵɵtemplate(16, AuthorityReportComponent_div_16_Template, 5, 2, \"div\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 9);\n          i0.ɵɵtext(18);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"div\", 10)(20, \"h3\");\n          i0.ɵɵtext(21);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"div\", 11);\n          i0.ɵɵtemplate(23, AuthorityReportComponent_div_23_Template, 12, 6, \"div\", 12);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(24, \"div\", 13)(25, \"h3\");\n          i0.ɵɵtext(26);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"div\", 14);\n          i0.ɵɵtemplate(28, AuthorityReportComponent_div_28_Template, 19, 9, \"div\", 15);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(29, \"div\", 16)(30, \"h3\");\n          i0.ɵɵtext(31);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"div\", 17)(33, \"div\", 18)(34, \"div\", 19);\n          i0.ɵɵtext(35, \"5-Year Revenue Projection\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"div\", 20);\n          i0.ɵɵtext(37);\n          i0.ɵɵpipe(38, \"currency\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(39, \"div\", 18)(40, \"div\", 19);\n          i0.ɵɵtext(41, \"Implementation Cost\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(42, \"div\", 20);\n          i0.ɵɵtext(43);\n          i0.ɵɵpipe(44, \"currency\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(45, \"div\", 18)(46, \"div\", 19);\n          i0.ɵɵtext(47, \"Annual Operating Cost\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(48, \"div\", 20);\n          i0.ɵɵtext(49);\n          i0.ɵɵpipe(50, \"currency\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(51, \"div\", 21)(52, \"div\", 19);\n          i0.ɵɵtext(53, \"Net Present Value (5 years)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(54, \"div\", 20);\n          i0.ɵɵtext(55);\n          i0.ɵɵpipe(56, \"currency\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(57, \"div\", 21)(58, \"div\", 19);\n          i0.ɵɵtext(59, \"Internal Rate of Return\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(60, \"div\", 20);\n          i0.ɵɵtext(61);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(62, \"div\", 21)(63, \"div\", 19);\n          i0.ɵɵtext(64, \"Payback Period\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(65, \"div\", 20);\n          i0.ɵɵtext(66);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(67, \"div\", 22)(68, \"h4\");\n          i0.ɵɵtext(69);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(70, \"ul\");\n          i0.ɵɵtemplate(71, AuthorityReportComponent_li_71_Template, 4, 2, \"li\", 23);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(72, \"div\", 24)(73, \"button\", 25);\n          i0.ɵɵlistener(\"click\", function AuthorityReportComponent_Template_button_click_73_listener() {\n            return ctx.downloadPDF();\n          });\n          i0.ɵɵtext(74, \" Download PDF Report \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(75, \"button\", 25);\n          i0.ɵɵlistener(\"click\", function AuthorityReportComponent_Template_button_click_75_listener() {\n            return ctx.downloadPPT();\n          });\n          i0.ɵɵtext(76, \" Download PowerPoint \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(77, \"button\", 25);\n          i0.ɵɵlistener(\"click\", function AuthorityReportComponent_Template_button_click_77_listener() {\n            return ctx.downloadExcel();\n          });\n          i0.ɵɵtext(78, \" Download Financial Model (Excel) \");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngClass\", ctx.authority.code.toLowerCase() + \"-theme\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"src\", ctx.authority.logoUrl, i0.ɵɵsanitizeUrl);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\"Prepared for \", ctx.authority.name, \"\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" Generated on \", i0.ɵɵpipeBind2(10, 19, ctx.today, \"fullDate\"), \" \");\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngForOf\", ctx.executiveMetrics);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \", ctx.getAuthoritySummaryText(ctx.authority.code), \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"Impact on \", ctx.authority.jurisdiction, \" Priorities\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.getAuthorityPriorities(ctx.authority.code));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" Recommended Implementation Plan for \", ctx.authority.jurisdiction, \" \");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.getImplementationPhases(ctx.authority.code));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"Financial Analysis for \", ctx.authority.code, \"\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(38, 22, ctx.calculate5YearRevenue(), \"AED\"), \" \");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(44, 25, ctx.getImplementationCost(ctx.authority.code), \"AED\"), \" \");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(50, 28, ctx.getAnnualOperatingCost(ctx.authority.code), \"AED\"), \" \");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(56, 31, ctx.calculateNPV(), \"AED\"), \" \");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"\", ctx.calculateIRR(), \"%\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\"\", ctx.calculatePayback(), \" months\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"\", ctx.authority.code, \"-Specific Benefits\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.getAuthorityBenefits(ctx.authority.code));\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.CurrencyPipe, i3.DatePipe],\n      styles: [\".rta-theme[_ngcontent-%COMP%] {\\n        --primary-color: #ce1126;\\n        --secondary-color: #00732f;\\n      }\\n\\n      .itc-theme[_ngcontent-%COMP%] {\\n        --primary-color: #000000;\\n        --secondary-color: #ffd700;\\n      }\\n\\n      .srta-theme[_ngcontent-%COMP%] {\\n        --primary-color: #003366;\\n        --secondary-color: #ffffff;\\n      }\\n\\n      .report-header[_ngcontent-%COMP%] {\\n        background: linear-gradient(\\n          135deg,\\n          var(--primary-color),\\n          var(--secondary-color)\\n        );\\n        color: white;\\n        padding: 30px;\\n        display: flex;\\n        align-items: center;\\n        border-radius: 10px 10px 0 0;\\n      }\\n\\n      .authority-logo-large[_ngcontent-%COMP%] {\\n        width: 100px;\\n        height: 100px;\\n        margin-right: 30px;\\n      }\\n    \\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhvcml0eS1yZXBvcnQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7TUFDTTtRQUNFLHdCQUF3QjtRQUN4QiwwQkFBMEI7TUFDNUI7O01BRUE7UUFDRSx3QkFBd0I7UUFDeEIsMEJBQTBCO01BQzVCOztNQUVBO1FBQ0Usd0JBQXdCO1FBQ3hCLDBCQUEwQjtNQUM1Qjs7TUFFQTtRQUNFOzs7O1NBSUM7UUFDRCxZQUFZO1FBQ1osYUFBYTtRQUNiLGFBQWE7UUFDYixtQkFBbUI7UUFDbkIsNEJBQTRCO01BQzlCOztNQUVBO1FBQ0UsWUFBWTtRQUNaLGFBQWE7UUFDYixrQkFBa0I7TUFDcEIiLCJmaWxlIjoiYXV0aG9yaXR5LXJlcG9ydC5jb21wb25lbnQudHMiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIC5ydGEtdGhlbWUge1xuICAgICAgICAtLXByaW1hcnktY29sb3I6ICNjZTExMjY7XG4gICAgICAgIC0tc2Vjb25kYXJ5LWNvbG9yOiAjMDA3MzJmO1xuICAgICAgfVxuXG4gICAgICAuaXRjLXRoZW1lIHtcbiAgICAgICAgLS1wcmltYXJ5LWNvbG9yOiAjMDAwMDAwO1xuICAgICAgICAtLXNlY29uZGFyeS1jb2xvcjogI2ZmZDcwMDtcbiAgICAgIH1cblxuICAgICAgLnNydGEtdGhlbWUge1xuICAgICAgICAtLXByaW1hcnktY29sb3I6ICMwMDMzNjY7XG4gICAgICAgIC0tc2Vjb25kYXJ5LWNvbG9yOiAjZmZmZmZmO1xuICAgICAgfVxuXG4gICAgICAucmVwb3J0LWhlYWRlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudChcbiAgICAgICAgICAxMzVkZWcsXG4gICAgICAgICAgdmFyKC0tcHJpbWFyeS1jb2xvciksXG4gICAgICAgICAgdmFyKC0tc2Vjb25kYXJ5LWNvbG9yKVxuICAgICAgICApO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIHBhZGRpbmc6IDMwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDA7XG4gICAgICB9XG5cbiAgICAgIC5hdXRob3JpdHktbG9nby1sYXJnZSB7XG4gICAgICAgIHdpZHRoOiAxMDBweDtcbiAgICAgICAgaGVpZ2h0OiAxMDBweDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAzMHB4O1xuICAgICAgfVxuICAgICJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXV0aG9yaXR5LXJlcG9ydC9hdXRob3JpdHktcmVwb3J0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO01BQ007UUFDRSx3QkFBd0I7UUFDeEIsMEJBQTBCO01BQzVCOztNQUVBO1FBQ0Usd0JBQXdCO1FBQ3hCLDBCQUEwQjtNQUM1Qjs7TUFFQTtRQUNFLHdCQUF3QjtRQUN4QiwwQkFBMEI7TUFDNUI7O01BRUE7UUFDRTs7OztTQUlDO1FBQ0QsWUFBWTtRQUNaLGFBQWE7UUFDYixhQUFhO1FBQ2IsbUJBQW1CO1FBQ25CLDRCQUE0QjtNQUM5Qjs7TUFFQTtRQUNFLFlBQVk7UUFDWixhQUFhO1FBQ2Isa0JBQWtCO01BQ3BCOztBQUVOLDRnREFBNGdEIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgICAucnRhLXRoZW1lIHtcbiAgICAgICAgLS1wcmltYXJ5LWNvbG9yOiAjY2UxMTI2O1xuICAgICAgICAtLXNlY29uZGFyeS1jb2xvcjogIzAwNzMyZjtcbiAgICAgIH1cblxuICAgICAgLml0Yy10aGVtZSB7XG4gICAgICAgIC0tcHJpbWFyeS1jb2xvcjogIzAwMDAwMDtcbiAgICAgICAgLS1zZWNvbmRhcnktY29sb3I6ICNmZmQ3MDA7XG4gICAgICB9XG5cbiAgICAgIC5zcnRhLXRoZW1lIHtcbiAgICAgICAgLS1wcmltYXJ5LWNvbG9yOiAjMDAzMzY2O1xuICAgICAgICAtLXNlY29uZGFyeS1jb2xvcjogI2ZmZmZmZjtcbiAgICAgIH1cblxuICAgICAgLnJlcG9ydC1oZWFkZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoXG4gICAgICAgICAgMTM1ZGVnLFxuICAgICAgICAgIHZhcigtLXByaW1hcnktY29sb3IpLFxuICAgICAgICAgIHZhcigtLXNlY29uZGFyeS1jb2xvcilcbiAgICAgICAgKTtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBwYWRkaW5nOiAzMHB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4IDEwcHggMCAwO1xuICAgICAgfVxuXG4gICAgICAuYXV0aG9yaXR5LWxvZ28tbGFyZ2Uge1xuICAgICAgICB3aWR0aDogMTAwcHg7XG4gICAgICAgIGhlaWdodDogMTAwcHg7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMzBweDtcbiAgICAgIH1cbiAgICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","metric_r1","value","label","ɵɵelement","priority_r2","name","ɵɵtextInterpolate1","impact","ɵɵstyleProp","evidence","recommendation","task_r3","ɵɵtemplate","AuthorityReportComponent_div_28_li_9_Template","i_r5","phase_r4","duration","ɵɵproperty","tasks","ɵɵpipeBind2","budget","outcomes","benefit_r6","AuthorityReportComponent","constructor","route","authorityDataService","authority","code","jurisdiction","logoUrl","simulationResult","id","totalVehicles","vehiclesDiverted","congestionReduction","estimatedRevenue","equityImpact","lowIncomeBurden","highIncomeBurden","isRegressive","burdenRatio","environmentalImpact","zoneRules","results","createdAt","Date","today","executiveMetrics","simulationId","ngOnInit","snapshot","queryParamMap","get","authorityCode","toUpperCase","getAuthorities","subscribe","next","authorities","match","find","item","error","getAuthoritySummaryText","summaries","RTA","ITC","SRTA","getAuthorityPriorities","priorities","getImplementationPhases","phases","calculate5YearRevenue","getImplementationCost","costs","getAnnualOperatingCost","calculateNPV","calculateIRR","calculatePayback","getAuthorityBenefits","benefits","downloadPDF","console","warn","getAuthorityReport","blob","downloadBlob","toISOString","slice","downloadPPT","getAuthorityPitchDeck","downloadExcel","log","filename","url","window","URL","createObjectURL","link","document","createElement","href","download","click","revokeObjectURL","ɵɵdirectiveInject","i1","ActivatedRoute","i2","AuthorityDataService","selectors","inputs","decls","vars","consts","template","AuthorityReportComponent_Template","rf","ctx","AuthorityReportComponent_div_16_Template","AuthorityReportComponent_div_23_Template","AuthorityReportComponent_div_28_Template","AuthorityReportComponent_li_71_Template","ɵɵlistener","AuthorityReportComponent_Template_button_click_73_listener","AuthorityReportComponent_Template_button_click_75_listener","AuthorityReportComponent_Template_button_click_77_listener","toLowerCase","ɵɵsanitizeUrl"],"sources":["c:\\Users\\edrin\\OneDrive\\Desktop\\Mobility\\SmartZoneSimulator.UI\\src\\app\\authority-report\\authority-report.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { SimulationResult } from \"../models/simulation.model\";\r\nimport { TransportAuthority } from \"../models/transport-authority.model\";\r\nimport { AuthorityDataService } from \"../services/authority-data.service\";\r\n\r\ninterface ExecutiveMetric {\r\n  value: string;\r\n  label: string;\r\n}\r\n\r\ninterface AuthorityPriority {\r\n  name: string;\r\n  impact: number;\r\n  evidence: string;\r\n  recommendation: string;\r\n}\r\n\r\ninterface ImplementationPhase {\r\n  name: string;\r\n  duration: string;\r\n  budget: number;\r\n  outcomes: string;\r\n  tasks: string[];\r\n}\r\n\r\ninterface AuthorityBenefit {\r\n  name: string;\r\n  value: string;\r\n}\r\n\r\n@Component({\r\n  selector: \"app-authority-report\",\r\n  template: `\r\n    <div\r\n      class=\"authority-report\"\r\n      [ngClass]=\"authority.code.toLowerCase() + '-theme'\"\r\n    >\r\n      <!-- Authority Header -->\r\n      <div class=\"report-header\">\r\n        <img [src]=\"authority.logoUrl\" class=\"authority-logo-large\" />\r\n        <div class=\"header-text\">\r\n          <h1>Smart Zone Access Analysis</h1>\r\n          <h2>Prepared for {{ authority.name }}</h2>\r\n          <div class=\"report-date\">\r\n            Generated on {{ today | date: \"fullDate\" }}\r\n          </div>\r\n        </div>\r\n        <div class=\"uae-flag\">\r\n          <!-- UAE flag display -->\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Executive Summary -->\r\n      <div class=\"executive-summary\">\r\n        <h3>Executive Summary</h3>\r\n        <div class=\"summary-content\">\r\n          <div class=\"summary-metric\" *ngFor=\"let metric of executiveMetrics\">\r\n            <div class=\"metric-value\">{{ metric.value }}</div>\r\n            <div class=\"metric-label\">{{ metric.label }}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"summary-text\">\r\n          {{ getAuthoritySummaryText(authority.code) }}\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Authority-Specific Analysis -->\r\n      <div class=\"authority-analysis\">\r\n        <h3>Impact on {{ authority.jurisdiction }} Priorities</h3>\r\n\r\n        <div class=\"priority-grid\">\r\n          <div\r\n            class=\"priority-card\"\r\n            *ngFor=\"let priority of getAuthorityPriorities(authority.code)\"\r\n          >\r\n            <h4>{{ priority.name }}</h4>\r\n            <div class=\"priority-impact\">\r\n              <div class=\"impact-score\">{{ priority.impact }}/10</div>\r\n              <div class=\"impact-bar\">\r\n                <div\r\n                  class=\"impact-fill\"\r\n                  [style.width.%]=\"priority.impact * 10\"\r\n                ></div>\r\n              </div>\r\n            </div>\r\n            <div class=\"priority-evidence\">{{ priority.evidence }}</div>\r\n            <div class=\"priority-recommendation\">\r\n              {{ priority.recommendation }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Zone-Specific Recommendations -->\r\n      <div class=\"zone-recommendations\">\r\n        <h3>\r\n          Recommended Implementation Plan for {{ authority.jurisdiction }}\r\n        </h3>\r\n\r\n        <div class=\"implementation-phases\">\r\n          <div\r\n            class=\"phase\"\r\n            *ngFor=\"\r\n              let phase of getImplementationPhases(authority.code);\r\n              let i = index\r\n            \"\r\n          >\r\n            <div class=\"phase-header\">\r\n              <span class=\"phase-number\">Phase {{ i + 1 }}</span>\r\n              <span class=\"phase-duration\">{{ phase.duration }}</span>\r\n            </div>\r\n            <h4>{{ phase.name }}</h4>\r\n            <ul class=\"phase-tasks\">\r\n              <li *ngFor=\"let task of phase.tasks\">{{ task }}</li>\r\n            </ul>\r\n            <div class=\"phase-budget\">\r\n              <strong>Budget:</strong> {{ phase.budget | currency: \"AED\" }}\r\n            </div>\r\n            <div class=\"phase-outcomes\">\r\n              <strong>Expected Outcomes:</strong> {{ phase.outcomes }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Financial Analysis -->\r\n      <div class=\"financial-analysis\">\r\n        <h3>Financial Analysis for {{ authority.code }}</h3>\r\n\r\n        <div class=\"financial-metrics\">\r\n          <div class=\"metric-row\">\r\n            <div class=\"metric-name\">5-Year Revenue Projection</div>\r\n            <div class=\"metric-value\">\r\n              {{ calculate5YearRevenue() | currency: \"AED\" }}\r\n            </div>\r\n          </div>\r\n          <div class=\"metric-row\">\r\n            <div class=\"metric-name\">Implementation Cost</div>\r\n            <div class=\"metric-value\">\r\n              {{ getImplementationCost(authority.code) | currency: \"AED\" }}\r\n            </div>\r\n          </div>\r\n          <div class=\"metric-row\">\r\n            <div class=\"metric-name\">Annual Operating Cost</div>\r\n            <div class=\"metric-value\">\r\n              {{ getAnnualOperatingCost(authority.code) | currency: \"AED\" }}\r\n            </div>\r\n          </div>\r\n          <div class=\"metric-row highlight\">\r\n            <div class=\"metric-name\">Net Present Value (5 years)</div>\r\n            <div class=\"metric-value\">\r\n              {{ calculateNPV() | currency: \"AED\" }}\r\n            </div>\r\n          </div>\r\n          <div class=\"metric-row highlight\">\r\n            <div class=\"metric-name\">Internal Rate of Return</div>\r\n            <div class=\"metric-value\">{{ calculateIRR() }}%</div>\r\n          </div>\r\n          <div class=\"metric-row highlight\">\r\n            <div class=\"metric-name\">Payback Period</div>\r\n            <div class=\"metric-value\">{{ calculatePayback() }} months</div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Authority-Specific Benefits -->\r\n        <div class=\"authority-benefits\">\r\n          <h4>{{ authority.code }}-Specific Benefits</h4>\r\n          <ul>\r\n            <li *ngFor=\"let benefit of getAuthorityBenefits(authority.code)\">\r\n              <strong>{{ benefit.name }}:</strong> {{ benefit.value }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Download Options -->\r\n      <div class=\"download-options\">\r\n        <button (click)=\"downloadPDF()\" class=\"download-btn\">\r\n          Download PDF Report\r\n        </button>\r\n        <button (click)=\"downloadPPT()\" class=\"download-btn\">\r\n          Download PowerPoint\r\n        </button>\r\n        <button (click)=\"downloadExcel()\" class=\"download-btn\">\r\n          Download Financial Model (Excel)\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      .rta-theme {\r\n        --primary-color: #ce1126;\r\n        --secondary-color: #00732f;\r\n      }\r\n\r\n      .itc-theme {\r\n        --primary-color: #000000;\r\n        --secondary-color: #ffd700;\r\n      }\r\n\r\n      .srta-theme {\r\n        --primary-color: #003366;\r\n        --secondary-color: #ffffff;\r\n      }\r\n\r\n      .report-header {\r\n        background: linear-gradient(\r\n          135deg,\r\n          var(--primary-color),\r\n          var(--secondary-color)\r\n        );\r\n        color: white;\r\n        padding: 30px;\r\n        display: flex;\r\n        align-items: center;\r\n        border-radius: 10px 10px 0 0;\r\n      }\r\n\r\n      .authority-logo-large {\r\n        width: 100px;\r\n        height: 100px;\r\n        margin-right: 30px;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class AuthorityReportComponent implements OnInit {\r\n  @Input() authority: TransportAuthority = {\r\n    name: \"Dubai Roads and Transport Authority (RTA)\",\r\n    code: \"RTA\",\r\n    jurisdiction: \"Dubai\",\r\n    logoUrl: \"/assets/logos/rta-logo.png\",\r\n  };\r\n  @Input() simulationResult: SimulationResult = {\r\n    id: \"local\",\r\n    name: \"Authority Summary\",\r\n    totalVehicles: 0,\r\n    vehiclesDiverted: 0,\r\n    congestionReduction: 18,\r\n    estimatedRevenue: 1200000000,\r\n    equityImpact: {\r\n      lowIncomeBurden: 0.12,\r\n      highIncomeBurden: 0.08,\r\n      isRegressive: false,\r\n      burdenRatio: 0.66,\r\n    },\r\n    environmentalImpact: 0,\r\n    zoneRules: {},\r\n    results: {},\r\n    createdAt: new Date(),\r\n  };\r\n\r\n  today = new Date();\r\n  executiveMetrics: ExecutiveMetric[] = [];\r\n  private simulationId: string | null = null;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private authorityDataService: AuthorityDataService,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.simulationId = this.route.snapshot.queryParamMap.get(\"simulationId\");\r\n    const authorityCode = this.route.snapshot.queryParamMap.get(\"authority\");\r\n\r\n    if (authorityCode) {\r\n      this.authority.code = authorityCode.toUpperCase();\r\n    }\r\n\r\n    this.authorityDataService.getAuthorities().subscribe({\r\n      next: (authorities) => {\r\n        const match = authorities.find(\r\n          (item) =>\r\n            item.code.toUpperCase() === this.authority.code.toUpperCase(),\r\n        );\r\n        if (match) {\r\n          this.authority = match;\r\n        }\r\n      },\r\n      error: () => null,\r\n    });\r\n\r\n    this.executiveMetrics = [\r\n      { value: \"-25%\", label: \"Congestion Reduction\" },\r\n      { value: \"180M AED\", label: \"Annual Revenue\" },\r\n      { value: \"15%\", label: \"Public Transport Shift\" },\r\n      { value: \"2.8\", label: \"NPV (Billion AED)\" },\r\n    ];\r\n  }\r\n\r\n  getAuthoritySummaryText(authorityCode: string): string {\r\n    const summaries: Record<string, string> = {\r\n      RTA: \"This analysis demonstrates how Smart Zone Access (FAIR Model) can reduce Dubai's annual congestion cost of 4.5B AED by 25%, while generating 180M AED in annual revenue to fund Dubai Metro expansion and smart city initiatives. The system aligns with Dubai 2040 Urban Plan and enhances tourist experience. Our unique model provides FREE access for residents and workers, ensuring higher public acceptance.\",\r\n      ITC: \"The proposed system addresses Abu Dhabi's industrial congestion challenges, particularly in Mussafah, improving productivity by 20% while generating 120M AED in annual revenue. This supports Abu Dhabi Economic Vision 2030 and contributes to Net Zero 2050 goals through reduced emissions. The FAIR model ensures fair treatment for industrial workers.\",\r\n      SRTA: \"For Sharjah, this solution focuses on improving cross-border commuter efficiency and industrial worker mobility. It can reduce Sharjah-Dubai commute times by 25% while making affordable housing more accessible. The system supports Sharjah Urban Plan 2040 priorities with exemptions for residents and workers.\",\r\n    };\r\n\r\n    return summaries[authorityCode] ?? \"\";\r\n  }\r\n\r\n  getAuthorityPriorities(authorityCode: string): AuthorityPriority[] {\r\n    const priorities: Record<string, AuthorityPriority[]> = {\r\n      RTA: [\r\n        {\r\n          name: \"Dubai 2040 Urban Plan\",\r\n          impact: 9.2,\r\n          evidence: \"Projected 25% congestion reduction\",\r\n          recommendation: \"Prioritize tourist corridor pricing\",\r\n        },\r\n        {\r\n          name: \"Metro Integration\",\r\n          impact: 8.4,\r\n          evidence: \"Estimated 15% ridership shift\",\r\n          recommendation: \"Expand park-and-ride capacity\",\r\n        },\r\n      ],\r\n      ITC: [\r\n        {\r\n          name: \"Industrial Productivity\",\r\n          impact: 8.7,\r\n          evidence: \"20% time savings in Mussafah\",\r\n          recommendation: \"Target freight peak windows\",\r\n        },\r\n        {\r\n          name: \"Net Zero 2050\",\r\n          impact: 7.9,\r\n          evidence: \"CO2 reduction from smoother flow\",\r\n          recommendation: \"Incentivize clean freight fleets\",\r\n        },\r\n      ],\r\n      SRTA: [\r\n        {\r\n          name: \"Cross-border Efficiency\",\r\n          impact: 9.1,\r\n          evidence: \"25% commuter time savings\",\r\n          recommendation: \"Coordinate pricing with Dubai\",\r\n        },\r\n        {\r\n          name: \"Affordable Housing Access\",\r\n          impact: 7.8,\r\n          evidence: \"Reduced commute costs\",\r\n          recommendation: \"Subsidize low-income commuters\",\r\n        },\r\n      ],\r\n    };\r\n\r\n    return priorities[authorityCode] ?? [];\r\n  }\r\n\r\n  getImplementationPhases(authorityCode: string): ImplementationPhase[] {\r\n    const phases: Record<string, ImplementationPhase[]> = {\r\n      RTA: [\r\n        {\r\n          name: \"Pilot Tourist Corridors\",\r\n          duration: \"6 months\",\r\n          budget: 2000000,\r\n          outcomes: \"Validate demand shifts and metro load\",\r\n          tasks: [\"Deploy sensors\", \"Launch pricing\", \"Monitor KPIs\"],\r\n        },\r\n        {\r\n          name: \"CBD Expansion\",\r\n          duration: \"9 months\",\r\n          budget: 3000000,\r\n          outcomes: \"Increase revenue capture\",\r\n          tasks: [\"Expand zones\", \"Integrate parking\", \"Public comms\"],\r\n        },\r\n      ],\r\n      ITC: [\r\n        {\r\n          name: \"Industrial Corridor Pilot\",\r\n          duration: \"6 months\",\r\n          budget: 1500000,\r\n          outcomes: \"Improve freight reliability\",\r\n          tasks: [\"Engage operators\", \"Deploy enforcement\", \"Measure safety\"],\r\n        },\r\n        {\r\n          name: \"City Access Program\",\r\n          duration: \"8 months\",\r\n          budget: 1500000,\r\n          outcomes: \"Reduce CBD delays\",\r\n          tasks: [\"Set pricing\", \"Update signage\", \"Adjust transit\"],\r\n        },\r\n      ],\r\n      SRTA: [\r\n        {\r\n          name: \"Border Crossing Optimization\",\r\n          duration: \"5 months\",\r\n          budget: 1000000,\r\n          outcomes: \"Reduce commuter delays\",\r\n          tasks: [\r\n            \"Coordinate with Dubai\",\r\n            \"Deploy monitoring\",\r\n            \"Public rollout\",\r\n          ],\r\n        },\r\n        {\r\n          name: \"Industrial Zones Rollout\",\r\n          duration: \"6 months\",\r\n          budget: 1000000,\r\n          outcomes: \"Improve worker mobility\",\r\n          tasks: [\"Adjust exemptions\", \"Transit support\", \"Evaluate results\"],\r\n        },\r\n      ],\r\n    };\r\n\r\n    return phases[authorityCode] ?? [];\r\n  }\r\n\r\n  calculate5YearRevenue(): number {\r\n    return this.simulationResult.estimatedRevenue * 5;\r\n  }\r\n\r\n  getImplementationCost(authorityCode: string): number {\r\n    const costs: Record<string, number> = {\r\n      RTA: 5000000,\r\n      ITC: 3000000,\r\n      SRTA: 2000000,\r\n    };\r\n    return costs[authorityCode] ?? 0;\r\n  }\r\n\r\n  getAnnualOperatingCost(authorityCode: string): number {\r\n    const costs: Record<string, number> = {\r\n      RTA: 1500000,\r\n      ITC: 1000000,\r\n      SRTA: 800000,\r\n    };\r\n    return costs[authorityCode] ?? 0;\r\n  }\r\n\r\n  calculateNPV(): number {\r\n    return (\r\n      this.calculate5YearRevenue() -\r\n      this.getImplementationCost(this.authority.code)\r\n    );\r\n  }\r\n\r\n  calculateIRR(): number {\r\n    return 18.5;\r\n  }\r\n\r\n  calculatePayback(): number {\r\n    return 24;\r\n  }\r\n\r\n  getAuthorityBenefits(authorityCode: string): AuthorityBenefit[] {\r\n    const benefits: Record<string, AuthorityBenefit[]> = {\r\n      RTA: [\r\n        { name: \"Metro Revenue\", value: \"+AED 180M/year\" },\r\n        { name: \"Tourism Retention\", value: \"+AED 120M/year\" },\r\n        { name: \"Resident Savings\", value: \"AED 400/year free\" },\r\n      ],\r\n      ITC: [\r\n        { name: \"Industrial Productivity\", value: \"+AED 150M/year\" },\r\n        { name: \"Safety Savings\", value: \"+AED 60M/year\" },\r\n      ],\r\n      SRTA: [\r\n        { name: \"Commuter Savings\", value: \"+AED 80M/year\" },\r\n        { name: \"Housing Access\", value: \"+6% improvement\" },\r\n      ],\r\n    };\r\n\r\n    return benefits[authorityCode] ?? [];\r\n  }\r\n\r\n  downloadPDF(): void {\r\n    if (!this.simulationId) {\r\n      console.warn(\"Simulation ID is required to download report.\");\r\n      return;\r\n    }\r\n\r\n    this.authorityDataService\r\n      .getAuthorityReport(this.authority.code, this.simulationId)\r\n      .subscribe((blob) =>\r\n        this.downloadBlob(\r\n          blob,\r\n          `${this.authority.code}_SmartZone_Analysis_${this.today\r\n            .toISOString()\r\n            .slice(0, 10)}.pdf`,\r\n        ),\r\n      );\r\n  }\r\n\r\n  downloadPPT(): void {\r\n    if (!this.simulationId) {\r\n      console.warn(\"Simulation ID is required to download pitch deck.\");\r\n      return;\r\n    }\r\n\r\n    this.authorityDataService\r\n      .getAuthorityPitchDeck(this.authority.code, this.simulationId)\r\n      .subscribe((blob) =>\r\n        this.downloadBlob(\r\n          blob,\r\n          `${this.authority.code}_Pitch_Deck_${this.today\r\n            .toISOString()\r\n            .slice(0, 10)}.pptx`,\r\n        ),\r\n      );\r\n  }\r\n\r\n  downloadExcel(): void {\r\n    console.log(\"Downloading financial model\");\r\n  }\r\n\r\n  private downloadBlob(blob: Blob, filename: string): void {\r\n    const url = window.URL.createObjectURL(blob);\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.download = filename;\r\n    link.click();\r\n    window.URL.revokeObjectURL(url);\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}