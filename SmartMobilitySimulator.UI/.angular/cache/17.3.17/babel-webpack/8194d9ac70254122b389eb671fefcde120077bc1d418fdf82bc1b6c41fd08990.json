{"ast":null,"code":"import { throwError } from \"rxjs\";\nimport { catchError, finalize } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./loading.service\";\nexport let HttpErrorInterceptor = /*#__PURE__*/(() => {\n  class HttpErrorInterceptor {\n    constructor(loadingService) {\n      this.loadingService = loadingService;\n    }\n    intercept(request, next) {\n      // Don't show loading for certain requests\n      const hideLoading = request.headers.has(\"X-Hide-Loading\");\n      if (!hideLoading) {\n        this.loadingService.show();\n      }\n      return next.handle(request).pipe(catchError(error => {\n        let errorMessage = \"An unexpected error occurred\";\n        if (error.error instanceof ErrorEvent) {\n          // Client-side error\n          errorMessage = `Error: ${error.error.message}`;\n        } else {\n          // Server-side error\n          switch (error.status) {\n            case 0:\n              errorMessage = \"Unable to connect to server. Please check your internet connection.\";\n              break;\n            case 400:\n              errorMessage = error.error?.message || \"Bad request. Please check your input.\";\n              break;\n            case 401:\n              errorMessage = \"Unauthorized. Please log in again.\";\n              break;\n            case 403:\n              errorMessage = \"Access denied. You do not have permission.\";\n              break;\n            case 404:\n              errorMessage = \"Resource not found.\";\n              break;\n            case 500:\n              errorMessage = \"Server error. Please try again later.\";\n              break;\n            default:\n              errorMessage = `Error ${error.status}: ${error.message}`;\n          }\n        }\n        console.error(\"HTTP Error:\", error);\n        return throwError(() => new Error(errorMessage));\n      }), finalize(() => {\n        if (!hideLoading) {\n          this.loadingService.hide();\n        }\n      }));\n    }\n    static {\n      this.ɵfac = function HttpErrorInterceptor_Factory(t) {\n        return new (t || HttpErrorInterceptor)(i0.ɵɵinject(i1.LoadingService));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: HttpErrorInterceptor,\n        factory: HttpErrorInterceptor.ɵfac,\n        providedIn: \"root\"\n      });\n    }\n  }\n  return HttpErrorInterceptor;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}