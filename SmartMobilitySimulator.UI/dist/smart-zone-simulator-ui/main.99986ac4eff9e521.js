(self.webpackChunksmart_zone_simulator_ui=self.webpackChunksmart_zone_simulator_ui||[]).push([[792],{6864:(XA,Ge,Ve)=>{"use strict";var qe=Ve(467);let ce=null,_e=1;const xe=Symbol("SIGNAL");function Pe(t){const n=ce;return ce=t,n}function de(t){if((!Nn(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==_e)){if(!t.producerMustRecompute(t)&&!It(t))return t.dirty=!1,void(t.lastCleanEpoch=_e);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=_e}}function It(t){Oe(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(de(e),i!==e.version))return!0}return!1}function en(t,n){if(function Bt(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Oe(t),1===t.liveConsumerNode.length)for(let i=0;i<t.producerNode.length;i++)en(t.producerNode[i],t.producerIndexOfThis[i]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];Oe(r),r.producerIndexOfThis[i]=n}}function Nn(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Oe(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Zn=null;function bt(t){return"function"==typeof t}function Ct(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const we=Ct(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function he(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class We{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(bt(i))try{i()}catch(o){n=o instanceof we?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{dt(o)}catch(s){n=n??[],s instanceof we?n=[...n,...s.errors]:n.push(s)}}if(n)throw new we(n)}}add(n){var e;if(n&&n!==this)if(this.closed)dt(n);else{if(n instanceof We){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&he(e,n)}remove(n){const{_finalizers:e}=this;e&&he(e,n),n instanceof We&&n._removeParent(this)}}We.EMPTY=(()=>{const t=new We;return t.closed=!0,t})();const zt=We.EMPTY;function Gt(t){return t instanceof We||t&&"closed"in t&&bt(t.remove)&&bt(t.add)&&bt(t.unsubscribe)}function dt(t){bt(t)?t():t.unsubscribe()}const $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},An={setTimeout(t,n,...e){const{delegate:i}=An;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=An;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function rn(t){An.setTimeout(()=>{const{onUnhandledError:n}=$t;if(!n)throw t;n(t)})}function En(){}const yr=ca("C",void 0,void 0);function ca(t,n,e){return{kind:t,value:n,error:e}}let yo=null;function ys(t){if($t.useDeprecatedSynchronousErrorHandling){const n=!yo;if(n&&(yo={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=yo;if(yo=null,e)throw i}}else t()}class ua extends We{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Gt(n)&&n.add(this)):this.destination=wl}static create(n,e,i){return new bs(n,e,i)}next(n){this.isStopped?bl(function es(t){return ca("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?bl(function Ui(t){return ca("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?bl(yr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ya=Function.prototype.bind;function No(t,n){return Ya.call(t,n)}class yh{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){Ju(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){Ju(i)}else Ju(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Ju(e)}}}class bs extends ua{constructor(n,e,i){let r;if(super(),bt(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&$t.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&No(n.next,o),error:n.error&&No(n.error,o),complete:n.complete&&No(n.complete,o)}):r=n}this.destination=new yh(r)}}function Ju(t){$t.useDeprecatedSynchronousErrorHandling?function Yi(t){$t.useDeprecatedSynchronousErrorHandling&&yo&&(yo.errorThrown=!0,yo.error=t)}(t):rn(t)}function bl(t,n){const{onStoppedNotification:e}=$t;e&&An.setTimeout(()=>e(t,n))}const wl={closed:!0,next:En,error:function eA(t){throw t},complete:En},Xa="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vl(t){return t}function bh(t){return 0===t.length?Vl:1===t.length?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}let io=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function wh(t){return t&&t instanceof ua||function lp(t){return t&&bt(t.next)&&bt(t.error)&&bt(t.complete)}(t)&&Gt(t)}(e)?e:new bs(e,i,r);return ys(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=ed(i))((r,o)=>{const s=new bs({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Xa](){return this}pipe(...e){return bh(e)(this)}toPromise(e){return new(e=ed(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=n=>new t(n),t})();function ed(t){var n;return null!==(n=t??$t.Promise)&&void 0!==n?n:Promise}const Z1=Ct(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Pa=(()=>{class t extends io{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new cp(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Z1}next(e){ys(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){ys(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ys(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?zt:(this.currentObservers=null,o.push(e),new We(()=>{this.currentObservers=null,he(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new io;return e.source=this,e}}return t.create=(n,e)=>new cp(n,e),t})();class cp extends Pa{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:zt}}class Vn extends Pa{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function ea(t){return bt(t?.lift)}function dn(t){return n=>{if(ea(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pr(t,n,e,i,r){return new Ch(t,n,e,i,r)}class Ch extends ua{constructor(n,e,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Xi(t,n){return dn((e,i)=>{let r=0;e.subscribe(Pr(i,o=>{i.next(t.call(n,o,r++))}))})}const xh="https://g.co/ng/security#xss";class mt extends Error{constructor(n,e){super(function Ja(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function Cl(t){return{toString:t}.toString()}const jl="__parameters__";function Gl(t,n,e){return Cl(()=>{const i=function Bh(t){return function(...e){if(t){const i=t(...e);for(const r in i)this[r]=i[r]}}}(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,u,d){const g=l.hasOwnProperty(jl)?l[jl]:Object.defineProperty(l,jl,{value:[]})[jl];for(;g.length<=d;)g.push(null);return(g[d]=g[d]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const qi=globalThis;function sr(t){for(let n in t)if(t[n]===sr)return n;throw Error("Could not find renamed property on target object.")}function Kl(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Yn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Yn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function jr(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Wl=sr({__forward_ref__:sr});function Ji(t){return t.__forward_ref__=Ji,t.toString=function(){return Yn(this())},t}function Rn(t){return Ci(t)?t():t}function Ci(t){return"function"==typeof t&&t.hasOwnProperty(Wl)&&t.__forward_ref__===Ji}function tn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Aa(t){return hp(t,lu)||hp(t,id)}function hp(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ts(t){return t&&(t.hasOwnProperty(xl)||t.hasOwnProperty(rd))?t[xl]:null}const lu=sr({\u0275prov:sr}),xl=sr({\u0275inj:sr}),id=sr({ngInjectableDef:sr}),rd=sr({ngInjectorDef:sr});class nn{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=tn({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function da(t){return t&&!!t.\u0275providers}const ql=sr({\u0275cmp:sr}),Fh=sr({\u0275dir:sr}),sA=sr({\u0275pipe:sr}),cu=sr({\u0275mod:sr}),Ml=sr({\u0275fac:sr}),aA=sr({__NG_ELEMENT_ID__:sr}),Zl=sr({__NG_ENV_ID__:sr});function ii(t){return"string"==typeof t?t:null==t?"":String(t)}function Th(t,n){throw new mt(-201,!1)}var Hi=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Hi||{});let ad;function lm(){return ad}function Ns(t){const n=ad;return ad=t,n}function pp(t,n,e){const i=Aa(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Hi.Optional?null:void 0!==n?n:void Th()}const uu={},mp="__NG_DI_FLAG__",ld="ngTempTokenPath",Lh=/\n/gm,um="__source";let Dl;function Sl(t){const n=Dl;return Dl=t,n}function vp(t,n=Hi.Default){if(void 0===Dl)throw new mt(-203,!1);return null===Dl?pp(t,void 0,n):Dl.get(t,n&Hi.Optional?null:void 0,n)}function cn(t,n=Hi.Default){return(lm()||vp)(Rn(t),n)}function Mt(t,n=Hi.Default){return cn(t,Nh(n))}function Nh(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cd(t){const n=[];for(let e=0;e<t.length;e++){const i=Rn(t[e]);if(Array.isArray(i)){if(0===i.length)throw new mt(900,!1);let r,o=Hi.Default;for(let s=0;s<i.length;s++){const a=i[s],l=lA(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}n.push(cn(r,o))}else n.push(cn(i))}return n}function du(t,n){return t[mp]=n,t.prototype[mp]=n,t}function lA(t){return t[mp]}const fr=du(Gl("Optional"),8),Gr=du(Gl("SkipSelf"),4);function zo(t,n){return t.hasOwnProperty(Ml)?t[Ml]:null}function hu(t,n){t.forEach(e=>Array.isArray(e)?hu(e,n):n(e))}function El(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Fc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Kr(t,n,e){let i=pr(t,n);return i>=0?t[1|i]=e:(i=~i,function tl(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(1===r)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function Pl(t,n){const e=pr(t,n);if(e>=0)return t[1|e]}function pr(t,n){return function Rh(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=t[o<<e];if(n===s)return o<<e;s>n?r=o:i=o+1}return~(r<<e)}(t,n,1)}const ha={},zi=[],Ol=new nn(""),Ad=new nn("",-1),Ia=new nn("");class Rs{get(n,e=uu){if(e===uu){const i=new Error(`NullInjectorError: No provider for ${Yn(n)}!`);throw i.name="NullInjectorError",i}return e}}var AA=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(AA||{}),Oa=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Oa||{}),Ir=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ir||{});function dd(t,n,e){let i=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}function yp(t,n,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];t.setAttribute(n,s,a,o)}else{const o=r,s=e[++i];ka(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),i++}}return i}function bp(t){return 3===t||4===t||6===t}function ka(t){return 64===t.charCodeAt(0)}function fu(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?e=r:0===e||dm(t,e,r,null,-1===e||2===e?n[++i]:null)}}return t}function dm(t,n,e,i,r){let o=0,s=t.length;if(-1===n)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}const il="ng-template";function pu(t,n,e,i){let r=0;if(i){for(;r<n.length&&"string"==typeof n[r];r+=2)if("class"===n[r]&&-1!==dd(n[r+1].toLowerCase(),e,0))return!0}else if(wp(t))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&"string"==typeof(o=n[r]);)if(o.toLowerCase()===e)return!0}return!1}function wp(t){return 4===t.type&&t.value!==il}function hd(t,n,e){return n===(4!==t.type||e?t.value:il)}function hm(t,n,e){let i=4;const r=t.attrs,o=null!==r?function mu(t){for(let n=0;n<t.length;n++)if(bp(t[n]))return n;return t.length}(r):0;let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!hd(t,l,e)||""===l&&1===n.length){if(fa(i))return!1;s=!0}}else if(8&i){if(null===r||!pu(t,r,l,e)){if(fa(i))return!1;s=!0}}else{const u=n[++a],d=fm(l,r,wp(t),e);if(-1===d){if(fa(i))return!1;s=!0;continue}if(""!==u){let g;if(g=d>o?"":r[d+1].toLowerCase(),2&i&&u!==g){if(fa(i))return!1;s=!0}}}}else{if(!s&&!fa(i)&&!fa(l))return!1;if(s&&fa(l))continue;s=!1,i=l|1&i}}return fa(i)||s}function fa(t){return!(1&t)}function fm(t,n,e,i){if(null===n)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){const s=n[r];if(s===t)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++r];for(;"string"==typeof a;)a=n[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Cp(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function gu(t,n,e=!1){for(let i=0;i<n.length;i++)if(hm(t,n[i],e))return!0;return!1}function fd(t,n){return t?":not("+n.trim()+")":n}function Xl(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&i){const a=t[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!fa(s)&&(n+=fd(o,r),r=""),i=s,o=o||!fa(i);e++}return""!==r&&(n+=fd(o,r)),n}function rr(t){return Cl(()=>{const n=_m(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===AA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Oa.Emulated,styles:t.styles||zi,_:null,schemas:t.schemas||null,tView:null,id:""};Mp(e);const i=t.dependencies;return e.directiveDefs=pd(i,!1),e.pipeDefs=pd(i,!0),e.id=function c(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of e)n=Math.imul(31,n)+r.charCodeAt(0)|0;return n+=2147483648,"c"+n}(e),e})}function vm(t){return mi(t)||So(t)}function Qh(t){return null!==t}function ws(t){return Cl(()=>({type:t.type,bootstrap:t.bootstrap||zi,declarations:t.declarations||zi,imports:t.imports||zi,exports:t.exports||zi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function xp(t,n){if(null==t)return ha;const e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];let o,s,a=Ir.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(e[o]=a!==Ir.None?[i,a]:i,n[o]=s):e[o]=i}return e}function ri(t){return Cl(()=>{const n=_m(t);return Mp(n),n})}function na(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function mi(t){return t[ql]||null}function So(t){return t[Fh]||null}function Vo(t){return t[sA]||null}function ts(t,n){const e=t[cu]||null;if(!e&&!0===n)throw new Error(`Type ${Yn(t)} does not have '\u0275mod' property.`);return e}function _m(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ha,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||zi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xp(t.inputs,n),outputs:xp(t.outputs),debugInfo:null}}function Mp(t){t.features?.forEach(n=>n(t))}function pd(t,n){if(!t)return null;const e=n?Vo:vm;return()=>("function"==typeof t?t():t).map(i=>e(i)).filter(Qh)}function C(...t){return{\u0275providers:E(0,t),\u0275fromNgModule:!0}}function E(t,...n){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return hu(n,s=>{const a=s;$(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&T(r,o),e}function T(t,n){for(let e=0;e<t.length;e++){const{ngModule:i,providers:r}=t[e];ct(r,o=>{n(o,i)})}}function $(t,n,e,i){if(!(t=Rn(t)))return!1;let r=null,o=Ts(t);const s=!o&&mi(t);if(o||s){if(s&&!s.standalone)return!1;r=t}else{const l=t.ngModule;if(o=Ts(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)$(u,n,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;i.add(r);try{hu(o.imports,d=>{$(d,n,e,i)&&(u||=[],u.push(d))})}finally{}void 0!==u&&T(u,n)}if(!a){const u=zo(r)||(()=>new r);n({provide:r,useFactory:u,deps:zi},r),n({provide:Ia,useValue:r,multi:!0},r),n({provide:Ol,useValue:()=>cn(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const u=t;ct(l,d=>{n(d,u)})}}}return r!==t&&void 0!==t.providers}function ct(t,n){for(let e of t)da(e)&&(e=e.\u0275providers),Array.isArray(e)?ct(e,n):n(e)}const vt=sr({provide:String,useValue:sr});function Ht(t){return null!==t&&"object"==typeof t&&vt in t}function vi(t){return"function"==typeof t}const Eo=new nn(""),Qs={},ia={};let Lc;function zh(){return void 0===Lc&&(Lc=new Rs),Lc}class Hs{}class Nc extends Hs{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gd(n,s=>this.processProvider(s)),this.records.set(Ad,Jl(void 0,this)),r.has("environment")&&this.records.set(Hs,Jl(void 0,this));const o=this.records.get(Eo);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ia,zi,Hi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=Pe(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Sl(this),i=Ns(void 0);try{return n()}finally{Sl(e),Ns(i)}}get(n,e=uu,i=Hi.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Zl))return n[Zl](this);i=Nh(i);const o=Sl(this),s=Ns(void 0);try{if(!(i&Hi.SkipSelf)){let l=this.records.get(n);if(void 0===l){const u=function sv(t){return"function"==typeof t||"object"==typeof t&&t instanceof nn}(n)&&Aa(n);l=u&&this.injectableDefInScope(u)?Jl(Vh(n),Qs):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(i&Hi.Self?zh():this.parent).get(n,e=i&Hi.Optional&&e===uu?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[ld]=a[ld]||[]).unshift(Yn(n)),o)throw a;return function Do(t,n,e,i){const r=t[ld];throw n[um]&&r.unshift(n[um]),t.message=function cA(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=Yn(n);if(Array.isArray(n))r=n.map(Yn).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Yn(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(Lh,"\n  ")}`}("\n"+t.message,r,e,i),t.ngTokenPath=r,t[ld]=null,t}(a,n,"R3InjectorError",this.source)}throw a}finally{Ns(s),Sl(o)}}resolveInjectorInitializers(){const n=Pe(null),e=Sl(this),i=Ns(void 0);try{const o=this.get(Ol,zi,Hi.Self);for(const s of o)s()}finally{Sl(e),Ns(i),Pe(n)}}toString(){const n=[],e=this.records;for(const i of e.keys())n.push(Yn(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new mt(205,!1)}processProvider(n){let e=vi(n=Rn(n))?n:Rn(n&&n.provide);const i=function Bp(t){return Ht(t)?Jl(void 0,t.useValue):Jl(bo(t),Qs)}(n);if(!vi(n)&&!0===n.multi){let r=this.records.get(e);r||(r=Jl(void 0,Qs,!0),r.factory=()=>cd(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){const i=Pe(null);try{return e.value===Qs&&(e.value=ia,e.value=e.factory()),"object"==typeof e.value&&e.value&&function jh(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Pe(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const e=Rn(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Vh(t){const n=Aa(t),e=null!==n?n.factory:zo(t);if(null!==e)return e;if(t instanceof nn)throw new mt(204,!1);if(t instanceof Function)return function ov(t){if(t.length>0)throw new mt(204,!1);const e=function fp(t){return t&&(t[lu]||t[id])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new mt(204,!1)}function bo(t,n,e){let i;if(vi(t)){const r=Rn(t);return zo(r)||Vh(r)}if(Ht(t))i=()=>Rn(t.useValue);else if(function Xn(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...cd(t.deps||[]));else if(function pn(t){return!(!t||!t.useExisting)}(t))i=()=>cn(Rn(t.useExisting));else{const r=Rn(t&&(t.useClass||t.provide));if(!function Dp(t){return!!t.deps}(t))return zo(r)||Vh(r);i=()=>new r(...cd(t.deps))}return i}function Jl(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function gd(t,n){for(const e of t)Array.isArray(e)?gd(e,n):e&&da(e)?gd(e.\u0275providers,n):n(e)}function rl(t,n){t instanceof Nc&&t.assertNotDestroyed();const i=Sl(t),r=Ns(void 0);try{return n()}finally{Sl(i),Ns(r)}}function ym(){return void 0!==lm()||null!=function ta(){return Dl}()}const co=0,an=1,Gn=2,uo=3,ec=4,ra=5,Ta=6,Kh=7,to=8,jo=9,tc=10,ci=11,Pp=12,Jb=13,Wh=14,Fi=15,Ip=16,$h=17,vu=18,Op=19,e2=20,_u=21,Cm=22,md=23,xi=25,lv=1,Rc=7,fn=9,Uo=10;var cv=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(cv||{});function Cs(t){return Array.isArray(t)&&"object"==typeof t[lv]}function ro(t){return Array.isArray(t)&&!0===t[lv]}function uv(t){return!!(4&t.flags)}function dA(t){return t.componentOffset>-1}function hA(t){return!(1&~t.flags)}function La(t){return!!t.template}function Av(t){return!!(512&t[Gn])}class dM{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Mm(t,n,e,i){null!==n?n.applyValueToInputSignal(n,i):t[e]=i}function pa(){return pv}function pv(t){return t.type.prototype.ngOnChanges&&(t.setInput=hM),o2}function o2(){const t=Bm(this),n=t?.current;if(n){const e=t.previous;if(e===ha)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function hM(t,n,e,i,r){const o=this.declaredInputs[i],s=Bm(t)||function mv(t,n){return t[gv]=n}(t,{previous:ha,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new dM(u&&u.currentValue,e,l===ha),Mm(t,n,r,e)}pa.ngInherit=!0;const gv="__ngSimpleChanges__";function Bm(t){return t[gv]||null}const nc=function(t,n,e){},vv="svg";let a2=!1;function Gi(t){for(;Array.isArray(t);)t=t[co];return t}function Lp(t,n){return Gi(n[t])}function ga(t,n){return Gi(n[t.index])}function Np(t,n){return t.data[n]}function qh(t,n){return t[n]}function ol(t,n){const e=n[t];return Cs(e)?e:e[co]}function _v(t){return!(128&~t[Gn])}function ic(t,n){return null==n?null:t[n]}function l2(t){t[$h]=0}function yv(t){1024&t[Gn]||(t[Gn]|=1024,_v(t)&&Rp(t))}function is(t){return!!(9216&t[Gn]||t[md]?.dirty)}function vd(t){t[tc].changeDetectionScheduler?.notify(1),is(t)?Rp(t):64&t[Gn]&&(function fM(){return a2}()?(t[Gn]|=1024,Rp(t)):t[tc].changeDetectionScheduler?.notify())}function Rp(t){t[tc].changeDetectionScheduler?.notify();let n=bu(t);for(;null!==n&&!(8192&n[Gn])&&(n[Gn]|=8192,_v(n));)n=bu(n)}function Em(t,n){if(!(256&~t[Gn]))throw new mt(911,!1);null===t[_u]&&(t[_u]=[]),t[_u].push(n)}function bu(t){const n=t[uo];return ro(n)?n[uo]:n}const ui={lFrame:Lm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function u2(){return ui.bindingsEnabled}function Et(){return ui.lFrame.lView}function tr(){return ui.lFrame.tView}function pt(t){return ui.lFrame.contextLView=t,t[to]}function gt(t){return ui.lFrame.contextLView=null,t}function br(){let t=Up();for(;null!==t&&64===t.type;)t=t.parent;return t}function Up(){return ui.lFrame.currentTNode}function rc(t,n){const e=ui.lFrame;e.currentTNode=t,e.isParent=n}function Hp(){return ui.lFrame.isParent}function Im(){ui.lFrame.isParent=!1}function xs(){const t=ui.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function oc(){return ui.lFrame.bindingIndex++}function wu(t){const n=ui.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function xv(t,n){const e=ui.lFrame;e.bindingIndex=e.bindingRootIndex=t,Mv(n)}function Mv(t){ui.lFrame.currentDirectiveIndex=t}function Dv(){return ui.lFrame.currentQueryIndex}function km(t){ui.lFrame.currentQueryIndex=t}function v2(t){const n=t[an];return 2===n.type?n.declTNode:1===n.type?t[ra]:null}function Fm(t,n,e){if(e&Hi.SkipSelf){let r=n,o=t;for(;!(r=r.parent,null!==r||e&Hi.Host||(r=v2(o),null===r||(o=o[Wh],10&r.type))););if(null===r)return!1;n=r,t=o}const i=ui.lFrame=Sv();return i.currentTNode=n,i.lView=t,!0}function Tm(t){const n=Sv(),e=t[an];ui.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Sv(){const t=ui.lFrame,n=null===t?null:t.child;return null===n?Lm(t):n}function Lm(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ev(){const t=ui.lFrame;return ui.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Pv=Ev;function Iv(){const t=Ev();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rs(){return ui.lFrame.selectedIndex}function fA(t){ui.lFrame.selectedIndex=t}function Wr(){const t=ui.lFrame;return Np(t.tView,t.selectedIndex)}function Rm(){ui.lFrame.currentNamespace=vv}let yd=!0;function Yh(){return yd}function Or(t){yd=t}function Cu(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),u&&((t.viewHooks??=[]).push(e,u),(t.viewCheckHooks??=[]).push(e,u)),null!=d&&(t.destroyHooks??=[]).push(e,d)}}function sc(t,n,e){Qc(t,n,3,e)}function ac(t,n,e,i){(3&t[Gn])===e&&Qc(t,n,e,i)}function wd(t,n){let e=t[Gn];(3&e)===n&&(e&=16383,e+=1,t[Gn]=e)}function Qc(t,n,e,i){const o=i??-1,s=n.length-1;let a=0;for(let l=void 0!==i?65535&t[$h]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=i&&a>=i)break}else n[l]<0&&(t[$h]+=65536),(a<o||-1==o)&&(b2(t,e,n,l),t[$h]=(4294901760&t[$h])+l+2),l++}function kv(t,n){nc(4,t,n);const e=Pe(null);try{n.call(t)}finally{Pe(e),nc(5,t,n)}}function b2(t,n,e,i){const r=e[i]<0,o=e[i+1],a=t[r?-e[i]:e[i]];r?t[Gn]>>14<t[$h]>>16&&(3&t[Gn])===n&&(t[Gn]+=16384,kv(a,o)):kv(a,o)}const Cd=-1;class xd{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Fv(t){return t!==Cd}function Vp(t){return 32767&t}function jp(t,n){let e=function Tv(t){return t>>16}(t),i=n;for(;e>0;)i=i[Wh],e--;return i}let Lv=!0;function Hm(t){const n=Lv;return Lv=t,n}const C2=255,zm=5;let Nv=0;const lc={};function Vm(t,n){const e=x2(t,n);if(-1!==e)return e;const i=n[an];i.firstCreatePass&&(t.injectorIndex=n.length,jm(i.data,t),jm(n,null),jm(i.blueprint,null));const r=Gm(t,n),o=t.injectorIndex;if(Fv(r)){const s=Vp(r),a=jp(r,n),l=a[an].data;for(let u=0;u<8;u++)n[o+u]=a[s+u]|l[s+u]}return n[o+8]=r,o}function jm(t,n){t.push(0,0,0,0,0,0,0,0,n)}function x2(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Gm(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;null!==r;){if(i=S2(r),null===i)return Cd;if(e++,r=r[Wh],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Cd}function Rv(t,n,e){!function xM(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(aA)&&(i=e[aA]),null==i&&(i=e[aA]=Nv++);const r=i&C2;n.data[t+(r>>zm)]|=1<<r}(t,n,e)}function M2(t,n,e){if(e&Hi.Optional||void 0!==t)return t;Th()}function Km(t,n,e,i){if(e&Hi.Optional&&void 0===i&&(i=null),!(e&(Hi.Self|Hi.Host))){const r=t[jo],o=Ns(void 0);try{return r?r.get(n,i,e&Hi.Optional):pp(n,i,e&Hi.Optional)}finally{Ns(o)}}return M2(i,0,e)}function B2(t,n,e,i=Hi.Default,r){if(null!==t){if(2048&n[Gn]&&!(i&Hi.Self)){const s=function qm(t,n,e,i,r){let o=t,s=n;for(;null!==o&&null!==s&&2048&s[Gn]&&!(512&s[Gn]);){const a=Wm(o,s,e,i|Hi.Self,lc);if(a!==lc)return a;let l=o.parent;if(!l){const u=s[e2];if(u){const d=u.get(e,lc,i);if(d!==lc)return d}l=S2(s),s=s[Wh]}o=l}return r}(t,n,e,i,lc);if(s!==lc)return s}const o=Wm(t,n,e,i,lc);if(o!==lc)return o}return Km(n,e,i,r)}function Wm(t,n,e,i,r){const o=function $m(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(aA)?t[aA]:void 0;return"number"==typeof n?n>=0?n&C2:DM:n}(e);if("function"==typeof o){if(!Fm(n,t,i))return i&Hi.Host?M2(r,0,i):Km(n,e,i,r);try{let s;if(s=o(i),null!=s||i&Hi.Optional)return s;Th()}finally{Pv()}}else if("number"==typeof o){let s=null,a=x2(t,n),l=Cd,u=i&Hi.Host?n[Fi][ra]:null;for((-1===a||i&Hi.SkipSelf)&&(l=-1===a?Gm(t,n):n[a+8],l!==Cd&&D2(i,!1)?(s=n[an],a=Vp(l),n=jp(l,n)):a=-1);-1!==a;){const d=n[an];if(sl(o,a,d.data)){const g=BM(a,n,e,s,i,u);if(g!==lc)return g}l=n[a+8],l!==Cd&&D2(i,n[an].data[a+8]===u)&&sl(o,a,n)?(s=d,a=Vp(l),n=jp(l,n)):a=-1}}return r}function BM(t,n,e,i,r,o){const s=n[an],a=s.data[t+8],d=hn(a,s,e,null==i?dA(a)&&Lv:i!=s&&!!(3&a.type),r&Hi.Host&&o===a);return null!==d?kl(n,s,d,a):lc}function hn(t,n,e,i,r){const o=t.providerIndexes,s=n.data,a=1048575&o,l=t.directiveStart,d=o>>20,y=r?a+d:t.directiveEnd;for(let m=i?a:a+d;m<y;m++){const B=s[m];if(m<l&&e===B||m>=l&&B.type===e)return m}if(r){const m=s[l];if(m&&La(m)&&m.type===e)return l}return null}function kl(t,n,e,i){let r=t[e];const o=n.data;if(function zp(t){return t instanceof xd}(r)){const s=r;s.resolving&&function nv(t,n){throw n&&n.join(" > "),new mt(-200,t)}(function er(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ii(t)}(o[e]));const a=Hm(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Ns(s.injectImpl):null;Fm(t,i,Hi.Default);try{r=t[e]=s.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&function bd(t,n,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const s=pv(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}(e,o[e],n)}finally{null!==u&&Ns(u),Hm(a),s.resolving=!1,Pv()}}return r}function sl(t,n,e){return!!(e[n+(t>>zm)]&1<<t)}function D2(t,n){return!(t&Hi.Self||t&Hi.Host&&n)}class Po{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return B2(this._tNode,this._lView,n,Nh(i),e)}}function DM(){return new Po(br(),Et())}function Qo(t){return Cl(()=>{const n=t.prototype.constructor,e=n[Ml]||Uv(n),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const o=r[Ml]||Uv(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Uv(t){return Ci(t)?()=>{const n=Uv(Rn(t));return n&&n()}:zo(t)}function S2(t){const n=t[an],e=n.type;return 2===e?n.declTNode:1===e?t[ra]:null}function al(t,n=null,e=null,i){const r=Vv(t,n,e,i);return r.resolveInjectorInitializers(),r}function Vv(t,n=null,e=null,i,r=new Set){const o=[e||zi,C(t)];return i=i||("object"==typeof t?void 0:Yn(t)),new Nc(o,n||zh(),i||null,r)}let Ms=(()=>{class t{static{this.THROW_IF_NOT_FOUND=uu}static{this.NULL=new Rs}static create(e,i){if(Array.isArray(e))return al({name:""},i,e,"");{const r=e.name??"";return al({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=tn({token:t,providedIn:"any",factory:()=>cn(Ad)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function pA(t){return t.ngOriginalError}class ll{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&pA(n);for(;e&&pA(e);)e=pA(e);return e||null}}const R2=new nn("",{providedIn:"root",factory:()=>Mt(ll).handleError.bind(void 0)});let cc=(()=>{class t{static{this.__NG_ELEMENT_ID__=IM}static{this.__NG_ENV_ID__=e=>e}}return t})();class PM extends cc{constructor(n){super(),this._lView=n}onDestroy(n){return Em(this._lView,n),()=>function Pm(t,n){if(null===t[_u])return;const e=t[_u].indexOf(n);-1!==e&&t[_u].splice(e,1)}(this._lView,n)}}function IM(){return new PM(Et())}function kM(){return Xh(br(),Et())}function Xh(t,n){return new cl(ga(t,n))}let cl=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=kM}}return t})();function U2(t){return t instanceof cl?t.nativeElement:t}function Gv(t){return n=>{setTimeout(t,void 0,n)}}const Io=class FM extends Pa{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,ym()&&(this.destroyRef=Mt(cc,{optional:!0})??void 0)}emit(n){const e=Pe(null);try{super.next(n)}finally{Pe(e)}}subscribe(n,e,i){let r=n,o=e||(()=>null),s=i;if(n&&"object"==typeof n){const l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Gv(o),r&&(r=Gv(r)),s&&(s=Gv(s)));const a=super.subscribe({next:r,error:o,complete:s});return n instanceof We&&n.add(a),a}};function TM(){return this._results[Symbol.iterator]()}class Kv{get changes(){return this._changes??=new Io}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=Kv.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=TM)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;const i=function Di(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function uA(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function x(t){return!(128&~t.flags)}const O=new Map;let U=0;const on="__ngContext__";function sn(t,n){Cs(n)?(t[on]=n[Op],function le(t){O.set(t[Op],t)}(n)):t[on]=n}function Tr(t){return xu(t[Pp])}function Bs(t){return xu(t[ec])}function xu(t){for(;null!==t&&!ro(t);)t=t[ec];return t}let NM;const Q2=new nn("",{providedIn:"root",factory:()=>bV}),bV="ng",nI=new nn(""),tf=new nn("",{providedIn:"platform",factory:()=>"unknown"}),iI=new nn(""),rI=new nn("",{providedIn:"root",factory:()=>function ef(){if(void 0!==NM)return NM;if(typeof document<"u")return document;throw new mt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let oI=()=>null;function GM(t,n,e=!1){return oI(t,n,e)}const uI=new nn("",{providedIn:"root",factory:()=>!1});let $2;function fI(t){return function ZM(){if(void 0===$2&&($2=null,qi.trustedTypes))try{$2=qi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $2}()?.createScriptURL(t)||t}class pI{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xh})`}}function nf(t){return t instanceof pI?t.changingThisBreaksApplicationSecurity:t}function Yv(t,n){const e=function QV(t){return t instanceof pI&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${xh})`)}return e===n}const jV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var t0=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(t0||{});function n0(t){const n=Jv();return n?n.sanitize(t0.URL,t)||"":Yv(t,"URL")?nf(t):function YM(t){return(t=String(t)).match(jV)?t:"unsafe:"+t}(ii(t))}function xI(t){const n=Jv();if(n)return fI(n.sanitize(t0.RESOURCE_URL,t)||"");if(Yv(t,"ResourceURL"))return fI(nf(t));throw new mt(904,!1)}function Jv(){const t=Et();return t&&t[tc].sanitizer}const sj=/^>|^->|<!--|-->|--!>|<!-$/g,aj=/(<|>)/g,lj="\u200b$1\u200b";function Ac(t){return t instanceof Function?t():t}var rf=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(rf||{});let rB;function oB(t,n){return rB(t,n)}function o0(t,n,e,i,r){if(null!=i){let o,s=!1;ro(i)?o=i:Cs(i)&&(s=!0,i=i[co]);const a=Gi(i);0===t&&null!==e?null==r?NI(n,e,a):$p(n,e,a,r||null,!0):1===t&&null!==e?$p(n,e,a,r||null,!0):2===t?function n_(t,n,e){const i=ew(t,n);i&&function Dj(t,n,e,i){t.removeChild(n,e,i)}(t,i,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=o&&function Pj(t,n,e,i,r){const o=e[Rc];o!==Gi(e)&&o0(n,t,i,o,r);for(let a=Uo;a<e.length;a++){const l=e[a];nw(l[an],l,t,n,i,o)}}(n,t,o,e,r)}}function aB(t,n){return t.createComment(function BI(t){return t.replace(sj,n=>n.replace(aj,lj))}(n))}function X2(t,n,e){return t.createElement(n,e)}function FI(t,n){n[tc].changeDetectionScheduler?.notify(1),nw(t,n,n[ci],2,null,null)}function TI(t,n){const e=t[fn],i=e.indexOf(n);e.splice(i,1)}function e_(t,n){if(t.length<=Uo)return;const e=Uo+n,i=t[e];if(i){const r=i[Ip];null!==r&&r!==t&&TI(r,i),n>0&&(t[e-1][ec]=i[ec]);const o=Fc(t,Uo+n);!function yj(t,n){FI(t,n),n[co]=null,n[ra]=null}(i[an],i);const s=o[vu];null!==s&&s.detachView(o[an]),i[uo]=null,i[ec]=null,i[Gn]&=-129}return i}function J2(t,n){if(!(256&n[Gn])){const e=n[ci];e.destroyNode&&nw(t,n,e,3,null,null),function wj(t){let n=t[Pp];if(!n)return lB(t[an],t);for(;n;){let e=null;if(Cs(n))e=n[Pp];else{const i=n[Uo];i&&(e=i)}if(!e){for(;n&&!n[ec]&&n!==t;)Cs(n)&&lB(n[an],n),n=n[uo];null===n&&(n=t),Cs(n)&&lB(n[an],n),e=n&&n[ec]}n=e}}(n)}}function lB(t,n){if(256&n[Gn])return;const e=Pe(null);try{n[Gn]&=-129,n[Gn]|=256,n[md]&&function Zt(t){if(Oe(t),Nn(t))for(let n=0;n<t.producerNode.length;n++)en(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[md]),function Bj(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const r=n[e[i]];if(!(r instanceof xd)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];nc(4,a,l);try{l.call(a)}finally{nc(5,a,l)}}else{nc(4,r,o);try{o.call(r)}finally{nc(5,r,o)}}}}}(t,n),function Mj(t,n){const e=t.cleanup,i=n[Kh];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(n[Kh]=null);const r=n[_u];if(null!==r){n[_u]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(t,n),1===n[an].type&&n[ci].destroy();const i=n[Ip];if(null!==i&&ro(n[uo])){i!==n[uo]&&TI(i,n);const r=n[vu];null!==r&&r.detachView(t)}!function je(t){O.delete(t[Op])}(n)}finally{Pe(e)}}function cB(t,n,e){return function LI(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[co];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=t.data[i.directiveStart+r];if(o===Oa.None||o===Oa.Emulated)return null}return ga(i,e)}}(t,n.parent,e)}function $p(t,n,e,i,r){t.insertBefore(n,e,i,r)}function NI(t,n,e){t.appendChild(n,e)}function RI(t,n,e,i,r){null!==i?$p(t,n,e,i,r):NI(t,n,e)}function ew(t,n){return t.parentNode(n)}let uB,HI=function QI(t,n,e){return 40&t.type?ga(t,e):null};function tw(t,n,e,i){const r=cB(t,i,n),o=n[ci],a=function UI(t,n,e){return HI(t,n,e)}(i.parent||n[ra],i,n);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)RI(o,r,e[l],a,!1);else RI(o,r,e,a,!1);void 0!==uB&&uB(o,i,n,e,r)}function t_(t,n){if(null!==n){const e=n.type;if(3&e)return ga(n,t);if(4&e)return AB(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return t_(t,i);{const r=t[n.index];return ro(r)?AB(-1,r):Gi(r)}}if(32&e)return oB(n,t)()||Gi(t[n.index]);{const i=VI(t,n);return null!==i?Array.isArray(i)?i[0]:t_(bu(t[Fi]),i):t_(t,n.next)}}return null}function VI(t,n){return null!==n?t[Fi][ra].projection[n.projection]:null}function AB(t,n){const e=Uo+t+1;if(e<n.length){const i=n[e],r=i[an].firstChild;if(null!==r)return t_(i,r)}return n[Rc]}function dB(t,n,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===n&&(a&&sn(Gi(a),i),e.flags|=2),32&~e.flags)if(8&l)dB(t,n,e.child,i,r,o,!1),o0(n,t,r,a,o);else if(32&l){const u=oB(e,i);let d;for(;d=u();)o0(n,t,r,d,o);o0(n,t,r,a,o)}else 16&l?GI(t,n,i,e,r,o):o0(n,t,r,a,o);e=s?e.projectionNext:e.next}}function nw(t,n,e,i,r,o){dB(e,i,t.firstChild,n,r,o,!1)}function GI(t,n,e,i,r,o){const s=e[Fi],l=s[ra].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)o0(n,t,r,l[u],o);else{let u=l;const d=s[uo];x(i)&&(u.flags|=128),dB(t,n,u,d,r,o,!0)}}function KI(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function WI(t,n,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&yp(t,n,i),null!==r&&KI(t,n,r),null!==o&&function Oj(t,n,e){t.setAttribute(n,"style",e)}(t,n,o)}const Ii={};function S(t=1){$I(tr(),Et(),rs()+t,!1)}function $I(t,n,e,i){if(!i)if(3&~n[Gn]){const o=t.preOrderHooks;null!==o&&ac(n,o,0,e)}else{const o=t.preOrderCheckHooks;null!==o&&sc(n,o,e)}fA(e)}function wt(t,n=Hi.Default){const e=Et();return null===e?cn(t,n):B2(br(),e,Rn(t),n)}function ZI(t,n,e,i,r,o){const s=Pe(null);try{let a=null;r&Ir.SignalBased&&(a=n[i][xe]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&Ir.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(n,o)),null!==t.setInput?t.setInput(n,a,o,e,i):Mm(n,a,i,o)}finally{Pe(s)}}function iw(t,n,e,i,r,o,s,a,l,u,d){const g=n.blueprint.slice();return g[co]=r,g[Gn]=204|i,(null!==u||t&&2048&t[Gn])&&(g[Gn]|=2048),l2(g),g[uo]=g[Wh]=t,g[to]=e,g[tc]=s||t&&t[tc],g[ci]=a||t&&t[ci],g[jo]=l||t&&t[jo]||null,g[ra]=o,g[Op]=function K(){return U++}(),g[Ta]=d,g[e2]=u,g[Fi]=2==n.type?t[Fi]:g,g}function s0(t,n,e,i,r){let o=t.data[n];if(null===o)o=function hB(t,n,e,i,r){const o=Up(),s=Hp(),l=t.data[n]=function Qj(t,n,e,i,r,o){let s=n?n.injectorIndex:-1,a=0;return function Zh(){return null!==ui.skipHydrationRootTNode}()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,n,i,r);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,n,e,i,r),function m2(){return ui.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function Qp(){const t=ui.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return rc(o,!0),o}function i_(t,n,e,i){if(0===e)return-1;const r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function YI(t,n,e,i,r){const o=rs(),s=2&i;try{fA(-1),s&&n.length>xi&&$I(t,n,xi,!1),nc(s?2:0,r),e(i,r)}finally{fA(o),nc(s?3:1,r)}}function fB(t,n,e){if(uv(n)){const i=Pe(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{Pe(i)}}}function pB(t,n,e){u2()&&(function Wj(t,n,e,i){const r=e.directiveStart,o=e.directiveEnd;dA(e)&&function eG(t,n,e){const i=ga(n,t),r=XI(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=rw(t,iw(t,r,null,s,i,n,null,t[tc].rendererFactory.createRenderer(i,e),null,null,null));t[n.index]=a}(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||Vm(e,n),sn(i,n);const s=e.initialInputs;for(let a=r;a<o;a++){const l=t.data[a],u=kl(n,t,a,e);sn(u,n),null!==s&&tG(0,a-r,u,l,0,s),La(l)&&(ol(e.index,n)[to]=kl(n,t,a,e))}}(t,n,e,ga(e,n)),!(64&~e.flags)&&iO(t,n,e))}function gB(t,n,e=ga){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(n,t):t[s];t[r++]=a}}}function XI(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=mB(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function mB(t,n,e,i,r,o,s,a,l,u,d){const g=xi+i,y=g+r,m=function Fj(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:Ii);return e}(g,y),B="function"==typeof u?u():u;return m[an]={type:t,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:n,data:m.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:B,incompleteFirstPass:!1,ssrId:d}}let JI=()=>null;function eO(t,n,e,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;const s=n[o];if(void 0===s)continue;i??={};let a,l=Ir.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(null!==r){if(!r.hasOwnProperty(o))continue;u=r[o]}0===t?tO(i,e,u,a,l):tO(i,e,u,a)}return i}function tO(t,n,e,i,r){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,i):o=t[e]=[n,i],void 0!==r&&o.push(r)}function Fl(t,n,e,i,r,o,s,a){const l=ga(n,e);let d,u=n.inputs;!a&&null!=u&&(d=u[i])?(wB(t,e,d,i,r),dA(n)&&function Vj(t,n){const e=ol(n,t);16&e[Gn]||(e[Gn]|=64)}(e,n.index)):3&n.type&&(i=function zj(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=s?s(r,n.value||"",i):r,o.setProperty(l,i,r))}function vB(t,n,e,i){if(u2()){const r=null===i?null:{"":-1},o=function qj(t,n){const e=t.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(gu(n,s.selectors,!1))if(i||(i=[]),La(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),_B(t,n,a.length)}else i.unshift(s),_B(t,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(t,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&nO(t,n,e,s,r,a),r&&function Zj(t,n,e){if(n){const i=t.localNames=[];for(let r=0;r<n.length;r+=2){const o=e[n[r+1]];if(null==o)throw new mt(-301,!1);i.push(n[r],o)}}}(e,i,r)}e.mergedAttrs=fu(e.mergedAttrs,e.attrs)}function nO(t,n,e,i,r,o){for(let u=0;u<i.length;u++)Rv(Vm(e,n),t,i[u].type);!function Xj(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,i.length);for(let u=0;u<i.length;u++){const d=i[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=i_(t,n,i.length,null);for(let u=0;u<i.length;u++){const d=i[u];e.mergedAttrs=fu(e.mergedAttrs,d.hostAttrs),Jj(t,e,n,l,d),Yj(l,d,r),null!==d.contentQueries&&(e.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=64);const g=d.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function Hj(t,n,e){const r=n.directiveEnd,o=t.data,s=n.attrs,a=[];let l=null,u=null;for(let d=n.directiveStart;d<r;d++){const g=o[d],y=e?e.get(g):null,B=y?y.outputs:null;l=eO(0,g.inputs,d,l,y?y.inputs:null),u=eO(1,g.outputs,d,u,B);const D=null===l||null===s||wp(n)?null:nG(l,d,s);a.push(D)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=u}(t,e,o)}function iO(t,n,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function Om(){return ui.lFrame.currentDirectiveIndex}();try{fA(o);for(let a=i;a<r;a++){const l=t.data[a],u=n[a];Mv(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&$j(l,u)}}finally{fA(-1),Mv(s)}}function $j(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function _B(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function Yj(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;La(n)&&(e[""]=t)}}function Jj(t,n,e,i,r){t.data[i]=r;const o=r.factory||(r.factory=zo(r.type)),s=new xd(o,La(r),wt);t.blueprint[i]=s,e[i]=s,function Gj(t,n,e,i,r){const o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~n.index;(function Kj(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(t,n,i,i_(t,e,r.hostVars,Ii),r)}function mA(t,n,e,i,r,o){const s=ga(t,n);!function yB(t,n,e,i,r,o,s){if(null==o)t.removeAttribute(n,r,e);else{const a=null==s?ii(o):s(o,i||"",r);t.setAttribute(n,r,a,e)}}(n[ci],s,o,t.value,e,i,r)}function tG(t,n,e,i,r,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)ZI(i,e,s[a++],s[a++],s[a++],s[a++])}function nG(t,n,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===i&&(i=[]);const s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){i.push(o,s[a+1],s[a+2],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function rO(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function oO(t,n){const e=t.contentQueries;if(null!==e){const i=Pe(null);try{for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const a=t.data[s];km(e[r]),a.contentQueries(2,n[s],s)}}}finally{Pe(i)}}}function rw(t,n){return t[Pp]?t[Jb][ec]=n:t[Pp]=n,t[Jb]=n,n}function bB(t,n,e){km(0);const i=Pe(null);try{n(t,e)}finally{Pe(i)}}function sO(t){return t[Kh]||(t[Kh]=[])}function aO(t){return t.cleanup||(t.cleanup=[])}function ow(t,n){const e=t[jo],i=e?e.get(ll,null):null;i&&i.handleError(n)}function wB(t,n,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=e[o++];ZI(t.data[s],n[s],i,a,l,r)}}function Ed(t,n,e){const i=Lp(n,t);!function kI(t,n,e){t.setValue(n,e)}(t[ci],i,e)}function iG(t,n){const e=ol(n,t),i=e[an];!function rG(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(i,e);const r=e[co];null!==r&&null===e[Ta]&&(e[Ta]=GM(r,e[jo])),CB(i,e,e[to])}function CB(t,n,e){Tm(n);try{const i=t.viewQuery;null!==i&&bB(1,i,e);const r=t.template;null!==r&&YI(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[vu]?.finishViewCreation(t),t.staticContentQueries&&oO(t,n),t.staticViewQueries&&bB(2,t.viewQuery,e);const o=t.components;null!==o&&function oG(t,n){for(let e=0;e<n.length;e++)iG(t,n[e])}(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[Gn]&=-5,Iv()}}function a0(t,n){return!n||null===n.firstChild||x(t)}function o_(t,n,e,i=!0){const r=n[an];if(function Cj(t,n,e,i){const r=Uo+i,o=e.length;i>0&&(e[r-1][ec]=n),i<o-Uo?(n[ec]=e[r],El(e,Uo+i,n)):(e.push(n),n[ec]=null),n[uo]=e;const s=n[Ip];null!==s&&e!==s&&function xj(t,n){const e=t[fn];n[Fi]!==n[uo][uo][Fi]&&(t[Gn]|=cv.HasTransplantedViews),null===e?t[fn]=[n]:e.push(n)}(s,n);const a=n[vu];null!==a&&a.insertView(t),vd(n),n[Gn]|=128}(r,n,t,e),i){const s=AB(e,t),a=n[ci],l=ew(a,t[Rc]);null!==l&&function bj(t,n,e,i,r,o){i[co]=r,i[ra]=n,nw(t,i,e,1,r,o)}(r,t[ra],a,n,l,s)}const o=n[Ta];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function s_(t,n,e,i,r=!1){for(;null!==e;){const o=n[e.index];null!==o&&i.push(Gi(o)),ro(o)&&uO(o,i);const s=e.type;if(8&s)s_(t,n,e.child,i);else if(32&s){const a=oB(e,n);let l;for(;l=a();)i.push(l)}else if(16&s){const a=VI(n,e);if(Array.isArray(a))i.push(...a);else{const l=bu(n[Fi]);s_(l[an],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function uO(t,n){for(let e=Uo;e<t.length;e++){const i=t[e],r=i[an].firstChild;null!==r&&s_(i[an],i,r,n)}t[Rc]!==t[co]&&n.push(t[Rc])}let AO=[];const cG={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Rp(t.lView)},consumerOnSignalRead(){this.lView[md]=this}},dO=100;function sw(t,n=!0,e=0){const i=t[tc],r=i.rendererFactory;r.begin?.();try{!function uG(t,n){MB(t,n);let e=0;for(;is(t);){if(e===dO)throw new mt(103,!1);e++,MB(t,1)}}(t,e)}catch(s){throw n&&ow(t,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function AG(t,n,e,i){const r=n[Gn];if(!(256&~r))return;n[tc].inlineEffectRunner?.flush(),Tm(n);let s=null,a=null;(function dG(t){return 2!==t.type})(t)&&(a=function sG(t){return t[md]??function aG(t){const n=AO.pop()??Object.create(cG);return n.lView=t,n}(t)}(n),s=function At(t){return t&&(t.nextProducerIndex=0),Pe(t)}(a));try{l2(n),function Cv(t){return ui.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&YI(t,n,e,2,i);const l=!(3&~r);if(l){const g=t.preOrderCheckHooks;null!==g&&sc(n,g,null)}else{const g=t.preOrderHooks;null!==g&&ac(n,g,0,null),wd(n,0)}if(function hG(t){for(let n=Tr(t);null!==n;n=Bs(n)){if(!(n[Gn]&cv.HasTransplantedViews))continue;const e=n[fn];for(let i=0;i<e.length;i++){yv(e[i])}}}(n),hO(n,0),null!==t.contentQueries&&oO(t,n),l){const g=t.contentCheckHooks;null!==g&&sc(n,g)}else{const g=t.contentHooks;null!==g&&ac(n,g,1),wd(n,1)}!function kj(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)fA(~r);else{const o=r,s=e[++i],a=e[++i];xv(s,o),a(2,n[o])}}}finally{fA(-1)}}(t,n);const u=t.components;null!==u&&pO(n,u,0);const d=t.viewQuery;if(null!==d&&bB(2,d,i),l){const g=t.viewCheckHooks;null!==g&&sc(n,g)}else{const g=t.viewHooks;null!==g&&ac(n,g,2),wd(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Cm]){for(const g of n[Cm])g();n[Cm]=null}n[Gn]&=-73}catch(l){throw Rp(n),l}finally{null!==a&&(function Lt(t,n){if(Pe(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Nn(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)en(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(a,s),function lG(t){t.lView[md]!==t&&(t.lView=null,AO.push(t))}(a)),Iv()}}function hO(t,n){for(let e=Tr(t);null!==e;e=Bs(e))for(let i=Uo;i<e.length;i++)fO(e[i],n)}function fG(t,n,e){fO(ol(n,t),e)}function fO(t,n){_v(t)&&MB(t,n)}function MB(t,n){const i=t[an],r=t[Gn],o=t[md];let s=!!(0===n&&16&r);if(s||=!!(64&r&&0===n),s||=!!(1024&r),s||=!(!o?.dirty||!It(o)),o&&(o.dirty=!1),t[Gn]&=-9217,s)AG(i,t,i.template,t[to]);else if(8192&r){hO(t,1);const a=i.components;null!==a&&pO(t,a,1)}}function pO(t,n,e){for(let i=0;i<n.length;i++)fG(t,n[i],e)}function a_(t){for(t[tc].changeDetectionScheduler?.notify();t;){t[Gn]|=64;const n=bu(t);if(Av(t)&&!n)return t;t=n}return null}class l_{get rootNodes(){const n=this._lView,e=n[an];return s_(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[to]}set context(n){this._lView[to]=n}get destroyed(){return!(256&~this._lView[Gn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[uo];if(ro(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(e_(n,i),Fc(e,i))}this._attachedToViewContainer=!1}J2(this._lView[an],this._lView)}onDestroy(n){Em(this._lView,n)}markForCheck(){a_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Gn]&=-129}reattach(){vd(this._lView),this._lView[Gn]|=128}detectChanges(){this._lView[Gn]|=1024,sw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new mt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,FI(this._lView[an],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new mt(902,!1);this._appRef=n,vd(this._lView)}}let Pd=(()=>{class t{static{this.__NG_ELEMENT_ID__=mG}}return t})();const pG=Pd,gG=class extends pG{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){const r=function r_(t,n,e,i){const r=Pe(null);try{const o=n.tView,l=iw(t,o,e,4096&t[Gn]?4096:16,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);l[Ip]=t[n.index];const d=t[vu];return null!==d&&(l[vu]=d.createEmbeddedView(o)),CB(o,l,e),l}finally{Pe(r)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new l_(r)}};function mG(){return aw(br(),Et())}function aw(t,n){return 4&t.type?new gG(n,t,Xh(t,n)):null}class dw{}class HG{}class wO{}class VG{resolveComponentFactory(n){throw function zG(t){const n=Error(`No component factory found for ${Yn(t)}.`);return n.ngComponent=t,n}(n)}}let hw=(()=>{class t{static{this.NULL=new VG}}return t})();class IB{}let Id=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function jG(){const t=Et(),e=ol(br().index,t);return(Cs(e)?e:t)[ci]}()}}return t})(),GG=(()=>{class t{static{this.\u0275prov=tn({token:t,providedIn:"root",factory:()=>null})}}return t})();const OB={},xO=new Set;function vA(t){xO.has(t)||(xO.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function MO(...t){}class Cr{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Io(!1),this.onMicrotaskEmpty=new Io(!1),this.onStable=new Io(!1),this.onError=new Io(!1),typeof Zone>"u")throw new mt(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function KG(){const t="function"==typeof qi.requestAnimationFrame;let n=qi[t?"requestAnimationFrame":"setTimeout"],e=qi[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function qG(t){const n=()=>{!function $G(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(qi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,FB(t),t.isCheckStableRunning=!0,kB(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),FB(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(function ZG(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return BO(t),e.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),DO(t)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return BO(t),e.invoke(r,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&n(),DO(t)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,FB(t),kB(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cr.isInAngularZone())throw new mt(909,!1)}static assertNotInAngularZone(){if(Cr.isInAngularZone())throw new mt(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,WG,MO,MO);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const WG={};function kB(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function FB(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function BO(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function DO(t){t._nesting--,kB(t)}class SO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Io,this.onMicrotaskEmpty=new Io,this.onStable=new Io,this.onError=new Io}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}}var qp=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(qp||{});const EO={destroy(){}};function LB(t,n){!n&&function bm(t){if(!ym())throw new mt(-203,!1)}();const e=n?.injector??Mt(Ms);if(!function Du(t){return"browser"===(t??Mt(Ms)).get(tf)}(e))return EO;vA("NgAfterNextRender");const i=e.get(h_),r=i.handler??=new IO,o=n?.phase??qp.MixedReadWrite,s=()=>{r.unregister(l),a()},a=e.get(cc).onDestroy(s),l=rl(e,()=>new PO(o,()=>{s(),t()}));return r.register(l),{destroy:s}}class PO{constructor(n,e){this.phase=n,this.callbackFn=e,this.zone=Mt(Cr),this.errorHandler=Mt(ll,{optional:!0}),Mt(dw,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class IO{constructor(){this.executingCallbacks=!1,this.buckets={[qp.EarlyRead]:new Set,[qp.Write]:new Set,[qp.MixedReadWrite]:new Set,[qp.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const e of n)e.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let h_=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of e)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=tn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function pw(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?r=jr(r,a):2==o&&(i=jr(i,a+": "+n[++s]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}class FO extends hw{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=mi(n);return new g_(e,this.ngModule)}}function TO(t){const n=[];for(const e in t){if(!t.hasOwnProperty(e))continue;const i=t[e];void 0!==i&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:e})}return n}class gw{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=Nh(i);const r=this.injector.get(n,OB,i);return r!==OB||e===OB?r:this.parentInjector.get(n,e,i)}}class g_ extends wO{get inputs(){const n=this.componentDef,e=n.inputTransforms,i=TO(n.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return TO(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function mm(t){return t.map(Xl).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){const o=Pe(null);try{let s=(r=r||this.ngModule)instanceof Hs?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new gw(n,s):n,l=a.get(IB,null);if(null===l)throw new mt(407,!1);const u=a.get(GG,null),y={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:a.get(h_,null),changeDetectionScheduler:a.get(dw,null)},m=l.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",D=i?function Tj(t,n,e,i){const o=i.get(uI,!1)||e===Oa.ShadowDom,s=t.selectRootElement(n,o);return function Lj(t){JI(t)}(s),s}(m,i,this.componentDef.encapsulation,a):X2(m,B,function tK(t){const n=t.toLowerCase();return"svg"===n?vv:"math"===n?"math":null}(B));let I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);let F=null;null!==D&&(F=GM(D,a,!0));const R=mB(0,null,null,1,0,null,null,null,null,null,null),H=iw(null,R,null,I,null,null,y,m,a,null,F);let z,ie;Tm(H);try{const be=this.componentDef;let Be,se=null;be.findHostDirectiveDefs?(Be=[],se=new Map,be.findHostDirectiveDefs(be,Be,se),Be.push(be)):Be=[be];const te=function iK(t,n){const e=t[an],i=xi;return t[i]=n,s0(e,i,2,"#host",null)}(H,D),Re=function rK(t,n,e,i,r,o,s){const a=r[an];!function oK(t,n,e,i){for(const r of t)n.mergedAttrs=fu(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(pw(n,n.mergedAttrs,!0),null!==e&&WI(i,e,n))}(i,t,n,s);let l=null;null!==n&&(l=GM(n,r[jo]));const u=o.rendererFactory.createRenderer(n,e);let d=16;e.signals?d=4096:e.onPush&&(d=64);const g=iw(r,XI(e),null,d,r[t.index],t,o,u,null,null,l);return a.firstCreatePass&&_B(a,t,i.length-1),rw(r,g),r[t.index]=g}(te,D,be,Be,H,y,m);ie=Np(R,xi),D&&function aK(t,n,e,i){if(i)yp(t,e,["ng-version","17.3.12"]);else{const{attrs:r,classes:o}=function Uh(t){const n=[],e=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&n.push(o,t[++i]):8===r&&e.push(o);else{if(!fa(r))break;r=o}i++}return{attrs:n,classes:e}}(n.selectors[0]);r&&yp(t,e,r),o&&o.length>0&&KI(t,e,o.join(" "))}}(m,be,D,i),void 0!==e&&function lK(t,n,e){const i=t.projection=[];for(let r=0;r<n.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(ie,this.ngContentSelectors,e),z=function sK(t,n,e,i,r,o){const s=br(),a=r[an],l=ga(s,r);nO(a,r,s,e,null,i);for(let d=0;d<e.length;d++)sn(kl(r,a,s.directiveStart+d,s),r);iO(a,r,s),l&&sn(l,r);const u=kl(r,a,s.directiveStart+s.componentOffset,s);if(t[to]=r[to]=u,null!==o)for(const d of o)d(u,n);return fB(a,s,r),u}(Re,be,Be,se,H,[cK]),CB(R,H,null)}finally{Iv()}return new nK(this.componentType,z,Xh(ie,H),H,ie)}finally{Pe(o)}}}class nK extends HG{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new l_(r,void 0,!1),this.componentType=n}setInput(n,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const o=this._rootLView;wB(o[an],o,r,n,e),this.previousInputValues.set(n,e),a_(ol(this._tNode.index,o))}}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function cK(){const t=br();Cu(Et()[an],t)}let Su=(()=>{class t{static{this.__NG_ELEMENT_ID__=uK}}return t})();function uK(){return RO(br(),Et())}const AK=Su,LO=class extends AK{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Xh(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){const n=Gm(this._hostTNode,this._hostLView);if(Fv(n)){const e=jp(n,this._hostLView),i=Vp(n);return new Po(e[an].data[i+8],e)}return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=NO(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-Uo}createEmbeddedView(n,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=n.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,a0(this._hostTNode,null)),a}createComponent(n,e,i,r,o){const s=n&&!function Sp(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const B=e||{};a=B.index,i=B.injector,r=B.projectableNodes,o=B.environmentInjector||B.ngModuleRef}const l=s?n:new g_(mi(n)),u=i||this.parentInjector;if(!o&&null==l.ngModule){const D=(s?u:this.parentInjector).get(Hs,null);D&&(o=D)}mi(l.componentType??{});const m=l.create(u,r,null,o);return this.insertImpl(m.hostView,a,a0(this._hostTNode,null)),m}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){const r=n._lView;if(function mM(t){return ro(t[uo])}(r)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const l=r[uo],u=new LO(l,l[ra],l[uo]);u.detach(u.indexOf(n))}}const o=this._adjustIndex(e),s=this._lContainer;return o_(s,r,o,i),n.attachToViewContainerRef(),El(UB(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=NO(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=e_(this._lContainer,e);i&&(Fc(UB(this._lContainer),e),J2(i[an],i))}detach(n){const e=this._adjustIndex(n,-1),i=e_(this._lContainer,e);return i&&null!=Fc(UB(this._lContainer),e)?new l_(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function NO(t){return t[8]}function UB(t){return t[8]||(t[8]=[])}function RO(t,n){let e;const i=n[t.index];return ro(i)?e=i:(e=rO(i,n,null,t),n[t.index]=e,rw(n,e)),UO(e,n,t,i),new LO(e,t,n)}let UO=function HO(t,n,e,i){if(t[Rc])return;let r;r=8&e.type?Gi(i):function dK(t,n){const e=t[ci],i=e.createComment(""),r=ga(n,t);return $p(e,ew(e,r),i,function Sj(t,n){return t.nextSibling(n)}(e,r),!1),i}(n,e),t[Rc]=r},QB=()=>!1;class HB{constructor(n){this.queryList=n,this.matches=null}clone(){return new HB(this.queryList)}setDirty(){this.queryList.setDirty()}}class zB{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new zB(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==WB(n,e).matches&&this.queries[e].setDirty()}}class zO{constructor(n,e,i=null){this.flags=e,this.read=i,this.predicate="string"==typeof n?function yK(t){return t.split(",").map(n=>n.trim())}(n):n}}class VB{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new VB(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class jB{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new jB(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(n,e,gK(e,o)),this.matchTNodeWithReadOption(n,e,hn(e,n,o,!1,!1))}else i===Pd?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,hn(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===cl||r===Su||r===Pd&&4&e.type)this.addMatch(e.index,-2);else{const o=hn(e,n,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function gK(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function vK(t,n,e,i){return-1===e?function mK(t,n){return 11&t.type?Xh(t,n):4&t.type?aw(t,n):null}(n,t):-2===e?function _K(t,n,e){return e===cl?Xh(n,t):e===Pd?aw(n,t):e===Su?RO(n,t):void 0}(t,n,i):kl(t,t[an],e,n)}function VO(t,n,e,i){const r=n[vu].queries[i];if(null===r.matches){const o=t.data,s=e.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const u=s[l];a.push(u<0?null:vK(n,o[u],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function GB(t,n,e,i){const r=t.queries.getByIndex(e),o=r.matches;if(null!==o){const s=VO(t,n,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const u=o[a+1],d=n[-l];for(let g=Uo;g<d.length;g++){const y=d[g];y[Ip]===y[uo]&&GB(y[an],y,u,i)}if(null!==d[fn]){const g=d[fn];for(let y=0;y<g.length;y++){const m=g[y];GB(m[an],m,u,i)}}}}}return i}function jO(t,n,e){const i=new Kv(!(4&~e));return function Uj(t,n,e,i){const r=sO(n);r.push(e),t.firstCreatePass&&aO(t).push(i,r.length-1)}(t,n,i,i.destroy),(n[vu]??=new zB).queries.push(new HB(i))-1}function WO(t,n,e){null===t.queries&&(t.queries=new VB),t.queries.track(new jB(n,e))}function WB(t,n){return t.queries.getByIndex(n)}function $O(t,n){const e=t[an],i=WB(e,n);return i.crossesNgTemplate?GB(e,t,n,[]):VO(e,t,i,n)}function YO(t){return function qO(t){return"function"==typeof t&&void 0!==t[xe]}(t)&&"function"==typeof t.set}function $r(t){let n=function lk(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let r;if(La(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new mt(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);const s=t;s.inputs=vw(t.inputs),s.inputTransforms=vw(t.inputTransforms),s.declaredInputs=vw(t.declaredInputs),s.outputs=vw(t.outputs);const a=r.hostBindings;a&&LK(t,a);const l=r.viewQuery,u=r.contentQueries;if(l&&FK(t,l),u&&TK(t,u),OK(t,r),Kl(t.outputs,r.outputs),La(r)&&r.data.animation){const d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===$r&&(e=!1)}}n=Object.getPrototypeOf(n)}!function kK(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=fu(r.hostAttrs,e=fu(e,r.hostAttrs))}}(i)}function OK(t,n){for(const e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;const i=n.inputs[e];if(void 0!==i&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e],null!==n.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=n.inputTransforms[r]}}}function vw(t){return t===ha?{}:t===zi?[]:t}function FK(t,n){const e=t.viewQuery;t.viewQuery=e?(i,r)=>{n(i,r),e(i,r)}:n}function TK(t,n){const e=t.contentQueries;t.contentQueries=e?(i,r,o)=>{n(i,r,o),e(i,r,o)}:n}function LK(t,n){const e=t.hostBindings;t.hostBindings=e?(i,r)=>{n(i,r),e(i,r)}:n}function dk(t){const n=t.inputConfig,e={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];Array.isArray(r)&&r[3]&&(e[i]=r[3])}t.inputTransforms=e}class Zp{}class hk{}class qB extends Zp{constructor(n,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new FO(this);const r=ts(n);this._bootstrapComponents=Ac(r.bootstrap),this._r3Injector=Vv(n,e,[{provide:Zp,useValue:this},{provide:hw,useValue:this.componentFactoryResolver},...i],Yn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ZB extends hk{constructor(n){super(),this.moduleType=n}create(n){return new qB(this.moduleType,n,[])}}class fk extends Zp{constructor(n){super(),this.componentFactoryResolver=new FO(this),this.instance=null;const e=new Nc([...n.providers,{provide:Zp,useValue:this},{provide:hw,useValue:this.componentFactoryResolver}],n.parent||zh(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function _w(t,n,e=null){return new fk({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let lf=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Vn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function bw(t){return!!function YB(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function _A(t,n,e){return t[n]=e}function os(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Yp(t,n,e,i){const r=os(t,n,e);return os(t,n+1,i)||r}function xt(t,n,e,i,r,o,s,a){const l=Et(),u=tr(),d=t+xi,g=u.firstCreatePass?function qK(t,n,e,i,r,o,s,a,l){const u=n.consts,d=s0(n,t,4,s||null,ic(u,a));vB(n,e,d,ic(u,l)),Cu(n,d);const g=d.tView=mB(2,d,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u,null);return null!==n.queries&&(n.queries.template(n,d),g.queries=n.queries.embeddedTView(d)),d}(d,u,l,n,e,i,r,o,s):u.data[d];rc(g,!1);const y=pk(u,l,g,t);Yh()&&tw(u,l,y,g),sn(y,l);const m=rO(y,l,y,g);return l[d]=m,rw(l,m),function QO(t,n,e){return QB(t,n,e)}(m,g,l),hA(g)&&pB(u,l,g),null!=s&&gB(l,g,a),xt}let pk=function gk(t,n,e,i){return Or(!0),n[ci].createComment("")};function Ds(t,n,e,i){const r=Et();return os(r,oc(),n)&&(tr(),mA(Wr(),r,t,n,e,i)),Ds}function v0(t,n,e,i,r,o){const a=Yp(t,function Uc(){return ui.lFrame.bindingIndex}(),e,r);return wu(2),a?n+ii(e)+i+ii(r)+o:Ii}function Sw(t,n){return t<<17|n<<2}function uf(t){return t>>17&32767}function aD(t){return 2|t}function Jp(t){return(131068&t)>>2}function lD(t,n){return-131069&t|n<<2}function cD(t){return 1|t}function Wk(t,n,e,i){const r=t[e+1],o=null===n;let s=i?uf(r):Jp(r),a=!1;for(;0!==s&&(!1===a||o);){const u=t[s+1];TW(t[s],n)&&(a=!0,t[s+1]=i?cD(u):aD(u)),s=i?uf(u):Jp(u)}a&&(t[e+1]=i?aD(r):cD(r))}function TW(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&pr(t,n)>=0}const Vs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $k(t){return t.substring(Vs.key,Vs.keyEnd)}function qk(t,n){const e=Vs.textEnd;return e===n?-1:(n=Vs.keyEnd=function UW(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,Vs.key=n,e),M0(t,n,e))}function M0(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function ke(t,n,e){const i=Et();return os(i,oc(),n)&&Fl(tr(),Wr(),i,t,n,i[ci],e,!1),ke}function uD(t,n,e,i,r){const s=r?"class":"style";wB(t,e,n.inputs[s],s,i)}function Ko(t,n,e){return Eu(t,n,e,!1),Ko}function Un(t,n){return Eu(t,n,null,!0),Un}function C_(t){!function Pu(t,n,e,i){const r=tr(),o=wu(2);r.firstUpdatePass&&tF(r,null,o,i);const s=Et();if(e!==Ii&&os(s,o,e)){const a=r.data[rs()];if(oF(a,i)&&!eF(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=jr(l,e||"")),uD(r,a,s,e,i)}else!function qW(t,n,e,i,r,o,s,a){r===Ii&&(r=zi);let l=0,u=0,d=0<r.length?r[0]:null,g=0<o.length?o[0]:null;for(;null!==d||null!==g;){const y=l<r.length?r[l+1]:void 0,m=u<o.length?o[u+1]:void 0;let D,B=null;d===g?(l+=2,u+=2,y!==m&&(B=g,D=m)):null===g||null!==d&&d<g?(l+=2,B=d):(u+=2,B=g,D=m),null!==B&&iF(t,n,e,i,B,D,s,a),d=l<r.length?r[l]:null,g=u<o.length?o[u]:null}}(r,a,s,s[ci],s[o+1],s[o+1]=function WW(t,n,e){if(null==e||""===e)return zi;const i=[],r=nf(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&n(i,r);return i}(t,n,e),i,o)}}($W,bA,t,!0)}function bA(t,n){for(let e=function NW(t){return function Yk(t){Vs.key=0,Vs.keyEnd=0,Vs.value=0,Vs.valueEnd=0,Vs.textEnd=t.length}(t),qk(t,M0(t,0,Vs.textEnd))}(n);e>=0;e=qk(n,e))Kr(t,$k(n),!0)}function Eu(t,n,e,i){const r=Et(),o=tr(),s=wu(2);o.firstUpdatePass&&tF(o,t,s,i),n!==Ii&&os(r,s,n)&&iF(o,o.data[rs()],r,r[ci],t,r[s+1]=function ZW(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Yn(nf(t)))),t}(n,e),i,s)}function eF(t,n){return n>=t.expandoStartIndex}function tF(t,n,e,i){const r=t.data;if(null===r[e+1]){const o=r[rs()],s=eF(t,e);oF(o,i)&&null===n&&!s&&(n=!1),n=function VW(t,n,e,i){const r=function Bv(t){const n=ui.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(e=x_(e=AD(null,t,n,e,i),n.attrs,i),o=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==r)if(e=AD(r,t,n,e,i),null===o){let l=function jW(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==Jp(i))return t[uf(i)]}(t,n,i);void 0!==l&&Array.isArray(l)&&(l=AD(null,t,n,l[1],i),l=x_(l,n.attrs,i),function GW(t,n,e,i){t[uf(e?n.classBindings:n.styleBindings)]=i}(t,n,i,l))}else o=function KW(t,n,e){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=x_(i,t[o].hostAttrs,e);return x_(i,n.attrs,e)}(t,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),e}(r,o,n,i),function kW(t,n,e,i,r,o){let s=o?n.classBindings:n.styleBindings,a=uf(s),l=Jp(s);t[i]=e;let d,u=!1;if(Array.isArray(e)?(d=e[1],(null===d||pr(e,d)>0)&&(u=!0)):d=e,r)if(0!==l){const y=uf(t[a+1]);t[i+1]=Sw(y,a),0!==y&&(t[y+1]=lD(t[y+1],i)),t[a+1]=function IW(t,n){return 131071&t|n<<17}(t[a+1],i)}else t[i+1]=Sw(a,0),0!==a&&(t[a+1]=lD(t[a+1],i)),a=i;else t[i+1]=Sw(l,0),0===a?a=i:t[l+1]=lD(t[l+1],i),l=i;u&&(t[i+1]=aD(t[i+1])),Wk(t,d,i,!0),Wk(t,d,i,!1),function FW(t,n,e,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&pr(o,n)>=0&&(e[i+1]=cD(e[i+1]))}(n,d,t,i,o),s=Sw(a,l),o?n.classBindings=s:n.styleBindings=s}(r,o,n,e,s,i)}}function AD(t,n,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=n[a],i=x_(i,o.hostAttrs,r),o!==t);)a++;return null!==t&&(e.directiveStylingLast=a),i}function x_(t,n,e){const i=e?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Kr(t,s,!!e||n[++o]))}return void 0===t?null:t}function $W(t,n,e){const i=String(n);""!==i&&!i.includes(" ")&&Kr(t,i,e)}function iF(t,n,e,i,r,o,s,a){if(!(3&n.type))return;const l=t.data,u=l[a+1],d=function OW(t){return!(1&~t)}(u)?rF(l,n,e,r,Jp(u),s):void 0;Ew(d)||(Ew(o)||function PW(t){return!(2&~t)}(u)&&(o=rF(l,null,e,r,a,s)),function Ij(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:rf.DashCase;null==r?t.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=rf.Important),t.setStyle(e,i,r,o))}}(i,s,Lp(rs(),e),r,o))}function rF(t,n,e,i,r,o){const s=null===n;let a;for(;r>0;){const l=t[r],u=Array.isArray(l),d=u?l[1]:l,g=null===d;let y=e[r+1];y===Ii&&(y=g?zi:void 0);let m=g?Pl(y,i):d===i?y:void 0;if(u&&!Ew(m)&&(m=Pl(l,i)),Ew(m)&&(a=m,s))return a;const B=t[r+1];r=s?uf(B):Jp(B)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=Pl(l,i))}return a}function Ew(t){return void 0!==t}function oF(t,n){return!!(t.flags&(n?8:16))}function h(t,n,e,i){const r=Et(),o=tr(),s=xi+t,a=r[ci],l=o.firstCreatePass?function _$(t,n,e,i,r,o){const s=n.consts,l=s0(n,t,2,i,ic(s,r));return vB(n,e,l,ic(s,o)),null!==l.attrs&&pw(l,l.attrs,!1),null!==l.mergedAttrs&&pw(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(s,o,r,n,e,i):o.data[s],u=cF(o,r,l,a,n,t);r[s]=u;const d=hA(l);return rc(l,!0),WI(a,u,l),!function __(t){return!(32&~t.flags)}(l)&&Yh()&&tw(o,r,u,l),0===function vM(){return ui.lFrame.elementDepthCount}()&&sn(u,r),function _M(){ui.lFrame.elementDepthCount++}(),d&&(pB(o,r,l),fB(o,l,r)),null!==i&&gB(r,l),h}function A(){let t=br();Hp()?Im():(t=t.parent,rc(t,!1));const n=t;(function A2(t){return ui.skipHydrationRootTNode===t})(n)&&function wv(){ui.skipHydrationRootTNode=null}(),function yM(){ui.lFrame.elementDepthCount--}();const e=tr();return e.firstCreatePass&&(Cu(e,t),uv(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Qm(t){return!!(8&t.flags)}(n)&&uD(e,n,Et(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function CM(t){return!!(16&t.flags)}(n)&&uD(e,n,Et(),n.stylesWithoutHost,!1),A}function Cn(t,n,e,i){return h(t,n,e,i),A(),Cn}let cF=(t,n,e,i,r,o)=>(Or(!0),X2(i,r,function y2(){return ui.lFrame.currentNamespace}()));function M_(t,n,e){const i=Et(),r=tr(),o=t+xi,s=r.firstCreatePass?function w$(t,n,e,i,r){const o=n.consts,s=ic(o,i),a=s0(n,t,8,"ng-container",s);return null!==s&&pw(a,s,!0),vB(n,e,a,ic(o,r)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,r,i,n,e):r.data[o];rc(s,!0);const a=AF(r,i,s,t);return i[o]=a,Yh()&&tw(r,i,a,s),sn(a,i),hA(s)&&(pB(r,i,s),fB(r,s,i)),null!=e&&gB(i,s),M_}function B_(){let t=br();const n=tr();return Hp()?Im():(t=t.parent,rc(t,!1)),n.firstCreatePass&&(Cu(n,t),uv(t)&&n.queries.elementEnd(t)),B_}let AF=(t,n,e,i)=>(Or(!0),aB(n[ci],""));function ti(){return Et()}const eg=void 0;var B$=["en",[["a","p"],["AM","PM"],eg],[["AM","PM"],eg,eg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eg,"{1} 'at' {0}",eg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function M$(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let B0={};function Al(t){const n=function D$(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=pF(n);if(e)return e;const i=n.split("-")[0];if(e=pF(i),e)return e;if("en"===i)return B$;throw new mt(701,!1)}function pF(t){return t in B0||(B0[t]=qi.ng&&qi.ng.common&&qi.ng.common.locales&&qi.ng.common.locales[t]),B0[t]}var Ao=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ao||{});const D0="en-US";let gF=D0;function it(t,n,e,i){const r=Et(),o=tr(),s=br();return vD(o,r,r[ci],s,t,n,i),it}function vD(t,n,e,i,r,o,s){const a=hA(i),u=t.firstCreatePass&&aO(t),d=n[to],g=sO(n);let y=!0;if(3&i.type||s){const D=ga(i,n),I=s?s(D):D,F=g.length,R=s?z=>s(Gi(z[i.index])):i.index;let H=null;if(!s&&a&&(H=function Cq(t,n,e,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=n[Kh],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,n,r,i.index)),null!==H)(H.__ngLastListenerFn__||H).__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,y=!1;else{o=jF(i,n,d,o,!1);const z=e.listen(I,r,o);g.push(o,z),u&&u.push(r,R,F,F+1)}}else o=jF(i,n,d,o,!1);const m=i.outputs;let B;if(y&&null!==m&&(B=m[r])){const D=B.length;if(D)for(let I=0;I<D;I+=2){const ie=n[B[I]][B[I+1]].subscribe(o),be=g.length;g.push(o,ie),u&&u.push(r,i.index,be,-(be+1))}}}function VF(t,n,e,i){const r=Pe(null);try{return nc(6,n,e),!1!==e(i)}catch(o){return ow(t,o),!1}finally{nc(7,n,e),Pe(r)}}function jF(t,n,e,i,r){return function o(s){if(s===Function)return i;a_(t.componentOffset>-1?ol(t.index,n):n);let l=VF(n,e,i,s),u=o.__ngNextListenerFn__;for(;u;)l=VF(n,e,u,s)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function Fe(t=1){return function Nm(t){return(ui.lFrame.contextLView=function bv(t,n){for(;t>0;)n=n[Wh],t--;return n}(t,ui.lFrame.contextLView))[to]}(t)}function eT(t,n,e,i){!function KO(t,n,e,i){const r=tr();if(r.firstCreatePass){const o=br();WO(r,new zO(n,e,i),o.index),function bK(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(r,t),!(2&~e)&&(r.staticContentQueries=!0)}return jO(r,Et(),e)}(t,n,e,i)}function tT(t,n,e){!function GO(t,n,e){const i=tr();return i.firstCreatePass&&(WO(i,new zO(t,n,e),-1),!(2&~n)&&(i.staticViewQueries=!0)),jO(i,Et(),n)}(t,n,e)}function yD(t){const n=Et(),e=tr(),i=Dv();km(i+1);const r=WB(e,i);if(t.dirty&&function gM(t){return!(4&~t[Gn])}(n)===!(2&~r.metadata.flags)){if(null===r.matches)t.reset([]);else{const o=$O(n,i);t.reset(o,U2),t.notifyOnChanges()}return!0}return!1}function bD(){return function KB(t,n){return t[vu].queries[n].queryList}(Et(),Dv())}function S0(t){return qh(function p2(){return ui.lFrame.contextLView}(),xi+t)}function f(t,n=""){const e=Et(),i=tr(),r=t+xi,o=i.firstCreatePass?s0(i,r,1,n,null):i.data[r],s=AT(i,e,o,n,t);e[r]=s,Yh()&&tw(i,e,s,o),rc(o,!1)}let AT=(t,n,e,i,r)=>(Or(!0),function sB(t,n){return t.createText(n)}(n[ci],i));function lt(t){return Me("",t,""),lt}function Me(t,n,e){const i=Et(),r=function m0(t,n,e,i){return os(t,oc(),e)?n+ii(e)+i:Ii}(i,t,n,e);return r!==Ii&&Ed(i,rs(),r),Me}function Wo(t,n,e,i,r){const o=Et(),s=v0(o,t,n,e,i,r);return s!==Ii&&Ed(o,rs(),s),Wo}function Mn(t,n,e){YO(n)&&(n=n());const i=Et();return os(i,oc(),n)&&Fl(tr(),Wr(),i,t,n,i[ci],e,!1),Mn}function Dn(t,n){const e=YO(t);return e&&t.set(n),e}function Bn(t,n){const e=Et(),i=tr(),r=br();return vD(i,e,e[ci],r,t,n),Bn}function wD(t,n,e,i,r){if(t=Rn(t),Array.isArray(t))for(let o=0;o<t.length;o++)wD(t[o],n,e,i,r);else{const o=tr(),s=Et(),a=br();let l=vi(t)?t:Rn(t.provide);const u=bo(t),d=1048575&a.providerIndexes,g=a.directiveStart,y=a.providerIndexes>>20;if(vi(t)||!t.multi){const m=new xd(u,r,wt),B=xD(l,n,r?d:d+y,g);-1===B?(Rv(Vm(a,s),o,l),CD(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(m),s.push(m)):(e[B]=m,s[B]=m)}else{const m=xD(l,n,d+y,g),B=xD(l,n,d,d+y),I=B>=0&&e[B];if(r&&!I||!r&&!(m>=0&&e[m])){Rv(Vm(a,s),o,l);const F=function Gq(t,n,e,i,r){const o=new xd(t,e,wt);return o.multi=[],o.index=n,o.componentProviders=0,_T(o,r,i&&!e),o}(r?jq:Vq,e.length,r,i,u);!r&&I&&(e[B].providerFactory=F),CD(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(F),s.push(F)}else CD(o,t,m>-1?m:B,_T(e[r?B:m],u,!r&&i));!r&&i&&I&&e[B].componentProviders++}}}function CD(t,n,e,i){const r=vi(n),o=function Us(t){return!!t.useClass}(n);if(r||o){const l=(o?Rn(n.useClass):n).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const d=u.indexOf(e);-1===d?u.push(e,[i,l]):u[d+1].push(i,l)}else u.push(e,l)}}}function _T(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function xD(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function Vq(t,n,e,i){return MD(this.multi,[])}function jq(t,n,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=kl(e,e[an],this.providerFactory.index,i);o=a.slice(0,s),MD(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],MD(r,o);return o}function MD(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function wo(t,n=[]){return e=>{e.providersResolver=(i,r)=>function zq(t,n,e){const i=tr();if(i.firstCreatePass){const r=La(t);wD(e,i.data,i.blueprint,r,!0),wD(n,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,n)}}let Kq=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=E(0,e.type),r=i.length>0?_w([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=tn({token:t,providedIn:"environment",factory:()=>new t(cn(Hs))})}}return t})();function Vc(t){vA("NgStandalone"),t.getStandaloneInjector=n=>n.get(Kq).getOrCreateStandaloneInjector(t)}function k_(t,n){const e=t[n];return e===Ii?void 0:e}function MT(t,n,e,i,r,o,s,a,l){const u=n+e;return function zc(t,n,e,i,r,o){const s=Yp(t,n,e,i);return Yp(t,n+2,r,o)||s}(t,u,r,o,s,a)?_A(t,u+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):k_(t,u+4)}function jt(t,n){const e=tr();let i;const r=t+xi;e.firstCreatePass?(i=function rZ(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=zo(i.type)),a=Ns(wt);try{const l=Hm(!1),u=o();return Hm(l),function Pq(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}(e,Et(),r,u),u}finally{Ns(a)}}function Br(t,n,e){const i=t+xi,r=Et(),o=qh(r,i);return F_(r,i)?function wT(t,n,e,i,r,o){const s=n+e;return os(t,s,r)?_A(t,s+1,o?i.call(o,r):i(r)):k_(t,s+1)}(r,xs(),n,o.transform,e,o):o.transform(e)}function wn(t,n,e,i){const r=t+xi,o=Et(),s=qh(o,r);return F_(o,r)?function CT(t,n,e,i,r,o,s){const a=n+e;return Yp(t,a,r,o)?_A(t,a+2,s?i.call(s,r,o):i(r,o)):k_(t,a+2)}(o,xs(),n,s.transform,e,i,s):s.transform(e,i)}function Od(t,n,e,i,r,o){const s=t+xi,a=Et(),l=qh(a,s);return F_(a,s)?MT(a,xs(),n,l.transform,e,i,r,o,l):l.transform(e,i,r,o)}function F_(t,n){return t[an].data[n].pure}function BD(t,n){return aw(t,n)}let zT=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const WT=new nn(""),Nw=new nn("");let FD,OD=(()=>{class t{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,FD||(function JZ(t){FD=t}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static{this.\u0275fac=function(i){return new(i||t)(cn(Cr),cn(kD),cn(Nw))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})(),kD=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return FD?.findTestabilityInTree(this,e,i)??null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function R_(t){return!!t&&"function"==typeof t.then}function $T(t){return!!t&&"function"==typeof t.subscribe}const TD=new nn("");let LD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Mt(TD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(R_(o))e.push(o);else if($T(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const ND=new nn("");function YT(t,n){return Array.isArray(n)?n.reduce(YT,t):{...t,...n}}let Af=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Mt(R2),this.afterRenderEffectManager=Mt(h_),this.externalTestViews=new Set,this.beforeRender=new Pa,this.afterTick=new Pa,this.componentTypes=[],this.components=[],this.isStable=Mt(lf).hasPendingTasks.pipe(Xi(e=>!e)),this._injector=Mt(Hs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof wO;if(!this._injector.get(LD).done)throw!r&&function Fa(t){const n=mi(t)||So(t)||Vo(t);return null!==n&&n.standalone}(e),new mt(405,!1);let s;s=r?e:this._injector.get(hw).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function eY(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Zp),u=s.create(Ms.NULL,[],i||s.selector,a),d=u.location.nativeElement,g=u.injector.get(WT,null);return g?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Rw(this.components,u),g?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new mt(101,!1);const i=Pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,Pe(i)}}detectChangesInAttachedViews(e){let i=0;const r=this.afterRenderEffectManager;for(;;){if(i===dO)throw new mt(103,!1);if(e){const o=0===i;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)nY(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>RD(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>RD(o))))break}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Rw(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(ND,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Rw(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new mt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Rw(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function nY(t,n,e){!n&&!RD(t)||function iY(t,n,e){let i;e?(i=0,t[Gn]|=1024):i=64&t[Gn]?0:1,sw(t,n,i)}(t,e,n)}function RD(t){return is(t)}class rY{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let XT=(()=>{class t{compileModuleSync(e){return new ZB(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Ac(ts(e).declarations).reduce((s,a)=>{const l=mi(a);return l&&s.push(new g_(l)),s},[]);return new rY(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),aY=(()=>{class t{constructor(){this.zone=Mt(Cr),this.applicationRef=Mt(Af)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function lY(){const t=Mt(Cr),n=Mt(ll);return e=>t.runOutsideAngular(()=>n.handleError(e))}let uY=(()=>{class t{constructor(){this.subscription=new We,this.initialized=!1,this.zone=Mt(Cr),this.pendingTasks=Mt(lf)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Cr.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Cr.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const kd=new nn("",{providedIn:"root",factory:()=>Mt(kd,Hi.Optional|Hi.SkipSelf)||function AY(){return typeof $localize<"u"&&$localize.locale||D0}()}),dY=new nn("",{providedIn:"root",factory:()=>"USD"}),UD=new nn("");let n6=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function YG(t="zone.js",n){return"noop"===t?new SO:"zone.js"===t?new Cr(n):t}(i?.ngZone,function t6(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function VK(t,n,e){return new qB(t,n,e)}(e.moduleType,this.injector,function e6(t){return[{provide:Cr,useFactory:t},{provide:Ol,multi:!0,useFactory:()=>{const n=Mt(aY,{optional:!0});return()=>n.initialize()}},{provide:Ol,multi:!0,useFactory:()=>{const n=Mt(uY);return()=>{n.initialize()}}},{provide:R2,useFactory:lY}]}(()=>r)),s=o.injector.get(ll,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Rw(this._modules,o),a.unsubscribe()})}),function ZT(t,n,e){try{const i=e();return R_(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(LD);return a.runInitializers(),a.donePromise.then(()=>(function mF(t){"string"==typeof t&&(gF=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(kd,D0)||D0),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=YT({},i);return function sY(t,n,e){const i=new ZB(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Af);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new mt(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new mt(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(UD,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||t)(cn(Ms))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),df=null;const i6=new nn("");function r6(t,n,e=[]){const i=`Platform: ${n}`,r=new nn(i);return(o=[])=>{let s=QD();if(!s||s.injector.get(i6,!1)){const a=[...e,...o,{provide:r,useValue:!0}];t?t(a):function fY(t){if(df&&!df.get(i6,!1))throw new mt(400,!1);(function qT(){!function at(t){Zn=t}(()=>{throw new mt(600,!1)})})(),df=t;const n=t.get(n6);(function s6(t){t.get(nI,null)?.forEach(e=>e())})(t)}(function o6(t=[],n){return Ms.create({name:n,providers:[{provide:Eo,useValue:"platform"},{provide:UD,useValue:new Set([()=>df=null])},...t]})}(a,i))}return function pY(t){const n=QD();if(!n)throw new mt(401,!1);return n}()}}function QD(){return df?.get(n6)??null}let I0=(()=>{class t{static{this.__NG_ELEMENT_ID__=mY}}return t})();function mY(t){return function vY(t,n,e){if(dA(t)&&!e){const i=ol(t.index,n);return new l_(i,i)}return 47&t.type?new l_(n[Fi],n):null}(br(),Et(),!(16&~t))}class A6{constructor(){}supports(n){return bw(n)}create(n){return new CY(n)}}const wY=(t,n)=>n;class CY{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||wY}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<h6(i,r,o)?e:i,a=h6(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const u=a-r,d=l-r;if(u!=d){for(let y=0;y<u;y++){const m=y<o.length?o[y]:o[y]=0,B=m+y;d<=B&&B<u&&(o[y]=m+1)}o[s.previousIndex]=d-u}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!bw(n))throw new mt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function WK(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new xY(e,i),o,r),n}_verifyReinsertion(n,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new d6),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new d6),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class xY{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MY{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class d6{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new MY,this.map.set(e,i)),i.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function h6(t,n,e){const i=t.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}function p6(){return new GD([new A6])}let GD=(()=>{class t{static{this.\u0275prov=tn({token:t,providedIn:"root",factory:p6})}constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||p6()),deps:[[t,new Gr,new fr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new mt(901,!1)}}return t})();const PY=r6(null,"core",[]);let IY=(()=>{class t{constructor(e){}static{this.\u0275fac=function(i){return new(i||t)(cn(Af))}}static{this.\u0275mod=ws({type:t})}static{this.\u0275inj=jn({})}}return t})();function k0(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function R6(t){const n=Pe(null);try{return t()}finally{Pe(n)}}let U6=null;function hf(){return U6}class fX{}const Ll=new nn("");let $D=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:()=>Mt(gX),providedIn:"platform"})}}return t})();const pX=new nn("");let gX=(()=>{class t extends $D{constructor(){super(),this._doc=Mt(Ll),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hf().getBaseHref(this._doc)}onPopState(e){const i=hf().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=hf().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function qD(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function Q6(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Fd(t){return t&&"?"!==t[0]?"?"+t:t}let ng=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:()=>Mt(z6),providedIn:"root"})}}return t})();const H6=new nn("");let z6=(()=>{class t extends ng{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Mt(Ll).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return qD(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Fd(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Fd(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Fd(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(cn($D),cn(H6,8))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mX=(()=>{class t extends ng{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=qD(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Fd(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Fd(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(cn($D),cn(H6,8))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})(),H_=(()=>{class t{constructor(e){this._subject=new Io,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function yX(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(Q6(V6(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Fd(i))}normalize(e){return t.stripTrailingSlash(function _X(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,V6(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fd(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fd(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=Fd}static{this.joinWithSlash=qD}static{this.stripTrailingSlash=Q6}static{this.\u0275fac=function(i){return new(i||t)(cn(ng))}}static{this.\u0275prov=tn({token:t,factory:()=>function vX(){return new H_(cn(ng))}(),providedIn:"root"})}}return t})();function V6(t){return t.replace(/\/index.html$/,"")}const j6={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var $w=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}($w||{}),hl=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(hl||{}),oo=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(oo||{}),hc=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(hc||{});const Ss={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function qw(t,n){return Gc(Al(t)[Ao.DateFormat],n)}function Zw(t,n){return Gc(Al(t)[Ao.TimeFormat],n)}function Yw(t,n){return Gc(Al(t)[Ao.DateTimeFormat],n)}function jc(t,n){const e=Al(t),i=e[Ao.NumberSymbols][n];if(typeof i>"u"){if(n===Ss.CurrencyDecimal)return e[Ao.NumberSymbols][Ss.Decimal];if(n===Ss.CurrencyGroup)return e[Ao.NumberSymbols][Ss.Group]}return i}function ZD(t,n){return Al(t)[Ao.NumberFormats][n]}function G6(t){if(!t[Ao.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ao.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Gc(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function YD(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const FX=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Xw={},TX=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Td=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Td||{}),Lr=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Lr||{}),Nr=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Nr||{});function LX(t,n,e,i){let r=function GX(t){if($6(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[r,o=1,s=1]=t.split("-").map(a=>+a);return Jw(r,o-1,s)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(FX))return function KX(t){const n=new Date(0);let e=0,i=0;const r=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-e,a=Number(t[5]||0)-i,l=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(n,s,a,l,u),n}(i)}const n=new Date(t);if(!$6(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=Ld(e,n)||n;let a,s=[];for(;n;){if(a=TX.exec(n),!a){s.push(n);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;n=d}}let l=r.getTimezoneOffset();i&&(l=W6(i,l),r=function jX(t,n,e){const i=e?-1:1,r=t.getTimezoneOffset();return function VX(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,i*(W6(n,r)-r))}(r,i,!0));let u="";return s.forEach(d=>{const g=function zX(t){if(JD[t])return JD[t];let n;switch(t){case"G":case"GG":case"GGG":n=ho(Nr.Eras,oo.Abbreviated);break;case"GGGG":n=ho(Nr.Eras,oo.Wide);break;case"GGGGG":n=ho(Nr.Eras,oo.Narrow);break;case"y":n=Es(Lr.FullYear,1,0,!1,!0);break;case"yy":n=Es(Lr.FullYear,2,0,!0,!0);break;case"yyy":n=Es(Lr.FullYear,3,0,!1,!0);break;case"yyyy":n=Es(Lr.FullYear,4,0,!1,!0);break;case"Y":n=iC(1);break;case"YY":n=iC(2,!0);break;case"YYY":n=iC(3);break;case"YYYY":n=iC(4);break;case"M":case"L":n=Es(Lr.Month,1,1);break;case"MM":case"LL":n=Es(Lr.Month,2,1);break;case"MMM":n=ho(Nr.Months,oo.Abbreviated);break;case"MMMM":n=ho(Nr.Months,oo.Wide);break;case"MMMMM":n=ho(Nr.Months,oo.Narrow);break;case"LLL":n=ho(Nr.Months,oo.Abbreviated,hl.Standalone);break;case"LLLL":n=ho(Nr.Months,oo.Wide,hl.Standalone);break;case"LLLLL":n=ho(Nr.Months,oo.Narrow,hl.Standalone);break;case"w":n=XD(1);break;case"ww":n=XD(2);break;case"W":n=XD(1,!0);break;case"d":n=Es(Lr.Date,1);break;case"dd":n=Es(Lr.Date,2);break;case"c":case"cc":n=Es(Lr.Day,1);break;case"ccc":n=ho(Nr.Days,oo.Abbreviated,hl.Standalone);break;case"cccc":n=ho(Nr.Days,oo.Wide,hl.Standalone);break;case"ccccc":n=ho(Nr.Days,oo.Narrow,hl.Standalone);break;case"cccccc":n=ho(Nr.Days,oo.Short,hl.Standalone);break;case"E":case"EE":case"EEE":n=ho(Nr.Days,oo.Abbreviated);break;case"EEEE":n=ho(Nr.Days,oo.Wide);break;case"EEEEE":n=ho(Nr.Days,oo.Narrow);break;case"EEEEEE":n=ho(Nr.Days,oo.Short);break;case"a":case"aa":case"aaa":n=ho(Nr.DayPeriods,oo.Abbreviated);break;case"aaaa":n=ho(Nr.DayPeriods,oo.Wide);break;case"aaaaa":n=ho(Nr.DayPeriods,oo.Narrow);break;case"b":case"bb":case"bbb":n=ho(Nr.DayPeriods,oo.Abbreviated,hl.Standalone,!0);break;case"bbbb":n=ho(Nr.DayPeriods,oo.Wide,hl.Standalone,!0);break;case"bbbbb":n=ho(Nr.DayPeriods,oo.Narrow,hl.Standalone,!0);break;case"B":case"BB":case"BBB":n=ho(Nr.DayPeriods,oo.Abbreviated,hl.Format,!0);break;case"BBBB":n=ho(Nr.DayPeriods,oo.Wide,hl.Format,!0);break;case"BBBBB":n=ho(Nr.DayPeriods,oo.Narrow,hl.Format,!0);break;case"h":n=Es(Lr.Hours,1,-12);break;case"hh":n=Es(Lr.Hours,2,-12);break;case"H":n=Es(Lr.Hours,1);break;case"HH":n=Es(Lr.Hours,2);break;case"m":n=Es(Lr.Minutes,1);break;case"mm":n=Es(Lr.Minutes,2);break;case"s":n=Es(Lr.Seconds,1);break;case"ss":n=Es(Lr.Seconds,2);break;case"S":n=Es(Lr.FractionalSeconds,1);break;case"SS":n=Es(Lr.FractionalSeconds,2);break;case"SSS":n=Es(Lr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=tC(Td.Short);break;case"ZZZZZ":n=tC(Td.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=tC(Td.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=tC(Td.Long);break;default:return null}return JD[t]=n,n}(d);u+=g?g(r,e,l):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Jw(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function Ld(t,n){const e=function wX(t){return Al(t)[Ao.LocaleId]}(t);if(Xw[e]??={},Xw[e][n])return Xw[e][n];let i="";switch(n){case"shortDate":i=qw(t,hc.Short);break;case"mediumDate":i=qw(t,hc.Medium);break;case"longDate":i=qw(t,hc.Long);break;case"fullDate":i=qw(t,hc.Full);break;case"shortTime":i=Zw(t,hc.Short);break;case"mediumTime":i=Zw(t,hc.Medium);break;case"longTime":i=Zw(t,hc.Long);break;case"fullTime":i=Zw(t,hc.Full);break;case"short":const r=Ld(t,"shortTime"),o=Ld(t,"shortDate");i=eC(Yw(t,hc.Short),[r,o]);break;case"medium":const s=Ld(t,"mediumTime"),a=Ld(t,"mediumDate");i=eC(Yw(t,hc.Medium),[s,a]);break;case"long":const l=Ld(t,"longTime"),u=Ld(t,"longDate");i=eC(Yw(t,hc.Long),[l,u]);break;case"full":const d=Ld(t,"fullTime"),g=Ld(t,"fullDate");i=eC(Yw(t,hc.Full),[d,g])}return i&&(Xw[e][n]=i),i}function eC(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function Iu(t,n,e="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function Es(t,n,e=0,i=!1,r=!1){return function(o,s){let a=function RX(t,n){switch(t){case Lr.FullYear:return n.getFullYear();case Lr.Month:return n.getMonth();case Lr.Date:return n.getDate();case Lr.Hours:return n.getHours();case Lr.Minutes:return n.getMinutes();case Lr.Seconds:return n.getSeconds();case Lr.FractionalSeconds:return n.getMilliseconds();case Lr.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((e>0||a>-e)&&(a+=e),t===Lr.Hours)0===a&&-12===e&&(a=12);else if(t===Lr.FractionalSeconds)return function NX(t,n){return Iu(t,3).substring(0,n)}(a,n);const l=jc(s,Ss.MinusSign);return Iu(a,n,l,i,r)}}function ho(t,n,e=hl.Format,i=!1){return function(r,o){return function UX(t,n,e,i,r,o){switch(e){case Nr.Months:return function MX(t,n,e){const i=Al(t),o=Gc([i[Ao.MonthsFormat],i[Ao.MonthsStandalone]],n);return Gc(o,e)}(n,r,i)[t.getMonth()];case Nr.Days:return function xX(t,n,e){const i=Al(t),o=Gc([i[Ao.DaysFormat],i[Ao.DaysStandalone]],n);return Gc(o,e)}(n,r,i)[t.getDay()];case Nr.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const u=function EX(t){const n=Al(t);return G6(n),(n[Ao.ExtraData][2]||[]).map(i=>"string"==typeof i?YD(i):[YD(i[0]),YD(i[1])])}(n),d=function PX(t,n,e){const i=Al(t);G6(i);const o=Gc([i[Ao.ExtraData][0],i[Ao.ExtraData][1]],n)||[];return Gc(o,e)||[]}(n,r,i),g=u.findIndex(y=>{if(Array.isArray(y)){const[m,B]=y,D=s>=m.hours&&a>=m.minutes,I=s<B.hours||s===B.hours&&a<B.minutes;if(m.hours<B.hours){if(D&&I)return!0}else if(D||I)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(-1!==g)return d[g]}return function CX(t,n,e){const i=Al(t),o=Gc([i[Ao.DayPeriodsFormat],i[Ao.DayPeriodsStandalone]],n);return Gc(o,e)}(n,r,i)[s<12?0:1];case Nr.Eras:return function BX(t,n){return Gc(Al(t)[Ao.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,t,n,e,i)}}function tC(t){return function(n,e,i){const r=-1*i,o=jc(e,Ss.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Td.Short:return(r>=0?"+":"")+Iu(s,2,o)+Iu(Math.abs(r%60),2,o);case Td.ShortGMT:return"GMT"+(r>=0?"+":"")+Iu(s,1,o);case Td.Long:return"GMT"+(r>=0?"+":"")+Iu(s,2,o)+":"+Iu(Math.abs(r%60),2,o);case Td.Extended:return 0===i?"Z":(r>=0?"+":"")+Iu(s,2,o)+":"+Iu(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const QX=0,nC=4;function K6(t){const n=t.getDay(),e=0===n?-3:nC-n;return Jw(t.getFullYear(),t.getMonth(),t.getDate()+e)}function XD(t,n=!1){return function(e,i){let r;if(n){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=K6(e),s=function HX(t){const n=Jw(t,QX,1).getDay();return Jw(t,0,1+(n<=nC?nC:nC+7)-n)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Iu(r,t,jc(i,Ss.MinusSign))}}function iC(t,n=!1){return function(e,i){return Iu(K6(e).getFullYear(),t,jc(i,Ss.MinusSign),n)}}const JD={};function W6(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function $6(t){return t instanceof Date&&!isNaN(t.valueOf())}const WX=/^(\d+)?\.((\d+)(-(\d+))?)?$/,q6=22,rC=".",z_="0",$X=";",qX=",",eS="#";function tS(t,n,e,i,r,o,s=!1){let a="",l=!1;if(isFinite(t)){let u=function tJ(t){let i,r,o,s,a,n=Math.abs(t)+"",e=0;for((r=n.indexOf(rC))>-1&&(n=n.replace(rC,"")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===z_;o++);if(o===(a=n.length))i=[0],r=1;else{for(a--;n.charAt(a)===z_;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(n.charAt(o))}return r>q6&&(i=i.splice(0,q6-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(t);s&&(u=function eJ(t){if(0===t.digits[0])return t;const n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===n?t.digits.push(0,0):1===n&&t.digits.push(0),t.integerLen+=2),t}(u));let d=n.minInt,g=n.minFrac,y=n.maxFrac;if(o){const R=o.match(WX);if(null===R)throw new Error(`${o} is not a valid digit info`);const H=R[1],z=R[3],ie=R[5];null!=H&&(d=iS(H)),null!=z&&(g=iS(z)),null!=ie?y=iS(ie):null!=z&&g>y&&(y=g)}!function nJ(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let i=t.digits,r=i.length-t.integerLen;const o=Math.min(Math.max(n,r),e);let s=o+t.integerLen,a=i[s];if(s>0){i.splice(Math.max(t.integerLen,s));for(let g=s;g<i.length;g++)i[g]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let g=1;g<s;g++)i[g]=0}if(a>=5)if(s-1<0){for(let g=0;g>s;g--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const u=n+t.integerLen,d=i.reduceRight(function(g,y,m,B){return B[m]=(y+=g)<10?y:y-10,l&&(0===B[m]&&m>=u?B.pop():l=!1),y>=10?1:0},0);d&&(i.unshift(d),t.integerLen++)}(u,g,y);let m=u.digits,B=u.integerLen;const D=u.exponent;let I=[];for(l=m.every(R=>!R);B<d;B++)m.unshift(0);for(;B<0;B++)m.unshift(0);B>0?I=m.splice(B,m.length):(I=m,m=[0]);const F=[];for(m.length>=n.lgSize&&F.unshift(m.splice(-n.lgSize,m.length).join(""));m.length>n.gSize;)F.unshift(m.splice(-n.gSize,m.length).join(""));m.length&&F.unshift(m.join("")),a=F.join(jc(e,i)),I.length&&(a+=jc(e,r)+I.join("")),D&&(a+=jc(e,Ss.Exponential)+"+"+D)}else a=jc(e,Ss.Infinity);return a=t<0&&!l?n.negPre+a+n.negSuf:n.posPre+a+n.posSuf,a}function nS(t,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split($X),r=i[0],o=i[1],s=-1!==r.indexOf(rC)?r.split(rC):[r.substring(0,r.lastIndexOf(z_)+1),r.substring(r.lastIndexOf(z_)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(eS));for(let d=0;d<l.length;d++){const g=l.charAt(d);g===z_?e.minFrac=e.maxFrac=d+1:g===eS?e.maxFrac=d+1:e.posSuf+=g}const u=a.split(qX);if(e.gSize=u[1]?u[1].length:0,e.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const d=r.length-e.posPre.length-e.posSuf.length,g=o.indexOf(eS);e.negPre=o.substring(0,g).replace(/'/g,""),e.negSuf=o.slice(g+d).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function iS(t){const n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function X6(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}const oS=/\s+/,J6=[];let e8=(()=>{class t{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=J6,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(oS):J6}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(oS):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(oS).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||t)(wt(cl),wt(Id))}}static{this.\u0275dir=ri({type:t,selectors:[["","ngClass",""]],inputs:{klass:[Ir.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();class oJ{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ls=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new oJ(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),n8(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{n8(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(wt(Su),wt(Pd),wt(GD))}}static{this.\u0275dir=ri({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function n8(t,n){t.context.$implicit=n.item}let cs=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new sJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){i8("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){i8("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(wt(Su),wt(Pd))}}static{this.\u0275dir=ri({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class sJ{constructor(){this.$implicit=null,this.ngIf=null}}function i8(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Yn(n)}'.`)}class sS{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let oC=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ri({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return t})(),r8=(()=>{class t{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new sS(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||t)(wt(Su),wt(Pd),wt(oC,9))}}static{this.\u0275dir=ri({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return t})();function Ou(t,n){return new mt(2100,!1)}class cJ{createSubscription(n,e){return R6(()=>n.subscribe({next:e,error:i=>{throw i}}))}dispose(n){R6(()=>n.unsubscribe())}}class uJ{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}}const AJ=new uJ,dJ=new cJ;let aS=(()=>{class t{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(R_(e))return AJ;if($T(e))return dJ;throw Ou()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||t)(wt(I0,16))}}static{this.\u0275pipe=na({name:"async",type:t,pure:!1,standalone:!0})}}return t})();const vJ=new nn(""),_J=new nn("");let lS=(()=>{class t{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return LX(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw Ou()}}static{this.\u0275fac=function(i){return new(i||t)(wt(kd,16),wt(vJ,24),wt(_J,24))}}static{this.\u0275pipe=na({name:"date",type:t,pure:!0,standalone:!0})}}return t})(),fc=(()=>{class t{constructor(e){this._locale=e}transform(e,i,r){if(!cS(e))return null;r||=this._locale;try{return function JX(t,n,e){return tS(t,nS(ZD(n,$w.Decimal),jc(n,Ss.MinusSign)),n,Ss.Group,Ss.Decimal,e)}(uS(e),r,i)}catch(o){throw Ou()}}static{this.\u0275fac=function(i){return new(i||t)(wt(kd,16))}}static{this.\u0275pipe=na({name:"number",type:t,pure:!0,standalone:!0})}}return t})(),sC=(()=>{class t{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",o,s){if(!cS(e))return null;s||=this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?function IX(t,n,e="en"){const i=function DX(t){return Al(t)[Ao.Currencies]}(e)[t]||j6[t]||[],r=i[1];return"narrow"===n&&"string"==typeof r?r:i[0]||t}(a,"symbol"===r?"wide":"narrow",s):r);try{return function YX(t,n,e,i,r){const s=nS(ZD(n,$w.Currency),jc(n,Ss.MinusSign));return s.minFrac=function kX(t){let n;const e=j6[t];return e&&(n=e[2]),"number"==typeof n?n:2}(i),s.maxFrac=s.minFrac,tS(t,s,n,Ss.CurrencyGroup,Ss.CurrencyDecimal,r).replace("\xa4",e).replace("\xa4","").trim()}(uS(e),s,a,i,o)}catch(l){throw Ou()}}static{this.\u0275fac=function(i){return new(i||t)(wt(kd,16),wt(dY,16))}}static{this.\u0275pipe=na({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function cS(t){return!(null==t||""===t||t!=t)}function uS(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}let ku=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ws({type:t})}static{this.\u0275inj=jn({})}}return t})();const a8="browser";function l8(t){return"server"===t}let IJ=(()=>{class t{static{this.\u0275prov=tn({token:t,providedIn:"root",factory:()=>function PJ(t){return t===a8}(Mt(tf))?new OJ(Mt(Ll),window):new FJ})}}return t})();class OJ{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const e=function kJ(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}}class FJ{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class c8{}class lee extends fX{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dS extends lee{static makeCurrent(){!function hX(t){U6??=t}(new dS)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function cee(){return G_=G_||document.querySelector("base"),G_?G_.getAttribute("href"):null}();return null==e?null:function uee(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){G_=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return X6(document.cookie,n)}}let G_=null,dee=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();const hS=new nn("");let v8=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new mt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||t)(cn(hS),cn(Cr))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();class _8{constructor(n){this._doc=n}}const fS="ng-app-id";let y8=(()=>{class t{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=l8(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${fS}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(fS),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(fS,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(cn(Ll),cn(Q2),cn(rI,8),cn(tf))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();const pS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gS=/%COMP%/g,gee=new nn("",{providedIn:"root",factory:()=>!0});function w8(t,n){return n.map(e=>e.replace(gS,t))}let mS=(()=>{class t{constructor(e,i,r,o,s,a,l,u=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=l8(a),this.defaultRenderer=new vS(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Oa.ShadowDom&&(i={...i,encapsulation:Oa.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof x8?r.applyToHost(e):r instanceof _S&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case Oa.Emulated:o=new x8(l,u,i,this.appId,d,s,a,g);break;case Oa.ShadowDom:return new yee(l,u,e,i,s,a,this.nonce,g);default:o=new _S(l,u,i,d,s,a,g)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(cn(v8),cn(y8),cn(Q2),cn(gee),cn(Ll),cn(tf),cn(Cr),cn(rI))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();class vS{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(pS[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(C8(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(C8(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new mt(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;const o=pS[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const r=pS[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(rf.DashCase|rf.Important)?n.style.setProperty(e,i,r&rf.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&rf.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){null!=n&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if("string"==typeof n&&!(n=hf().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function C8(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class yee extends vS{constructor(n,e,i,r,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=w8(r.id,r.styles);for(const d of u){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=d,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _S extends vS{constructor(n,e,i,r,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?w8(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class x8 extends _S{constructor(n,e,i,r,o,s,a,l){const u=r+"-"+i.id;super(n,e,i,o,s,a,l,u),this.contentAttr=function mee(t){return"_ngcontent-%COMP%".replace(gS,t)}(u),this.hostAttr=function vee(t){return"_nghost-%COMP%".replace(gS,t)}(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let bee=(()=>{class t extends _8{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(cn(Ll))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();const M8=["alt","control","meta","shift"],wee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cee={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let xee=(()=>{class t extends _8{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,r){const o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hf().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),M8.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),s+=u+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=wee[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),M8.forEach(s=>{s!==r&&(0,Cee[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(i){return new(i||t)(cn(Ll))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();const D8=[{provide:tf,useValue:a8},{provide:nI,useValue:function Mee(){dS.makeCurrent()},multi:!0},{provide:Ll,useFactory:function Dee(){return function yV(t){NM=t}(document),document},deps:[]}],See=r6(PY,"browser",D8),Eee=new nn(""),S8=[{provide:Nw,useClass:class Aee{addToWindow(n){qi.getAngularTestability=(i,r=!0)=>{const o=n.findTestabilityInTree(i,r);if(null==o)throw new mt(5103,!1);return o},qi.getAllAngularTestabilities=()=>n.getAllTestabilities(),qi.getAllAngularRootElements=()=>n.getAllRootElements(),qi.frameworkStabilizers||(qi.frameworkStabilizers=[]),qi.frameworkStabilizers.push(i=>{const r=qi.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?hf().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:WT,useClass:OD,deps:[Cr,kD,Nw]},{provide:OD,useClass:OD,deps:[Cr,kD,Nw]}],E8=[{provide:Eo,useValue:"root"},{provide:ll,useFactory:function Bee(){return new ll},deps:[]},{provide:hS,useClass:bee,multi:!0,deps:[Ll,Cr,tf]},{provide:hS,useClass:xee,multi:!0,deps:[Ll]},mS,y8,v8,{provide:IB,useExisting:mS},{provide:c8,useClass:dee,deps:[]},[]];let P8=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Q2,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||t)(cn(Eee,12))}}static{this.\u0275mod=ws({type:t})}static{this.\u0275inj=jn({providers:[...E8,...S8],imports:[ku,IY]})}}return t})(),Pee=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||t)(cn(Ll))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var yi=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(yi||{});const Nd="*";function F8(t){return{type:yi.Style,styles:t,offset:null}}class W_{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class T8{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function L8(t){return new mt(3e3,!1)}function ff(t){switch(t.length){case 0:return new W_;case 1:return t[0];default:return new T8(t)}}function N8(t,n,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(n.forEach(l=>{const u=l.get("offset"),d=u==s,g=d&&a||new Map;l.forEach((y,m)=>{let B=m,D=y;if("offset"!==m)switch(B=t.normalizePropertyName(B,r),D){case"!":D=e.get(m);break;case Nd:D=i.get(m);break;default:D=t.normalizeStyleValue(m,B,D,r)}g.set(B,D)}),d||o.push(g),a=g,s=u}),r.length)throw function ate(t){return new mt(3502,!1)}();return o}function bS(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&wS(e,"start",t)));break;case"done":t.onDone(()=>i(e&&wS(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&wS(e,"destroy",t)))}}function wS(t,n,e){const o=CS(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),s=t._data;return null!=s&&(o._data=s),o}function CS(t,n,e,i,r="",o=0,s){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function pc(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function R8(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const _te=typeof document>"u"?null:document.documentElement;function xS(t){const n=t.parentNode||t.host||null;return n===_te?null:n}let ig=null,U8=!1;function Q8(t,n){for(;n;){if(n===t)return!0;n=xS(n)}return!1}function H8(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const i=t.querySelector(n);return i?[i]:[]}let MS=(()=>{class t{validateStyleProperty(e){return function bte(t){ig||(ig=function wte(){return typeof document<"u"?document.body:null}()||{},U8=!!ig.style&&"WebkitAppearance"in ig.style);let n=!0;return ig.style&&!function yte(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in ig.style,!n&&U8&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in ig.style)),n}(e)}matchesElement(e,i){return!1}containsElement(e,i){return Q8(e,i)}getParentElement(e){return xS(e)}query(e,i,r){return H8(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new W_(r,o)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();class BS{static{this.NOOP=new MS}}class DS{}const xte=1e3,SS="ng-enter",uC="ng-leave",AC="ng-trigger",dC=".ng-trigger",V8="ng-animating",ES=".ng-animating";function Rd(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:PS(parseFloat(n[1]),n[2])}function PS(t,n){return"s"===n?t*xte:t}function hC(t,n,e){return t.hasOwnProperty("duration")?t:function Bte(t,n,e){let r,o=0,s="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(L8()),{duration:0,delay:0,easing:""};r=PS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=PS(parseFloat(l),a[4]));const u=a[5];u&&(s=u)}else r=t;if(!e){let a=!1,l=n.length;r<0&&(n.push(function Uee(){return new mt(3100,!1)}()),a=!0),o<0&&(n.push(function Qee(){return new mt(3101,!1)}()),a=!0),a&&n.splice(l,0,L8())}return{duration:r,delay:o,easing:s}}(t,n,e)}function wA(t,n,e){n.forEach((i,r)=>{const o=OS(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=i})}function rg(t,n){n.forEach((e,i)=>{const r=OS(i);t.style[r]=""})}function $_(t){return Array.isArray(t)?1==t.length?t[0]:function Fee(t,n=null){return{type:yi.Sequence,steps:t,options:n}}(t):t}const IS=new RegExp("{{\\s*(.+?)\\s*}}","g");function G8(t){let n=[];if("string"==typeof t){let e;for(;e=IS.exec(t);)n.push(e[1]);IS.lastIndex=0}return n}function q_(t,n,e){const i=`${t}`,r=i.replace(IS,(o,s)=>{let a=n[s];return null==a&&(e.push(function zee(t){return new mt(3003,!1)}()),a=""),a.toString()});return r==i?t:r}const Ete=/-+([a-z0-9])/g;function OS(t){return t.replace(Ete,(...n)=>n[1].toUpperCase())}function gc(t,n,e){switch(n.type){case yi.Trigger:return t.visitTrigger(n,e);case yi.State:return t.visitState(n,e);case yi.Transition:return t.visitTransition(n,e);case yi.Sequence:return t.visitSequence(n,e);case yi.Group:return t.visitGroup(n,e);case yi.Animate:return t.visitAnimate(n,e);case yi.Keyframes:return t.visitKeyframes(n,e);case yi.Style:return t.visitStyle(n,e);case yi.Reference:return t.visitReference(n,e);case yi.AnimateChild:return t.visitAnimateChild(n,e);case yi.AnimateRef:return t.visitAnimateRef(n,e);case yi.Query:return t.visitQuery(n,e);case yi.Stagger:return t.visitStagger(n,e);default:throw function Vee(t){return new mt(3004,!1)}()}}function kS(t,n){return window.getComputedStyle(t)[n]}const Ote=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class K8 extends DS{normalizePropertyName(n,e){return OS(n)}normalizeStyleValue(n,e,i,r){let o="";const s=i.toString().trim();if(Ote.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function jee(t,n){return new mt(3005,!1)}())}return s+o}}const fC="*";const pC=new Set(["true","1"]),gC=new Set(["false","0"]);function W8(t,n){const e=pC.has(t)||gC.has(t),i=pC.has(n)||gC.has(n);return(r,o)=>{let s=t==fC||t==r,a=n==fC||n==o;return!s&&e&&"boolean"==typeof r&&(s=r?pC.has(t):gC.has(t)),!a&&i&&"boolean"==typeof o&&(a=o?pC.has(n):gC.has(n)),s&&a}}const Lte=new RegExp("s*:selfs*,?","g");function FS(t,n,e,i){return new Nte(t).build(n,e,i)}class Nte{constructor(n){this._driver=n}build(n,e,i){const r=new Qte(e);return this._resetContextStyleTimingState(r),gc(this,$_(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==n.name.charAt(0)&&e.errors.push(function Gee(){return new mt(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==yi.State){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,e))}),l.name=u}else if(a.type==yi.Transition){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function Kee(){return new mt(3007,!1)}())}),{type:yi.Trigger,name:n.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{G8(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&e.errors.push(function Wee(t,n){return new mt(3008,!1)}(0,o.values()))}return{type:yi.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=gc(this,$_(n.animation),e),r=function kte(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function Fte(t,n,e){if(":"==t[0]){const l=function Tte(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function ite(t){return new mt(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof l)return void n.push(l);t=l}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function nte(t){return new mt(3015,!1)}()),n;const r=i[1],o=i[2],s=i[3];n.push(W8(r,s)),"<"==o[0]&&(r!=fC||s!=fC)&&n.push(W8(s,r))}(i,e,n)):e.push(t),e}(n.expr,e.errors);return{type:yi.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:og(n.options)}}visitSequence(n,e){return{type:yi.Sequence,steps:n.steps.map(i=>gc(this,i,e)),options:og(n.options)}}visitGroup(n,e){const i=e.currentTime;let r=0;const o=n.steps.map(s=>{e.currentTime=i;const a=gc(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:yi.Group,steps:o,options:og(n.options)}}visitAnimate(n,e){const i=function zte(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return TS(hC(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=TS(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=hC(e,n);return TS(r.duration,r.delay,r.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let r,o=n.styles?n.styles:F8({});if(o.type==yi.Keyframes)r=this.visitKeyframes(o,e);else{let s=n.styles,a=!1;if(!s){a=!0;const u={};i.easing&&(u.easing=i.easing),s=F8(u)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:yi.Animate,timings:i,style:r,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of r)"string"==typeof a?a===Nd?i.push(a):e.errors.push(new mt(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:yi.Style,styles:i,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const u=e.collectedStyles.get(e.currentQuerySelector),d=u.get(l);let g=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(function qee(t,n,e,i,r){return new mt(3010,!1)}()),g=!1),o=d.startTime),g&&u.set(l,{startTime:o,endTime:r}),e.options&&function Ste(t,n,e){const i=n.params||{},r=G8(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Hee(t){return new mt(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:yi.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Zee(){return new mt(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,u=0;const d=n.steps.map(F=>{const R=this._makeStyleAst(F,e);let H=null!=R.offset?R.offset:function Hte(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(R.styles),z=0;return null!=H&&(o++,z=R.offset=H),l=l||z<0||z>1,a=a||z<u,u=z,s.push(z),R});l&&e.errors.push(function Yee(){return new mt(3012,!1)}()),a&&e.errors.push(function Xee(){return new mt(3200,!1)}());const g=n.steps.length;let y=0;o>0&&o<g?e.errors.push(function Jee(){return new mt(3202,!1)}()):0==o&&(y=1/(g-1));const m=g-1,B=e.currentTime,D=e.currentAnimateTimings,I=D.duration;return d.forEach((F,R)=>{const H=y>0?R==m?1:y*R:s[R],z=H*I;e.currentTime=B+D.delay+z,D.duration=z,this._validateStyleAst(F,e),F.offset=H,i.styles.push(F)}),i}visitReference(n,e){return{type:yi.Reference,animation:gc(this,$_(n.animation),e),options:og(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:yi.AnimateChild,options:og(n.options)}}visitAnimateRef(n,e){return{type:yi.AnimateRef,animation:this.visitReference(n.animation,e),options:og(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;const[o,s]=function Rte(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(Lte,"")),t=t.replace(/@\*/g,dC).replace(/@\w+/g,e=>dC+"-"+e.slice(1)).replace(/:animating/g,ES),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+o:o,pc(e.collectedStyles,e.currentQuerySelector,new Map);const a=gc(this,$_(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:yi.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:n.selector,options:og(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function ete(){return new mt(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:hC(n.timings,e.errors,!0);return{type:yi.Stagger,animation:gc(this,$_(n.animation),e),timings:i,options:null}}}class Qte{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function og(t){return t?(t={...t}).params&&(t.params=function Ute(t){return t?{...t}:null}(t.params)):t={},t}function TS(t,n,e){return{duration:t,delay:n,easing:e}}function LS(t,n,e,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class mC{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Gte=new RegExp(":enter","g"),Wte=new RegExp(":leave","g");function NS(t,n,e,i,r,o=new Map,s=new Map,a,l,u=[]){return(new $te).buildKeyframes(t,n,e,i,r,o,s,a,l,u)}class $te{buildKeyframes(n,e,i,r,o,s,a,l,u,d=[]){u=u||new mC;const g=new RS(n,e,u,r,o,d,[]);g.options=l;const y=l.delay?Rd(l.delay):0;g.currentTimeline.delayNextStep(y),g.currentTimeline.setStyles([s],null,g.errors,l),gc(this,i,g);const m=g.timelines.filter(B=>B.containsAnimation());if(m.length&&a.size){let B;for(let D=m.length-1;D>=0;D--){const I=m[D];if(I.element===e){B=I;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([a],null,g.errors,l)}return m.length?m.map(B=>B.buildKeyframes()):[LS(e,[],[],[],0,y,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(n.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const r of n){const o=r?.delay;if(o){const s="number"==typeof o?o:Rd(q_(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(n,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Rd(i.duration):null,a=null!=i.delay?Rd(i.delay):null;return 0!==s&&n.forEach(l=>{const u=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),gc(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let r=e;const o=n.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==yi.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vC);const s=Rd(o.delay);r.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>gc(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let r=e.currentTimeline.currentTime;const o=n.options&&n.options.delay?Rd(n.options.delay):0;n.steps.forEach(s=>{const a=e.createSubContext(n.options);o&&a.delayNextStep(o),gc(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return hC(e.params?q_(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=n.style;o.type==yi.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,r=n.options||{},o=r.delay?Rd(r.delay):0;o&&(e.previousNode.type===yi.Style||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=vC);let s=i;const a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((u,d)=>{e.currentQueryIndex=d;const g=e.createSubContext(n.options,u);o&&g.delayNextStep(o),u===e.element&&(l=g.currentTimeline),gc(this,n.animation,g),g.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,g.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,r=e.currentTimeline,o=n.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const g=d.currentTime;gc(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-g+(r.startTime-i.currentTimeline.startTime)}}const vC={};class RS{constructor(n,e,i,r,o,s,a,l){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new _C(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=Rd(i.duration)),null!=i.delay&&(r.delay=Rd(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=q_(o[a],s,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){const r=e||this.element,o=new RS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=vC,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new qte(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,o,s){let a=[];if(r&&a.push(this.element),n.length>0){n=(n=n.replace(Gte,"."+this._enterClassName)).replace(Wte,"."+this._leaveClassName);let u=this._driver.query(this.element,n,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&0==a.length&&s.push(function tte(t){return new mt(3014,!1)}()),a}}class _C{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new _C(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Nd),this._currentKeyframe.set(e,Nd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function Zte(t,n){const e=new Map;let i;return t.forEach(r=>{if("*"===r){i??=n.keys();for(let o of i)e.set(o,Nd)}else for(let[o,s]of r)e.set(o,s)}),e}(n,this._globalTimelineStyles);for(let[a,l]of s){const u=q_(l,o,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Nd),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const u=new Map([...this._backFill,...a]);u.forEach((d,g)=>{"!"===d?n.add(g):d===Nd&&e.add(g)}),i||u.set("offset",l/this.duration),r.push(u)});const o=[...n.values()],s=[...e.values()];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return LS(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class qte extends _C{constructor(n,e,i,r,o,s,a=!1){super(n,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=new Map(n[0]);l.set("offset",0),o.push(l);const u=new Map(n[0]);u.set("offset",Z8(a)),o.push(u);const d=n.length-1;for(let g=1;g<=d;g++){let y=new Map(n[g]);const m=y.get("offset");y.set("offset",Z8((e+m*i)/s)),o.push(y)}i=s,e=0,r="",n=o}return LS(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Z8(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}function Y8(t,n,e,i,r,o,s,a,l,u,d,g,y){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:g,errors:y}}const US={};class X8{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return function Yte(t,n,e,i,r){return t.some(o=>o(n,e,i,r))}(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,o,s,a,l,u,d){const g=[],y=this.ast.options&&this.ast.options.params||US,B=this.buildStyles(i,a&&a.params||US,g),D=l&&l.params||US,I=this.buildStyles(r,D,g),F=new Set,R=new Map,H=new Map,z="void"===r,ie={params:J8(D,y),delay:this.ast.options?.delay},be=d?[]:NS(n,e,this.ast.animation,o,s,B,I,ie,u,g);let Be=0;return be.forEach(se=>{Be=Math.max(se.duration+se.delay,Be)}),g.length?Y8(e,this._triggerName,i,r,z,B,I,[],[],R,H,Be,g):(be.forEach(se=>{const te=se.element,Re=pc(R,te,new Set);se.preStyleProps.forEach(J=>Re.add(J));const G=pc(H,te,new Set);se.postStyleProps.forEach(J=>G.add(J)),te!==e&&F.add(te)}),Y8(e,this._triggerName,i,r,z,B,I,be,[...F.values()],R,H,Be))}}function J8(t,n){const e={...n};return Object.entries(t).forEach(([i,r])=>{null!=r&&(e[i]=r)}),e}class Xte{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,r=J8(n,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=q_(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}}class ene{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Xte(r.style,r.options&&r.options.params||{},i))}),eL(this.states,"true","1"),eL(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new X8(n,r,this.states))}),this.fallbackTransition=function tne(t,n,e){return new X8(t,{type:yi.Transition,animation:{type:yi.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(s=>s.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function eL(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const nne=new mC;class ine{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],o=FS(this._driver,e,i,[]);if(i.length)throw function lte(t){return new mt(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,e,i){const r=n.element,o=N8(this._normalizer,n.keyframes,e,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const r=[],o=this._animations.get(n);let s;const a=new Map;if(o?(s=NS(this._driver,e,o,SS,uC,new Map,new Map,i,nne,r),s.forEach(d=>{const g=pc(a,d.element,new Map);d.postStyleProps.forEach(y=>g.set(y,null))})):(r.push(function cte(){return new mt(3300,!1)}()),s=[]),r.length)throw function ute(t){return new mt(3504,!1)}();a.forEach((d,g)=>{d.forEach((y,m)=>{d.set(m,this._driver.computeStyle(g,m,Nd))})});const u=ff(s.map(d=>{const g=a.get(d.element);return this._buildPlayer(d,new Map,g)}));return this._playersById.set(n,u),u.onDestroy(()=>this.destroy(n)),this.players.push(u),u}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function Ate(t){return new mt(3301,!1)}();return e}listen(n,e,i,r){const o=CS(e,"","","");return bS(this._getPlayer(n),i,o,r),()=>{}}command(n,e,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,e,r[0]||{});const o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const tL="ng-animate-queued",QS="ng-animate-disabled",lne=[],nL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fu="__ng_removed";class HS{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function hne(t){return t??null}(i?n.value:n),i){const{value:o,...s}=n;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Z_="void",zS=new HS(Z_);class une{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Kc(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw function dte(t,n){return new mt(3302,!1)}();if(null==i||0==i.length)throw function hte(t){return new mt(3303,!1)}();if(!function fne(t){return"start"==t||"done"==t}(i))throw function fte(t,n){return new mt(3400,!1)}();const o=pc(this._elementListeners,n,[]),s={name:e,phase:i,callback:r};o.push(s);const a=pc(this._engine.statesByElement,n,new Map);return a.has(e)||(Kc(n,AC),Kc(n,AC+"-"+e),a.set(e,zS)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function pte(t){return new mt(3401,!1)}();return e}trigger(n,e,i,r=!0){const o=this._getTrigger(e),s=new VS(this.id,e,n);let a=this._engine.statesByElement.get(n);a||(Kc(n,AC),Kc(n,AC+"-"+e),this._engine.statesByElement.set(n,a=new Map));let l=a.get(e);const u=new HS(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(e,u),l||(l=zS),u.value!==Z_&&l.value===u.value){if(!function mne(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}(l.params,u.params)){const D=[],I=o.matchStyles(l.value,l.params,D),F=o.matchStyles(u.value,u.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{rg(n,I),wA(n,F)})}return}const y=pc(this._engine.playersByElement,n,[]);y.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let m=o.matchTransition(l.value,u.value,n,u.params),B=!1;if(!m){if(!r)return;m=o.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:m,fromState:l,toState:u,player:s,isFallbackTransition:B}),B||(Kc(n,tL),s.onStart(()=>{T0(n,tL)})),s.onDone(()=>{let D=this.players.indexOf(s);D>=0&&this.players.splice(D,1);const I=this._engine.playersByElement.get(n);if(I){let F=I.indexOf(s);F>=0&&I.splice(F,1)}}),this.players.push(s),y.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,dC,!0);i.forEach(r=>{if(r[Fu])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){const o=this._engine.statesByElement.get(n),s=new Map;if(o){const a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){const d=this.trigger(n,u,Z_,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,s),i&&ff(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,u=i.get(s)||zS,d=new HS(Z_),g=new VS(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:l,fromState:u,toState:d,player:g,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let s=n;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{const o=n[Fu];(!o||o===nL)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){Kc(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=CS(o,i.triggerName,i.fromState.value,i.toState.value);l._data=n,bS(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class Ane{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i,r){this.bodyNode=n,this.driver=e,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new une(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const u=i.indexOf(l);i.splice(u+1,0,n),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(n,e,i,r){if(yC(e)){const o=this._fetchNamespace(n);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!yC(e))return;const o=e[Fu];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){const s=this._fetchNamespace(n);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Kc(n,QS)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),T0(n,QS))}removeNode(n,e,i){if(yC(e)){this.scheduler?.notify();const r=n?this._fetchNamespace(n):null;r?r.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,r,o){this.collectedLeaveElements.push(e),e[Fu]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,i,r,o){return yC(e)?this._fetchNamespace(n).listen(e,i,r,o):()=>{}}_buildInstruction(n,e,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,dC,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,ES,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ff(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Fu];if(e&&e.setForRemoval){if(n[Fu]=nL,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(QS)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Kc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ff(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function gte(t){return new mt(3402,!1)}()}_flushAnimations(n,e){const i=new mC,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(Le=>{d.add(Le);const ze=this.driver.query(Le,".ng-animate-queued",!0);for(let Ue=0;Ue<ze.length;Ue++)d.add(ze[Ue])});const g=this.bodyNode,y=Array.from(this.statesByElement.keys()),m=oL(y,this.collectedEnterElements),B=new Map;let D=0;m.forEach((Le,ze)=>{const Ue=SS+D++;B.set(ze,Ue),Le.forEach(et=>Kc(et,Ue))});const I=[],F=new Set,R=new Set;for(let Le=0;Le<this.collectedLeaveElements.length;Le++){const ze=this.collectedLeaveElements[Le],Ue=ze[Fu];Ue&&Ue.setForRemoval&&(I.push(ze),F.add(ze),Ue.hasAnimation?this.driver.query(ze,".ng-star-inserted",!0).forEach(et=>F.add(et)):R.add(ze))}const H=new Map,z=oL(y,Array.from(F));z.forEach((Le,ze)=>{const Ue=uC+D++;H.set(ze,Ue),Le.forEach(et=>Kc(et,Ue))}),n.push(()=>{m.forEach((Le,ze)=>{const Ue=B.get(ze);Le.forEach(et=>T0(et,Ue))}),z.forEach((Le,ze)=>{const Ue=H.get(ze);Le.forEach(et=>T0(et,Ue))}),I.forEach(Le=>{this.processLeaveNode(Le)})});const ie=[],be=[];for(let Le=this._namespaceList.length-1;Le>=0;Le--)this._namespaceList[Le].drainQueuedTransitions(e).forEach(Ue=>{const et=Ue.player,Qt=Ue.element;if(ie.push(et),this.collectedEnterElements.length){const rt=Qt[Fu];if(rt&&rt.setForMove){if(rt.previousTriggersValues&&rt.previousTriggersValues.has(Ue.triggerName)){const yt=rt.previousTriggersValues.get(Ue.triggerName),_t=this.statesByElement.get(Ue.element);if(_t&&_t.has(Ue.triggerName)){const Tt=_t.get(Ue.triggerName);Tt.value=yt,_t.set(Ue.triggerName,Tt)}}return void et.destroy()}}const kt=!g||!this.driver.containsElement(g,Qt),W=H.get(Qt),pe=B.get(Qt),ye=this._buildInstruction(Ue,i,pe,W,kt);if(ye.errors&&ye.errors.length)return void be.push(ye);if(kt)return et.onStart(()=>rg(Qt,ye.fromStyles)),et.onDestroy(()=>wA(Qt,ye.toStyles)),void r.push(et);if(Ue.isFallbackTransition)return et.onStart(()=>rg(Qt,ye.fromStyles)),et.onDestroy(()=>wA(Qt,ye.toStyles)),void r.push(et);const Qe=[];ye.timelines.forEach(rt=>{rt.stretchStartingKeyframe=!0,this.disabledNodes.has(rt.element)||Qe.push(rt)}),ye.timelines=Qe,i.append(Qt,ye.timelines),s.push({instruction:ye,player:et,element:Qt}),ye.queriedElements.forEach(rt=>pc(a,rt,[]).push(et)),ye.preStyleProps.forEach((rt,yt)=>{if(rt.size){let _t=l.get(yt);_t||l.set(yt,_t=new Set),rt.forEach((Tt,Xt)=>_t.add(Xt))}}),ye.postStyleProps.forEach((rt,yt)=>{let _t=u.get(yt);_t||u.set(yt,_t=new Set),rt.forEach((Tt,Xt)=>_t.add(Xt))})});if(be.length){const Le=[];be.forEach(ze=>{Le.push(function mte(t,n){return new mt(3505,!1)}())}),ie.forEach(ze=>ze.destroy()),this.reportError(Le)}const Be=new Map,se=new Map;s.forEach(Le=>{const ze=Le.element;i.has(ze)&&(se.set(ze,ze),this._beforeAnimationBuild(Le.player.namespaceId,Le.instruction,Be))}),r.forEach(Le=>{const ze=Le.element;this._getPreviousPlayers(ze,!1,Le.namespaceId,Le.triggerName,null).forEach(et=>{pc(Be,ze,[]).push(et),et.destroy()})});const te=I.filter(Le=>aL(Le,l,u)),Re=new Map;rL(Re,this.driver,R,u,Nd).forEach(Le=>{aL(Le,l,u)&&te.push(Le)});const J=new Map;m.forEach((Le,ze)=>{rL(J,this.driver,new Set(Le),l,"!")}),te.forEach(Le=>{const ze=Re.get(Le),Ue=J.get(Le);Re.set(Le,new Map([...ze?.entries()??[],...Ue?.entries()??[]]))});const Ee=[],Se=[],tt={};s.forEach(Le=>{const{element:ze,player:Ue,instruction:et}=Le;if(i.has(ze)){if(d.has(ze))return Ue.onDestroy(()=>wA(ze,et.toStyles)),Ue.disabled=!0,Ue.overrideTotalTime(et.totalTime),void r.push(Ue);let Qt=tt;if(se.size>1){let W=ze;const pe=[];for(;W=W.parentNode;){const ye=se.get(W);if(ye){Qt=ye;break}pe.push(W)}pe.forEach(ye=>se.set(ye,Qt))}const kt=this._buildAnimation(Ue.namespaceId,et,Be,o,J,Re);if(Ue.setRealPlayer(kt),Qt===tt)Ee.push(Ue);else{const W=this.playersByElement.get(Qt);W&&W.length&&(Ue.parentPlayer=ff(W)),r.push(Ue)}}else rg(ze,et.fromStyles),Ue.onDestroy(()=>wA(ze,et.toStyles)),Se.push(Ue),d.has(ze)&&r.push(Ue)}),Se.forEach(Le=>{const ze=o.get(Le.element);if(ze&&ze.length){const Ue=ff(ze);Le.setRealPlayer(Ue)}}),r.forEach(Le=>{Le.parentPlayer?Le.syncPlayerEvents(Le.parentPlayer):Le.destroy()});for(let Le=0;Le<I.length;Le++){const ze=I[Le],Ue=ze[Fu];if(T0(ze,uC),Ue&&Ue.hasAnimation)continue;let et=[];if(a.size){let kt=a.get(ze);kt&&kt.length&&et.push(...kt);let W=this.driver.query(ze,ES,!0);for(let pe=0;pe<W.length;pe++){let ye=a.get(W[pe]);ye&&ye.length&&et.push(...ye)}}const Qt=et.filter(kt=>!kt.destroyed);Qt.length?pne(this,ze,Qt):this.processLeaveNode(ze)}return I.length=0,Ee.forEach(Le=>{this.players.push(Le),Le.onDone(()=>{Le.destroy();const ze=this.players.indexOf(Le);this.players.splice(ze,1)}),Le.play()}),Ee}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(n);a&&(s=a)}else{const a=this.playersByElement.get(n);if(a){const l=!o||o==Z_;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(n,e,i){const o=e.element,s=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const u=l.element,d=u!==o,g=pc(i,u,[]);this._getPreviousPlayers(u,d,s,a,e.toState).forEach(m=>{const B=m.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),m.destroy(),g.push(m)})}rg(o,e.fromStyles)}_buildAnimation(n,e,i,r,o,s){const a=e.triggerName,l=e.element,u=[],d=new Set,g=new Set,y=e.timelines.map(B=>{const D=B.element;d.add(D);const I=D[Fu];if(I&&I.removedBeforeQueried)return new W_(B.duration,B.delay);const F=D!==l,R=function gne(t){const n=[];return sL(t,n),n}((i.get(D)||lne).map(Be=>Be.getRealPlayer())).filter(Be=>!!Be.element&&Be.element===D),H=o.get(D),z=s.get(D),ie=N8(this._normalizer,B.keyframes,H,z),be=this._buildPlayer(B,ie,R);if(B.subTimeline&&r&&g.add(D),F){const Be=new VS(n,a,D);Be.setRealPlayer(be),u.push(Be)}return be});u.forEach(B=>{pc(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function dne(t,n,e){let i=t.get(n);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&t.delete(n)}return i}(this.playersByQueriedElement,B.element,B))}),d.forEach(B=>Kc(B,V8));const m=ff(y);return m.onDestroy(()=>{d.forEach(B=>T0(B,V8)),wA(l,e.toStyles)}),g.forEach(B=>{pc(r,B,[]).push(m)}),m}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new W_(n.duration,n.delay)}}class VS{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new W_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>bS(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){pc(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function yC(t){return t&&1===t.nodeType}function iL(t,n){const e=t.style.display;return t.style.display=n??"none",e}function rL(t,n,e,i,r){const o=[];e.forEach(l=>o.push(iL(l)));const s=[];i.forEach((l,u)=>{const d=new Map;l.forEach(g=>{const y=n.computeStyle(u,g,r);d.set(g,y),(!y||0==y.length)&&(u[Fu]=cne,s.push(u))}),t.set(u,d)});let a=0;return e.forEach(l=>iL(l,o[a++])),s}function oL(t,n){const e=new Map;if(t.forEach(a=>e.set(a,[])),0==n.length)return e;const r=new Set(n),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=e.has(u)?u:r.has(u)?1:s(u),o.set(a,l),l}return n.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function Kc(t,n){t.classList?.add(n)}function T0(t,n){t.classList?.remove(n)}function pne(t,n,e){ff(e).onDone(()=>t.processLeaveNode(n))}function sL(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof T8?sL(i.players,n):n.push(i)}}function aL(t,n,e){const i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(o=>r.add(o)):n.set(t,i),e.delete(t),!0}class Y_{constructor(n,e,i,r){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new Ane(n.body,e,i,r),this._timelineEngine=new ine(n.body,e,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(n,e,i,r,o){const s=n+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],d=FS(this._driver,o,l,[]);if(l.length)throw function ste(t,n){return new mt(3404,!1)}();a=function Jte(t,n,e){return new ene(t,n,e)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if("@"==i.charAt(0)){const[o,s]=R8(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=R8(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(n,e,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}class X_{static{this.initialStylesByElement=new WeakMap}constructor(n,e,i){this._element=n,this._startStyles=e,this._endStyles=i,this._state=0;let r=X_.initialStylesByElement.get(n);r||X_.initialStylesByElement.set(n,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&wA(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wA(this._element,this._initialStyles),this._endStyles&&(wA(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(X_.initialStylesByElement.delete(this._element),this._startStyles&&(rg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rg(this._element,this._endStyles),this._endStyles=null),wA(this._element,this._initialStyles),this._state=3)}}function jS(t){let n=null;return t.forEach((e,i)=>{(function _ne(t){return"display"===t||"position"===t})(i)&&(n=n||new Map,n.set(i,e))}),n}class lL{constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&n.set(r,this._finished?i:kS(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class cL{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return Q8(n,e)}getParentElement(n){return xS(n)}query(n,e,i){return H8(n,e,i)}computeStyle(n,e,i){return kS(n,e)}animate(n,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const u=new Map,d=s.filter(m=>m instanceof lL);(function Pte(t,n){return 0===t||0===n})(i,r)&&d.forEach(m=>{m.currentSnapshot.forEach((B,D)=>u.set(D,B))});let g=function Dte(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}(e).map(m=>new Map(m));g=function Ite(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<n.length;o++){let s=n[o];r.forEach(a=>s.set(a,kS(t,a)))}}return n}(n,g,u);const y=function vne(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=jS(n[0]),n.length>1&&(i=jS(n[n.length-1]))):n instanceof Map&&(e=jS(n)),e||i?new X_(t,e,i):null}(n,g);return new lL(n,g,l,y)}}const uL="@.disabled";class AL{constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==uL?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class yne extends AL{constructor(n,e,i,r,o){super(e,i,r,o),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==uL?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const r=function bne(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function wne(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(n,e,i)}}class Cne{constructor(n,e,i){this.delegate=n,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(n,e){const r=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){const u=this._rendererCache;let d=u.get(r);return d||(d=new AL("",r,this.engine,()=>u.delete(r)),u.set(r,d)),d}const o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,n);const a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,n,u.name,u)};return e.data.animation.forEach(a),new yne(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,i){if(n>=0&&n<this._microtaskId)return void this._zone.run(()=>e(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let xne=(()=>{class t extends Y_{constructor(e,i,r){super(e,i,r,Mt(dw,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||t)(cn(Ll),cn(BS),cn(DS))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();const dL=[{provide:DS,useFactory:function Mne(){return new K8}},{provide:Y_,useClass:xne},{provide:IB,useFactory:function Bne(t,n,e){return new Cne(t,n,e)},deps:[mS,Y_,Cr]}],GS=[{provide:BS,useFactory:()=>new cL},{provide:iI,useValue:"BrowserAnimations"},...dL],hL=[{provide:BS,useClass:MS},{provide:iI,useValue:"NoopAnimations"},...dL];let Dne=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?hL:GS}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ws({type:t})}static{this.\u0275inj=jn({providers:GS,imports:[P8]})}}return t})();function KS(t){return t[t.length-1]}function fL(t){return bt(KS(t))?t.pop():void 0}function wC(t){return function Sne(t){return t&&bt(t.schedule)}(KS(t))?t.pop():void 0}function pf(t){return this instanceof pf?(this.v=t,this):new pf(t)}function vL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function ZS(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const _L=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function yL(t){return bt(t?.then)}function bL(t){return bt(t[Xa])}function wL(t){return Symbol.asyncIterator&&bt(t?.[Symbol.asyncIterator])}function CL(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const xL=function tie(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ML(t){return bt(t?.[xL])}function BL(t){return function mL(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(m){return function(B){return Promise.resolve(B).then(m,g)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(m,B){i[m]&&(r[m]=function(D){return new Promise(function(I,F){o.push([m,D,I,F])>1||l(m,D)})},B&&(r[m]=B(r[m])))}function l(m,B){try{!function u(m){m.value instanceof pf?Promise.resolve(m.value.v).then(d,g):y(o[0][2],m)}(i[m](B))}catch(D){y(o[0][3],D)}}function d(m){l("next",m)}function g(m){l("throw",m)}function y(m,B){m(B),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:r}=yield pf(e.read());if(r)return yield pf(void 0);yield yield pf(i)}}finally{e.releaseLock()}})}function DL(t){return bt(t?.getReader)}function CA(t){if(t instanceof io)return t;if(null!=t){if(bL(t))return function nie(t){return new io(n=>{const e=t[Xa]();if(bt(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(_L(t))return function iie(t){return new io(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(yL(t))return function rie(t){return new io(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,rn)})}(t);if(wL(t))return SL(t);if(ML(t))return function oie(t){return new io(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(DL(t))return function sie(t){return SL(BL(t))}(t)}throw CL(t)}function SL(t){return new io(n=>{(function aie(t,n){var e,i,r,o;return function pL(t,n,e,i){return new(e||(e=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(g){s(g)}}function l(d){try{u(i.throw(d))}catch(g){s(g)}}function u(d){d.done?o(d.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(d.value).then(a,l)}u((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=vL(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Ud(t,n,e,i=0,r=!1){const o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function EL(t,n=0){return dn((e,i)=>{e.subscribe(Pr(i,r=>Ud(i,t,()=>i.next(r),n),()=>Ud(i,t,()=>i.complete(),n),r=>Ud(i,t,()=>i.error(r),n)))})}function PL(t,n=0){return dn((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function IL(t,n){if(!t)throw new Error("Iterable cannot be null");return new io(e=>{Ud(e,n,()=>{const i=t[Symbol.asyncIterator]();Ud(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Gs(t,n){return n?function hie(t,n){if(null!=t){if(bL(t))return function lie(t,n){return CA(t).pipe(PL(n),EL(n))}(t,n);if(_L(t))return function uie(t,n){return new io(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(yL(t))return function cie(t,n){return CA(t).pipe(PL(n),EL(n))}(t,n);if(wL(t))return IL(t,n);if(ML(t))return function Aie(t,n){return new io(e=>{let i;return Ud(e,n,()=>{i=t[xL](),Ud(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>bt(i?.return)&&i.return()})}(t,n);if(DL(t))return function die(t,n){return IL(BL(t),n)}(t,n)}throw CL(t)}(t,n):CA(t)}function bi(...t){return Gs(t,wC(t))}function Ra(t,n,e=1/0){return bt(n)?Ra((i,r)=>Xi((o,s)=>n(i,o,r,s))(CA(t(i,r))),e):("number"==typeof n&&(e=n),dn((i,r)=>function fie(t,n,e,i,r,o,s,a){const l=[];let u=0,d=0,g=!1;const y=()=>{g&&!l.length&&!u&&n.complete()},m=D=>u<i?B(D):l.push(D),B=D=>{o&&n.next(D),u++;let I=!1;CA(e(D,d++)).subscribe(Pr(n,F=>{r?.(F),o?m(F):n.next(F)},()=>{I=!0},void 0,()=>{if(I)try{for(u--;l.length&&u<i;){const F=l.shift();s?Ud(n,s,()=>B(F)):B(F)}y()}catch(F){n.error(F)}}))};return t.subscribe(Pr(n,m,()=>{g=!0,y()})),()=>{a?.()}}(i,r,t,e)))}function L0(t,n){return bt(n)?Ra(t,n,1):Ra(t,1)}function xA(t,n){return dn((e,i)=>{let r=0;e.subscribe(Pr(i,o=>t.call(n,o,r++)&&i.next(o)))})}function N0(t){return dn((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function Tu(t,n){return dn((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Pr(i,l=>{r?.unsubscribe();let u=0;const d=o++;CA(t(l,d)).subscribe(r=Pr(i,g=>i.next(n?n(l,g,d,u++):g),()=>{r=null,a()}))},()=>{s=!0,a()}))})}class CC{}class xC{}class Wc{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Wc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Wc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Wc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const r=("a"===n.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=n.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class pie{encodeKey(n){return OL(n)}encodeValue(n){return OL(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const mie=/%(\d[a-f0-9])/gi,vie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OL(t){return encodeURIComponent(t).replace(mie,(n,e)=>vie[e]??n)}function MC(t){return`${t}`}class gf{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new pie,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gie(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],r=Array.isArray(i)?i.map(MC):[MC(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new gf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(MC(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(MC(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class _ie{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function kL(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function FL(t){return typeof Blob<"u"&&t instanceof Blob}function TL(t){return typeof FormData<"u"&&t instanceof FormData}class J_{constructor(n,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function yie(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Wc,this.context??=new _ie,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new gf,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||kL(this.body)||FL(this.body)||TL(this.body)||function bie(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof gf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||TL(this.body)?null:FL(this.body)?this.body.type||null:kL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=void 0!==n.body?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress;let u=n.headers||this.headers,d=n.params||this.params;const g=n.context??this.context;return void 0!==n.setHeaders&&(u=Object.keys(n.setHeaders).reduce((y,m)=>y.set(m,n.setHeaders[m]),u)),n.setParams&&(d=Object.keys(n.setParams).reduce((y,m)=>y.set(m,n.setParams[m]),d)),new J_(e,i,s,{params:d,headers:u,context:g,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}}var mf=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(mf||{});class XS{constructor(n,e=ey.Ok,i="OK"){this.headers=n.headers||new Wc,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class BC extends XS{constructor(n={}){super(n),this.type=mf.ResponseHeader}clone(n={}){return new BC({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class sg extends XS{constructor(n={}){super(n),this.type=mf.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new sg({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class R0 extends XS{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}var ey=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(ey||{});function JS(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let $c=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof J_)o=e;else{let l,u;l=r.headers instanceof Wc?r.headers:new Wc(r.headers),r.params&&(u=r.params instanceof gf?r.params:new gf({fromObject:r.params})),o=new J_(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=bi(o).pipe(L0(l=>this.handler.handle(l)));if(e instanceof J_||"events"===r.observe)return s;const a=s.pipe(xA(l=>l instanceof sg));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Xi(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Xi(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Xi(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Xi(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new gf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,JS(r,i))}post(e,i,r={}){return this.request("POST",e,JS(r,i))}put(e,i,r={}){return this.request("PUT",e,JS(r,i))}static{this.\u0275fac=function(i){return new(i||t)(cn(CC))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();function NL(t,n){return n(t)}function Bie(t,n){return(e,i)=>n.intercept(e,{handle:r=>t(r,i)})}const nE=new nn(""),ty=new nn(""),RL=new nn(""),UL=new nn("");function Sie(){let t=null;return(n,e)=>{null===t&&(t=(Mt(nE,{optional:!0})??[]).reduceRight(Bie,NL));const i=Mt(lf),r=i.add();return t(n,e).pipe(N0(()=>i.remove(r)))}}let QL=(()=>{class t extends CC{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Mt(lf);const r=Mt(UL,{optional:!0});this.backend=r??e}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(ty),...this.injector.get(RL,[])]));this.chain=r.reduceRight((o,s)=>function Die(t,n,e){return(i,r)=>rl(e,()=>n(i,o=>t(o,r)))}(o,s,this.injector),NL)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(N0(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||t)(cn(xC),cn(Hs))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();const kie=/^\)\]\}',?\n/;let zL=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new mt(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Gs(i.\u0275loadImpl()):bi(null)).pipe(Tu(()=>new io(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((D,I)=>s.setRequestHeader(D,I.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const D=e.detectContentTypeHeader();null!==D&&s.setRequestHeader("Content-Type",D)}if(e.responseType){const D=e.responseType.toLowerCase();s.responseType="json"!==D?D:"text"}const a=e.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const D=s.statusText||"OK",I=new Wc(s.getAllResponseHeaders()),F=function Fie(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(s)||e.url;return l=new BC({headers:I,status:s.status,statusText:D,url:F}),l},d=()=>{let{headers:D,status:I,statusText:F,url:R}=u(),H=null;I!==ey.NoContent&&(H=typeof s.response>"u"?s.responseText:s.response),0===I&&(I=H?ey.Ok:0);let z=I>=200&&I<300;if("json"===e.responseType&&"string"==typeof H){const ie=H;H=H.replace(kie,"");try{H=""!==H?JSON.parse(H):null}catch(be){H=ie,z&&(z=!1,H={error:be,text:H})}}z?(o.next(new sg({body:H,headers:D,status:I,statusText:F,url:R||void 0})),o.complete()):o.error(new R0({error:H,headers:D,status:I,statusText:F,url:R||void 0}))},g=D=>{const{url:I}=u(),F=new R0({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(F)};let y=!1;const m=D=>{y||(o.next(u()),y=!0);let I={type:mf.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(I.total=D.total),"text"===e.responseType&&s.responseText&&(I.partialText=s.responseText),o.next(I)},B=D=>{let I={type:mf.UploadProgress,loaded:D.loaded};D.lengthComputable&&(I.total=D.total),o.next(I)};return s.addEventListener("load",d),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),e.reportProgress&&(s.addEventListener("progress",m),null!==a&&s.upload&&s.upload.addEventListener("progress",B)),s.send(a),o.next({type:mf.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",d),s.removeEventListener("timeout",g),e.reportProgress&&(s.removeEventListener("progress",m),null!==a&&s.upload&&s.upload.removeEventListener("progress",B)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(cn(c8))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();const iE=new nn(""),VL=new nn("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),jL=new nn("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class GL{}let Nie=(()=>{class t{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=X6(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(cn(Ll),cn(tf),cn(VL))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();function Rie(t,n){const e=t.url.toLowerCase();if(!Mt(iE)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const i=Mt(GL).getToken(),r=Mt(jL);return null!=i&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),n(t)}var vf=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(vf||{});function ag(t,n){return{\u0275kind:t,\u0275providers:n}}function Uie(...t){const n=[$c,zL,QL,{provide:CC,useExisting:QL},{provide:xC,useExisting:zL},{provide:ty,useValue:Rie,multi:!0},{provide:iE,useValue:!0},{provide:GL,useClass:Nie}];for(const e of t)n.push(...e.\u0275providers);return function p(t){return{\u0275providers:t}}(n)}const KL=new nn("");let Hie=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ws({type:t})}static{this.\u0275inj=jn({providers:[Uie(ag(vf.LegacyInterceptors,[{provide:KL,useFactory:Sie},{provide:ty,useExisting:KL,multi:!0}]))]})}}return t})();const{isArray:Wie}=Array,{getPrototypeOf:$ie,prototype:qie,keys:Zie}=Object;function eN(t){if(1===t.length){const n=t[0];if(Wie(n))return{args:n,keys:null};if(function Yie(t){return t&&"object"==typeof t&&$ie(t)===qie}(n)){const e=Zie(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:Xie}=Array;function tN(t){return Xi(n=>function Jie(t,n){return Xie(n)?t(...n):t(n)}(t,n))}function nN(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function iN(...t){const n=fL(t),{args:e,keys:i}=eN(t),r=new io(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let d=0;d<s;d++){let g=!1;CA(e[d]).subscribe(Pr(o,y=>{g||(g=!0,u--),a[d]=y},()=>l--,void 0,()=>{(!l||!g)&&(u||o.next(i?nN(i,a):a),o.complete())}))}});return n?r.pipe(tN(n)):r}let rN=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||t)(wt(Id),wt(cl))}}static{this.\u0275dir=ri({type:t})}}return t})(),lg=(()=>{class t extends rN{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qo(t)))(r||t)}})()}static{this.\u0275dir=ri({type:t,features:[$r]})}}return t})();const Lu=new nn(""),ere={provide:Lu,useExisting:Ji(()=>U0),multi:!0};let U0=(()=>{class t extends lg{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qo(t)))(r||t)}})()}static{this.\u0275dir=ri({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&it("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[wo([ere]),$r]})}}return t})();const tre={provide:Lu,useExisting:Ji(()=>va),multi:!0},ire=new nn("");let va=(()=>{class t extends rN{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nre(){const t=hf()?hf().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||t)(wt(Id),wt(cl),wt(ire,8))}}static{this.\u0275dir=ri({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&it("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[wo([tre]),$r]})}}return t})();function _f(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const Ua=new nn(""),yf=new nn(""),rre=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function lN(t){return _f(t.value)?{required:!0}:null}function uN(t){return _f(t.value)||rre.test(t.value)?null:{email:!0}}function SC(t){return null}function fN(t){return null!=t}function pN(t){return R_(t)?Gs(t):t}function gN(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function mN(t,n){return n.map(e=>e(t))}function vN(t){return t.map(n=>function ore(t){return!t.validate}(n)?n:e=>n.validate(e))}function rE(t){return null!=t?function _N(t){if(!t)return null;const n=t.filter(fN);return 0==n.length?null:function(e){return gN(mN(e,n))}}(vN(t)):null}function oE(t){return null!=t?function yN(t){if(!t)return null;const n=t.filter(fN);return 0==n.length?null:function(e){return iN(mN(e,n).map(pN)).pipe(Xi(gN))}}(vN(t)):null}function bN(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function sE(t){return t?Array.isArray(t)?t:[t]:[]}function EC(t,n){return Array.isArray(t)?t.includes(n):t===n}function xN(t,n){const e=sE(n);return sE(t).forEach(r=>{EC(e,r)||e.push(r)}),e}function MN(t,n){return sE(n).filter(e=>!EC(t,e))}class BN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=rE(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=oE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class fl extends BN{get formDirective(){return null}get path(){return null}}class bf extends BN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class DN{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qa=(()=>{class t extends DN{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(wt(bf,2))}}static{this.\u0275dir=ri({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Un("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[$r]})}}return t})(),PC=(()=>{class t extends DN{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(wt(fl,10))}}static{this.\u0275dir=ri({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Un("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[$r]})}}return t})();const ny="VALID",OC="INVALID",Q0="PENDING",iy="DISABLED";function cE(t){return(kC(t)?t.validators:t)||null}function uE(t,n){return(kC(n)?n.asyncValidators:t)||null}function kC(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class AE{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ny}get invalid(){return this.status===OC}get pending(){return this.status==Q0}get disabled(){return this.status===iy}get enabled(){return this.status!==iy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(xN(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(xN(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(MN(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(MN(n,this._rawAsyncValidators))}hasValidator(n){return EC(this._rawValidators,n)}hasAsyncValidator(n){return EC(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Q0,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=iy,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=ny,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ny||this.status===Q0)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?iy:ny}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Q0,this._hasOwnPendingAsyncValidator=!0;const e=pN(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Io,this.statusChanges=new Io}_calculateStatus(){return this._allControlsDisabled()?iy:this.errors?OC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Q0)?Q0:this._anyControlsHaveStatus(OC)?OC:ny}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){kC(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function cre(t){return Array.isArray(t)?rE(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function ure(t){return Array.isArray(t)?oE(t):t||null}(this._rawAsyncValidators)}}class dE extends AE{constructor(n,e,i){super(cE(e),uE(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function PN(t,n,e){t._forEachChild((i,r)=>{if(void 0===e[r])throw new mt(1002,"")})})(this,0,n),Object.keys(n).forEach(i=>{(function EN(t,n,e){const i=t.controls;if(!(n?Object.keys(i):i).length)throw new mt(1e3,"");if(!i[e])throw new mt(1001,"")})(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{const r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const cg=new nn("CallSetDisabledState",{providedIn:"root",factory:()=>ry}),ry="always";function oy(t,n,e=ry){hE(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function hre(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&IN(t,n)})}(t,n),function pre(t,n){const e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function fre(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&IN(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function dre(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function LC(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function hE(t,n){const e=function wN(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(bN(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=function CN(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(bN(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();LC(n._rawValidators,r),LC(n._rawAsyncValidators,r)}function IN(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const yre={provide:fl,useExisting:Ji(()=>H0)},sy=Promise.resolve();let H0=(()=>{class t extends fl{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Io,this.form=new dE({},rE(e),oE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){sy.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),oy(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){sy.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){sy.then(()=>{const i=this._findContainer(e.path),r=new dE({});(function ON(t,n){hE(t,n)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){sy.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){sy.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function kN(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||t)(wt(Ua,10),wt(yf,10),wt(cg,8))}}static{this.\u0275dir=ri({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&it("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[Ir.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wo([yre]),$r]})}}return t})();function FN(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function TN(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const LN=class extends AE{constructor(n=null,e,i){super(cE(e),uE(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kC(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=TN(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){FN(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){FN(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){TN(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Cre={provide:bf,useExisting:Ji(()=>_a)},UN=Promise.resolve();let _a=(()=>{class t extends bf{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new LN,this._registered=!1,this.name="",this.update=new Io,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function gE(t,n){if(!n)return null;let e,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===va?e=o:function vre(t){return Object.getPrototypeOf(t.constructor)===lg}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function pE(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){oy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){UN.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&k0(i);UN.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function FC(t,n){return[...n.path,t]}(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||t)(wt(fl,9),wt(Ua,10),wt(yf,10),wt(Lu,10),wt(I0,8),wt(cg,8))}}static{this.\u0275dir=ri({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ir.None,"disabled","isDisabled"],model:[Ir.None,"ngModel","model"],options:[Ir.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[wo([Cre]),$r,pa]})}}return t})(),RC=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ri({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();const xre={provide:Lu,useExisting:Ji(()=>wf),multi:!0};let wf=(()=>{class t extends lg{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qo(t)))(r||t)}})()}static{this.\u0275dir=ri({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&it("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[wo([xre]),$r]})}}return t})();const Dre={provide:Lu,useExisting:Ji(()=>Qd),multi:!0};let Qd=(()=>{class t extends lg{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qo(t)))(r||t)}})()}static{this.\u0275dir=ri({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,r){1&i&&it("change",function(s){return r.onChange(s.target.value)})("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[wo([Dre]),$r]})}}return t})();const mE=new nn(""),kre={provide:Lu,useExisting:Ji(()=>Nu),multi:!0};function jN(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Nu=(()=>{class t extends lg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=jN(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Fre(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qo(t)))(r||t)}})()}static{this.\u0275dir=ri({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&it("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[wo([kre]),$r]})}}return t})(),Hd=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(jN(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(wt(cl),wt(Id),wt(Nu,9))}}static{this.\u0275dir=ri({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();const Tre={provide:Lu,useExisting:Ji(()=>bE),multi:!0};function GN(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let bE=(()=>{class t extends lg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);r.push(u)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const u=this._getOptionValue(l.value);r.push(u)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Lre(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qo(t)))(r||t)}})()}static{this.\u0275dir=ri({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&it("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[wo([Tre]),$r]})}}return t})(),zd=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(GN(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(GN(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(wt(cl),wt(Id),wt(bE,9))}}static{this.\u0275dir=ri({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function WN(t){return"number"==typeof t?t:parseFloat(t)}let ug=(()=>{class t{constructor(){this._validator=SC}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):SC,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ri({type:t,features:[pa]})}}return t})();const Nre={provide:Ua,useExisting:Ji(()=>Ag),multi:!0};let Ag=(()=>{class t extends ug{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>WN(e),this.createValidator=e=>function aN(t){return n=>{if(_f(n.value)||_f(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qo(t)))(r||t)}})()}static{this.\u0275dir=ri({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Ds("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[wo([Nre]),$r]})}}return t})();const Rre={provide:Ua,useExisting:Ji(()=>dg),multi:!0};let dg=(()=>{class t extends ug{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>WN(e),this.createValidator=e=>function sN(t){return n=>{if(_f(n.value)||_f(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qo(t)))(r||t)}})()}static{this.\u0275dir=ri({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Ds("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[wo([Rre]),$r]})}}return t})();const Ure={provide:Ua,useExisting:Ji(()=>z0),multi:!0};let z0=(()=>{class t extends ug{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=k0,this.createValidator=e=>lN}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qo(t)))(r||t)}})()}static{this.\u0275dir=ri({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Ds("required",r._enabled?"":null)},inputs:{required:"required"},features:[wo([Ure]),$r]})}}return t})();const Hre={provide:Ua,useExisting:Ji(()=>wE),multi:!0};let wE=(()=>{class t extends ug{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=k0,this.createValidator=e=>uN}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qo(t)))(r||t)}})()}static{this.\u0275dir=ri({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[wo([Hre]),$r]})}}return t})();const zre={provide:Ua,useExisting:Ji(()=>CE),multi:!0};let CE=(()=>{class t extends ug{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function KN(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>function AN(t){return n=>_f(n.value)||!function oN(t){return null!=t&&"number"==typeof t.length}(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qo(t)))(r||t)}})()}static{this.\u0275dir=ri({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Ds("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[wo([zre]),$r]})}}return t})(),YN=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ws({type:t})}static{this.\u0275inj=jn({})}}return t})(),Cf=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:cg,useValue:e.callSetDisabledState??ry}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ws({type:t})}static{this.\u0275inj=jn({imports:[YN]})}}return t})(),Kre=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:mE,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:cg,useValue:e.callSetDisabledState??ry}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ws({type:t})}static{this.\u0275inj=jn({imports:[YN]})}}return t})();function xE(...t){const n=wC(t),e=fL(t),{args:i,keys:r}=eN(t);if(0===i.length)return Gs([],n);const o=new io(function $re(t,n,e=Vl){return i=>{XN(n,()=>{const{length:r}=t,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)XN(n,()=>{const u=Gs(t[l],n);let d=!1;u.subscribe(Pr(i,g=>{o[l]=g,d||(d=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,n,r?s=>nN(r,s):Vl));return e?o.pipe(tN(e)):o}function XN(t,n,e){t?Ud(e,t,n):n()}const ay=Ct(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ly(t=1/0){return Ra(Vl,t)}function ME(...t){return function qre(){return ly(1)}()(Gs(t,wC(t)))}function JN(t){return new io(n=>{CA(t()).subscribe(n)})}function cy(t,n){const e=bt(t)?t:()=>t,i=r=>r.error(e());return new io(n?r=>n.schedule(i,0,r):i)}const MA=new io(t=>t.complete());function BE(){return dn((t,n)=>{let e=null;t._refCount++;const i=Pr(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class eR extends io{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ea(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new We;const e=this.getSubject();n.add(this.source.subscribe(Pr(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=We.EMPTY)}return n}refCount(){return BE()(this)}}function V0(t){return t<=0?()=>MA:dn((n,e)=>{let i=0;n.subscribe(Pr(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function UC(t){return dn((n,e)=>{let i=!1;n.subscribe(Pr(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function tR(t=Xre){return dn((n,e)=>{let i=!1;n.subscribe(Pr(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function Xre(){return new ay}function hg(t,n){const e=arguments.length>=2;return i=>i.pipe(t?xA((r,o)=>t(r,o,i)):Vl,V0(1),e?UC(n):tR(()=>new ay))}function ya(t,n,e){const i=bt(t)||n||e?{next:t,error:n,complete:e}:t;return i?dn((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Pr(o,l=>{var u;null===(u=i.next)||void 0===u||u.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var u;a=!1,null===(u=i.error)||void 0===u||u.call(i,l),o.error(l)},()=>{var l,u;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(u=i.finalize)||void 0===u||u.call(i)}))}):Vl}function fg(t){return dn((n,e)=>{let o,i=null,r=!1;i=n.subscribe(Pr(e,void 0,void 0,s=>{o=CA(t(s,fg(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function DE(t){return t<=0?()=>MA:dn((n,e)=>{let i=[];n.subscribe(Pr(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}const Ki="primary",uy=Symbol("RouteTitle");class roe{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function j0(t){return new roe(t)}function ooe(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function BA(t,n){const e=t?SE(t):void 0,i=n?SE(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!nR(t[r],n[r]))return!1;return!0}function SE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nR(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}return t===n}function iR(t){return t.length>0?t[t.length-1]:null}function xf(t){return function Wre(t){return!!t&&(t instanceof io||bt(t.lift)&&bt(t.subscribe))}(t)?t:R_(t)?Gs(Promise.resolve(t)):bi(t)}const aoe={exact:function sR(t,n,e){if(!pg(t.segments,n.segments)||!QC(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!sR(t.children[i],n.children[i],e))return!1;return!0},subset:aR},rR={exact:function loe(t,n){return BA(t,n)},subset:function coe(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>nR(t[e],n[e]))},ignored:()=>!0};function oR(t,n,e){return aoe[e.paths](t.root,n.root,e.matrixParams)&&rR[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function aR(t,n,e){return lR(t,n,n.segments,e)}function lR(t,n,e,i){if(t.segments.length>e.length){const r=t.segments.slice(0,e.length);return!(!pg(r,e)||n.hasChildren()||!QC(r,e,i))}if(t.segments.length===e.length){if(!pg(t.segments,e)||!QC(t.segments,e,i))return!1;for(const r in n.children)if(!t.children[r]||!aR(t.children[r],n.children[r],i))return!1;return!0}{const r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!!(pg(t.segments,r)&&QC(t.segments,r,i)&&t.children[Ki])&&lR(t.children[Ki],n,o,i)}}function QC(t,n,e){return n.every((i,r)=>rR[e](t[r].parameters,i.parameters))}class G0{constructor(n=new no([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=j0(this.queryParams),this._queryParamMap}toString(){return doe.serialize(this)}}class no{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return HC(this)}}class Ay{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=j0(this.parameters),this._parameterMap}toString(){return AR(this)}}function pg(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let K0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:()=>new EE,providedIn:"root"})}}return t})();class EE{parse(n){const e=new Coe(n);return new G0(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${dy(n.root,!0)}`,i=function poe(t){const n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${zC(e)}=${zC(r)}`).join("&"):`${zC(e)}=${zC(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function hoe(t){return encodeURI(t)}(n.fragment)}`:""}`}}const doe=new EE;function HC(t){return t.segments.map(n=>AR(n)).join("/")}function dy(t,n){if(!t.hasChildren())return HC(t);if(n){const e=t.children[Ki]?dy(t.children[Ki],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Ki&&i.push(`${r}:${dy(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Aoe(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===Ki&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Ki&&(e=e.concat(n(r,i)))}),e}(t,(i,r)=>r===Ki?[dy(t.children[Ki],!1)]:[`${r}:${dy(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ki]?`${HC(t)}/${e[0]}`:`${HC(t)}/(${e.join("//")})`}}function cR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zC(t){return cR(t).replace(/%3B/gi,";")}function PE(t){return cR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function VC(t){return decodeURIComponent(t)}function uR(t){return VC(t.replace(/\+/g,"%20"))}function AR(t){return`${PE(t.path)}${function foe(t){return Object.entries(t).map(([n,e])=>`;${PE(n)}=${PE(e)}`).join("")}(t.parameters)}`}const goe=/^[^\/()?;#]+/;function IE(t){const n=t.match(goe);return n?n[0]:""}const moe=/^[^\/()?;=#]+/,_oe=/^[^=?&#]+/,boe=/^[^&#]+/;class Coe{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new no([],{}):new no([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Ki]=new no(n,e)),i}parseSegment(){const n=IE(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new mt(4009,!1);return this.capture(n),new Ay(VC(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function voe(t){const n=t.match(moe);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=IE(this.remaining);r&&(i=r,this.capture(i))}n[VC(e)]=VC(i)}parseQueryParam(n){const e=function yoe(t){const n=t.match(_oe);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function woe(t){const n=t.match(boe);return n?n[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=uR(e),o=uR(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=IE(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new mt(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Ki);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Ki]:new no([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new mt(4011,!1)}}function dR(t){return t.segments.length>0?new no([],{[Ki]:t}):t}function hR(t){const n={};for(const[i,r]of Object.entries(t.children)){const o=hR(r);if(i===Ki&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}return function xoe(t){if(1===t.numberOfChildren&&t.children[Ki]){const n=t.children[Ki];return new no(t.segments.concat(n.segments),n.children)}return t}(new no(t.segments,n))}function W0(t){return t instanceof G0}function fR(t){let n;const r=dR(function e(o){const s={};for(const l of o.children){const u=e(l);s[l.outlet]=u}const a=new no(o.url,s);return o===t&&(n=a),a}(t.root));return n??r}function pR(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(0===n.length)return OE(r,r,r,e,i);const o=function Boe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new mR(!0,0,t);let n=0,e=!1;const i=t.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?n++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new mR(e,n,i)}(n);if(o.toRoot())return OE(r,r,new no([],{}),e,i);const s=function Doe(t,n,e){if(t.isAbsolute)return new GC(n,!0,0);if(!e)return new GC(n,!1,NaN);if(null===e.parent)return new GC(e,!0,0);const i=jC(t.commands[0])?0:1;return function Soe(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new mt(4005,!1);r=i.segments.length}return new GC(i,!1,r-o)}(e,e.segments.length-1+i,t.numberOfDoubleDots)}(o,r,t),a=s.processChildren?fy(s.segmentGroup,s.index,o.commands):vR(s.segmentGroup,s.index,o.commands);return OE(r,s.segmentGroup,a,e,i)}function jC(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hy(t){return"object"==typeof t&&null!=t&&t.outlets}function OE(t,n,e,i,r){let s,o={};i&&Object.entries(i).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`}),s=t===n?e:gR(t,n,e);const a=dR(hR(s));return new G0(a,o,r)}function gR(t,n,e){const i={};return Object.entries(t.children).forEach(([r,o])=>{i[r]=o===n?e:gR(o,n,e)}),new no(t.segments,i)}class mR{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&jC(i[0]))throw new mt(4003,!1);const r=i.find(hy);if(r&&r!==iR(i))throw new mt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class GC{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function vR(t,n,e){if(t??=new no([],{}),0===t.segments.length&&t.hasChildren())return fy(t,n,e);const i=function Poe(t,n,e){let i=0,r=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;const s=t.segments[r],a=e[i];if(hy(a))break;const l=`${a}`,u=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!yR(l,u,s))return o;i+=2}else{if(!yR(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const o=new no(t.segments.slice(0,i.pathIndex),{});return o.children[Ki]=new no(t.segments.slice(i.pathIndex),t.children),fy(o,0,r)}return i.match&&0===r.length?new no(t.segments,{}):i.match&&!t.hasChildren()?kE(t,n,e):i.match?fy(t,0,r):kE(t,n,e)}function fy(t,n,e){if(0===e.length)return new no(t.segments,{});{const i=function Eoe(t){return hy(t[0])?t[0].outlets:{[Ki]:t}}(e),r={};if(Object.keys(i).some(o=>o!==Ki)&&t.children[Ki]&&1===t.numberOfChildren&&0===t.children[Ki].segments.length){const o=fy(t.children[Ki],n,e);return new no(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=vR(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new no(t.segments,r)}}function kE(t,n,e){const i=t.segments.slice(0,n);let r=0;for(;r<e.length;){const o=e[r];if(hy(o)){const l=Ioe(o.outlets);return new no(i,l)}if(0===r&&jC(e[0])){i.push(new Ay(t.segments[n].path,_R(e[0]))),r++;continue}const s=hy(o)?o.outlets[Ki]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&jC(a)?(i.push(new Ay(s,_R(a))),r+=2):(i.push(new Ay(s,{})),r++)}return new no(i,{})}function Ioe(t){const n={};return Object.entries(t).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[e]=kE(new no([],{}),0,i))}),n}function _R(t){const n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function yR(t,n,e){return t==e.path&&BA(n,e.parameters)}const py="imperative";var gr=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(gr||{});class DA{constructor(n,e){this.id=n,this.url=e}}class KC extends DA{constructor(n,e,i="imperative",r=null){super(n,e),this.type=gr.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class SA extends DA{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=gr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var mc=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(mc||{}),WC=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(WC||{});class $0 extends DA{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=gr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class q0 extends DA{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=gr.NavigationSkipped}}class $C extends DA{constructor(n,e,i,r){super(n,e),this.error=i,this.target=r,this.type=gr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bR extends DA{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=gr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ooe extends DA{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=gr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class koe extends DA{constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=gr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Foe extends DA{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=gr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Toe extends DA{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=gr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Loe{constructor(n){this.route=n,this.type=gr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Noe{constructor(n){this.route=n,this.type=gr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Roe{constructor(n){this.snapshot=n,this.type=gr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uoe{constructor(n){this.snapshot=n,this.type=gr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qoe{constructor(n){this.snapshot=n,this.type=gr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hoe{constructor(n){this.snapshot=n,this.type=gr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wR{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=gr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class FE{}class TE{constructor(n){this.url=n}}class zoe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gy,this.attachRef=null}}let gy=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new zoe,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class CR{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=LE(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=LE(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=NE(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return NE(n,this._root).map(e=>e.value)}}function LE(t,n){if(t===n.value)return n;for(const e of n.children){const i=LE(t,e);if(i)return i}return null}function NE(t,n){if(t===n.value)return[n];for(const e of n.children){const i=NE(t,e);if(i.length)return i.unshift(n),i}return[]}class Ru{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Z0(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class xR extends CR{constructor(n,e){super(n),this.snapshot=e,QE(this,n)}toString(){return this.snapshot.toString()}}function MR(t){const n=function Voe(t){const o=new UE([],{},{},"",{},Ki,t,null,{});return new BR("",new Ru(o,[]))}(t),e=new Vn([new Ay("",{})]),i=new Vn({}),r=new Vn({}),o=new Vn({}),s=new Vn(""),a=new Vd(e,i,o,s,r,Ki,t,n.root);return a.snapshot=n.root,new xR(new Ru(a,[]),n)}class Vd{constructor(n,e,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Xi(u=>u[uy]))??bi(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Xi(n=>j0(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Xi(n=>j0(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function RE(t,n,e="emptyOnly"){let i;const{routeConfig:r}=t;return i=null===n||"always"!==e&&""!==r?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.data,...r?.data,...t._resolvedData}},r&&SR(r)&&(i.resolve[uy]=r.title),i}class UE{get title(){return this.data?.[uy]}constructor(n,e,i,r,o,s,a,l,u){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=j0(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=j0(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BR extends CR{constructor(n,e){super(e),this.url=n,QE(this,e)}toString(){return DR(this._root)}}function QE(t,n){n.value._routerState=t,n.children.forEach(e=>QE(t,e))}function DR(t){const n=t.children.length>0?` { ${t.children.map(DR).join(", ")} } `:"";return`${t.value}${n}`}function HE(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,BA(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),BA(n.params,e.params)||t.paramsSubject.next(e.params),function soe(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!BA(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),BA(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zE(t,n){const e=BA(t.params,n.params)&&function uoe(t,n){return pg(t,n)&&t.every((e,i)=>BA(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||zE(t.parent,n.parent))}function SR(t){return"string"==typeof t.title||null===t.title}let VE=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ki,this.activateEvents=new Io,this.deactivateEvents=new Io,this.attachEvents=new Io,this.detachEvents=new Io,this.parentContexts=Mt(gy),this.location=Mt(Su),this.changeDetector=Mt(I0),this.environmentInjector=Mt(Hs),this.inputBinder=Mt(qC,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new mt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new mt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new mt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new mt(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new jE(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=ri({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pa]})}}return t})();class jE{__ngOutletInjector(n){return new jE(this.route,this.childContexts,n)}constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Vd?this.route:n===gy?this.childContexts:this.parent.get(n,e)}}const qC=new nn("");let ER=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=xE([i.queryParams,i.params,i.data]).pipe(Tu(([o,s,a],l)=>(a={...o,...s,...a},0===l?bi(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function dX(t){const n=mi(t);if(!n)return null;const e=new g_(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();function my(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const r=function Goe(t,n,e){return n.children.map(i=>{for(const r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return my(t,i,r);return my(t,i)})}(t,n,e);return new Ru(i,r)}{if(t.shouldAttach(n.value)){const o=t.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>my(t,a)),s}}const i=function Koe(t){return new Vd(new Vn(t.url),new Vn(t.params),new Vn(t.queryParams),new Vn(t.fragment),new Vn(t.data),t.outlet,t.component,t)}(n.value),r=n.children.map(o=>my(t,o));return new Ru(i,r)}}const PR="ngNavigationCancelingError";function IR(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=W0(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=OR(!1,mc.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function OR(t,n){const e=new Error(`NavigationCancelingError: ${t||""}`);return e[PR]=!0,e.cancellationCode=n,e}function kR(t){return!!t&&t[PR]}let FR=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=rr({type:t,selectors:[["ng-component"]],standalone:!0,features:[Vc],decls:1,vars:0,template:function(i,r){1&i&&Cn(0,"router-outlet")},dependencies:[VE],encapsulation:2})}}return t})();function GE(t){const n=t.children&&t.children.map(GE),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Ki&&(e.component=FR),e}function EA(t){return t.outlet||Ki}function vy(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class ese{constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),HE(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const r=Z0(e);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){const r=n.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Z0(n);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Z0(n);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){const r=Z0(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Hoe(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Uoe(n.value.snapshot))}activateRoutes(n,e,i){const r=n.value,o=e?e.value:null;if(HE(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),HE(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=vy(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}}class TR{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class ZC{constructor(n,e){this.component=n,this.route=e}}function tse(t,n,e){const i=t._root;return _y(i,n?n._root:null,e,[i.value])}function Y0(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||function Ur(t){return null!==Aa(t)}(t)?n.get(t):t:i}function _y(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Z0(n);return t.children.forEach(s=>{(function ise(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function rse(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!pg(t.url,n.url);case"pathParamsOrQueryParamsChange":return!pg(t.url,n.url)||!BA(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zE(t,n)||!BA(t.queryParams,n.queryParams);default:return!zE(t,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new TR(i)):(o.data=s.data,o._resolvedData=s._resolvedData),_y(t,n,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ZC(a.outlet.component,s))}else s&&yy(n,a,r),r.canActivateChecks.push(new TR(i)),_y(t,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>yy(a,e.getContext(s),r)),r}function yy(t,n,e){const i=Z0(t),r=t.value;Object.entries(i).forEach(([o,s])=>{yy(s,r.component?n?n.children.getContext(o):null:n,e)}),e.canDeactivateChecks.push(new ZC(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function by(t){return"function"==typeof t}function LR(t){return t instanceof ay||"EmptyError"===t?.name}const YC=Symbol("INITIAL_VALUE");function X0(){return Tu(t=>xE(t.map(n=>n.pipe(V0(1),function Yre(...t){const n=wC(t);return dn((e,i)=>{(n?ME(t,e,n):ME(t,e)).subscribe(i)})}(YC)))).pipe(Xi(n=>{for(const e of n)if(!0!==e){if(e===YC)return YC;if(!1===e||e instanceof G0)return e}return!0}),xA(n=>n!==YC),V0(1)))}function NR(t){return function JA(...t){return bh(t)}(ya(n=>{if(W0(n))throw IR(0,n)}),Xi(n=>!0===n))}class KE{constructor(n){this.segmentGroup=n||null}}class WE extends Error{constructor(n){super(),this.urlTree=n}}function J0(t){return cy(new KE(t))}class Cse{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return bi(i);if(r.numberOfChildren>1||!r.children[Ki])return cy(new mt(4e3,!1));r=r.children[Ki]}}applyRedirectCommands(n,e,i){const r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if(e.startsWith("/"))throw new WE(r);return r}applyRedirectCreateUrlTree(n,e,i,r){const o=this.createSegmentGroup(n,e.root,i,r);return new G0(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Object.entries(n).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){const o=this.createSegments(n,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new no(o,s)}createSegments(n,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){const r=i[e.path.substring(1)];if(!r)throw new mt(4001,!1);return r}findOrReturn(n,e){let i=0;for(const r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}}const $E={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xse(t,n,e,i,r){const o=qE(t,n,e);return o.matched?(i=function $oe(t,n){return t.providers&&!t._injector&&(t._injector=_w(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,i),function yse(t,n,e,i){const r=n.canMatch;return r&&0!==r.length?bi(r.map(s=>{const a=Y0(s,t);return xf(function use(t){return t&&by(t.canMatch)}(a)?a.canMatch(n,e):rl(t,()=>a(n,e)))})).pipe(X0(),NR()):bi(!0)}(i,n,e).pipe(Xi(s=>!0===s?o:{...$E}))):bi(o)}function qE(t,n,e){if("**"===n.path)return function Mse(t){return{matched:!0,parameters:t.length>0?iR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...$E}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(n.matcher||ooe)(e,t,n);if(!r)return{...$E};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function RR(t,n,e,i){return e.length>0&&function Sse(t,n,e){return e.some(i=>XC(t,n,i)&&EA(i)!==Ki)}(t,e,i)?{segmentGroup:new no(n,Dse(i,new no(e,t.children))),slicedSegments:[]}:0===e.length&&function Ese(t,n,e){return e.some(i=>XC(t,n,i))}(t,e,i)?{segmentGroup:new no(t.segments,Bse(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new no(t.segments,t.children),slicedSegments:e}}function Bse(t,n,e,i){const r={};for(const o of e)if(XC(t,n,o)&&!i[EA(o)]){const s=new no([],{});r[EA(o)]=s}return{...i,...r}}function Dse(t,n){const e={};e[Ki]=n;for(const i of t)if(""===i.path&&EA(i)!==Ki){const r=new no([],{});e[EA(i)]=r}return e}function XC(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class Ose{}class Tse{constructor(n,e,i,r,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Cse(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new mt(4002,`'${n.segmentGroup}'`)}recognize(){const n=RR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Xi(e=>{const i=new UE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ki,this.rootComponentType,null,{}),r=new Ru(i,e),o=new BR("",r),s=function Moe(t,n,e=null,i=null){return pR(fR(t),n,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,Ki).pipe(fg(i=>{if(i instanceof WE)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof KE?this.noMatchError(i):i}))}inheritParamsAndData(n,e){const i=n.value,r=RE(i,e,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(n,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,r,!0).pipe(Xi(o=>o instanceof Ru?[o]:[]))}processChildren(n,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Gs(r).pipe(L0(o=>{const s=i.children[o],a=function Xoe(t,n){const e=t.filter(i=>EA(i)===n);return e.push(...t.filter(i=>EA(i)!==n)),e}(e,o);return this.processSegmentGroup(n,a,s,o)}),function eoe(t,n){return dn(function Jre(t,n,e,i,r){return(o,s)=>{let a=e,l=n,u=0;o.subscribe(Pr(s,d=>{const g=u++;l=a?t(l,d,g):(a=!0,d),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(t,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),UC(null),function toe(t,n){const e=arguments.length>=2;return i=>i.pipe(t?xA((r,o)=>t(r,o,i)):Vl,DE(1),e?UC(n):tR(()=>new ay))}(),Ra(o=>{if(null===o)return J0(i);const s=UR(o);return function Lse(t){t.sort((n,e)=>n.value.outlet===Ki?-1:e.value.outlet===Ki?1:n.value.outlet.localeCompare(e.value.outlet))}(s),bi(s)}))}processSegment(n,e,i,r,o,s){return Gs(e).pipe(L0(a=>this.processSegmentAgainstRoute(a._injector??n,e,a,i,r,o,s).pipe(fg(l=>{if(l instanceof KE)return bi(null);throw l}))),hg(a=>!!a),fg(a=>{if(LR(a))return function Ise(t,n,e){return 0===n.length&&!t.children[e]}(i,r,o)?bi(new Ose):J0(i);throw a}))}processSegmentAgainstRoute(n,e,i,r,o,s,a){return function Pse(t,n,e,i){return!!(EA(t)===i||i!==Ki&&XC(n,e,t))&&qE(n,t,e).matched}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,s):J0(r):J0(r)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:d}=qE(e,r,o);if(!a)return J0(e);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,g).pipe(Ra(y=>this.processSegment(n,i,e,y.concat(d),s,!1)))}matchSegmentAgainstRoute(n,e,i,r,o){const s=xse(e,i,r,n);return"**"===i.path&&(e.children={}),s.pipe(Tu(a=>a.matched?this.getChildConfig(n=i._injector??n,i,r).pipe(Tu(({routes:l})=>{const u=i._loadedInjector??n,{consumedSegments:d,remainingSegments:g,parameters:y}=a,m=new UE(d,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Rse(t){return t.data||{}}(i),EA(i),i.component??i._loadedComponent??null,i,function Use(t){return t.resolve||{}}(i)),{segmentGroup:B,slicedSegments:D}=RR(e,d,g,l);if(0===D.length&&B.hasChildren())return this.processChildren(u,l,B).pipe(Xi(F=>null===F?null:new Ru(m,F)));if(0===l.length&&0===D.length)return bi(new Ru(m,[]));const I=EA(i)===o;return this.processSegment(u,l,B,D,I?Ki:o,!0).pipe(Xi(F=>new Ru(m,F instanceof Ru?[F]:[])))})):J0(e)))}getChildConfig(n,e,i){return e.children?bi({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?bi({routes:e._loadedRoutes,injector:e._loadedInjector}):function _se(t,n,e,i){const r=n.canLoad;return void 0===r||0===r.length?bi(!0):bi(r.map(s=>{const a=Y0(s,t);return xf(function sse(t){return t&&by(t.canLoad)}(a)?a.canLoad(n,e):rl(t,()=>a(n,e)))})).pipe(X0(),NR())}(n,e,i).pipe(Ra(r=>r?this.configLoader.loadChildren(n,e).pipe(ya(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function wse(t){return cy(OR(!1,mc.GuardRejected))}())):bi({routes:[],injector:n})}}function Nse(t){const n=t.value.routeConfig;return n&&""===n.path}function UR(t){const n=[],e=new Set;for(const i of t){if(!Nse(i)){n.push(i);continue}const r=n.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):n.push(i)}for(const i of e){const r=UR(i.children);n.push(new Ru(i.value,r))}return n.filter(i=>!e.has(i))}function QR(t){const n=t.children.map(e=>QR(e)).flat();return[t,...n]}function ZE(t){return Tu(n=>{const e=t(n);return e?Gs(e).pipe(Xi(()=>n)):bi(n)})}let HR=(()=>{class t{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ki);return i}getResolvedTitleForRoute(e){return e.data[uy]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:()=>Mt(Gse),providedIn:"root"})}}return t})(),Gse=(()=>{class t extends HR{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(cn(Pee))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const e1=new nn("",{providedIn:"root",factory:()=>({})}),t1=new nn("");let YE=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Mt(XT)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return bi(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=xf(e.loadComponent()).pipe(Xi(zR),ya(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),N0(()=>{this.componentLoaders.delete(e)})),r=new eR(i,()=>new Pa).pipe(BE());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return bi({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Kse(t,n,e,i){return xf(t.loadChildren()).pipe(Xi(zR),Ra(r=>r instanceof hk||Array.isArray(r)?bi(r):Gs(n.compileModuleAsync(r))),Xi(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(t1,[],{optional:!0,self:!0}).flat()),{routes:s.map(GE),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(N0(()=>{this.childrenLoaders.delete(i)})),s=new eR(o,()=>new Pa).pipe(BE());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function zR(t){return function Wse(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let XE=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:()=>Mt($se),providedIn:"root"})}}return t})(),$se=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const VR=new nn(""),jR=new nn("");function qse(t,n,e){const i=t.get(jR),r=t.get(Ll);return t.get(Cr).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o;const s=new Promise(u=>{o=u}),a=r.startViewTransition(()=>(o(),function Zse(t){return new Promise(n=>{LB(n,{injector:t})})}(t))),{onViewTransitionCreated:l}=i;return l&&rl(t,()=>l({transition:a,from:n,to:e})),s})}let JC=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pa,this.transitionAbortSubject=new Pa,this.configLoader=Mt(YE),this.environmentInjector=Mt(Hs),this.urlSerializer=Mt(K0),this.rootContexts=Mt(gy),this.location=Mt(H_),this.inputBindingEnabled=null!==Mt(qC,{optional:!0}),this.titleStrategy=Mt(HR),this.options=Mt(e1,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Mt(XE),this.createViewTransition=Mt(VR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>bi(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Noe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Loe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new Vn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:py,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xA(o=>0!==o.id),Xi(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Tu(o=>{let s=!1,a=!1;return bi(o).pipe(Tu(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",mc.SupersededByNewNavigation),MA;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const g="";return this.events.next(new q0(l.id,this.urlSerializer.serialize(l.rawUrl),g,WC.IgnoredSameUrlNavigation)),l.resolve(null),MA}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return bi(l).pipe(Tu(g=>{const y=this.transitions?.getValue();return this.events.next(new KC(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?MA:Promise.resolve(g)}),function Qse(t,n,e,i,r,o){return Ra(s=>function kse(t,n,e,i,r,o,s="emptyOnly"){return new Tse(t,n,e,i,r,s,o).recognize()}(t,n,e,i,s.extractedUrl,r,o).pipe(Xi(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ya(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const y=new bR(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:y,source:m,restoredState:B,extras:D}=l,I=new KC(g,this.urlSerializer.serialize(y),m,B);this.events.next(I);const F=MR(this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:F,urlAfterRedirects:y,extras:{...D,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=y,bi(o)}{const g="";return this.events.next(new q0(l.id,this.urlSerializer.serialize(l.extractedUrl),g,WC.IgnoredByUrlHandlingStrategy)),l.resolve(null),MA}}),ya(l=>{const u=new Ooe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Xi(l=>(this.currentTransition=o={...l,guards:tse(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function Ase(t,n){return Ra(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?bi({...e,guardsResult:!0}):function dse(t,n,e,i){return Gs(t).pipe(Ra(r=>function vse(t,n,e,i,r){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?bi(o.map(a=>{const l=vy(n)??r,u=Y0(a,l);return xf(function cse(t){return t&&by(t.canDeactivate)}(u)?u.canDeactivate(t,n,e,i):rl(l,()=>u(t,n,e,i))).pipe(hg())})).pipe(X0()):bi(!0)}(r.component,r.route,e,n,i)),hg(r=>!0!==r,!0))}(s,i,r,t).pipe(Ra(a=>a&&function ose(t){return"boolean"==typeof t}(a)?function hse(t,n,e,i){return Gs(n).pipe(L0(r=>ME(function pse(t,n){return null!==t&&n&&n(new Roe(t)),bi(!0)}(r.route.parent,i),function fse(t,n){return null!==t&&n&&n(new Qoe(t)),bi(!0)}(r.route,i),function mse(t,n,e){const i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function nse(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>JN(()=>bi(s.guards.map(l=>{const u=vy(s.node)??e,d=Y0(l,u);return xf(function lse(t){return t&&by(t.canActivateChild)}(d)?d.canActivateChild(i,t):rl(u,()=>d(i,t))).pipe(hg())})).pipe(X0())));return bi(o).pipe(X0())}(t,r.path,e),function gse(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return bi(!0);const r=i.map(o=>JN(()=>{const s=vy(n)??e,a=Y0(o,s);return xf(function ase(t){return t&&by(t.canActivate)}(a)?a.canActivate(n,t):rl(s,()=>a(n,t))).pipe(hg())}));return bi(r).pipe(X0())}(t,r.route,e))),hg(r=>!0!==r,!0))}(i,o,t,n):bi(a)),Xi(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),ya(l=>{if(o.guardsResult=l.guardsResult,W0(l.guardsResult))throw IR(0,l.guardsResult);const u=new koe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),xA(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",mc.GuardRejected),!1)),ZE(l=>{if(l.guards.canActivateChecks.length)return bi(l).pipe(ya(u=>{const d=new Foe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Tu(u=>{let d=!1;return bi(u).pipe(function Hse(t,n){return Ra(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return bi(e);const o=new Set(r.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const u of QR(l))s.add(u);let a=0;return Gs(s).pipe(L0(l=>o.has(l)?function zse(t,n,e,i){const r=t.routeConfig,o=t._resolve;return void 0!==r?.title&&!SR(r)&&(o[uy]=r.title),function Vse(t,n,e,i){const r=SE(t);if(0===r.length)return bi({});const o={};return Gs(r).pipe(Ra(s=>function jse(t,n,e,i){const r=vy(n)??i,o=Y0(t,r);return xf(o.resolve?o.resolve(n,e):rl(r,()=>o(n,e)))}(t[s],n,e,i).pipe(hg(),ya(a=>{o[s]=a}))),DE(1),function noe(t){return Xi(()=>t)}(o),fg(s=>LR(s)?MA:cy(s)))}(o,t,n,i).pipe(Xi(s=>(t._resolvedData=s,t.data=RE(t,t.parent,e).resolve,null)))}(l,i,t,n):(l.data=RE(l,l.parent,t).resolve,bi(void 0))),ya(()=>a++),DE(1),Ra(l=>a===s.size?bi(e):MA))})}(this.paramsInheritanceStrategy,this.environmentInjector),ya({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",mc.NoDataFromResolver)}}))}),ya(u=>{const d=new Toe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),ZE(l=>{const u=d=>{const g=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(d.routeConfig).pipe(ya(y=>{d.component=y}),Xi(()=>{})));for(const y of d.children)g.push(...u(y));return g};return xE(u(l.targetSnapshot.root)).pipe(UC(null),V0(1))}),ZE(()=>this.afterPreactivation()),Tu(()=>{const{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Gs(d).pipe(Xi(()=>o)):bi(o)}),Xi(l=>{const u=function joe(t,n,e){const i=my(t,n._root,e?e._root:void 0);return new xR(i,n)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},this.currentNavigation.targetRouterState=u,o}),ya(()=>{this.events.next(new FE)}),((t,n,e,i)=>Xi(r=>(new ese(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),V0(1),ya({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new SA(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function ioe(t){return dn((n,e)=>{CA(t).subscribe(Pr(e,()=>e.complete(),En)),!e.closed&&n.subscribe(e)})}(this.transitionAbortSubject.pipe(ya(l=>{throw l}))),N0(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",mc.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),fg(l=>{if(a=!0,kR(l))this.events.next(new $0(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function Woe(t){return kR(t)&&W0(t.url)}(l)?this.events.next(new TE(l.url)):o.resolve(!1);else{this.events.next(new $C(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return MA}))}))}cancelNavigationTransition(e,i,r){const o=new $0(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Yse(t){return t!==py}let Xse=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:()=>Mt(eae),providedIn:"root"})}}return t})();class Jse{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let eae=(()=>{class t extends Jse{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qo(t)))(r||t)}})()}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),GR=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:()=>Mt(tae),providedIn:"root"})}}return t})(),tae=(()=>{class t extends GR{constructor(){super(...arguments),this.location=Mt(H_),this.urlSerializer=Mt(K0),this.options=Mt(e1,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Mt(XE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new G0,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=MR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof KC)this.stateMemento=this.createStateMemento();else if(e instanceof q0)this.rawUrlTree=i.initialUrl;else if(e instanceof bR){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else e instanceof FE?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):e instanceof $0&&(e.code===mc.GuardRejected||e.code===mc.NoDataFromResolver)?this.restoreHistory(i):e instanceof $C?this.restoreHistory(i,!0):e instanceof SA&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&0===o&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Qo(t)))(r||t)}})()}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wy=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(wy||{});function KR(t,n){t.events.pipe(xA(e=>e instanceof SA||e instanceof $0||e instanceof $C||e instanceof q0),Xi(e=>e instanceof SA||e instanceof q0?wy.COMPLETE:e instanceof $0&&(e.code===mc.Redirect||e.code===mc.SupersededByNewNavigation)?wy.REDIRECTING:wy.FAILED),xA(e=>e!==wy.REDIRECTING),V0(1)).subscribe(()=>{n()})}function nae(t){throw t}const iae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ks=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Mt(zT),this.stateManager=Mt(GR),this.options=Mt(e1,{optional:!0})||{},this.pendingTasks=Mt(lf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Mt(JC),this.urlSerializer=Mt(K0),this.location=Mt(H_),this.urlHandlingStrategy=Mt(XE),this._events=new Pa,this.errorHandler=this.options.errorHandler||nae,this.navigated=!1,this.routeReuseStrategy=Mt(Xse),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Mt(t1,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Mt(qC,{optional:!0}),this.eventsSubscription=new We,this.isNgZoneEnabled=Mt(Cr)instanceof Cr&&Cr.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof $0&&i.code!==mc.Redirect&&i.code!==mc.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof SA)this.navigated=!0;else if(i instanceof TE){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yse(r.source)};this.scheduleNavigation(s,py,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function sae(t){return!(t instanceof FE||t instanceof TE)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),py,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(GE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:s;let g,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{g=fR(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),g=this.currentUrlTree.root}return pR(g,e,d,u??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=W0(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,py,null,i)}navigate(e,i={skipLocationChange:!1}){return function oae(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new mt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(r=!0===i?{...iae}:!1===i?{...rae}:i,W0(e))return oR(this.currentUrlTree,e,r);const o=this.parseUrl(e);return oR(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((g,y)=>{a=g,l=y});const d=this.pendingTasks.add();return KR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),n1=(()=>{class t{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Pa,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(u=>{u instanceof SA&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const i=null===this.href?null:function MI(t,n,e){return function oj(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?xI:n0}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||t)(wt(Ks),wt(Vd),function Gp(t){return function MM(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(bp(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===n)return e[r+1];r+=2}}}return null}(br(),t)}("tabindex"),wt(Id),wt(cl),wt(ng))}}static{this.\u0275dir=ri({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&it("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Ds("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ir.HasDecoratorInputTransform,"preserveFragment","preserveFragment",k0],skipLocationChange:[Ir.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",k0],replaceUrl:[Ir.HasDecoratorInputTransform,"replaceUrl","replaceUrl",k0],routerLink:"routerLink"},standalone:!0,features:[dk,pa]})}}return t})(),WR=(()=>{class t{get isActive(){return this._isActive}constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Io,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof SA&&this.update()})}ngAfterContentInit(){bi(this.links.changes,bi(null)).pipe(ly()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Gs(e).pipe(ly()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function aae(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{const o=r.urlTree;return!!o&&e.isActive(o,i)}}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static{this.\u0275fac=function(i){return new(i||t)(wt(Ks),wt(cl),wt(Id),wt(I0),wt(n1,8))}}static{this.\u0275dir=ri({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(1&i&&eT(o,n1,5),2&i){let s;yD(s=bD())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[pa]})}}return t})();class $R{}let lae=(()=>{class t{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(xA(e=>e instanceof SA),L0(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=_w(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Gs(r).pipe(ly())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):bi(null);const o=r.pipe(Ra(s=>null===s?bi(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?Gs([o,this.loader.loadComponent(i)]).pipe(ly()):o})}static{this.\u0275fac=function(i){return new(i||t)(cn(Ks),cn(XT),cn(Hs),cn($R),cn(YE))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const JE=new nn("");let qR=(()=>{class t{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=Mt(Hs),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof KC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof SA?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof q0&&e.code===WC.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof wR&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){var r=this;this.zone.runOutsideAngular((0,qe.A)(function*(){yield new Promise(o=>{setTimeout(()=>{o()}),LB(()=>{o()},{injector:r.environmentInjector})}),r.zone.run(()=>{r.transitions.events.next(new wR(e,"popstate"===r.lastSource?r.store[r.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){!function qI(){throw new Error("invalid")}()}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})();function PA(t,n){return{\u0275kind:t,\u0275providers:n}}function YR(){const t=Mt(Ms);return n=>{const e=t.get(Af);if(n!==e.components[0])return;const i=t.get(Ks),r=t.get(XR);1===t.get(e4)&&i.initialNavigation(),t.get(JR,null,Hi.Optional)?.setUpPreloading(),t.get(JE,null,Hi.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const XR=new nn("",{factory:()=>new Pa}),e4=new nn("",{providedIn:"root",factory:()=>1}),JR=new nn("");function dae(t){return PA(0,[{provide:JR,useExisting:lae},{provide:$R,useExisting:t}])}function fae(t){return PA(9,[{provide:VR,useValue:qse},{provide:jR,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const eU=new nn("ROUTER_FORROOT_GUARD"),pae=[H_,{provide:K0,useClass:EE},Ks,gy,{provide:Vd,useFactory:function ZR(t){return t.routerState.root},deps:[Ks]},YE,[]];let tU=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[pae,[],{provide:t1,multi:!0,useValue:e},{provide:eU,useFactory:_ae,deps:[[Ks,new fr,new Gr]]},{provide:e1,useValue:i||{}},i?.useHash?{provide:ng,useClass:mX}:{provide:ng,useClass:z6},{provide:JE,useFactory:()=>{const t=Mt(IJ),n=Mt(Cr),e=Mt(e1),i=Mt(JC),r=Mt(K0);return e.scrollOffset&&t.setOffset(e.scrollOffset),new qR(r,i,t,n,e)}},i?.preloadingStrategy?dae(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?yae(i):[],i?.bindToComponentInputs?PA(8,[ER,{provide:qC,useExisting:ER}]).\u0275providers:[],i?.enableViewTransitions?fae().\u0275providers:[],[{provide:nU,useFactory:YR},{provide:ND,multi:!0,useExisting:nU}]]}}static forChild(e){return{ngModule:t,providers:[{provide:t1,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||t)(cn(eU,8))}}static{this.\u0275mod=ws({type:t})}static{this.\u0275inj=jn({})}}return t})();function _ae(t){return"guarded"}function yae(t){return["disabled"===t.initialNavigation?PA(3,[{provide:TD,multi:!0,useFactory:()=>{const n=Mt(Ks);return()=>{n.setUpLocationChangeListener()}}},{provide:e4,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?PA(2,[{provide:e4,useValue:0},{provide:TD,multi:!0,deps:[Ms],useFactory:n=>{const e=n.get(pX,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=n.get(Ks),o=n.get(XR);KR(r,()=>{i(!0)}),n.get(JC).afterPreactivation=()=>(i(!0),o.closed?bi(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const nU=new nn("");var qr=Ve(8244);const Uu=()=>window.__API_BASE__||"http://localhost:54247";let ex=(()=>{class t{constructor(e){this.http=e,this.apiUrl=`${Uu()}/api/zones`}getAllZones(){return this.http.get(this.apiUrl)}getZoneById(e){return this.http.get(`${this.apiUrl}/${e}`)}getZonesByEmirate(e){return this.http.get(`${this.apiUrl}/emirate/${e}`)}getZonesByType(e){return this.http.get(`${this.apiUrl}/type/${e}`)}getZoneBoundary(e){return this.http.get(`${this.apiUrl}/${e}/boundary`)}createZone(e){return this.http.post(this.apiUrl,e)}updateZone(e,i){return this.http.put(`${this.apiUrl}/${e}`,i)}deleteZone(e){return this.http.delete(`${this.apiUrl}/${e}`)}getZoneStatistics(e,i){return this.http.get(`${this.apiUrl}/${e}/statistics`,{params:{date:i.toISOString()}})}static{this.\u0275fac=function(i){return new(i||t)(cn($c))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function r1(t,n){const e="object"==typeof n;return new Promise((i,r)=>{const o=new bs({next:s=>{i(s),o.unsubscribe()},error:r,complete:()=>{e?i(n.defaultValue):r(new ay)}});t.subscribe(o)})}let wae=(()=>{class t{constructor(e){this.http=e,this.apiUrl=`${Uu()}/api/traffic`,this.liveApiEnabled=!0}isLiveAvailable(){return this.liveApiEnabled}getLiveTraffic(e){var i=this;return(0,qe.A)(function*(){try{return yield r1(i.http.get(`${i.apiUrl}/live/${e}`))}catch{return i.buildMockTraffic(e)}})()}getHistoricalPattern(e,i){var r=this;return(0,qe.A)(function*(){try{return yield r1(r.http.get(`${r.apiUrl}/historical/${e}`,{params:{time:i.toISOString()}}))}catch{return r.buildMockHistorical(i)}})()}getIncidents(e){var i=this;return(0,qe.A)(function*(){try{return yield r1(i.http.get(`${i.apiUrl}/incidents`,{params:{area:e}}))}catch{return[]}})()}buildMockTraffic(e){const i=this.mockSegments(),r=i.reduce((s,a)=>s+a.speed,0)/(i.length||1),o=i.reduce((s,a)=>s+a.congestionLevel,0)/(i.length||1);return{averageSpeed:Math.round(10*r)/10,congestionLevel:Math.round(o),timestamp:(new Date).toISOString(),reliability:.7,segments:i,incidents:this.mockIncidents()}}buildMockHistorical(e){const i=e.getHours(),r=i>=7&&i<=9?25:i>=16&&i<=19?28:55,o=i>=7&&i<=9?75:i>=16&&i<=19?70:40;return{points:[],segments:this.mockSegments(r),incidents:this.mockIncidents(),baseSpeed:r,congestionLevel:o}}mockSegments(e=40){const r=[60,40,30,70],o=["N","S","E","W"];return[e-5,e,e+6,e-8].map((s,a)=>({id:`seg-${a+1}`,path:[],speed:Math.max(15,s),congestionLevel:r[a]??50,flowDirection:o[a]??"N"}))}mockIncidents(){return[{id:"incident-1",type:"Roadworks",description:"Lane closure due to maintenance",severity:"Medium",latitude:25.2048,longitude:55.2708},{id:"incident-2",type:"Accident",description:"Minor collision, expect delays",severity:"Low",latitude:24.4539,longitude:54.3773}]}static{this.\u0275fac=function(i){return new(i||t)(cn($c))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Cae=(()=>{class t{constructor(e){this.trafficApi=e,this.map=null,this.trafficLayer=null,this.heatmapLayer=null,this.speedLayer=null,this.flowLayer=null,this.incidentLayer=null,this.overlayLayer=null,this.liveRefreshHandle=null}isLiveAvailable(){return this.trafficApi.isLiveAvailable()}initialize(e){this.map=e,this.trafficLayer=qr.layerGroup().addTo(e),this.speedLayer=qr.layerGroup().addTo(e),this.flowLayer=qr.layerGroup().addTo(e),this.incidentLayer=qr.layerGroup().addTo(e),this.overlayLayer=qr.layerGroup().addTo(e);const i=qr.heatLayer;this.heatmapLayer=i?i([],{radius:25,blur:18,maxZoom:13}).addTo(e):qr.layerGroup().addTo(e)}clear(){this.trafficLayer?.clearLayers(),this.speedLayer?.clearLayers(),this.flowLayer?.clearLayers(),this.incidentLayer?.clearLayers(),this.overlayLayer?.clearLayers(),this.heatmapLayer?.setLatLngs?this.heatmapLayer.setLatLngs([]):this.heatmapLayer?.clearLayers&&this.heatmapLayer.clearLayers()}stopLiveUpdates(){this.liveRefreshHandle&&(window.clearInterval(this.liveRefreshHandle),this.liveRefreshHandle=null)}startLiveUpdates(e,i){this.stopLiveUpdates(),this.showLiveTraffic(e,i),this.liveRefreshHandle=window.setInterval(()=>{this.showLiveTraffic(e,i)},3e5)}showLiveTraffic(e,i){var r=this;return(0,qe.A)(function*(){const o=yield r.trafficApi.getLiveTraffic(e.id);r.renderTraffic(o,e,i)})()}showHistoricalPattern(e,i,r){var o=this;return(0,qe.A)(function*(){const s=yield o.trafficApi.getHistoricalPattern(e.id,i);o.renderHistorical(s,e,i,r)})()}showSimulationResults(e,i,r){var o=this;return(0,qe.A)(function*(){const s=yield o.trafficApi.getHistoricalPattern(e.id,i);o.renderHistorical(s,e,i,r,!0)})()}renderTraffic(e,i,r){this.clear();const o=this.getZoneCenter(i),s=this.getBoundingBox(r,o),a=this.inflateSegments(e.segments,s),l=this.convertSegmentsToHeatmap(a);this.setHeatmapPoints(l),this.addFlowLines(a),this.addSpeedIndicators(a),this.addIncidents(e.incidents,o,s)}renderHistorical(e,i,r,o,s=!1){this.clear();const a=this.getZoneCenter(i),l=this.getBoundingBox(o,a),u=this.inflateSegments(e.segments,l),d=this.convertSegmentsToHeatmap(u);this.setHeatmapPoints(d),this.addFlowLines(u,s),this.addSpeedIndicators(u),this.addIncidents(e.incidents,a,l),this.isPrayerTime(r)&&this.addPrayerTimeOverlay(a),this.isSchoolTime(r)&&this.highlightSchoolZones(a),this.isConstructionSeason(r)&&this.addConstructionWarnings(a)}setHeatmapPoints(e){this.heatmapLayer?.setLatLngs?this.heatmapLayer.setLatLngs(e):this.heatmapLayer?.clearLayers&&(this.heatmapLayer.clearLayers(),e.forEach(([i,r,o])=>{qr.circleMarker([i,r],{radius:8+8*o,fillColor:"#F44336",fillOpacity:Math.min(.7,.2+.5*o),stroke:!1}).addTo(this.heatmapLayer)}))}convertSegmentsToHeatmap(e){return e.flatMap(i=>{const r=Math.min(1,Math.max(.1,i.congestionLevel/100));return i.path.map(o=>[o[0],o[1],r])})}addSpeedIndicators(e){this.speedLayer&&e.forEach(i=>{const r=this.getSegmentMidpoint(i.path);r&&qr.marker([r[0],r[1]],{icon:qr.divIcon({className:"speed-indicator",html:`<span>${Math.round(i.speed)} km/h</span>`})}).addTo(this.speedLayer)})}addFlowLines(e,i=!1){this.flowLayer&&e.forEach(r=>{const o=this.getCongestionColor(r.congestionLevel);qr.polyline(r.path,{color:o,weight:4,opacity:i?.7:.9,dashArray:"8 10",className:"traffic-flow"}).addTo(this.flowLayer)})}addIncidents(e,i,r){this.incidentLayer&&(e.length>0?e:this.generateIncidents(i,r)).forEach(s=>{const a=qr.marker([s.latitude,s.longitude],{icon:qr.divIcon({className:`incident-marker ${s.severity.toLowerCase()}`,html:`<span>${s.type}</span>`})});a.bindPopup(`<strong>${s.type}</strong><br/>${s.description}`),a.addTo(this.incidentLayer)})}addPrayerTimeOverlay(e){if(!this.overlayLayer)return;const i=qr.circle(e,{radius:2200,color:"#5C6BC0",weight:2,fillOpacity:.08,dashArray:"6 6"});i.bindTooltip("Prayer time: reduced traffic",{permanent:!1}),i.addTo(this.overlayLayer)}highlightSchoolZones(e){this.overlayLayer&&[.01,-.012,.014].forEach((r,o)=>{qr.marker([e.lat+r,e.lng-r],{icon:qr.divIcon({className:"school-zone-marker",html:`<span>School ${o+1}</span>`})}).addTo(this.overlayLayer)})}addConstructionWarnings(e){this.overlayLayer&&qr.marker([e.lat-.015,e.lng+.012],{icon:qr.divIcon({className:"construction-marker",html:"<span>Construction</span>"})}).addTo(this.overlayLayer)}inflateSegments(e,i){return 0===e.length?this.generateSegments(i):e.map(r=>({...r,path:r.path.length>1?r.path:this.randomPath(i)}))}generateSegments(e){return["N","S","E","W"].map((r,o)=>({id:`auto-${o}`,path:this.randomPath(e),speed:25+6*o,congestionLevel:40+10*o,flowDirection:r}))}randomPath(e){return[this.randomPoint(e),this.randomPoint(e)]}randomPoint(e){return[e.getSouth()+Math.random()*(e.getNorth()-e.getSouth()),e.getWest()+Math.random()*(e.getEast()-e.getWest())]}getSegmentMidpoint(e){return 0===e.length?null:e[Math.floor(e.length/2)]}getZoneCenter(e){return"number"==typeof e.latitude&&"number"==typeof e.longitude?qr.latLng(e.latitude,e.longitude):this.map?.getCenter()??qr.latLng(24.4539,54.3773)}getBoundingBox(e,i){if(e){const o=e.split(",").map(s=>Number(s));if(4===o.length&&o.every(s=>!Number.isNaN(s)))return qr.latLngBounds([o[1],o[0]],[o[3],o[2]])}const r=.05;return qr.latLngBounds([i.lat-r,i.lng-r],[i.lat+r,i.lng+r])}getCongestionColor(e){return e<35?"#4CAF50":e<70?"#FFC107":"#F44336"}generateIncidents(e,i){return[{id:"mock-incident-1",type:"Accident",description:"Minor collision, right lane blocked",severity:"Medium",latitude:e.lat+.01,longitude:e.lng-.012},{id:"mock-incident-2",type:"Roadworks",description:"Road maintenance - expect delays",severity:"Low",latitude:i.getSouth()+.3*(i.getNorth()-i.getSouth()),longitude:i.getWest()+.6*(i.getEast()-i.getWest())}]}isPrayerTime(e){const i=e.getHours();return 5===e.getDay()?i>=12&&i<13:i>=12&&i<13||i>=15&&i<16}isSchoolTime(e){const i=e.getHours(),r=e.getDay();return 5!==r&&6!==r&&i>=7&&i<=9}isConstructionSeason(e){return e.getMonth()>=6&&e.getMonth()<=9}static{this.\u0275fac=function(i){return new(i||t)(cn(wae))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function xae(t,n){1&t&&(h(0,"span",21),f(1,"Live"),A())}function Mae(t,n){1&t&&(h(0,"span",22),f(1,"Historical"),A())}function Bae(t,n){1&t&&(h(0,"span",23),f(1,"Simulation"),A())}function Dae(t,n){1&t&&(h(0,"span",24),f(1," API key missing "),A())}function Sae(t,n){if(1&t){const e=ti();h(0,"div",25)(1,"div",26)(2,"span",4),f(3,"Time:"),A(),h(4,"strong"),f(5),A()(),h(6,"input",27),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.timeIndex,r)||(o.timeIndex=r),gt(r)}),it("input",function(){return pt(e),gt(Fe().onTimeChange())}),A(),h(7,"button",28),it("click",function(){return pt(e),gt(Fe().toggleAnimation())}),f(8),A(),h(9,"select",29),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.animationSpeed,r)||(o.animationSpeed=r),gt(r)}),it("change",function(){return pt(e),gt(Fe().onSpeedChange())}),h(10,"option",30),f(11,"Slow"),A(),h(12,"option",30),f(13,"Normal"),A(),h(14,"option",30),f(15,"Fast"),A()()()}if(2&t){const e=Fe();S(5),lt(e.formatHour(e.timeIndex)),S(),Mn("ngModel",e.timeIndex),S(2),Me(" ",e.isAnimating?"Pause":"Play"," "),S(),Mn("ngModel",e.animationSpeed),S(),ke("ngValue",2500),S(2),ke("ngValue",1500),S(2),ke("ngValue",800)}}function Eae(t,n){1&t&&(h(0,"div",31),f(1,"Loading zones..."),A())}function Pae(t,n){if(1&t&&(h(0,"div",32),f(1),A()),2&t){const e=Fe();S(),lt(e.error)}}function Iae(t,n){if(1&t){const e=ti();h(0,"div",39),it("click",function(){const r=pt(e).$implicit;return gt(Fe(2).onZoneSelected(r))}),Cn(1,"div",40),h(2,"div",41)(3,"h5"),f(4),A(),h(5,"span",42),f(6),A(),h(7,"div",43)(8,"span",44),f(9,"Rate:"),A(),h(10,"span",45),f(11),A()()()()}if(2&t){const e=n.$implicit,i=Fe(2);Un("selected",(null==i.selectedZone?null:i.selectedZone.id)===e.id),S(),Ko("background-color",i.getZoneColor(e.zoneType)),S(3),lt(e.name),S(2),lt(e.zoneType),S(5),Me("AED ",e.chargePerHour,"/hr")}}function Oae(t,n){if(1&t&&(h(0,"div",33)(1,"div",34)(2,"span",35),f(3),A(),h(4,"h4"),f(5),A(),h(6,"span",36),f(7),A()(),h(8,"div",37),xt(9,Iae,12,7,"div",38),A()()),2&t){const e=n.$implicit;S(3),Me(" ","Dubai"===e.emirate?"\u{1f1e6}\u{1f1ea}":"Abu Dhabi"===e.emirate?"\u{1f3db}\ufe0f":"\u{1f54c}"," "),S(2),lt(e.emirate),S(2),Me("",e.zones.length," zones"),S(2),ke("ngForOf",e.zones)}}function kae(t,n){if(1&t&&(h(0,"div",46)(1,"h3"),f(2),A(),h(3,"p")(4,"strong"),f(5,"Type:"),A(),f(6),A(),h(7,"p")(8,"strong"),f(9,"Base Free Hours:"),A(),f(10),A(),h(11,"p")(12,"strong"),f(13,"Charge Per Hour:"),A(),f(14),A()()),2&t){const e=Fe();S(2),Me("",e.selectedZone.name," Details"),S(4),Me(" ",e.selectedZone.zoneType,""),S(4),Me(" ",e.selectedZone.baseFreeHours,""),S(4),Me(" AED ",e.selectedZone.chargePerHour,"")}}let Fae=(()=>{class t{get zonesByEmirate(){const e=this.zones.reduce((i,r)=>{const o=r.emirate||"Other";return i[o]||(i[o]=[]),i[o].push(r),i},{});return Object.entries(e).map(([i,r])=>({emirate:i,zones:r})).sort((i,r)=>i.emirate.localeCompare(r.emirate))}constructor(e,i){this.zoneService=e,this.trafficLayerService=i,this.zones=[],this.selectedZone=null,this.mapCenter={lat:24.4539,lng:54.3773},this.mapZoom=8,this.timeIndex=(new Date).getHours(),this.isAnimating=!1,this.animationSpeed=1500,this.isLoading=!1,this.error=null,this.trafficMode="historical",this.liveTrafficAvailable=!1,this.lastTrafficUpdate=null,this.map=null,this.markerLayer=null,this.polygonLayer=null,this.refreshHandle=null,this.heatmapTimer=null,this.zoneLayers=new Map,this.zoneBounds=new Map}ngOnInit(){this.loadZones(),this.refreshHandle=window.setInterval(()=>this.loadZones(!1),15e3)}ngAfterViewInit(){this.initializeMap()}ngOnDestroy(){this.refreshHandle&&window.clearInterval(this.refreshHandle),this.heatmapTimer&&window.clearInterval(this.heatmapTimer),this.trafficLayerService.stopLiveUpdates(),this.map&&this.map.remove()}loadZones(e=!0){this.isLoading=e,this.zoneService.getAllZones().subscribe({next:i=>{this.zones=i,this.isLoading=!1,this.renderZonePolygons()},error:i=>{this.error="Failed to load zones",this.isLoading=!1,console.error(i)}})}onZoneSelected(e){this.selectedZone=e;const i=this.getZoneCoordinates(e);this.mapCenter={lat:i[0],lng:i[1]},this.mapZoom=11,this.map&&this.map.setView(i,this.mapZoom),this.refreshTrafficLayer()}filterByEmirate(e){"All"===e?(this.loadZones(),this.setMapViewByEmirate(e)):(this.isLoading=!0,this.zoneService.getZonesByEmirate(e).subscribe({next:i=>{this.zones=i,this.isLoading=!1,this.renderZonePolygons(),this.setMapViewByEmirate(e)},error:i=>{this.error=`Failed to load zones for ${e}`,this.isLoading=!1}}))}onTimeChange(){this.updateHeatmapStyles(),"historical"===this.trafficMode&&this.selectedZone&&this.showHistoricalTraffic()}toggleAnimation(){this.isAnimating?this.stopAnimation():this.startAnimation()}startAnimation(){this.heatmapTimer&&window.clearInterval(this.heatmapTimer),this.isAnimating=!0,this.heatmapTimer=window.setInterval(()=>{this.timeIndex=(this.timeIndex+1)%24,this.updateHeatmapStyles()},this.animationSpeed)}stopAnimation(){this.heatmapTimer&&(window.clearInterval(this.heatmapTimer),this.heatmapTimer=null),this.isAnimating=!1}onSpeedChange(){this.isAnimating&&this.startAnimation()}formatHour(e){const i=(e%24+24)%24;return`${i%12==0?12:i%12}:00 ${i>=12?"PM":"AM"}`}getZoneColor(e){switch(e){case"Residential":return"#4CAF50";case"Commercial":return"#FF9800";case"Industrial":return"#9C27B0";case"Mixed":return"#2196F3";default:return"#757575"}}initializeMap(){const e=qr.icon({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});qr.Marker.prototype.options.icon=e,this.map=qr.map("zone-map",{center:[this.mapCenter.lat,this.mapCenter.lng],zoom:this.mapZoom}),qr.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(this.map),this.markerLayer=qr.layerGroup().addTo(this.map),this.polygonLayer=qr.layerGroup().addTo(this.map),this.trafficLayerService.initialize(this.map),this.liveTrafficAvailable=this.trafficLayerService.isLiveAvailable(),this.renderZonePolygons()}renderZonePolygons(){!this.map||!this.polygonLayer||(this.polygonLayer.clearLayers(),this.zoneLayers.clear(),this.zones.forEach(e=>{this.zoneService.getZoneBoundary(e.id).subscribe({next:i=>{const r=this.getCongestionLevel(e,this.timeIndex),o=this.getCongestionColor(r),s=qr.geoJSON(i,{style:{color:o,fillColor:o,weight:2,fillOpacity:.35}}),a=s.getBounds?.();a&&this.zoneBounds.set(e.id,a),s.eachLayer(l=>{l.on("mouseover",()=>{l.setStyle({fillOpacity:.55})}),l.on("mouseout",()=>{l.setStyle({fillOpacity:.35})}),l.on("click",()=>{this.onZoneSelected(e)})}),this.updateLayerPopup(s,e,r),this.zoneLayers.set(e.id,s),s.addTo(this.polygonLayer),this.updateHeatmapStyles(),this.selectedZone?.id===e.id&&this.refreshTrafficLayer()}})}))}setTrafficMode(e){this.trafficMode=e,"live"===e&&this.stopAnimation(),this.refreshTrafficLayer()}refreshTrafficLayer(){if(!this.selectedZone||!this.map)return;const e=this.getZoneBoundingBox(this.selectedZone.id);if("live"===this.trafficMode)return this.liveTrafficAvailable?(this.trafficLayerService.startLiveUpdates(this.selectedZone,e),void(this.lastTrafficUpdate=new Date)):(this.trafficMode="historical",void this.showHistoricalTraffic());this.trafficLayerService.stopLiveUpdates(),"simulation"!==this.trafficMode?this.showHistoricalTraffic():this.showSimulationTraffic()}showHistoricalTraffic(){if(!this.selectedZone)return;const e=this.getTimeForSlider();this.trafficLayerService.showHistoricalPattern(this.selectedZone,e,this.getZoneBoundingBox(this.selectedZone.id))}showSimulationTraffic(){if(!this.selectedZone)return;const e=this.getTimeForSlider();this.trafficLayerService.showSimulationResults(this.selectedZone,e,this.getZoneBoundingBox(this.selectedZone.id))}getTimeForSlider(){const e=new Date;return e.setHours(this.timeIndex,0,0,0),e}getZoneBoundingBox(e){const i=this.zoneBounds.get(e);if(i)return`${i.getWest()},${i.getSouth()},${i.getEast()},${i.getNorth()}`}getCongestionLevel(e,i){const r=(()=>{switch(e.zoneType){case"Commercial":return 60;case"Industrial":return 55;case"Mixed":return 50;default:return 40}})(),o=i>=7&&i<=9?18:0,s=i>=12&&i<=14?8:0,a=i>=16&&i<=19?22:0,l=i>=21||i<=5?-12:0,u=this.getZoneJitter(e.name);return Math.max(15,Math.min(95,Math.round(r+o+s+a+l+u)))}getCongestionColor(e){return e<30?"#4CAF50":e<=70?"#FFC107":"#F44336"}getZoneStats(e,i){return{vehiclesPerHour:Math.round(500+8*(e.chargePerHour||20)),avgSpeed:Math.max(20,Math.round(60-.4*i)),congestion:i}}updateHeatmapStyles(){!this.map||0===this.zoneLayers.size||this.zones.forEach(e=>{const i=this.zoneLayers.get(e.id);if(!i)return;const r=this.getCongestionLevel(e,this.timeIndex),o=this.getCongestionColor(r);i.setStyle({color:o,fillColor:o,fillOpacity:.4}),this.updateLayerPopup(i,e,r)})}updateLayerPopup(e,i,r){const o=this.getZoneStats(i,r);e.bindPopup(`<strong>${i.name}</strong><br/>${i.emirate} \u2022 ${i.zoneType}<br/>Time: ${this.formatHour(this.timeIndex)}<br/>Vehicles/hr: ${o.vehiclesPerHour}<br/>Avg speed: ${o.avgSpeed} km/h<br/>Congestion: ${o.congestion}%`)}getZoneJitter(e){let i=0;for(let r=0;r<e.length;r+=1)i=(i<<5)-i+e.charCodeAt(r),i|=0;return Math.abs(i)%7-3}getZoneCoordinates(e){const r=e.latitude,o=e.longitude;return"number"==typeof r&&"number"==typeof o?[r,o]:{"Dubai Marina":[25.0809,55.1405],"Dubai Downtown":[25.1972,55.2744],"Deira Business":[25.2753,55.3089],"Al Qusais":[25.2847,55.3764],Satwa:[25.2354,55.2771],"Al Quoz":[25.126,55.2361],"Sharjah Residential":[25.3463,55.4209],"Abu Dhabi City":[24.4667,54.3667],"Khalifa City":[24.4259,54.5644],"Reem Island":[24.4957,54.4125],"Musaffah Industrial":[24.3525,54.5126],"Musaffah Residential":[24.3744,54.5375]}[e.name]??[this.mapCenter.lat,this.mapCenter.lng]}setMapViewByEmirate(e){const i={All:{center:[24.4539,54.3773],zoom:8},Dubai:{center:[25.2048,55.2708],zoom:10},"Abu Dhabi":{center:[24.4539,54.3773],zoom:11},Sharjah:{center:[25.3463,55.4209],zoom:11}},r=i[e]??i.All;this.mapCenter={lat:r.center[0],lng:r.center[1]},this.mapZoom=r.zoom,this.map&&this.map.setView(r.center,r.zoom)}static{this.\u0275fac=function(i){return new(i||t)(wt(ex),wt(Cae))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-zone-map"]],decls:42,vars:17,consts:[[1,"controls"],[3,"click"],[1,"traffic-controls"],[1,"traffic-toggle"],[1,"label"],[3,"click","disabled"],[1,"traffic-status"],["class","badge live",4,"ngIf"],["class","badge history",4,"ngIf"],["class","badge sim",4,"ngIf"],["class","badge warn",4,"ngIf"],["class","heatmap-controls",4,"ngIf"],[1,"heatmap-legend"],[1,"legend-bar"],[1,"map-container"],["id","zone-map",1,"map"],[1,"zones-by-emirate"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","emirate-group",4,"ngFor","ngForOf"],["class","zone-details",4,"ngIf"],[1,"badge","live"],[1,"badge","history"],[1,"badge","sim"],[1,"badge","warn"],[1,"heatmap-controls"],[1,"heatmap-time"],["type","range","min","0","max","23","step","1",3,"ngModelChange","input","ngModel"],[1,"btn-heatmap",3,"click"],[3,"ngModelChange","change","ngModel"],[3,"ngValue"],[1,"loading"],[1,"error"],[1,"emirate-group"],[1,"emirate-header"],[1,"emirate-flag"],[1,"zone-count"],[1,"zone-cards-grid"],["class","zone-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"zone-card",3,"click"],[1,"zone-color-bar"],[1,"zone-card-content"],[1,"zone-type-badge"],[1,"zone-charge"],[1,"charge-label"],[1,"charge-value"],[1,"zone-details"]],template:function(i,r){1&i&&(h(0,"h2"),f(1,"UAE Zone Map"),A(),h(2,"div",0)(3,"button",1),it("click",function(){return r.filterByEmirate("All")}),f(4,"All Zones"),A(),h(5,"button",1),it("click",function(){return r.filterByEmirate("Dubai")}),f(6,"Dubai"),A(),h(7,"button",1),it("click",function(){return r.filterByEmirate("Abu Dhabi")}),f(8,"Abu Dhabi"),A(),h(9,"button",1),it("click",function(){return r.filterByEmirate("Sharjah")}),f(10,"Sharjah"),A()(),h(11,"div",2)(12,"div",3)(13,"span",4),f(14,"Traffic Layer:"),A(),h(15,"button",5),it("click",function(){return r.setTrafficMode("live")}),f(16," Live Traffic "),A(),h(17,"button",1),it("click",function(){return r.setTrafficMode("historical")}),f(18," Historical Patterns "),A(),h(19,"button",1),it("click",function(){return r.setTrafficMode("simulation")}),f(20," Simulation Results "),A()(),h(21,"div",6),xt(22,xae,2,0,"span",7)(23,Mae,2,0,"span",8)(24,Bae,2,0,"span",9)(25,Dae,2,0,"span",10),A()(),xt(26,Sae,16,7,"div",11),h(27,"div",12)(28,"span"),f(29,"Low"),A(),Cn(30,"div",13),h(31,"span"),f(32,"High"),A()(),h(33,"div",14),Cn(34,"div",15),A(),h(35,"div",16)(36,"h3"),f(37),A(),xt(38,Eae,2,0,"div",17)(39,Pae,2,1,"div",18)(40,Oae,10,4,"div",19),A(),xt(41,kae,15,4,"div",20)),2&i&&(S(15),Un("active","live"===r.trafficMode),ke("disabled",!r.liveTrafficAvailable),S(2),Un("active","historical"===r.trafficMode),S(2),Un("active","simulation"===r.trafficMode),S(3),ke("ngIf","live"===r.trafficMode&&r.liveTrafficAvailable),S(),ke("ngIf","historical"===r.trafficMode),S(),ke("ngIf","simulation"===r.trafficMode),S(),ke("ngIf","live"===r.trafficMode&&!r.liveTrafficAvailable),S(),ke("ngIf","historical"===r.trafficMode||"simulation"===r.trafficMode),S(11),Me("Zones by Emirate (",r.zones.length,")"),S(),ke("ngIf",r.isLoading),S(),ke("ngIf",r.error),S(),ke("ngForOf",r.zonesByEmirate),S(),ke("ngIf",r.selectedZone))},dependencies:[ls,cs,Hd,zd,va,Qd,Nu,Qa,_a],styles:['.zone-map-container[_ngcontent-%COMP%]{background:#ffffffe6;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:20px;padding:1.5rem;box-shadow:0 8px 32px #00000014;border:1px solid rgba(255,255,255,.5);animation:_ngcontent-%COMP%_slideUp .5s ease-out}.map-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:1rem}.map-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0f172a;display:flex;align-items:center;gap:.5rem}.map-title[_ngcontent-%COMP%]:before{content:"";width:4px;height:20px;background:linear-gradient(180deg,#0d47a1,#f59e0b);border-radius:4px}.map-controls[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.control-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#fff;border:2px solid #E2E8F0;border-radius:8px;font-size:.85rem;font-weight:500;color:#475569;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.375rem}.control-btn[_ngcontent-%COMP%]:hover{border-color:#0d47a1;color:#0d47a1}.control-btn.active[_ngcontent-%COMP%]{background:#0d47a1;border-color:#0d47a1;color:#fff}.filter-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem;flex-wrap:wrap;align-items:center}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;color:#64748b}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem 2rem .5rem .75rem;font-size:.85rem;background:#fff;border:2px solid #E2E8F0;border-radius:8px;color:#1f2937;cursor:pointer}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#0d47a1}.time-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;background:#f8fafc;padding:.5rem 1rem;border-radius:10px;border:1px solid #E2E8F0}.time-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:#0d47a1;min-width:70px}.time-slider[_ngcontent-%COMP%]{width:150px;height:6px;-webkit-appearance:none;background:linear-gradient(90deg,#10b981,#f59e0b,#ef4444);border-radius:3px}.time-slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;background:#fff;border:3px solid #0D47A1;border-radius:50%;cursor:pointer;box-shadow:0 2px 6px #00000026}.time-value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#0f172a;min-width:60px}.traffic-modes[_ngcontent-%COMP%]{display:flex;gap:.25rem;background:#f1f5f9;padding:.25rem;border-radius:10px;margin-bottom:1rem}.traffic-mode-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background:transparent;border:none;border-radius:8px;font-size:.85rem;font-weight:500;color:#64748b;cursor:pointer;transition:all .2s ease}.traffic-mode-btn[_ngcontent-%COMP%]:hover{color:#0d47a1}.traffic-mode-btn.active[_ngcontent-%COMP%]{background:#fff;color:#0d47a1;box-shadow:0 2px 6px #00000014}#zone-map[_ngcontent-%COMP%]{height:500px;width:100%;border-radius:16px;overflow:hidden;box-shadow:inset 0 2px 8px #0000001a;border:2px solid #E2E8F0}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ffffffe6;display:flex;align-items:center;justify-content:center;z-index:1000}.loading-spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #E2E8F0;border-top-color:#0d47a1;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee2e2,#fecaca);color:#dc2626;padding:1rem;border-radius:12px;margin-bottom:1rem;display:flex;align-items:center;gap:.5rem;font-weight:500;border:1px solid #FCA5A5}.map-legend[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem;flex-wrap:wrap;justify-content:center}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.8rem;color:#64748b}.legend-color[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:4px}.legend-color.low[_ngcontent-%COMP%]{background:#10b981}.legend-color.medium[_ngcontent-%COMP%]{background:#f59e0b}.legend-color.high[_ngcontent-%COMP%]{background:#ef4444}.zone-info-panel[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background:#fff;border-radius:12px;padding:1rem;box-shadow:0 4px 16px #0000001a;z-index:1000;min-width:200px;border:1px solid #E2E8F0}.zone-info-panel[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#0f172a;margin-bottom:.5rem}.zone-info-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:#64748b;margin:0}.zones-by-emirate[_ngcontent-%COMP%]{margin-top:1.5rem}.zones-by-emirate[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0f172a;margin-bottom:1rem}.emirate-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.emirate-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background:linear-gradient(135deg,#0d47a1,#1565c0);border-radius:10px;margin-bottom:.75rem;color:#fff}.emirate-header[_ngcontent-%COMP%]   .emirate-flag[_ngcontent-%COMP%]{font-size:1.25rem}.emirate-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0;flex:1}.emirate-header[_ngcontent-%COMP%]   .zone-count[_ngcontent-%COMP%]{font-size:.8rem;background:#fff3;padding:.25rem .5rem;border-radius:6px}.zone-cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:.75rem}.zone-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;overflow:hidden;border:2px solid #E2E8F0;cursor:pointer;transition:all .2s ease;display:flex}.zone-card[_ngcontent-%COMP%]:hover{border-color:#0d47a1;transform:translateY(-2px);box-shadow:0 8px 20px #0000001a}.zone-card.selected[_ngcontent-%COMP%]{border-color:#0d47a1;background:linear-gradient(135deg,#0d47a10d,#0d47a105)}.zone-color-bar[_ngcontent-%COMP%]{width:6px;flex-shrink:0}.zone-card-content[_ngcontent-%COMP%]{padding:.875rem;flex:1}.zone-card-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#0f172a;margin:0 0 .5rem}.zone-type-badge[_ngcontent-%COMP%]{display:inline-block;font-size:.7rem;font-weight:600;color:#64748b;background:#f1f5f9;padding:.2rem .5rem;border-radius:4px;text-transform:uppercase;letter-spacing:.5px}.zone-charge[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem;padding-top:.5rem;border-top:1px solid #E2E8F0}.zone-charge[_ngcontent-%COMP%]   .charge-label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b}.zone-charge[_ngcontent-%COMP%]   .charge-value[_ngcontent-%COMP%]{font-size:.85rem;font-weight:700;color:#0d47a1}@media (max-width: 768px){.zone-map-container[_ngcontent-%COMP%]{padding:1rem}.map-header[_ngcontent-%COMP%], .filter-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.time-control[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.time-slider[_ngcontent-%COMP%]{width:100px}#zone-map[_ngcontent-%COMP%]{height:350px}.traffic-modes[_ngcontent-%COMP%]{width:100%}.traffic-mode-btn[_ngcontent-%COMP%]{flex:1;text-align:center}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}']})}}return t})();var Tae=Ve(7239),Lae=Ve.n(Tae);let o1=(()=>{class t{constructor(e){this.http=e,this.apiUrl=`${Uu()}/api/simulations`}runSimulation(e){return this.http.post(`${this.apiUrl}/run`,e)}getSimulationResult(e){return this.http.get(`${this.apiUrl}/${e}`)}getAllSimulations(){return this.http.get(this.apiUrl)}getMySimulations(){return this.http.get(`${this.apiUrl}/my`)}saveSimulation(e){const i={...e,id:e.id?e.id:void 0};return this.http.post(`${this.apiUrl}/save`,i)}shareSimulation(e,i){return this.http.post(`${this.apiUrl}/${e}/share`,{isPublic:i})}compareSimulations(e){return this.http.post(`${this.apiUrl}/compare`,{simulationIds:e})}deleteSimulation(e){return this.http.delete(`${this.apiUrl}/${e}`)}exportSimulationReport(e,i){return this.http.get(`${this.apiUrl}/${e}/export`,{params:{format:i},responseType:"blob"})}getEconomicImpact(e){return this.http.get(`${this.apiUrl}/${e}/economic-impact`)}getInvestorReport(e){return this.http.get(`${this.apiUrl}/${e}/investor-report`,{responseType:"blob"})}getAuthorityReport(e,i="RTA Dubai",r="Dubai, UAE"){return this.http.get(`${this.apiUrl}/${e}/authority-report`,{params:{authorityName:i,jurisdiction:r},responseType:"blob"})}static{this.\u0275fac=function(i){return new(i||t)(cn($c))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Nae(t,n){if(1&t&&(h(0,"span",8),f(1),A()),2&t){const e=Fe();S(),lt(e.formattedTime)}}function Rae(t,n){if(1&t&&(h(0,"span"),f(1),A()),2&t){const e=n.$implicit;S(),lt(e)}}function Uae(t,n){if(1&t){const e=ti();h(0,"button",23),it("click",function(){const r=pt(e).$implicit;return gt(Fe(2).selectDate(r))}),f(1),A()}if(2&t){const e=n.$implicit,i=Fe(2);Un("other-month",!e.isCurrentMonth)("today",e.isToday)("selected",e.isSelected)("disabled",e.date<i.minDateObj),ke("disabled",e.date<i.minDateObj),S(),Me(" ",e.day," ")}}function Qae(t,n){if(1&t){const e=ti();h(0,"div",24)(1,"div",25),f(2,"Select Time"),A(),h(3,"div",26)(4,"div",27)(5,"button",28),it("click",function(){return pt(e),gt(Fe(2).incrementHour())}),f(6,"\u25b2"),A(),h(7,"input",29),Bn("ngModelChange",function(r){pt(e);const o=Fe(2);return Dn(o.selectedHour,r)||(o.selectedHour=r),gt(r)}),it("change",function(){return pt(e),gt(Fe(2).onTimeChange())}),A(),h(8,"button",30),it("click",function(){return pt(e),gt(Fe(2).decrementHour())}),f(9,"\u25bc"),A()(),h(10,"span",31),f(11,":"),A(),h(12,"div",27)(13,"button",28),it("click",function(){return pt(e),gt(Fe(2).incrementMinute())}),f(14,"\u25b2"),A(),h(15,"input",32),Bn("ngModelChange",function(r){pt(e);const o=Fe(2);return Dn(o.selectedMinute,r)||(o.selectedMinute=r),gt(r)}),it("change",function(){return pt(e),gt(Fe(2).onTimeChange())}),A(),h(16,"button",30),it("click",function(){return pt(e),gt(Fe(2).decrementMinute())}),f(17,"\u25bc"),A()()()()}if(2&t){const e=Fe(2);S(7),Mn("ngModel",e.selectedHour),S(8),Mn("ngModel",e.selectedMinute)}}function Hae(t,n){if(1&t){const e=ti();h(0,"div",33)(1,"button",34),it("click",function(){return pt(e),gt(Fe(2).setToday())}),f(2,"Today"),A(),h(3,"button",34),it("click",function(){return pt(e),gt(Fe(2).setTomorrow())}),f(4,"Tomorrow"),A(),h(5,"button",34),it("click",function(){return pt(e),gt(Fe(2).setNextWeek())}),f(6,"Next Week"),A()()}}function zae(t,n){if(1&t){const e=ti();h(0,"div",9)(1,"div",10)(2,"button",11),it("click",function(){return pt(e),gt(Fe().prevMonth())}),f(3,"\u2039"),A(),h(4,"span",12),f(5),A(),h(6,"button",11),it("click",function(){return pt(e),gt(Fe().nextMonth())}),f(7,"\u203a"),A()(),h(8,"div",13)(9,"div",14),xt(10,Rae,2,1,"span",15),A(),h(11,"div",16),xt(12,Uae,2,10,"button",17),A()(),xt(13,Qae,18,2,"div",18)(14,Hae,7,0,"div",19),h(15,"div",20)(16,"button",21),it("click",function(){return pt(e),gt(Fe().closePicker())}),f(17," Cancel "),A(),h(18,"button",22),it("click",function(){return pt(e),gt(Fe().confirmSelection())}),f(19," Confirm "),A()()()}if(2&t){const e=Fe();S(5),Wo("",e.monthYearLabels[e.currentMonthYear.month]," ",e.currentMonthYear.year,""),S(5),ke("ngForOf",e.weekDays),S(2),ke("ngForOf",e.calendarDays),S(),ke("ngIf",e.showTime),S(),ke("ngIf",e.showQuickActions)}}let t4=(()=>{class t{get minDateObj(){return this.minDate?new Date(this.minDate):new Date(0)}get formattedDate(){return this.selectedDate.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}get formattedTime(){return`${this.selectedHour.toString().padStart(2,"0")}:${this.selectedMinute.toString().padStart(2,"0")}`}constructor(){this.label="Date",this.timeLabel="Time",this.showLabel=!0,this.showTimeLabel=!0,this.showQuickActions=!0,this.showTime=!0,this.minDate="",this.isOpen=!1,this.currentMonthYear={month:(new Date).getMonth(),year:(new Date).getFullYear()},this.calendarDays=[],this.selectedDate=new Date,this.selectedHour=(new Date).getHours(),this.selectedMinute=(new Date).getMinutes(),this.weekDays=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthYearLabels=["January","February","March","April","May","June","July","August","September","October","November","December"],this.onChange=()=>{},this.onTouched=()=>{},this.generateCalendar()}writeValue(e){e&&(this.selectedDate=e instanceof Date?e:new Date(e),this.selectedHour=this.selectedDate.getHours(),this.selectedMinute=this.selectedDate.getMinutes(),this.currentMonthYear={month:this.selectedDate.getMonth(),year:this.selectedDate.getFullYear()},this.generateCalendar())}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}togglePicker(){this.isOpen=!this.isOpen,this.isOpen&&this.generateCalendar()}closePicker(){this.isOpen=!1}confirmSelection(){this.selectedDate.setHours(this.selectedHour,this.selectedMinute),this.onChange(new Date(this.selectedDate)),this.onTouched(),this.closePicker()}selectDate(e){e.date>=this.minDateObj&&(this.selectedDate=new Date(e.date),this.selectedDate.setHours(this.selectedHour,this.selectedMinute),this.generateCalendar())}prevMonth(){0===this.currentMonthYear.month?(this.currentMonthYear.month=11,this.currentMonthYear.year--):this.currentMonthYear.month--,this.generateCalendar()}nextMonth(){11===this.currentMonthYear.month?(this.currentMonthYear.month=0,this.currentMonthYear.year++):this.currentMonthYear.month++,this.generateCalendar()}incrementHour(){this.selectedHour=(this.selectedHour+1)%24,this.onTimeChange()}decrementHour(){this.selectedHour=(this.selectedHour-1+24)%24,this.onTimeChange()}incrementMinute(){this.selectedMinute=(this.selectedMinute+5)%60,this.onTimeChange()}decrementMinute(){this.selectedMinute=(this.selectedMinute-5+60)%60,this.onTimeChange()}onTimeChange(){this.selectedDate.setHours(this.selectedHour,this.selectedMinute),this.onChange(new Date(this.selectedDate)),this.onTouched()}setToday(){const e=new Date;this.selectedDate=e,this.selectedHour=e.getHours(),this.selectedMinute=e.getMinutes(),this.currentMonthYear={month:e.getMonth(),year:e.getFullYear()},this.generateCalendar()}setTomorrow(){const e=new Date;e.setDate(e.getDate()+1),this.selectedDate=e,this.selectedHour=9,this.selectedMinute=0,this.currentMonthYear={month:e.getMonth(),year:e.getFullYear()},this.generateCalendar()}setNextWeek(){const e=new Date;e.setDate(e.getDate()+7),this.selectedDate=e,this.selectedHour=9,this.selectedMinute=0,this.currentMonthYear={month:e.getMonth(),year:e.getFullYear()},this.generateCalendar()}generateCalendar(){const e=this.currentMonthYear.year,i=this.currentMonthYear.month,r=new Date(e,i,1),o=new Date(e,i+1,0),s=r.getDay(),a=o.getDate(),l=new Date;l.setHours(0,0,0,0),this.calendarDays=[];const u=new Date(e,i,0).getDate();for(let g=s-1;g>=0;g--){const y=new Date(e,i-1,u-g);this.calendarDays.push({date:y,day:u-g,isCurrentMonth:!1,isToday:!1,isSelected:this.isSameDay(y,this.selectedDate)})}for(let g=1;g<=a;g++){const y=new Date(e,i,g),m=y.getTime()===l.getTime(),B=this.isSameDay(y,this.selectedDate);this.calendarDays.push({date:y,day:g,isCurrentMonth:!0,isToday:m,isSelected:B})}const d=42-this.calendarDays.length;for(let g=1;g<=d;g++){const y=new Date(e,i+1,g);this.calendarDays.push({date:y,day:g,isCurrentMonth:!1,isToday:!1,isSelected:this.isSameDay(y,this.selectedDate)})}}isSameDay(e,i){return e.getFullYear()===i.getFullYear()&&e.getMonth()===i.getMonth()&&e.getDate()===i.getDate()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=rr({type:t,selectors:[["app-date-time-picker"]],inputs:{label:"label",timeLabel:"timeLabel",showLabel:"showLabel",showTimeLabel:"showTimeLabel",showQuickActions:"showQuickActions",showTime:"showTime",minDate:"minDate"},standalone:!0,features:[wo([{provide:Lu,useExisting:Ji(()=>t),multi:!0}]),Vc],decls:11,vars:7,consts:[[1,"datetime-picker-wrapper"],[1,"picker-trigger",3,"click"],[1,"trigger-icon"],[1,"trigger-value"],[1,"date-text"],["class","time-text",4,"ngIf"],[1,"trigger-arrow"],["class","picker-popup",4,"ngIf"],[1,"time-text"],[1,"picker-popup"],[1,"picker-header"],[1,"nav-btn",3,"click"],[1,"current-month"],[1,"calendar-grid"],[1,"weekdays"],[4,"ngFor","ngForOf"],[1,"days"],["class","day-cell",3,"other-month","today","selected","disabled","click",4,"ngFor","ngForOf"],["class","time-section",4,"ngIf"],["class","quick-actions",4,"ngIf"],[1,"picker-actions"],[1,"action-btn","cancel",3,"click"],[1,"action-btn","confirm",3,"click"],[1,"day-cell",3,"click","disabled"],[1,"time-section"],[1,"time-label"],[1,"time-picker"],[1,"time-column"],[1,"time-up",3,"click"],["type","number","min","0","max","23",1,"time-input",3,"ngModelChange","change","ngModel"],[1,"time-down",3,"click"],[1,"time-separator"],["type","number","min","0","max","59",1,"time-input",3,"ngModelChange","change","ngModel"],[1,"quick-actions"],[1,"quick-btn",3,"click"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"div",1),it("click",function(){return r.togglePicker()}),h(2,"div",2),f(3,"\u{1f4c5}"),A(),h(4,"div",3)(5,"span",4),f(6),A(),xt(7,Nae,2,1,"span",5),A(),h(8,"div",6),f(9,"\u25bc"),A()(),xt(10,zae,20,6,"div",7),A()),2&i&&(S(),Un("active",r.isOpen),S(5),lt(r.formattedDate),S(),ke("ngIf",r.showTime),S(),Un("open",r.isOpen),S(2),ke("ngIf",r.isOpen))},dependencies:[ku,ls,cs,Cf,va,wf,Qa,dg,Ag,_a],styles:[".datetime-picker-wrapper[_ngcontent-%COMP%]{position:relative;width:100%}.picker-trigger[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:#fff;border:2px solid #e2e8f0;border-radius:12px;cursor:pointer;transition:all .2s ease}.picker-trigger[_ngcontent-%COMP%]:hover{border-color:#cbd5e1}.picker-trigger.active[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f626}.trigger-icon[_ngcontent-%COMP%]{font-size:20px}.trigger-value[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.date-text[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1e293b}.time-text[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.trigger-arrow[_ngcontent-%COMP%]{font-size:10px;color:#94a3b8;transition:transform .2s}.trigger-arrow.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.picker-popup[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 8px);left:0;width:320px;background:#fff;border-radius:16px;box-shadow:0 10px 40px #00000026;z-index:1000;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .2s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.picker-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff}.nav-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;width:32px;height:32px;border-radius:8px;cursor:pointer;font-size:18px;transition:background .2s}.nav-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.current-month[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.calendar-grid[_ngcontent-%COMP%]{padding:16px}.weekdays[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-bottom:8px}.weekdays[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center;font-size:12px;font-weight:600;color:#64748b;padding:4px}.days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}.day-cell[_ngcontent-%COMP%]{aspect-ratio:1;display:flex;align-items:center;justify-content:center;border:none;background:transparent;border-radius:8px;cursor:pointer;font-size:14px;color:#1e293b;transition:all .15s}.day-cell[_ngcontent-%COMP%]:hover:not(:disabled){background:#f1f5f9}.day-cell.other-month[_ngcontent-%COMP%]{color:#cbd5e1}.day-cell.today[_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8;font-weight:600}.day-cell.selected[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;font-weight:600}.day-cell[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.time-section[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #e2e8f0}.time-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#64748b;margin-bottom:12px;text-transform:uppercase;letter-spacing:.5px}.time-picker[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}.time-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px}.time-input[_ngcontent-%COMP%]{width:50px;padding:8px;text-align:center;font-size:18px;font-weight:600;border:2px solid #e2e8f0;border-radius:8px}.time-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6}.time-up[_ngcontent-%COMP%], .time-down[_ngcontent-%COMP%]{background:#f1f5f9;border:none;width:30px;height:24px;border-radius:6px;cursor:pointer;font-size:10px;color:#64748b;transition:all .15s}.time-up[_ngcontent-%COMP%]:hover, .time-down[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1e293b}.time-separator[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#64748b;margin-top:-20px}.quick-actions[_ngcontent-%COMP%]{display:flex;gap:8px;padding:12px 16px;border-top:1px solid #e2e8f0;flex-wrap:wrap}.quick-btn[_ngcontent-%COMP%]{flex:1;min-width:80px;padding:8px 12px;font-size:12px;font-weight:500;background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;color:#475569;cursor:pointer;transition:all .15s}.quick-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.picker-actions[_ngcontent-%COMP%]{display:flex;gap:8px;padding:12px 16px;border-top:1px solid #e2e8f0;background:#f8fafc}.action-btn[_ngcontent-%COMP%]{flex:1;padding:10px 16px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .15s}.action-btn.cancel[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;color:#64748b}.action-btn.cancel[_ngcontent-%COMP%]:hover{background:#f1f5f9}.action-btn.confirm[_ngcontent-%COMP%]{background:#3b82f6;border:none;color:#fff}.action-btn.confirm[_ngcontent-%COMP%]:hover{background:#2563eb}.dark[_nghost-%COMP%]   .picker-trigger[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .picker-trigger[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.dark[_nghost-%COMP%]   .date-text[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .date-text[_ngcontent-%COMP%]{color:#f3f4f6}.dark[_nghost-%COMP%]   .day-cell[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .day-cell[_ngcontent-%COMP%]{color:#e5e7eb}.dark[_nghost-%COMP%]   .day-cell[_ngcontent-%COMP%]:hover:not(:disabled), .dark   [_nghost-%COMP%]   .day-cell[_ngcontent-%COMP%]:hover:not(:disabled){background:#374151}.dark[_nghost-%COMP%]   .picker-popup[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .picker-popup[_ngcontent-%COMP%]{background:#1f2937}.dark[_nghost-%COMP%]   .quick-btn[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .quick-btn[_ngcontent-%COMP%], .dark[_nghost-%COMP%]   .action-btn.cancel[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .action-btn.cancel[_ngcontent-%COMP%]{background:#374151;border-color:#4b5563;color:#e5e7eb}"]})}}return t})();function Vae(t,n){if(1&t&&(h(0,"div",24),f(1),A()),2&t){const e=Fe();S(),Me("\u2717 ",e.error,"")}}function jae(t,n){if(1&t){const e=ti();h(0,"button",25),it("click",function(){const r=pt(e).$implicit;return gt(Fe().applyScenario(r.name))}),f(1),A()}if(2&t){const e=n.$implicit;S(),Me(" ",e.name," ")}}function Gae(t,n){if(1&t&&(h(0,"option",26),f(1),A()),2&t){const e=n.$implicit;ke("value",e.id),S(),Wo(" ",e.name," (",e.emirate,") ")}}function Kae(t,n){1&t&&(h(0,"div",42),f(1,"Loading impact..."),A())}function Wae(t,n){if(1&t&&(h(0,"div")(1,"div",35)(2,"span"),f(3,"NPV (5 yrs):"),A(),h(4,"strong"),f(5),jt(6,"number"),A()(),h(7,"div",35)(8,"span"),f(9,"Annual Revenue:"),A(),h(10,"strong"),f(11),jt(12,"number"),A()(),h(13,"div",35)(14,"span"),f(15,"Productivity Gain (daily):"),A(),h(16,"strong"),f(17),jt(18,"number"),A()(),h(19,"div",35)(20,"span"),f(21,"Equity (Low vs High):"),A(),h(22,"strong"),f(23),jt(24,"number"),jt(25,"number"),A()()()),2&t){const e=Fe(2);S(5),Me("AED ",Br(6,5,e.economicImpact.revenueProjection.npv),""),S(6),Me("AED ",Br(12,7,e.economicImpact.revenueProjection.baseAnnualRevenue),""),S(6),Me("AED ",Br(18,9,e.economicImpact.productivity.dailyProductivityGainAed),""),S(6),Wo("",wn(24,11,e.economicImpact.equity.lowIncomeBurden,"1.2-2"),"% / ",wn(25,14,e.economicImpact.equity.highIncomeBurden,"1.2-2"),"%")}}function $ae(t,n){if(1&t&&(h(0,"li"),f(1),A()),2&t){const e=n.$implicit;S(),lt(e)}}function qae(t,n){if(1&t&&(h(0,"li")(1,"strong"),f(2),A(),f(3),A()),2&t){const e=n.$implicit,i=Fe(3);S(2),Me("",i.getWarningCategory(e),":"),S(),Me(" ",e," ")}}function Zae(t,n){if(1&t&&(h(0,"div",33)(1,"h4"),f(2,"Warnings & Validation"),A(),h(3,"ul"),xt(4,qae,4,2,"li",36),A(),h(5,"p",37),f(6," Warnings are informational and do not block the simulation. "),A()()),2&t){const e=Fe(2);S(4),ke("ngForOf",e.warnings)}}function Yae(t,n){if(1&t){const e=ti();h(0,"div")(1,"div",27)(2,"div",28)(3,"h4"),f(4,"Total Vehicles"),A(),h(5,"p",14),f(6),jt(7,"number"),A()(),h(8,"div",28)(9,"h4"),f(10,"Diverted Vehicles"),A(),h(11,"p",14),f(12),jt(13,"number"),A()(),h(14,"div",28)(15,"h4"),f(16,"Congestion Reduction"),A(),h(17,"p",14),f(18),jt(19,"number"),A()(),h(20,"div",28)(21,"h4"),f(22,"Estimated Revenue"),A(),h(23,"p",14),f(24),jt(25,"number"),A()(),h(26,"div",28)(27,"h4"),f(28,"CO\u2082 Reduction"),A(),h(29,"p",14),f(30),jt(31,"number"),A()(),h(32,"div",28)(33,"h4"),f(34,"Equity Impact"),A(),h(35,"p",14),f(36),A()()(),h(37,"div",29)(38,"h4"),f(39,"Economic Impact"),A(),xt(40,Kae,2,0,"div",30)(41,Wae,26,17,"div",31),A(),h(42,"div",32)(43,"details",33)(44,"summary"),f(45,"Assumptions & Confidence"),A(),h(46,"div",34)(47,"div",35)(48,"span"),f(49,"Confidence (qualitative):"),A(),h(50,"strong"),f(51),A()(),h(52,"div",35)(53,"span"),f(54,"Data provenance:"),A(),h(55,"strong"),f(56),A()(),h(57,"div",35)(58,"span"),f(59,"Assumptions:"),A()(),h(60,"ul"),xt(61,$ae,2,1,"li",36),A(),h(62,"p",37),f(63," Outputs are directional estimates for sandbox use only. "),A()()(),h(64,"div",33)(65,"h4"),f(66,"Baseline vs Policy Comparison"),A(),h(67,"table",38)(68,"thead")(69,"tr"),Cn(70,"th"),h(71,"th"),f(72,"Baseline"),A(),h(73,"th"),f(74,"Policy"),A(),h(75,"th"),f(76,"Delta"),A()()(),h(77,"tbody")(78,"tr")(79,"td"),f(80,"Revenue (AED)"),A(),h(81,"td"),f(82,"Not available"),A(),h(83,"td"),f(84),jt(85,"number"),A(),h(86,"td"),f(87,"\u2014"),A()(),h(88,"tr")(89,"td"),f(90,"Congestion proxy"),A(),h(91,"td"),f(92),A(),h(93,"td"),f(94),A(),h(95,"td"),f(96),A()(),h(97,"tr")(98,"td"),f(99,"Equity impact"),A(),h(100,"td"),f(101,"Not available"),A(),h(102,"td"),f(103),A(),h(104,"td"),f(105,"\u2014"),A()(),h(106,"tr")(107,"td"),f(108,"Compliance"),A(),h(109,"td"),f(110,"Not available"),A(),h(111,"td"),f(112),A(),h(113,"td"),f(114,"\u2014"),A()()()(),h(115,"p",37),f(116," Baseline values shown when provided; otherwise marked as not available. "),A()(),h(117,"div",33)(118,"h4"),f(119,"Data Coverage"),A(),h(120,"div",35)(121,"span"),f(122,"Movements used:"),A(),h(123,"strong"),f(124),jt(125,"number"),A()(),h(126,"div",35)(127,"span"),f(128,"Fallback usage:"),A(),h(129,"strong"),f(130),A()(),h(131,"div",35)(132,"span"),f(133,"Missing data warnings:"),A(),h(134,"strong"),f(135),A()()(),xt(136,Zae,7,1,"div",39),A(),h(137,"div",40)(138,"button",41),it("click",function(){return pt(e),gt(Fe().exportResult("pdf"))}),f(139," Export PDF "),A(),h(140,"button",41),it("click",function(){return pt(e),gt(Fe().downloadInvestorReport())}),f(141," Download Investor Report "),A(),h(142,"button",41),it("click",function(){return pt(e),gt(Fe().exportResult("csv"))}),f(143," Export CSV "),A(),h(144,"button",41),it("click",function(){return pt(e),gt(Fe().exportResult("json"))}),f(145," Export JSON "),A()()()}if(2&t){let e,i,r;const o=Fe();S(6),lt(Br(7,23,o.result.totalVehicles)),S(6),lt(Br(13,25,o.result.vehiclesDiverted)),S(6),Me(" ",wn(19,27,o.result.congestionReduction,"1.1-1"),"% "),S(6),Me("AED ",Br(25,30,o.result.estimatedRevenue),""),S(6),Me("",Br(31,32,o.result.environmentalImpact)," kg"),S(2),Un("regressive",o.equityDisplay.isRegressive),S(4),Me(" ",o.equityDisplay.isRegressive?"\u26a0\ufe0f Regressive":"\u2713 Fair"," "),S(4),ke("ngIf",o.isEconomicLoading),S(),ke("ngIf",!o.isEconomicLoading&&o.economicImpact),S(10),lt(o.confidenceLabel),S(5),lt(o.dataProvenance),S(5),ke("ngForOf",o.assumptions),S(23),lt(Br(85,34,o.result.estimatedRevenue)),S(8),Me(" ",null!==(e=null==o.baselinePolicy.baseline?null:o.baselinePolicy.baseline.congestionLevel)&&void 0!==e?e:"N/A"," "),S(2),Me(" ",null!==(i=null==o.baselinePolicy.policy?null:o.baselinePolicy.policy.congestionLevel)&&void 0!==i?i:"N/A"," "),S(2),Me(" ",o.formatDelta(null==o.baselinePolicy.delta?null:o.baselinePolicy.delta.congestionLevel)," "),S(7),Me(" ",o.equityDisplay.isRegressive?"Regressive":"Not regressive"," "),S(9),Me(" ",null!==(r=o.result.complianceRate)&&void 0!==r?r:"Not available"," "),S(12),lt(Br(125,36,o.movementCount)),S(6),lt(o.warnings.join(" ").toLowerCase().includes("fallback")?"Yes":"No"),S(5),lt(o.warnings.length>0?"Yes":"No"),S(),ke("ngIf",o.warnings.length>0)}}function Xae(t,n){1&t&&(h(0,"p",43),f(1,"Run a simulation to see results here."),A())}function Jae(t,n){if(1&t&&(h(0,"div",56)(1,"div",28)(2,"h4"),f(3,"Revenue"),A(),h(4,"p",14),f(5),jt(6,"number"),A()(),h(7,"div",28)(8,"h4"),f(9,"Congestion"),A(),h(10,"p",14),f(11),jt(12,"number"),A()(),h(13,"div",28)(14,"h4"),f(15,"Vehicles"),A(),h(16,"p",14),f(17),jt(18,"number"),A()(),h(19,"div",28)(20,"h4"),f(21,"NPV"),A(),h(22,"p",14),f(23),jt(24,"number"),A()()()),2&t){const e=Fe(2);S(5),Me("AED ",Br(6,4,e.result.estimatedRevenue),""),S(6),Me(" ",wn(12,6,e.result.congestionReduction,"1.1-1"),"% "),S(6),lt(Br(18,9,e.result.totalVehicles)),S(6),Me(" AED ",Br(24,11,null==e.economicImpact||null==e.economicImpact.revenueProjection?null:e.economicImpact.revenueProjection.npv)," ")}}function ele(t,n){if(1&t){const e=ti();h(0,"div",44)(1,"div",45)(2,"h2"),f(3,"Smart Mobility Demo"),A(),h(4,"p",46),f(5),A(),h(6,"div",47),Cn(7,"div",48),A(),h(8,"p",49),f(9),A(),h(10,"p",50),f(11),A(),h(12,"div",51)(13,"div")(14,"span",52),f(15,"Scenario:"),A(),h(16,"strong"),f(17),A()(),h(18,"div")(19,"span",52),f(20,"Auto-run:"),A(),h(21,"strong"),f(22),A()(),h(23,"div")(24,"span",52),f(25,"Full screen:"),A(),h(26,"strong"),f(27),A()()(),xt(28,Jae,25,13,"div",53),h(29,"div",54)(30,"button",55),it("click",function(){return pt(e),gt(Fe().previousPresentationStep())}),f(31," Previous "),A(),h(32,"button",41),it("click",function(){return pt(e),gt(Fe().nextPresentationStep())}),f(33," Next "),A(),h(34,"button",41),it("click",function(){return pt(e),gt(Fe().toggleScenarioAutoRun())}),f(35),A(),h(36,"button",41),it("click",function(){return pt(e),gt(Fe().toggleFullScreen())}),f(37),A(),h(38,"button",41),it("click",function(){return pt(e),gt(Fe().exportPresentationVideo())}),f(39," Export Presentation Video "),A(),h(40,"button",55),it("click",function(){return pt(e),gt(Fe().stopPresentation())}),f(41," Exit Presentation "),A()()()()}if(2&t){const e=Fe();S(5),Wo(" Step ",e.presentationStep+1," of ",e.presentationScript.length," "),S(2),Ko("width",(e.presentationStep+1)/e.presentationScript.length*100,"%"),S(2),Me(" ",e.presentationScript[e.presentationStep].title," "),S(2),Me(" ",e.presentationScript[e.presentationStep].text," "),S(6),lt(e.currentScenarioLabel||"Manual"),S(5),lt(e.autoRunScenarios?"On":"Off"),S(5),lt(e.isFullScreen?"On":"Off"),S(),ke("ngIf",e.result),S(7),Me(" ",e.autoRunScenarios?"Stop Auto-run":"Auto-run Scenarios"," "),S(2),Me(" ",e.isFullScreen?"Exit Full Screen":"Full Screen"," ")}}let tle=(()=>{class t{constructor(e,i){this.simulationService=e,this.zoneService=i,this.zones=[],this.selectedZoneId="",this.simulationDate=(new Date).toISOString().split("T")[0],this.simulationDateTime=new Date,this.peakMultiplier=1.5,this.diversionThreshold=60,this.exemptionsEnabled=!0,this.freeHours=0,this.customChargePerHour=null,this.scenarioExemptions=null,this.isRunning=!1,this.result=null,this.economicImpact=null,this.isEconomicLoading=!1,this.error=null,this.presentationMode=!1,this.presentationStep=0,this.presentationScript=[{title:"UAE Congestion Challenge",text:"UAE cities lose billions of dirhams each year to congestion and delays.",duration:5500},{title:"Smart Mobility Pricing",text:"Pricing targets the worst bottlenecks with fair exemptions and guardrails.",duration:5500},{title:"Pilot Scenario",text:"Mussafah pilot reduces congestion while generating sustainable revenue.",duration:6e3},{title:"Economic Impact",text:"Productivity gains and a positive equity balance support wider adoption.",duration:6e3},{title:"Nationwide Rollout",text:"Phased expansion delivers strong ROI and measurable mobility gains.",duration:6e3}],this.presentationScenarioQueue=["Demo Scenario","Solve School Run Chaos","Weekend Marina Gridlock","Sharjah-Dubai Commuter Solution"],this.currentScenarioLabel="",this.autoRunScenarios=!0,this.isFullScreen=!1,this.presentationTimer=null,this.scenarioTimer=null,this.scenarios=[{name:"Demo Scenario",zoneName:"Musaffah Industrial",freeHours:2,chargePerHour:30,exemptions:["Commercial","Emergency"],description:"Pilot congestion pricing in Mussafah industrial zone."},{name:"Solve School Run Chaos",zoneName:"Academic City",freeHours:1,chargePerHour:20,exemptions:["Public Transport","Emergency"],description:"Target school commute peaks with mild pricing."},{name:"Weekend Marina Gridlock",zoneName:"Dubai Marina",freeHours:1,chargePerHour:35,exemptions:["Public Transport","Emergency"],description:"Weekend surcharge to reduce marina congestion."},{name:"Sharjah-Dubai Commuter Solution",zoneName:"Al Qusais",freeHours:2,chargePerHour:25,exemptions:["Public Transport","Commercial","Emergency"],description:"Shift commuter demand with targeted pricing."}]}ngOnInit(){this.loadZones()}get equityDisplay(){return this.normalizeEquity(this.result?.equityImpact)}get warnings(){if(!this.result)return[];const e=Array.isArray(this.result.warnings)?this.result.warnings:[],i=Array.isArray(this.result.results?.warnings)?this.result.results.warnings:[];return[...new Set([...e,...i])]}get assumptions(){return this.result?Array.isArray(this.result.results?.assumptions)?this.result.results.assumptions:["Average trip distance assumed at 10 km.","CO\u2082 savings estimated per minute saved.","Compliance uses a heuristic (not calibrated).","Diversion rules are threshold-based, not a demand model."]:[]}get confidenceLabel(){return this.getConfidenceLabel(this.result?.confidenceScore)}get dataProvenance(){if(!this.result)return"Not available";const e=this.warnings.join(" ").toLowerCase();return e.includes("no vehicle movements")?"Insufficient data (no movements for date).":e.includes("fallback")?"Fallback baseline window used.":this.result.totalVehicles>0?"Replayed from stored movements (not real-time).":"Not provided by backend."}get movementCount(){return this.result?.totalVehicles??0}get baselinePolicy(){return this.result?{baseline:this.result.results?.baseline??{averageSpeed:this.result.baselineAverageSpeed,congestionLevel:this.result.baselineCongestionLevel},policy:this.result.results?.policy??{averageSpeed:this.result.projectedAverageSpeed,congestionLevel:this.result.projectedCongestionLevel},delta:this.result.results?.delta??null}:{baseline:null,policy:null,delta:null}}loadZones(){this.zoneService.getAllZones().subscribe({next:e=>{this.zones=e,e.length>0&&(this.selectedZoneId=e[0].id)},error:e=>{this.error="Failed to load zones"}})}runSimulation(){this.selectedZoneId?(this.isRunning=!0,this.error=null,this.simulationService.runSimulation({zoneId:this.selectedZoneId,date:this.simulationDateTime,zoneRules:{peakMultiplier:this.peakMultiplier,diversionThreshold:this.diversionThreshold,exemptions:this.scenarioExemptions??(this.exemptionsEnabled?["Public Transport","Commercial","Emergency","Diplomatic"]:[]),freeHours:this.freeHours,customChargePerHour:this.customChargePerHour??void 0}}).subscribe({next:r=>{this.result=r,this.loadEconomicImpact(r.id),this.isRunning=!1},error:r=>{this.error="Failed to run simulation",this.isRunning=!1,console.error(r)}})):this.error="Please select a zone"}getConfidenceLabel(e){return null==e?"Not provided":e<.4?"Low":e<.7?"Medium":"High"}formatDelta(e,i=""){return null==e||Number.isNaN(e)?"\u2014":`${e>0?"\u2191":e<0?"\u2193":"\u2192"} ${Math.abs(e).toFixed(2)}${i}`}getWarningCategory(e){const i=e.toLowerCase();return i.includes("no vehicle movements")||i.includes("fallback")||i.includes("out of range")||i.includes("clamped")?"Caution":"Info"}normalizeEquity(e){return e&&"object"==typeof e?{lowIncomeBurden:Number(e.lowIncomeBurden??0),highIncomeBurden:Number(e.highIncomeBurden??0),burdenRatio:Number(e.burdenRatio??0),isRegressive:!!e.isRegressive}:"number"==typeof e?{lowIncomeBurden:0,highIncomeBurden:0,burdenRatio:e,isRegressive:!1,note:"Equity detail not provided; showing aggregate score only."}:{lowIncomeBurden:0,highIncomeBurden:0,burdenRatio:0,isRegressive:!1,note:"Equity detail not available."}}exportResult(e){this.result&&this.simulationService.exportSimulationReport(this.result.id,e).subscribe({next:i=>{const r=window.URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=`simulation-${this.result?.id}.${e}`,o.click(),window.URL.revokeObjectURL(r)},error:i=>{this.error=`Failed to export ${e.toUpperCase()}`}})}downloadInvestorReport(){this.result&&this.simulationService.getInvestorReport(this.result.id).subscribe({next:e=>{const i=window.URL.createObjectURL(e),r=document.createElement("a");r.href=i,r.download=`investor-report-${this.result?.id}.pdf`,r.click(),window.URL.revokeObjectURL(i)},error:()=>{this.error="Failed to download investor report"}})}loadEconomicImpact(e){this.isEconomicLoading=!0,this.economicImpact=null,this.simulationService.getEconomicImpact(e).subscribe({next:i=>{this.economicImpact=i,this.isEconomicLoading=!1},error:()=>{this.isEconomicLoading=!1}})}applyScenario(e,i=!0){const r=this.scenarios.find(s=>s.name===e);if(!r)return;const o=this.zones.find(s=>s.name===r.zoneName);o&&(this.selectedZoneId=o.id),this.freeHours=r.freeHours,this.customChargePerHour=r.chargePerHour,this.scenarioExemptions=r.exemptions,i&&this.runSimulation()}startPresentation(){this.presentationMode=!0,this.presentationStep=0,this.currentScenarioLabel=this.presentationScenarioQueue[0]??"",this.applyScenario(this.currentScenarioLabel,!0),this.startAutoPlay(),this.runScenarioSequence()}stopPresentation(){this.presentationMode=!1,this.presentationStep=0,this.presentationTimer&&(window.clearTimeout(this.presentationTimer),this.presentationTimer=null),this.scenarioTimer&&(window.clearTimeout(this.scenarioTimer),this.scenarioTimer=null),window.speechSynthesis&&window.speechSynthesis.cancel(),this.exitFullScreen()}startAutoPlay(){const e=i=>{this.presentationStep=i;const r=this.presentationScript[i];r?.text&&this.speak(r.text),i<this.presentationScript.length-1&&(this.presentationTimer=window.setTimeout(()=>e(i+1),r?.duration??6e3))};e(0)}nextPresentationStep(){const e=Math.min(this.presentationStep+1,this.presentationScript.length-1);this.presentationStep=e;const i=this.presentationScript[e];i?.text&&this.speak(i.text)}previousPresentationStep(){const e=Math.max(this.presentationStep-1,0);this.presentationStep=e;const i=this.presentationScript[e];i?.text&&this.speak(i.text)}toggleScenarioAutoRun(){this.autoRunScenarios=!this.autoRunScenarios,this.autoRunScenarios?this.runScenarioSequence():this.scenarioTimer&&(window.clearTimeout(this.scenarioTimer),this.scenarioTimer=null)}toggleFullScreen(){document.fullscreenElement?this.exitFullScreen():this.enterFullScreen()}enterFullScreen(){const e=document.getElementById("presentation-root");e?.requestFullscreen&&(e.requestFullscreen(),this.isFullScreen=!0)}exitFullScreen(){document.fullscreenElement&&document.exitFullscreen&&document.exitFullscreen(),this.isFullScreen=!1}runScenarioSequence(){if(!this.autoRunScenarios||0===this.presentationScenarioQueue.length)return;const e=i=>{if(!this.autoRunScenarios)return;const r=this.presentationScenarioQueue[i];this.currentScenarioLabel=r,this.applyScenario(r,!0),i<this.presentationScenarioQueue.length-1&&(this.scenarioTimer=window.setTimeout(()=>e(i+1),12e3))};e(0)}exportPresentationVideo(){const e=document.getElementById("presentation-root");e&&Lae()(e).then(i=>{const r=i.captureStream(30),o=new MediaRecorder(r,{mimeType:"video/webm"}),s=[];o.ondataavailable=a=>{a.data.size>0&&s.push(a.data)},o.onstop=()=>{const a=new Blob(s,{type:"video/webm"}),l=URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download="presentation.webm",u.click(),URL.revokeObjectURL(l)},o.start(),window.setTimeout(()=>o.stop(),5e3)})}speak(e){if(!window.speechSynthesis)return;const i=new SpeechSynthesisUtterance(e);i.rate=1,i.pitch=1,window.speechSynthesis.cancel(),window.speechSynthesis.speak(i)}static{this.\u0275fac=function(i){return new(i||t)(wt(o1),wt(ex))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-simulation-controls"]],decls:52,vars:18,consts:[["emptyResults",""],[1,"controls-container"],["class","error-message",4,"ngIf"],[1,"controls-layout"],[1,"control-panel"],[1,"form-group"],[1,"scenario-buttons"],["type","button","class","btn-scenario",3,"click",4,"ngFor","ngForOf"],["name","zoneId",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["name","simulationDateTime",3,"ngModelChange","label","timeLabel","showQuickActions","ngModel"],[1,"range-control"],["type","range","name","peakMultiplier","min","1","max","3","step","0.1",3,"ngModelChange","ngModel"],[1,"value"],["type","range","name","threshold","min","30","max","120","step","5",3,"ngModelChange","ngModel"],[1,"form-group","checkbox"],["type","checkbox","name","exemptions",3,"ngModelChange","ngModel"],[1,"actions"],[1,"btn-run",3,"click","disabled"],["type","button",1,"btn-run","secondary",3,"click"],[1,"results-preview"],[4,"ngIf","ngIfElse"],["id","presentation-root","class","presentation-overlay",4,"ngIf"],[1,"error-message"],["type","button",1,"btn-scenario",3,"click"],[3,"value"],[1,"metrics-grid"],[1,"metric"],[1,"economic-impact"],["class","loading",4,"ngIf"],[4,"ngIf"],[1,"credibility-panels"],[1,"credibility-panel"],[1,"panel-body"],[1,"impact-row"],[4,"ngFor","ngForOf"],[1,"disclaimer"],[1,"comparison-table"],["class","credibility-panel",4,"ngIf"],[1,"export-actions"],[1,"btn-export",3,"click"],[1,"loading"],[1,"empty-results"],["id","presentation-root",1,"presentation-overlay"],[1,"presentation-card"],[1,"presentation-step"],[1,"presentation-progress"],[1,"presentation-progress-bar"],[1,"presentation-title"],[1,"presentation-text"],[1,"presentation-status"],[1,"label"],["class","presentation-metrics",4,"ngIf"],[1,"presentation-actions"],[1,"btn-export","secondary",3,"click"],[1,"presentation-metrics"]],template:function(i,r){if(1&i){const o=ti();h(0,"div",1)(1,"h2"),f(2,"Simulation Controls"),A(),xt(3,Vae,2,1,"div",2),h(4,"div",3)(5,"div",4)(6,"div",5)(7,"label"),f(8,"Scenarios"),A(),h(9,"div",6),xt(10,jae,2,1,"button",7),A()(),h(11,"div",5)(12,"label"),f(13,"Select Zone"),A(),h(14,"select",8),Bn("ngModelChange",function(a){return pt(o),Dn(r.selectedZoneId,a)||(r.selectedZoneId=a),gt(a)}),h(15,"option",9),f(16,"-- Select a Zone --"),A(),xt(17,Gae,2,3,"option",10),A()(),h(18,"div",5)(19,"label"),f(20,"Simulation Date & Time"),A(),h(21,"app-date-time-picker",11),Bn("ngModelChange",function(a){return pt(o),Dn(r.simulationDateTime,a)||(r.simulationDateTime=a),gt(a)}),A()(),h(22,"div",5)(23,"label"),f(24,"Peak Hour Multiplier"),A(),h(25,"div",12)(26,"input",13),Bn("ngModelChange",function(a){return pt(o),Dn(r.peakMultiplier,a)||(r.peakMultiplier=a),gt(a)}),A(),h(27,"span",14),f(28),A()()(),h(29,"div",5)(30,"label"),f(31,"Diversion Threshold (minutes)"),A(),h(32,"div",12)(33,"input",15),Bn("ngModelChange",function(a){return pt(o),Dn(r.diversionThreshold,a)||(r.diversionThreshold=a),gt(a)}),A(),h(34,"span",14),f(35),A()()(),h(36,"div",16)(37,"label")(38,"input",17),Bn("ngModelChange",function(a){return pt(o),Dn(r.exemptionsEnabled,a)||(r.exemptionsEnabled=a),gt(a)}),A(),f(39," Enable Exemptions (Public Transport, Commercial, Emergency, Diplomatic) "),A()(),h(40,"div",18)(41,"button",19),it("click",function(){return pt(o),gt(r.runSimulation())}),f(42),A(),h(43,"button",20),it("click",function(){return pt(o),gt(r.startPresentation())}),f(44," Presentation Mode "),A()()(),h(45,"div",21)(46,"h3"),f(47,"Quick Results"),A(),xt(48,Yae,146,38,"div",22)(49,Xae,2,0,"ng-template",null,0,BD),A()(),xt(51,ele,42,12,"div",23),A()}if(2&i){const o=S0(50);S(3),ke("ngIf",r.error),S(7),ke("ngForOf",r.scenarios),S(4),Mn("ngModel",r.selectedZoneId),S(3),ke("ngForOf",r.zones),S(4),ke("label","Simulation Date")("timeLabel","Time")("showQuickActions",!0),Mn("ngModel",r.simulationDateTime),S(5),Mn("ngModel",r.peakMultiplier),S(2),Me("",r.peakMultiplier.toFixed(1),"x"),S(5),Mn("ngModel",r.diversionThreshold),S(2),Me("",r.diversionThreshold," min"),S(3),Mn("ngModel",r.exemptionsEnabled),S(3),ke("disabled",r.isRunning||!r.selectedZoneId),S(),Me(" ",r.isRunning?"Running Simulation...":"Run Simulation"," "),S(6),ke("ngIf",r.result)("ngIfElse",o),S(3),ke("ngIf",r.presentationMode)}},dependencies:[ls,cs,Hd,zd,va,Qd,U0,Nu,Qa,_a,t4,fc],styles:['.controls-container[_ngcontent-%COMP%]{background:#ffffffe6;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:20px;padding:2rem;box-shadow:0 8px 32px #00000014;border:1px solid rgba(255,255,255,.5);animation:_ngcontent-%COMP%_slideUp .5s ease-out}.controls-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0f172a;margin-bottom:1.5rem;display:flex;align-items:center;gap:.5rem}.controls-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";width:4px;height:24px;background:linear-gradient(180deg,#0d47a1,#f59e0b);border-radius:4px}.error-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee2e2,#fecaca);color:#dc2626;padding:1rem 1.25rem;border-radius:12px;margin-bottom:1.5rem;display:flex;align-items:center;gap:.5rem;font-weight:500;border:1px solid #FCA5A5}.controls-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:400px 1fr;gap:2rem}@media (max-width: 1024px){.controls-layout[_ngcontent-%COMP%]{grid-template-columns:1fr}}.control-panel[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fff,#f8fafc);border-radius:16px;padding:1.5rem;border:1px solid #E2E8F0}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#374151;margin-bottom:.5rem;font-size:.9rem}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;font-size:.95rem;background:#fff;border:2px solid #E2E8F0;border-radius:10px;color:#1f2937;transition:all .2s ease}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus{outline:none;border-color:#0d47a1;box-shadow:0 0 0 4px #0d47a11a}.scenario-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.btn-scenario[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#fff;border:2px solid #E2E8F0;border-radius:8px;font-size:.85rem;font-weight:500;color:#475569;cursor:pointer;transition:all .2s ease}.btn-scenario[_ngcontent-%COMP%]:hover{border-color:#0d47a1;color:#0d47a1;background:#0d47a10d}.range-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.range-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{flex:1;height:8px;background:#e2e8f0;border-radius:4px;-webkit-appearance:none}.range-control[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;background:linear-gradient(135deg,#0d47a1,#1565c0);border-radius:50%;cursor:pointer;box-shadow:0 2px 8px #0d47a14d}.range-control[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:60px;padding:.375rem .75rem;background:linear-gradient(135deg,#0d47a1,#1565c0);color:#fff;border-radius:6px;font-weight:600;font-size:.85rem;text-align:center}.form-group.checkbox[_ngcontent-%COMP%]{display:flex;align-items:center}.form-group.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer;font-weight:500;color:#374151}.form-group.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#0D47A1;cursor:pointer}.actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid #E2E8F0}.btn-run[_ngcontent-%COMP%]{flex:1;padding:.875rem 1.5rem;background:linear-gradient(135deg,#0d47a1,#1565c0);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 12px #0d47a14d}.btn-run[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #0d47a166}.btn-run[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-run.secondary[_ngcontent-%COMP%]{background:#fff;color:#0d47a1;border:2px solid #0D47A1;box-shadow:none}.btn-run.secondary[_ngcontent-%COMP%]:hover{background:#0d47a1;color:#fff}.results-preview[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fff,#f8fafc);border-radius:16px;padding:1.5rem;border:1px solid #E2E8F0}.results-preview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0f172a;margin-bottom:1.25rem;display:flex;align-items:center;gap:.5rem}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:1.5rem}.metric[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1rem;border:1px solid #E2E8F0;transition:all .2s ease}.metric[_ngcontent-%COMP%]:hover{border-color:#f59e0b;transform:translateY(-2px);box-shadow:0 4px 12px #00000014}.metric[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.metric[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#0d47a1}.metric.regressive[_ngcontent-%COMP%]{border-left:4px solid #EF4444}.metric.regressive[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#ef4444}.economic-impact[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:1.25rem;margin-bottom:1.5rem;border:1px solid #E2E8F0}.economic-impact[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#0f172a;margin-bottom:1rem}.impact-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem 0;border-bottom:1px solid #E2E8F0}.impact-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.impact-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem}.impact-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0f172a;font-weight:600}.credibility-panels[_ngcontent-%COMP%]{margin-top:1.5rem}.credibility-panel[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;margin-bottom:1rem;border:1px solid #E2E8F0;overflow:hidden}.credibility-panel[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{padding:1rem;font-weight:600;color:#0f172a;cursor:pointer;display:flex;align-items:center;gap:.5rem}.credibility-panel[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding:1rem;font-weight:600;color:#0f172a;margin:0;border-bottom:1px solid #E2E8F0}.panel-body[_ngcontent-%COMP%]{padding:1rem}.comparison-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden}.comparison-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;text-align:left;border-bottom:1px solid #E2E8F0}.comparison-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f1f5f9;font-weight:600;font-size:.85rem;color:#475569}.comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.9rem;color:#374151}.export-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid #E2E8F0;flex-wrap:wrap}.btn-export[_ngcontent-%COMP%]{padding:.625rem 1rem;background:#fff;border:2px solid #E2E8F0;border-radius:8px;font-size:.85rem;font-weight:600;color:#475569;cursor:pointer;transition:all .2s ease}.btn-export[_ngcontent-%COMP%]:hover{border-color:#0d47a1;color:#0d47a1;background:#0d47a10d}.btn-export.secondary[_ngcontent-%COMP%]{background:#f8fafc}.empty-results[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#94a3b8;font-size:1rem}.loading[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#64748b}.disclaimer[_ngcontent-%COMP%]{font-size:.8rem;color:#94a3b8;margin-top:.75rem;font-style:italic}.presentation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0f172af2;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease}.presentation-card[_ngcontent-%COMP%]{background:#fff;border-radius:24px;padding:3rem;max-width:800px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 25px 50px #00000040}.presentation-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:1rem}.presentation-step[_ngcontent-%COMP%]{color:#64748b;margin-bottom:.5rem}.presentation-progress[_ngcontent-%COMP%]{height:4px;background:#e2e8f0;border-radius:2px;margin-bottom:2rem;overflow:hidden}.presentation-progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#0d47a1,#f59e0b);transition:width .3s ease}.presentation-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0f172a;margin-bottom:1rem}.presentation-text[_ngcontent-%COMP%]{font-size:1.1rem;color:#475569;line-height:1.6;margin-bottom:2rem}.presentation-metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:2rem}.presentation-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]{text-align:center;padding:1.25rem}.presentation-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b}.presentation-metrics[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.25rem}.presentation-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}']})}}return t})();function nle(t,n){if(1&t&&(h(0,"div",10)(1,"div",11)(2,"h3"),f(3,"Impact Summary"),A(),h(4,"p"),f(5),A()(),h(6,"div",12)(7,"div",13)(8,"h4"),f(9,"Total Vehicles"),A(),h(10,"p",14),f(11),jt(12,"number"),A()(),h(13,"div",13)(14,"h4"),f(15,"Diverted Vehicles"),A(),h(16,"p",14),f(17),jt(18,"number"),A(),h(19,"p",15),f(20),jt(21,"number"),A()(),h(22,"div",16)(23,"h4"),f(24,"Congestion Reduction"),A(),h(25,"p",14),f(26),jt(27,"number"),A()(),h(28,"div",17)(29,"h4"),f(30,"Estimated Revenue"),A(),h(31,"p",14),f(32),jt(33,"number"),A()(),h(34,"div",18)(35,"h4"),f(36,"CO\u2082 Reduction"),A(),h(37,"p",14),f(38),jt(39,"number"),A()(),h(40,"div",13)(41,"h4"),f(42,"Equity Status"),A(),h(43,"p",19),f(44),A()()()()),2&t){const e=Fe(2);S(5),lt(e.getImpactSummary()),S(6),lt(Br(12,10,e.results.totalVehicles)),S(6),lt(Br(18,12,e.results.vehiclesDiverted)),S(3),Me(" ",wn(21,14,e.results.vehiclesDiverted/e.results.totalVehicles*100,"1.1-1"),"% "),S(6),Me(" ",wn(27,17,e.results.congestionReduction,"1.1-1"),"% "),S(6),Me("AED ",Br(33,20,e.results.estimatedRevenue),""),S(6),Me(" ",wn(39,22,e.results.environmentalImpact,"1.0-0")," kg "),S(2),Un("warning",e.equityDisplay.isRegressive),S(4),Me(" ",e.equityDisplay.isRegressive?"\u26a0\ufe0f Regressive":"\u2713 Fair"," ")}}function ile(t,n){if(1&t&&(h(0,"div",10)(1,"div",20)(2,"h3"),f(3,"Traffic Impact Analysis"),A(),h(4,"div",21)(5,"div",22)(6,"h4"),f(7,"Diversion Rate"),A(),h(8,"div",23),Cn(9,"div",24),A(),h(10,"p"),f(11),jt(12,"number"),A()()(),h(13,"h3",25),f(14,"Economic Impact"),A(),h(15,"div",21)(16,"div",22)(17,"h4"),f(18,"Hourly Revenue Rate"),A(),h(19,"p",26),f(20),jt(21,"number"),A()(),h(22,"div",22)(23,"h4"),f(24,"Revenue per Vehicle"),A(),h(25,"p",26),f(26),jt(27,"number"),A()()()()()),2&t){const e=Fe(2);S(9),Ko("width",e.results.vehiclesDiverted/e.results.totalVehicles*100,"%"),S(2),Me(" ",wn(12,5,e.results.vehiclesDiverted/e.results.totalVehicles*100,"1.1-1"),"% of vehicles diverted "),S(9),Me(" AED ",wn(21,8,e.results.estimatedRevenue/24,"1.0-0"),"/hour "),S(6),Me(" AED ",wn(27,11,e.results.estimatedRevenue/e.results.totalVehicles,"1.2-2")," ")}}function rle(t,n){if(1&t&&(h(0,"div",10)(1,"div",27)(2,"h3"),f(3,"Fairness Analysis"),A(),h(4,"p",28),f(5),A(),h(6,"div",29)(7,"div",30)(8,"h4"),f(9,"Low Income Burden"),A(),h(10,"p",31),f(11),jt(12,"number"),A()(),h(13,"div",30)(14,"h4"),f(15,"High Income Burden"),A(),h(16,"p",31),f(17),jt(18,"number"),A()(),h(19,"div",30)(20,"h4"),f(21,"Burden Ratio"),A(),h(22,"p",31),f(23),jt(24,"number"),A()()(),h(25,"div",32)(26,"h4"),f(27,"Income Bracket Comparison"),A(),h(28,"div",33)(29,"div",34)(30,"label"),f(31,"Low Income"),A(),h(32,"div",35),Cn(33,"div",36),A(),h(34,"span"),f(35),jt(36,"number"),A()(),h(37,"div",34)(38,"label"),f(39,"High Income"),A(),h(40,"div",35),Cn(41,"div",37),A(),h(42,"span"),f(43),jt(44,"number"),A()()()()()()),2&t){const e=Fe(2);S(4),Un("warning",e.results.equityImpact.isRegressive),S(),Me(" ",e.getEquityStatus()," "),S(6),Me(" ",wn(12,12,e.equityDisplay.lowIncomeBurden,"1.2-2"),"% "),S(6),Me(" ",wn(18,15,e.equityDisplay.highIncomeBurden,"1.2-2"),"% "),S(6),Me(" ",wn(24,18,e.equityDisplay.burdenRatio,"1.2-2"),"x "),S(10),Ko("width",10*e.equityDisplay.lowIncomeBurden,"%"),S(2),Me("",wn(36,21,e.results.equityImpact.lowIncomeBurden,"1.2-2"),"%"),S(6),Ko("width",10*e.equityDisplay.highIncomeBurden,"%"),S(2),Me("",wn(44,24,e.results.equityImpact.highIncomeBurden,"1.2-2"),"%")}}function ole(t,n){if(1&t){const e=ti();h(0,"div",2)(1,"h2"),f(2,"Simulation Results Dashboard"),A(),h(3,"div",3)(4,"button",4),it("click",function(){return pt(e),gt(Fe().selectedTab="overview")}),f(5," Overview "),A(),h(6,"button",4),it("click",function(){return pt(e),gt(Fe().selectedTab="detailed")}),f(7," Detailed Analysis "),A(),h(8,"button",4),it("click",function(){return pt(e),gt(Fe().selectedTab="equity")}),f(9," Equity Impact "),A()(),xt(10,nle,45,25,"div",5)(11,ile,28,14,"div",5)(12,rle,45,27,"div",5),h(13,"div",6)(14,"button",7),it("click",function(){return pt(e),gt(Fe().downloadReport())}),f(15," Download Full Report "),A(),h(16,"button",8),f(17," Generate Pilot Proposal "),A(),h(18,"button",9),f(19," Business Case Calculator "),A()()()}if(2&t){const e=Fe();S(4),Un("active","overview"===e.selectedTab),S(2),Un("active","detailed"===e.selectedTab),S(2),Un("active","equity"===e.selectedTab),S(2),ke("ngIf","overview"===e.selectedTab),S(),ke("ngIf","detailed"===e.selectedTab),S(),ke("ngIf","equity"===e.selectedTab)}}function sle(t,n){1&t&&(h(0,"div",38)(1,"p"),f(2,"Run a simulation to see results here"),A()())}let ale=(()=>{class t{constructor(){this.results=null,this.selectedTab="overview"}ngOnInit(){this.results&&this.prepareChartData()}ngOnChanges(){this.results&&this.prepareChartData()}get equityDisplay(){return this.normalizeEquity(this.results?.equityImpact)}prepareChartData(){this.chartData={vehicleDistribution:{diverted:this.results?.vehiclesDiverted||0,notDiverted:(this.results?.totalVehicles||0)-(this.results?.vehiclesDiverted||0)},impactMetrics:{congestion:this.results?.congestionReduction||0,revenue:this.results?.estimatedRevenue||0,environmental:this.results?.environmentalImpact||0}},this.equityChartData={lowIncomeBurden:this.equityDisplay.lowIncomeBurden||0,highIncomeBurden:this.equityDisplay.highIncomeBurden||0}}getImpactSummary(){return this.results?`Reducing congestion by ${this.results.congestionReduction.toFixed(1)}%, generating AED ${(this.results.estimatedRevenue/1e3).toFixed(1)}K in revenue, and saving ${this.results.environmentalImpact.toFixed(0)}kg of CO2`:""}getEquityStatus(){return this.equityDisplay.isRegressive?"WARNING: Regressive pricing detected - lower income groups bear disproportionate burden":"Fair distribution - pricing burden is proportional across income levels"}normalizeEquity(e){return e&&"object"==typeof e?{lowIncomeBurden:Number(e.lowIncomeBurden??0),highIncomeBurden:Number(e.highIncomeBurden??0),burdenRatio:Number(e.burdenRatio??0),isRegressive:!!e.isRegressive}:"number"==typeof e?{lowIncomeBurden:0,highIncomeBurden:0,burdenRatio:e,isRegressive:!1}:{lowIncomeBurden:0,highIncomeBurden:0,burdenRatio:0,isRegressive:!1}}downloadReport(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=rr({type:t,selectors:[["app-results-dashboard"]],inputs:{results:"results"},features:[pa],decls:2,vars:2,consts:[["class","dashboard-container",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"dashboard-container"],[1,"tabs"],[3,"click"],["class","tab-content",4,"ngIf"],[1,"actions"],[1,"btn-download",3,"click"],["routerLink","/pilot-proposal",1,"btn-download","secondary"],["routerLink","/business-case",1,"btn-download","secondary"],[1,"tab-content"],[1,"summary-card"],[1,"metrics-grid"],[1,"metric-card"],[1,"large-number"],[1,"percentage"],[1,"metric-card","success"],[1,"metric-card","revenue"],[1,"metric-card","environment"],[1,"status"],[1,"detailed-section"],[1,"analysis-row"],[1,"analysis-item"],[1,"progress-bar"],[1,"progress"],[2,"margin-top","30px"],[1,"highlight"],[1,"equity-section"],[1,"equity-status"],[1,"equity-metrics"],[1,"equity-item"],[1,"burden-value"],[1,"equity-chart"],[1,"comparison-bars"],[1,"bar-item"],[1,"bar-container"],[1,"bar","low"],[1,"bar","high"],[1,"empty-state"]],template:function(i,r){1&i&&xt(0,ole,20,9,"div",0)(1,sle,3,0,"div",1),2&i&&(ke("ngIf",r.results),S(),ke("ngIf",!r.results))},dependencies:[cs,n1,fc],styles:['.dashboard-container[_ngcontent-%COMP%]{background:#ffffffe6;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:20px;padding:2rem;box-shadow:0 8px 32px #00000014;border:1px solid rgba(255,255,255,.5);animation:_ngcontent-%COMP%_slideUp .5s ease-out}.dashboard-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0f172a;margin-bottom:1.5rem;display:flex;align-items:center;gap:.5rem}.dashboard-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";width:4px;height:24px;background:linear-gradient(180deg,#0d47a1,#f59e0b);border-radius:4px}.tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1.5rem;background:#f1f5f9;padding:.375rem;border-radius:12px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;background:transparent;border:none;border-radius:10px;font-size:.9rem;font-weight:600;color:#64748b;cursor:pointer;transition:all .2s ease}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#0d47a1}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:#0d47a1;box-shadow:0 2px 8px #00000014}.tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease}.summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d47a10d,#f59e0b0d);border-radius:16px;padding:1.5rem;margin-bottom:1.5rem;border:1px solid rgba(13,71,161,.1)}.summary-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0f172a;margin-bottom:.75rem}.summary-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#475569;line-height:1.6;margin:0}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem;margin-bottom:1.5rem}.metric-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.25rem;border:1px solid #E2E8F0;transition:all .2s ease;position:relative;overflow:hidden}.metric-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#0d47a1,#1565c0)}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 24px #0000001a;border-color:#f59e0b}.metric-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem}.metric-card[_ngcontent-%COMP%]   .large-number[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;color:#0d47a1;line-height:1.2}.metric-card[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-size:.85rem;color:#10b981;font-weight:600;margin-top:.25rem}.metric-card.success[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#10b981,#34d399)}.metric-card.revenue[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#f59e0b,#fcd34d)}.metric-card.environment[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#3b82f6,#60a5fa)}.metric-card.warning[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#ef4444,#f87171)}.metric-card[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;display:flex;align-items:center;gap:.5rem}.detailed-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0f172a;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:1px solid #E2E8F0}.analysis-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:1.5rem}.analysis-item[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:1.25rem;border:1px solid #E2E8F0}.analysis-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:#64748b;margin-bottom:.75rem}.analysis-item[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background:#e2e8f0;border-radius:4px;overflow:hidden;margin-bottom:.5rem}.analysis-item[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#0d47a1,#1565c0);border-radius:4px;transition:width .5s ease}.analysis-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#374151;margin:0}.analysis-item[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0d47a1}.equity-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0f172a;margin-bottom:1rem}.equity-status[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9811a,#10b9810d);border-radius:12px;padding:1rem 1.25rem;margin-bottom:1.5rem;border:1px solid rgba(16,185,129,.2);font-weight:600;color:#059669}.equity-status.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef44441a,#ef44440d);border-color:#ef444433;color:#dc2626}.equity-metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1.5rem}.equity-item[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;text-align:center;border:1px solid #E2E8F0}.equity-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#64748b;text-transform:uppercase;margin-bottom:.5rem}.equity-item[_ngcontent-%COMP%]   .burden-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#0d47a1;margin:0}.equity-chart[_ngcontent-%COMP%]{background:#f8fafc;border-radius:16px;padding:1.5rem;border:1px solid #E2E8F0}.equity-chart[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#0f172a;margin-bottom:1.25rem}.comparison-bars[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.bar-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 1fr 60px;align-items:center;gap:1rem}.bar-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#374151}.bar-item[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]{height:24px;background:#e2e8f0;border-radius:12px;overflow:hidden}.bar-item[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{height:100%;border-radius:12px;transition:width .5s ease}.bar-item[_ngcontent-%COMP%]   .bar.low[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#f87171)}.bar-item[_ngcontent-%COMP%]   .bar.high[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#34d399)}.bar-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#0f172a;text-align:right}.actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:2rem;padding-top:1.5rem;border-top:1px solid #E2E8F0;flex-wrap:wrap}.btn-download[_ngcontent-%COMP%]{padding:.75rem 1.25rem;background:linear-gradient(135deg,#0d47a1,#1565c0);color:#fff;border:none;border-radius:10px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s ease;text-decoration:none;display:inline-flex;align-items:center;gap:.5rem}.btn-download[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #0d47a14d;color:#fff}.btn-download.secondary[_ngcontent-%COMP%]{background:#fff;color:#0d47a1;border:2px solid #0D47A1}.btn-download.secondary[_ngcontent-%COMP%]:hover{background:#0d47a1;color:#fff}.empty-state[_ngcontent-%COMP%]{background:#ffffffe6;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:20px;padding:4rem 2rem;text-align:center;box-shadow:0 8px 32px #00000014;border:1px solid rgba(255,255,255,.5)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8;font-size:1.1rem;margin:0}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1.5rem}.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.equity-metrics[_ngcontent-%COMP%]{grid-template-columns:1fr}.bar-item[_ngcontent-%COMP%]{grid-template-columns:80px 1fr 50px}.actions[_ngcontent-%COMP%]{flex-direction:column}.btn-download[_ngcontent-%COMP%]{width:100%;justify-content:center}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}']})}}return t})();var lle=Ve(7247);let cle=(()=>{class t{constructor(e){this.http=e,this.apiUrl=`${Uu()}/api/demo`}getScenarios(){return this.http.get(`${this.apiUrl}/scenarios`)}getScenario(e){return this.http.get(`${this.apiUrl}/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(cn($c))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ule=(()=>{class t{constructor(e){this.http=e,this.apiUrl=`${Uu()}/api/business-case`}getBusinessCase(e,i){return this.http.get(`${this.apiUrl}/${e}?years=${i}`)}static{this.\u0275fac=function(i){return new(i||t)(cn($c))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ale(t,n){if(1&t&&(h(0,"option",20),f(1),A()),2&t){const e=n.$implicit;ke("value",e),S(),Me(" ",e," ")}}function dle(t,n){if(1&t){const e=ti();h(0,"div")(1,"label"),f(2,"Custom Agency Name"),A(),h(3,"input",21),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.customAgency,r)||(o.customAgency=r),gt(r)}),A()()}if(2&t){const e=Fe();S(3),Mn("ngModel",e.customAgency)}}function hle(t,n){if(1&t&&(h(0,"div",22),Cn(1,"img",23),A()),2&t){const e=Fe();S(),ke("src",e.logoDataUrl,n0)}}function fle(t,n){1&t&&(h(0,"div",24),f(1,"Launching demo..."),A())}function ple(t,n){if(1&t&&(h(0,"div",25),f(1),A()),2&t){const e=Fe();S(),lt(e.error)}}function gle(t,n){if(1&t&&(h(0,"div",30)(1,"strong"),f(2,"Speaker Notes"),A(),h(3,"p"),f(4),A()()),2&t){const e=Fe(2);S(4),lt(e.demoSteps[e.activeStepIndex].notes)}}function mle(t,n){if(1&t){const e=ti();h(0,"div",26)(1,"h4"),f(2),A(),h(3,"p"),f(4),A(),xt(5,gle,5,1,"div",27),h(6,"div",28)(7,"button",29),it("click",function(){return pt(e),gt(Fe().prevStep())}),f(8,"Back"),A(),h(9,"button",29),it("click",function(){return pt(e),gt(Fe().nextStep())}),f(10,"Next"),A(),h(11,"button",29),it("click",function(){return pt(e),gt(Fe().toggleNotes())}),f(12),A()()()}if(2&t){const e=Fe();S(2),lt(e.demoSteps[e.activeStepIndex].title),S(2),lt(e.demoSteps[e.activeStepIndex].text),S(),ke("ngIf",e.showNotes),S(7),Me(" ",e.showNotes?"Hide":"Show"," Notes ")}}function vle(t,n){1&t&&(h(0,"div",26)(1,"p"),f(2,"Select a demo scenario to load the script."),A()())}function _le(t,n){1&t&&Cn(0,"img",23),2&t&&ke("src",Fe(2).logoDataUrl,n0)}function yle(t,n){if(1&t&&(h(0,"div",40)(1,"div")(2,"span"),f(3,"Congestion Reduction"),A(),h(4,"strong"),f(5),jt(6,"number"),A()(),h(7,"div")(8,"span"),f(9,"Estimated Revenue"),A(),h(10,"strong"),f(11),jt(12,"number"),A()(),h(13,"div")(14,"span"),f(15,"Vehicles Diverted"),A(),h(16,"strong"),f(17),jt(18,"number"),A()()()),2&t){const e=Fe(2);S(5),Me("",wn(6,3,e.simulation.congestionReduction,"1.1-1"),"%"),S(6),Me("AED ",Br(12,6,e.simulation.estimatedRevenue),""),S(6),lt(Br(18,8,e.simulation.vehiclesDiverted))}}function ble(t,n){if(1&t&&(h(0,"div",41)(1,"h4"),f(2,"Speaker Notes"),A(),h(3,"p"),f(4),A()()),2&t){const e=Fe(2);S(4),lt(e.demoSteps[e.activeStepIndex].notes)}}function wle(t,n){if(1&t){const e=ti();h(0,"div",31)(1,"div",32)(2,"div",33)(3,"div")(4,"h3"),f(5),A(),h(6,"p"),f(7),A()(),xt(8,_le,1,1,"img",34),A(),h(9,"div",35)(10,"h1"),f(11),A(),h(12,"p"),f(13),A(),xt(14,yle,19,10,"div",36),A(),h(15,"div",37)(16,"button",29),it("click",function(){return pt(e),gt(Fe().prevStep())}),f(17,"Back"),A(),h(18,"button",29),it("click",function(){return pt(e),gt(Fe().nextStep())}),f(19,"Next"),A(),h(20,"button",38),it("click",function(){return pt(e),gt(Fe().stopPresentation())}),f(21,"Exit"),A()(),xt(22,ble,5,1,"div",39),A()()}if(2&t){const e=Fe();S(5),lt(e.agencyName),S(2),lt(null==e.scenario?null:e.scenario.name),S(),ke("ngIf",e.logoDataUrl),S(3),lt(e.demoSteps[e.activeStepIndex].title),S(2),lt(e.demoSteps[e.activeStepIndex].text),S(),ke("ngIf","Results"===e.demoSteps[e.activeStepIndex].title&&e.simulation),S(8),ke("ngIf",e.showNotes)}}let Cle=(()=>{class t{constructor(e,i,r,o){this.demoService=e,this.simulationService=i,this.businessCaseService=r,this.http=o,this.agencyOptions=["Abu Dhabi ITC","Dubai RTA","Smart Dubai","Ministry of Energy & Infrastructure","Custom"],this.selectedAgency="Abu Dhabi ITC",this.customAgency="",this.logoDataUrl=null,this.isLoading=!1,this.error=null,this.scenario=null,this.simulation=null,this.demoSteps=[],this.activeStepIndex=0,this.showNotes=!0,this.isPresenting=!1,this.stepTimer=null}ngOnDestroy(){this.clearTimer()}get agencyName(){return"Custom"===this.selectedAgency&&this.customAgency?this.customAgency:this.selectedAgency}launchDemo(e){this.isLoading=!0,this.error=null,this.simulation=null,this.demoService.getScenario(e).subscribe({next:i=>{this.scenario=i,this.demoSteps=this.buildSteps(i),this.activeStepIndex=0,this.startStepTimer(),this.runSimulation(i)},error:()=>{this.error="Failed to load demo scenario",this.isLoading=!1}})}runSimulation(e){this.simulationService.runSimulation({zoneId:e.zoneId,date:new Date,zoneRules:{freeHours:e.rules.freeHours,customChargePerHour:e.rules.chargePerHour,exemptions:e.rules.exemptions,diversionThreshold:60,peakMultiplier:1.4}}).subscribe({next:r=>{this.simulation=r,this.startPresentation(),this.isLoading=!1},error:()=>{this.error="Simulation failed to run",this.isLoading=!1}})}startPresentation(){this.isPresenting=!0,this.activeStepIndex=0,this.startStepTimer(),document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen().catch(()=>null)}stopPresentation(){this.isPresenting=!1,this.clearTimer(),document.fullscreenElement&&document.exitFullscreen().catch(()=>null)}nextStep(){this.activeStepIndex<this.demoSteps.length-1&&(this.activeStepIndex+=1,this.startStepTimer())}prevStep(){this.activeStepIndex>0&&(this.activeStepIndex-=1,this.startStepTimer())}toggleNotes(){this.showNotes=!this.showNotes}onLogoUpload(e){const r=e.target.files?.[0];if(!r)return;const o=new FileReader;o.onload=()=>{this.logoDataUrl=o.result},o.readAsDataURL(r)}downloadPackage(){var e=this;return(0,qe.A)(function*(){if(e.simulation&&e.scenario)try{const i=new lle,r=e.agencyName,o=yield r1(e.simulationService.getInvestorReport(e.simulation.id));o&&i.file("demo-report.pdf",o);const s=yield r1(e.http.get(`${Uu()}/api/pitch-deck/${e.simulation.id}?agency=${encodeURIComponent(r)}&format=pptx`,{responseType:"blob"}));s&&i.file("pitch-deck.pptx",s);const a=yield r1(e.businessCaseService.getBusinessCase(e.simulation.id,5));a&&i.file("business-case.json",JSON.stringify(a,null,2));const l={agency:r,scenario:e.scenario.name,expectedResults:e.scenario.expectedResults,rules:e.scenario.rules,generatedAt:(new Date).toISOString()};if(i.file("demo-summary.json",JSON.stringify(l,null,2)),i.file("agency.txt",`Agency: ${r}`),e.logoDataUrl){const y=e.dataUrlToBlob(e.logoDataUrl);i.file("agency-logo.png",y)}const u=yield i.generateAsync({type:"blob"}),d=window.URL.createObjectURL(u),g=document.createElement("a");g.href=d,g.download=`demo-package-${e.simulation.id}.zip`,g.click(),window.URL.revokeObjectURL(d)}catch{e.error="Failed to generate demo package"}})()}buildSteps(e){const i=e.demoScript.split("\n").map(s=>s.replace(/^\d+\.\s*/,"").trim()).filter(Boolean),r={mussafah:["Highlight industrial logistics delays and economic cost.","Show proposed boundary aligning with freight routes.","Explain free hours to protect supply chains.","Call out emergency/commercial exemptions.","Narrate live simulation execution.","Summarize traffic relief and revenue impact."],marina:["Show peak weekend tourism pain points.","Connect congestion to visitor sentiment.","Introduce weekend pricing lever.","Mention exemptions for residents/hotel guests.","Explain reinvestment into tourism services."],school:["Use safety framing to build urgency.","Emphasize cluster coverage for consistency.","Clarify parent permit free window.","Explain deterrence for non-permit vehicles.","Show projected safety and flow gains."]},o=e.name.toLowerCase().includes("mussafah")?"mussafah":e.name.toLowerCase().includes("marina")?"marina":"school";return[...i.map((s,a)=>({title:`Step ${a+1}`,text:s,notes:r[o][a]??"",durationMs:6e3})),{title:"Results",text:e.expectedResults,notes:"Compare expected vs actual metrics with the audience.",durationMs:8e3}]}startStepTimer(){this.clearTimer();const e=this.demoSteps[this.activeStepIndex];e&&(this.stepTimer=window.setTimeout(()=>{this.activeStepIndex<this.demoSteps.length-1&&(this.activeStepIndex+=1,this.startStepTimer())},e.durationMs))}clearTimer(){this.stepTimer&&(window.clearTimeout(this.stepTimer),this.stepTimer=null)}dataUrlToBlob(e){const[i,r]=e.split(","),o=i.match(/:(.*?);/)?.[1]??"image/png",s=atob(r),a=new Uint8Array(s.length);for(let l=0;l<s.length;l+=1)a[l]=s.charCodeAt(l);return new Blob([a],{type:o})}static{this.\u0275fac=function(i){return new(i||t)(wt(cle),wt(o1),wt(ule),wt($c))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-demo-mode"]],decls:44,vars:12,consts:[[1,"demo-section"],[1,"demo-header"],[1,"demo-panel"],[1,"demo-left"],[1,"demo-buttons"],[1,"primary",3,"click"],[1,"demo-for"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","file","accept","image/*",3,"change"],["class","logo-preview",4,"ngIf"],[1,"demo-actions"],[1,"secondary",3,"click","disabled"],["class","status",4,"ngIf"],["class","error",4,"ngIf"],[1,"demo-right"],[1,"agency-line"],["class","step-card",4,"ngIf"],["class","presentation-overlay",4,"ngIf"],[3,"value"],["type","text",3,"ngModelChange","ngModel"],[1,"logo-preview"],["alt","Agency logo",3,"src"],[1,"status"],[1,"error"],[1,"step-card"],["class","notes",4,"ngIf"],[1,"step-controls"],[3,"click"],[1,"notes"],[1,"presentation-overlay"],[1,"presentation"],[1,"presentation-header"],["alt","Agency logo",3,"src",4,"ngIf"],[1,"presentation-body"],["class","results",4,"ngIf"],[1,"presentation-footer"],[1,"danger",3,"click"],["class","speaker-notes",4,"ngIf"],[1,"results"],[1,"speaker-notes"]],template:function(i,r){1&i&&(h(0,"section",0)(1,"div",1)(2,"h2"),f(3,"Quick Demo"),A(),h(4,"p"),f(5,"Launch government-ready scenarios with one click."),A()(),h(6,"div",2)(7,"div",3)(8,"h3"),f(9,"One-Click Demo Launcher"),A(),h(10,"div",4)(11,"button",5),it("click",function(){return r.launchDemo("mussafah")}),f(12," Mussafah Gridlock "),A(),h(13,"button",5),it("click",function(){return r.launchDemo("marina")}),f(14," Marina Chaos "),A(),h(15,"button",5),it("click",function(){return r.launchDemo("school")}),f(16," School Safety "),A()(),h(17,"div",6)(18,"h3"),f(19,"Demo for Agency"),A(),h(20,"label"),f(21,"Agency"),A(),h(22,"select",7),Bn("ngModelChange",function(s){return Dn(r.selectedAgency,s)||(r.selectedAgency=s),s}),xt(23,Ale,2,2,"option",8),A(),xt(24,dle,4,1,"div",9),h(25,"label"),f(26,"Agency Logo"),A(),h(27,"input",10),it("change",function(s){return r.onLogoUpload(s)}),A(),xt(28,hle,2,1,"div",11),A(),h(29,"div",12)(30,"button",13),it("click",function(){return r.downloadPackage()}),f(31," Download Demo Package (ZIP) "),A(),h(32,"button",13),it("click",function(){return r.startPresentation()}),f(33," Start Presentation "),A()(),xt(34,fle,2,0,"div",14)(35,ple,2,1,"div",15),A(),h(36,"div",16)(37,"h3"),f(38,"Demo Script"),A(),h(39,"p",17),f(40),A(),xt(41,mle,13,4,"div",18)(42,vle,3,0,"div",18),A()(),xt(43,wle,23,7,"div",19),A()),2&i&&(S(22),Mn("ngModel",r.selectedAgency),S(),ke("ngForOf",r.agencyOptions),S(),ke("ngIf","Custom"===r.selectedAgency),S(4),ke("ngIf",r.logoDataUrl),S(2),ke("disabled",!r.simulation),S(2),ke("disabled",!r.scenario),S(2),ke("ngIf",r.isLoading),S(),ke("ngIf",r.error),S(5),Me("Prepared for ",r.agencyName,""),S(),ke("ngIf",r.demoSteps.length),S(),ke("ngIf",!r.demoSteps.length),S(),ke("ngIf",r.isPresenting))},dependencies:[ls,cs,Hd,zd,va,Nu,Qa,_a,fc],styles:['.demo-container[_ngcontent-%COMP%]{background:#ffffffe6;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:20px;padding:1.5rem;box-shadow:0 8px 32px #00000014;border:1px solid rgba(255,255,255,.5);animation:_ngcontent-%COMP%_slideUp .5s ease-out}.demo-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;flex-wrap:wrap;gap:1rem}.demo-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0f172a;display:flex;align-items:center;gap:.5rem}.demo-title[_ngcontent-%COMP%]:before{content:"";width:4px;height:20px;background:linear-gradient(180deg,#0d47a1,#f59e0b);border-radius:4px}.demo-controls[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-demo[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#fff;border:2px solid #E2E8F0;border-radius:8px;font-size:.85rem;font-weight:500;color:#475569;cursor:pointer;transition:all .2s ease}.btn-demo[_ngcontent-%COMP%]:hover{border-color:#0d47a1;color:#0d47a1}.btn-demo.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d47a1,#1565c0);border-color:#0d47a1;color:#fff}.btn-demo.primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0d47a14d}.scenario-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;margin-bottom:1.5rem}.scenario-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.25rem;border:2px solid #E2E8F0;cursor:pointer;transition:all .2s ease}.scenario-card[_ngcontent-%COMP%]:hover{border-color:#0d47a1;transform:translateY(-4px);box-shadow:0 12px 24px #0000001a}.scenario-card.selected[_ngcontent-%COMP%]{border-color:#0d47a1;background:linear-gradient(135deg,#0d47a10d,#0d47a105)}.scenario-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:linear-gradient(135deg,#0d47a1,#1565c0);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;margin-bottom:1rem}.scenario-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#0f172a;margin-bottom:.5rem}.scenario-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:#64748b;margin:0;line-height:1.5}.scenario-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;background:#10b9811a;color:#059669;font-size:.7rem;font-weight:600;border-radius:4px;margin-top:.75rem;text-transform:uppercase}.demo-player[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fff,#f8fafc);border-radius:16px;padding:1.5rem;border:1px solid #E2E8F0}.player-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.player-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#0f172a}.player-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.progress-bar[_ngcontent-%COMP%]{width:200px;height:6px;background:#e2e8f0;border-radius:3px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#0d47a1,#f59e0b);transition:width .3s ease}.progress-text[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:#64748b}.player-controls[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem}.player-btn[_ngcontent-%COMP%]{width:40px;height:40px;background:#fff;border:2px solid #E2E8F0;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;font-size:1.1rem}.player-btn[_ngcontent-%COMP%]:hover{border-color:#0d47a1;color:#0d47a1}.player-btn.play[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d47a1,#1565c0);border-color:#0d47a1;color:#fff}.player-btn.play[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #0d47a14d}.demo-content[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:1.25rem;margin-bottom:1rem;border:1px solid #E2E8F0}.demo-step[_ngcontent-%COMP%]{font-size:.9rem;color:#64748b;margin-bottom:.5rem}.demo-description[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172a;font-weight:500;line-height:1.6}.quick-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-top:1rem}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:.75rem;background:#fff;border-radius:10px;border:1px solid #E2E8F0}.stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0d47a1}.stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;margin-top:.25rem}@media (max-width: 768px){.demo-container[_ngcontent-%COMP%]{padding:1rem}.demo-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.scenario-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.quick-stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.progress-bar[_ngcontent-%COMP%]{width:100px}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}']})}}return t})(),xle=(()=>{class t{constructor(e){this.router=e}navigateTo(e){this.router.navigate([e])}static{this.\u0275fac=function(i){return new(i||t)(wt(Ks))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-home"]],decls:43,vars:0,consts:[[1,"home-container"],[1,"hero-section"],[1,"hero-title"],[1,"hero-subtitle"],[1,"doc-downloads"],[1,"doc-button",2,"cursor","pointer",3,"click"],[1,"doc-button","secondary",2,"cursor","pointer",3,"click"],[1,"dashboard-section"],[1,"section-header"],[1,"section-icon"],[1,"section-title"],[1,"section-card"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"section",1)(2,"h1",2),f(3,"Smart Mobility Simulator"),A(),h(4,"p",3),f(5," Simulate dynamic congestion pricing for UAE cities. Analyze revenue, equity, and environmental impact. "),A(),h(6,"div",4)(7,"a",5),it("click",function(){return r.navigateTo("/business-admin-guide")}),f(8," \u{1f4c4} Business & Admin Guide "),A(),h(9,"a",6),it("click",function(){return r.navigateTo("/technical-architecture-guide")}),f(10," \u{1f527} Technical Architecture "),A()()(),h(11,"section",7)(12,"div",8)(13,"div",9),f(14,"\u{1f3ae}"),A(),h(15,"h2",10),f(16,"Quick Demo"),A()(),h(17,"div",11),Cn(18,"app-demo-mode"),A()(),h(19,"section",7)(20,"div",8)(21,"div",9),f(22,"\u{1f5fa}\ufe0f"),A(),h(23,"h2",10),f(24,"Interactive Zone Map"),A()(),h(25,"div",11),Cn(26,"app-zone-map"),A()(),h(27,"section",7)(28,"div",8)(29,"div",9),f(30,"\u2699\ufe0f"),A(),h(31,"h2",10),f(32,"Simulation Controls"),A()(),h(33,"div",11),Cn(34,"app-simulation-controls"),A()(),h(35,"section",7)(36,"div",8)(37,"div",9),f(38,"\u{1f4ca}"),A(),h(39,"h2",10),f(40,"Results Dashboard"),A()(),h(41,"div",11),Cn(42,"app-results-dashboard"),A()()())},dependencies:[Fae,tle,ale,Cle],styles:['.home-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.hero-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d47a108,#f59e0b08);border-radius:24px;padding:2.5rem;margin-bottom:2rem;position:relative;overflow:hidden;border:1px solid rgba(13,71,161,.06)}.hero-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-40%;right:-10%;width:300px;height:300px;background:radial-gradient(circle,rgba(245,158,11,.12) 0%,transparent 70%);border-radius:50%}.hero-section[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-20%;left:-5%;width:250px;height:250px;background:radial-gradient(circle,rgba(13,71,161,.08) 0%,transparent 70%);border-radius:50%}.hero-title[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:800;margin-bottom:.5rem;background:linear-gradient(135deg,#0d47a1,#1565c0,#f59e0b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;position:relative;z-index:1}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.05rem;color:#64748b;margin-bottom:1.5rem;position:relative;z-index:1;max-width:600px}.doc-downloads[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;position:relative;z-index:1}.doc-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;background:#fff;color:#0d47a1;border:2px solid rgba(13,71,161,.2);border-radius:12px;font-weight:600;font-size:.9rem;text-decoration:none;transition:all .2s ease;box-shadow:0 2px 8px #0d47a114}.doc-button[_ngcontent-%COMP%]:hover{background:#0d47a1;color:#fff;transform:translateY(-2px);box-shadow:0 8px 20px #0d47a140;border-color:#0d47a1}.doc-button.secondary[_ngcontent-%COMP%]{background:#fff;color:#475569;border-color:#e2e8f0}.doc-button.secondary[_ngcontent-%COMP%]:hover{background:#f8fafc;color:#0d47a1;border-color:#0d47a1}.dashboard-section[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1.25rem}.section-icon[_ngcontent-%COMP%]{width:44px;height:44px;background:linear-gradient(135deg,#0d47a1,#1565c0);border-radius:12px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem;box-shadow:0 4px 12px #0d47a140}.section-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#0f172a;margin:0}.section-card[_ngcontent-%COMP%]{background:#ffffffe6;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:20px;padding:1.5rem;box-shadow:0 8px 32px #0000000f;border:1px solid rgba(255,255,255,.6);transition:all .3s ease}.section-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 40px #0000001a;border-color:#0d47a11a}app-demo-mode[_ngcontent-%COMP%], app-zone-map[_ngcontent-%COMP%], app-simulation-controls[_ngcontent-%COMP%], app-results-dashboard[_ngcontent-%COMP%]{display:block}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]{padding:1.75rem 1.25rem}.hero-title[_ngcontent-%COMP%]{font-size:1.65rem}.hero-subtitle[_ngcontent-%COMP%]{font-size:.95rem}.doc-downloads[_ngcontent-%COMP%]{flex-direction:column}.doc-button[_ngcontent-%COMP%]{width:100%;justify-content:center}.section-header[_ngcontent-%COMP%]{margin-bottom:1rem}.section-icon[_ngcontent-%COMP%]{width:38px;height:38px;font-size:1rem}.section-title[_ngcontent-%COMP%]{font-size:1.1rem}.section-card[_ngcontent-%COMP%]{padding:1.25rem}}']})}}return t})();function Zr(t){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}var Yr=Uint8Array,pl=Uint16Array,Cy=Int32Array,s1=new Yr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a1=new Yr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xy=new Yr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rU=function(t,n){for(var e=new pl(31),i=0;i<31;++i)e[i]=n+=1<<t[i-1];var r=new Cy(e[30]);for(i=1;i<30;++i)for(var o=e[i];o<e[i+1];++o)r[o]=o-e[i]<<5|i;return{b:e,r}},oU=rU(s1,2),tx=oU.r;oU.b[28]=258,tx[258]=28;for(var i4=rU(a1,0).r,My=new pl(32768),Co=0;Co<32768;++Co){var Mf=(43690&Co)>>1|(21845&Co)<<1;My[Co]=((65280&(Mf=(61680&(Mf=(52428&Mf)>>2|(13107&Mf)<<2))>>4|(3855&Mf)<<4))>>8|(255&Mf)<<8)>>1}var IA=function(t,n,e){for(var i=t.length,r=0,o=new pl(n);r<i;++r)t[r]&&++o[t[r]-1];var a,s=new pl(n);for(r=1;r<n;++r)s[r]=s[r-1]+o[r-1]<<1;if(e){a=new pl(1<<n);var l=15-n;for(r=0;r<i;++r)if(t[r])for(var u=r<<4|t[r],d=n-t[r],g=s[t[r]-1]++<<d,y=g|(1<<d)-1;g<=y;++g)a[My[g]>>l]=u}else for(a=new pl(i),r=0;r<i;++r)t[r]&&(a[r]=My[s[t[r]-1]++]>>15-t[r]);return a},Bf=new Yr(288);for(Co=0;Co<144;++Co)Bf[Co]=8;for(Co=144;Co<256;++Co)Bf[Co]=9;for(Co=256;Co<280;++Co)Bf[Co]=7;for(Co=280;Co<288;++Co)Bf[Co]=8;var By=new Yr(32);for(Co=0;Co<32;++Co)By[Co]=5;var lU=IA(Bf,9,0),uU=IA(By,5,0),Dy=function(t){return(t+7)/8|0},OA=function(t,n,e){var i=n/8|0;t[i]|=e<<=7&n,t[i+1]|=e>>8},l1=function(t,n,e){var i=n/8|0;t[i]|=e<<=7&n,t[i+1]|=e>>8,t[i+2]|=e>>16},ox=function(t,n){for(var e=[],i=0;i<t.length;++i)t[i]&&e.push({s:i,f:t[i]});var r=e.length,o=e.slice();if(!r)return{t:a4,l:0};if(1==r){var s=new Yr(e[0].s+1);return s[e[0].s]=1,{t:s,l:1}}e.sort(function(ie,be){return ie.f-be.f}),e.push({s:-1,f:25001});var a=e[0],l=e[1],u=0,d=1,g=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=r-1;)a=e[e[u].f<e[g].f?u++:g++],l=e[u!=d&&e[u].f<e[g].f?u++:g++],e[d++]={s:-1,f:a.f+l.f,l:a,r:l};var y=o[0].s;for(i=1;i<r;++i)o[i].s>y&&(y=o[i].s);var m=new pl(y+1),B=sx(e[d-1],m,0);if(B>n){i=0;var D=0,I=B-n,F=1<<I;for(o.sort(function(be,Be){return m[Be.s]-m[be.s]||be.f-Be.f});i<r;++i){var R=o[i].s;if(!(m[R]>n))break;D+=F-(1<<B-m[R]),m[R]=n}for(D>>=I;D>0;){var H=o[i].s;m[H]<n?D-=1<<n-m[H]++-1:++i}for(;i>=0&&D;--i){var z=o[i].s;m[z]==n&&(--m[z],++D)}B=n}return{t:new Yr(m),l:B}},sx=function(t,n,e){return-1==t.s?Math.max(sx(t.l,n,e+1),sx(t.r,n,e+1)):n[t.s]=e},r4=function(t){for(var n=t.length;n&&!t[--n];);for(var e=new pl(++n),i=0,r=t[0],o=1,s=function(l){e[i++]=l},a=1;a<=n;++a)if(t[a]==r&&a!=n)++o;else{if(!r&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(r),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(r);o=1,r=t[a]}return{c:e.subarray(0,i),n}},c1=function(t,n){for(var e=0,i=0;i<n.length;++i)e+=t[i]*n[i];return e},o4=function(t,n,e){var i=e.length,r=Dy(n+2);t[r]=255&i,t[r+1]=i>>8,t[r+2]=255^t[r],t[r+3]=255^t[r+1];for(var o=0;o<i;++o)t[r+o+4]=e[o];return 8*(r+4+i)},s4=function(t,n,e,i,r,o,s,a,l,u,d){OA(n,d++,e),++r[256];for(var g=ox(r,15),y=g.t,m=g.l,B=ox(o,15),D=B.t,I=B.l,F=r4(y),R=F.c,H=F.n,z=r4(D),ie=z.c,be=z.n,Be=new pl(19),se=0;se<R.length;++se)++Be[31&R[se]];for(se=0;se<ie.length;++se)++Be[31&ie[se]];for(var te=ox(Be,7),Re=te.t,G=te.l,J=19;J>4&&!Re[xy[J-1]];--J);var Le,ze,Ue,et,Ee=u+5<<3,Se=c1(r,Bf)+c1(o,By)+s,tt=c1(r,y)+c1(o,D)+s+14+3*J+c1(Be,Re)+2*Be[16]+3*Be[17]+7*Be[18];if(l>=0&&Ee<=Se&&Ee<=tt)return o4(n,d,t.subarray(l,l+u));if(OA(n,d,1+(tt<Se)),d+=2,tt<Se){Le=IA(y,m,0),ze=y,Ue=IA(D,I,0),et=D;var Qt=IA(Re,G,0);for(OA(n,d,H-257),OA(n,d+5,be-1),OA(n,d+10,J-4),d+=14,se=0;se<J;++se)OA(n,d+3*se,Re[xy[se]]);d+=3*J;for(var kt=[R,ie],W=0;W<2;++W){var pe=kt[W];for(se=0;se<pe.length;++se)OA(n,d,Qt[ye=31&pe[se]]),d+=Re[ye],ye>15&&(OA(n,d,pe[se]>>5&127),d+=pe[se]>>12)}}else Le=lU,ze=Bf,Ue=uU,et=By;for(se=0;se<a;++se){var Qe=i[se];if(Qe>255){var ye;l1(n,d,Le[257+(ye=Qe>>18&31)]),d+=ze[ye+257],ye>7&&(OA(n,d,Qe>>23&31),d+=s1[ye]);var $e=31&Qe;l1(n,d,Ue[$e]),d+=et[$e],$e>3&&(l1(n,d,Qe>>5&8191),d+=a1[$e])}else l1(n,d,Le[Qe]),d+=ze[Qe]}return l1(n,d,Le[256]),d+ze[256]},hU=new Cy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),a4=new Yr(0),fU=function(t,n,e,i,r,o){var s=o.z||t.length,a=new Yr(i+s+5*(1+Math.ceil(s/7e3))+r),l=a.subarray(i,a.length-r),u=o.l,d=7&(o.r||0);if(n){d&&(l[0]=o.r>>3);for(var g=hU[n-1],y=g>>13,m=8191&g,B=(1<<e)-1,D=o.p||new pl(32768),I=o.h||new pl(B+1),F=Math.ceil(e/3),R=2*F,H=function(qn){return(t[qn]^t[qn+1]<<F^t[qn+2]<<R)&B},z=new Cy(25e3),ie=new pl(288),be=new pl(32),Be=0,se=0,te=o.i||0,Re=0,G=o.w||0,J=0;te+2<s;++te){var Ee=H(te),Se=32767&te,tt=I[Ee];if(D[Se]=tt,I[Ee]=Se,G<=te){var Le=s-te;if((Be>7e3||Re>24576)&&(Le>423||!u)){d=s4(t,l,0,z,ie,be,se,Re,J,te-J,d),Re=Be=se=0,J=te;for(var ze=0;ze<286;++ze)ie[ze]=0;for(ze=0;ze<30;++ze)be[ze]=0}var Ue=2,et=0,Qt=m,kt=Se-tt&32767;if(Le>2&&Ee==H(te-kt))for(var W=Math.min(y,Le)-1,pe=Math.min(32767,te),ye=Math.min(258,Le);kt<=pe&&--Qt&&Se!=tt;){if(t[te+Ue]==t[te+Ue-kt]){for(var Qe=0;Qe<ye&&t[te+Qe]==t[te+Qe-kt];++Qe);if(Qe>Ue){if(Ue=Qe,et=kt,Qe>W)break;var $e=Math.min(kt,Qe-2),rt=0;for(ze=0;ze<$e;++ze){var yt=te-kt+ze&32767,Tt=yt-D[yt]&32767;Tt>rt&&(rt=Tt,tt=yt)}}}kt+=(Se=tt)-(tt=D[Se])&32767}if(et){z[Re++]=268435456|tx[Ue]<<18|i4[et];var Xt=31&tx[Ue],vn=31&i4[et];se+=s1[Xt]+a1[vn],++ie[257+Xt],++be[vn],G=te+Ue,++Be}else z[Re++]=t[te],++ie[t[te]]}}for(te=Math.max(te,G);te<s;++te)z[Re++]=t[te],++ie[t[te]];d=s4(t,l,u,z,ie,be,se,Re,J,te-J,d),u||(o.r=7&d|l[d/8|0]<<3,d-=7,o.h=I,o.p=D,o.i=te,o.w=G)}else{for(te=o.w||0;te<s+u;te+=65535){var gn=te+65535;gn>=s&&(l[d/8|0]=u,gn=s),d=o4(l,d+1,t.subarray(te,gn))}o.i=s}return function(t,n,e){return(null==n||n<0)&&(n=0),(null==e||e>t.length)&&(e=t.length),new Yr(t.subarray(n,e))}(a,0,i+Dy(d)+r)},l4=function(){var t=1,n=0;return{p:function(e){for(var i=t,r=n,o=0|e.length,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)r+=i+=e[s];i=(65535&i)+15*(i>>16),r=(65535&r)+15*(r>>16)}t=i,n=r},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},lx=function(t,n,e,i,r){if(!r&&(r={l:1},n.dictionary)){var o=n.dictionary.subarray(-32768),s=new Yr(o.length+t.length);s.set(o),s.set(t,o.length),t=s,r.w=o.length}return fU(t,null==n.level?6:n.level,null==n.mem?r.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+n.mem,e,i,r)},Oo=function(t,n,e){for(;e;++n)t[n]=e,e>>>=8},wU=function(t,n){var e=n.level,i=0==e?0:e<6?1:9==e?3:2;if(t[0]=120,t[1]=i<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var r=l4();r.p(n.dictionary),Oo(t,2,r.d())}};function Ey(t,n){n||(n={});var e=l4();e.p(t);var i=lx(t,n,n.dictionary?6:2,4);return wU(i,n),Oo(i,i.length-4,e.d()),i}var g4=typeof TextDecoder<"u"&&new TextDecoder;try{g4.decode(a4,{stream:!0})}catch{}function PU(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=Array(n);e<n;e++)i[e]=t[e];return i}function IU(t,n){return function Rle(t){if(Array.isArray(t))return t}(t)||function Ule(t,n){var e=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var i,r,o,s,a=[],l=!0,u=!1;try{if(o=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;l=!1}else for(;!(l=(i=o.call(e)).done)&&(a.push(i.value),a.length!==n);l=!0);}catch(d){u=!0,r=d}finally{try{if(!l&&null!=e.return&&(s=e.return(),Object(s)!==s))return}finally{if(u)throw r}}return a}}(t,n)||function Qle(t,n){if(t){if("string"==typeof t)return PU(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?PU(t,n):void 0}}(t,n)||function Hle(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OU(t,n="utf8"){return new TextDecoder(n).decode(t)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;const zle=new TextEncoder,Gle=(()=>{const t=new Uint8Array(4);return!((new Uint32Array(t.buffer)[0]=1)&t[0])})(),m4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Iy{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(n=8192,e={}){let i=!1;"number"==typeof n?n=new ArrayBuffer(n):(i=!0,this.lastWrittenByte=n.byteLength);const r=e.offset?e.offset>>>0:0,o=n.byteLength-r;let s=r;(ArrayBuffer.isView(n)||n instanceof Iy)&&(n.byteLength!==n.buffer.byteLength&&(s=n.byteOffset+r),n=n.buffer),this.lastWrittenByte=i?o:0,this.buffer=n,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(n=1){return this.offset+n<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(n=1){return this.offset+=n,this}back(n=1){return this.offset-=n,this}seek(n){return this.offset=n,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const n=this._marks.pop();if(void 0===n)throw new Error("Mark stack empty");return this.seek(n),this}rewind(){return this.offset=0,this}ensureAvailable(n=1){if(!this.available(n)){const i=2*(this.offset+n),r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(n=1){return this.readArray(n,"uint8")}readArray(n,e){const i=m4[e].BYTES_PER_ELEMENT*n,r=this.byteOffset+this.offset,o=this.buffer.slice(r,r+i);if(this.littleEndian===Gle&&"uint8"!==e&&"int8"!==e){const a=new Uint8Array(this.buffer.slice(r,r+i));a.reverse();const l=new m4[e](a.buffer);return this.offset+=i,l.reverse(),l}const s=new m4[e](o);return this.offset+=i,s}readInt16(){const n=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,n}readUint16(){const n=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,n}readInt32(){const n=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,n}readUint32(){const n=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat32(){const n=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat64(){const n=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n}readBigInt64(){const n=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,n}readBigUint64(){const n=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,n}readChar(){return String.fromCharCode(this.readInt8())}readChars(n=1){let e="";for(let i=0;i<n;i++)e+=this.readChar();return e}readUtf8(n=1){return OU(this.readBytes(n))}decodeText(n=1,e="utf8"){return OU(this.readBytes(n),e)}writeBoolean(n){return this.writeUint8(n?255:0),this}writeInt8(n){return this.ensureAvailable(1),this._data.setInt8(this.offset++,n),this._updateLastWrittenByte(),this}writeUint8(n){return this.ensureAvailable(1),this._data.setUint8(this.offset++,n),this._updateLastWrittenByte(),this}writeByte(n){return this.writeUint8(n)}writeBytes(n){this.ensureAvailable(n.length);for(let e=0;e<n.length;e++)this._data.setUint8(this.offset++,n[e]);return this._updateLastWrittenByte(),this}writeInt16(n){return this.ensureAvailable(2),this._data.setInt16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(n){return this.ensureAvailable(2),this._data.setUint16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(n){return this.ensureAvailable(4),this._data.setInt32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(n){return this.ensureAvailable(4),this._data.setUint32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(n){return this.ensureAvailable(4),this._data.setFloat32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(n){return this.ensureAvailable(8),this._data.setFloat64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(n){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(n){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(n){return this.writeUint8(n.charCodeAt(0))}writeChars(n){for(let e=0;e<n.length;e++)this.writeUint8(n.charCodeAt(e));return this}writeUtf8(n){return this.writeBytes(function Vle(t){return zle.encode(t)}(n))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function A1(t){let n=t.length;for(;--n>=0;)t[n]=0}const w4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),px=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Jle=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),QU=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jd=new Array(576);A1(jd);const Fy=new Array(60);A1(Fy);const Ty=new Array(512);A1(Ty);const Ly=new Array(256);A1(Ly);const C4=new Array(29);A1(C4);const gx=new Array(30);function x4(t,n,e,i,r){this.static_tree=t,this.extra_bits=n,this.extra_base=e,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}let HU,zU,VU;function M4(t,n){this.dyn_tree=t,this.max_code=0,this.stat_desc=n}A1(gx);const jU=t=>t<256?Ty[t]:Ty[256+(t>>>7)],Ny=(t,n)=>{t.pending_buf[t.pending++]=255&n,t.pending_buf[t.pending++]=n>>>8&255},Nl=(t,n,e)=>{t.bi_valid>16-e?(t.bi_buf|=n<<t.bi_valid&65535,Ny(t,t.bi_buf),t.bi_buf=n>>16-t.bi_valid,t.bi_valid+=e-16):(t.bi_buf|=n<<t.bi_valid&65535,t.bi_valid+=e)},kA=(t,n,e)=>{Nl(t,e[2*n],e[2*n+1])},GU=(t,n)=>{let e=0;do{e|=1&t,t>>>=1,e<<=1}while(--n>0);return e>>>1},KU=(t,n,e)=>{const i=new Array(16);let o,s,r=0;for(o=1;o<=15;o++)r=r+e[o-1]<<1,i[o]=r;for(s=0;s<=n;s++){let a=t[2*s+1];0!==a&&(t[2*s]=GU(i[a]++,a))}},WU=t=>{let n;for(n=0;n<286;n++)t.dyn_ltree[2*n]=0;for(n=0;n<30;n++)t.dyn_dtree[2*n]=0;for(n=0;n<19;n++)t.bl_tree[2*n]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},$U=t=>{t.bi_valid>8?Ny(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},qU=(t,n,e,i)=>{const r=2*n,o=2*e;return t[r]<t[o]||t[r]===t[o]&&i[n]<=i[e]},B4=(t,n,e)=>{const i=t.heap[e];let r=e<<1;for(;r<=t.heap_len&&(r<t.heap_len&&qU(n,t.heap[r+1],t.heap[r],t.depth)&&r++,!qU(n,i,t.heap[r],t.depth));)t.heap[e]=t.heap[r],e=r,r<<=1;t.heap[e]=i},ZU=(t,n,e)=>{let i,r,s,a,o=0;if(0!==t.sym_next)do{i=255&t.pending_buf[t.sym_buf+o++],i+=(255&t.pending_buf[t.sym_buf+o++])<<8,r=t.pending_buf[t.sym_buf+o++],0===i?kA(t,r,n):(s=Ly[r],kA(t,s+256+1,n),a=w4[s],0!==a&&(r-=C4[s],Nl(t,r,a)),i--,s=jU(i),kA(t,s,e),a=px[s],0!==a&&(i-=gx[s],Nl(t,i,a)))}while(o<t.sym_next);kA(t,256,n)},D4=(t,n)=>{const e=n.dyn_tree,i=n.stat_desc.static_tree,r=n.stat_desc.has_stree,o=n.stat_desc.elems;let s,a,u,l=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==e[2*s]?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):e[2*s+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,e[2*u]=1,t.depth[u]=0,t.opt_len--,r&&(t.static_len-=i[2*u+1]);for(n.max_code=l,s=t.heap_len>>1;s>=1;s--)B4(t,e,s);u=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],B4(t,e,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,e[2*u]=e[2*s]+e[2*a],t.depth[u]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,e[2*s+1]=e[2*a+1]=u,t.heap[1]=u++,B4(t,e,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,n)=>{const e=n.dyn_tree,i=n.max_code,r=n.stat_desc.static_tree,o=n.stat_desc.has_stree,s=n.stat_desc.extra_bits,a=n.stat_desc.extra_base,l=n.stat_desc.max_length;let u,d,g,y,m,B,D=0;for(y=0;y<=15;y++)t.bl_count[y]=0;for(e[2*t.heap[t.heap_max]+1]=0,u=t.heap_max+1;u<573;u++)d=t.heap[u],y=e[2*e[2*d+1]+1]+1,y>l&&(y=l,D++),e[2*d+1]=y,!(d>i)&&(t.bl_count[y]++,m=0,d>=a&&(m=s[d-a]),B=e[2*d],t.opt_len+=B*(y+m),o&&(t.static_len+=B*(r[2*d+1]+m)));if(0!==D){do{for(y=l-1;0===t.bl_count[y];)y--;t.bl_count[y]--,t.bl_count[y+1]+=2,t.bl_count[l]--,D-=2}while(D>0);for(y=l;0!==y;y--)for(d=t.bl_count[y];0!==d;)g=t.heap[--u],!(g>i)&&(e[2*g+1]!==y&&(t.opt_len+=(y-e[2*g+1])*e[2*g],e[2*g+1]=y),d--)}})(t,n),KU(e,l,t.bl_count)},YU=(t,n,e)=>{let i,o,r=-1,s=n[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),n[2*(e+1)+1]=65535,i=0;i<=e;i++)o=s,s=n[2*(i+1)+1],!(++a<l&&o===s)&&(a<u?t.bl_tree[2*o]+=a:0!==o?(o!==r&&t.bl_tree[2*o]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,r=o,0===s?(l=138,u=3):o===s?(l=6,u=3):(l=7,u=4))},XU=(t,n,e)=>{let i,o,r=-1,s=n[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),i=0;i<=e;i++)if(o=s,s=n[2*(i+1)+1],!(++a<l&&o===s)){if(a<u)do{kA(t,o,t.bl_tree)}while(0!=--a);else 0!==o?(o!==r&&(kA(t,o,t.bl_tree),a--),kA(t,16,t.bl_tree),Nl(t,a-3,2)):a<=10?(kA(t,17,t.bl_tree),Nl(t,a-3,3)):(kA(t,18,t.bl_tree),Nl(t,a-11,7));a=0,r=o,0===s?(l=138,u=3):o===s?(l=6,u=3):(l=7,u=4)}};let JU=!1;const e7=(t,n,e,i)=>{Nl(t,0+(i?1:0),3),$U(t),Ny(t,e),Ny(t,~e),e&&t.pending_buf.set(t.window.subarray(n,n+e),t.pending),t.pending+=e};var gce={_tr_init:t=>{JU||((()=>{let t,n,e,i,r;const o=new Array(16);for(e=0,i=0;i<28;i++)for(C4[i]=e,t=0;t<1<<w4[i];t++)Ly[e++]=i;for(Ly[e-1]=i,r=0,i=0;i<16;i++)for(gx[i]=r,t=0;t<1<<px[i];t++)Ty[r++]=i;for(r>>=7;i<30;i++)for(gx[i]=r<<7,t=0;t<1<<px[i]-7;t++)Ty[256+r++]=i;for(n=0;n<=15;n++)o[n]=0;for(t=0;t<=143;)jd[2*t+1]=8,t++,o[8]++;for(;t<=255;)jd[2*t+1]=9,t++,o[9]++;for(;t<=279;)jd[2*t+1]=7,t++,o[7]++;for(;t<=287;)jd[2*t+1]=8,t++,o[8]++;for(KU(jd,287,o),t=0;t<30;t++)Fy[2*t+1]=5,Fy[2*t]=GU(t,5);HU=new x4(jd,w4,257,286,15),zU=new x4(Fy,px,0,30,15),VU=new x4(new Array(0),Jle,0,19,7)})(),JU=!0),t.l_desc=new M4(t.dyn_ltree,HU),t.d_desc=new M4(t.dyn_dtree,zU),t.bl_desc=new M4(t.bl_tree,VU),t.bi_buf=0,t.bi_valid=0,WU(t)},_tr_stored_block:e7,_tr_flush_block:(t,n,e,i)=>{let r,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),D4(t,t.l_desc),D4(t,t.d_desc),s=(t=>{let n;for(YU(t,t.dyn_ltree,t.l_desc.max_code),YU(t,t.dyn_dtree,t.d_desc.max_code),D4(t,t.bl_desc),n=18;n>=3&&0===t.bl_tree[2*QU[n]+1];n--);return t.opt_len+=3*(n+1)+5+5+4,n})(t),r=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=r&&(r=o)):r=o=e+5,e+4<=r&&-1!==n?e7(t,n,e,i):4===t.strategy||o===r?(Nl(t,2+(i?1:0),3),ZU(t,jd,Fy)):(Nl(t,4+(i?1:0),3),((t,n,e,i)=>{let r;for(Nl(t,n-257,5),Nl(t,e-1,5),Nl(t,i-4,4),r=0;r<i;r++)Nl(t,t.bl_tree[2*QU[r]+1],3);XU(t,t.dyn_ltree,n-1),XU(t,t.dyn_dtree,e-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),ZU(t,t.dyn_ltree,t.dyn_dtree)),WU(t),i&&$U(t)},_tr_tally:(t,n,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=n,t.pending_buf[t.sym_buf+t.sym_next++]=n>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,0===n?t.dyn_ltree[2*e]++:(t.matches++,n--,t.dyn_ltree[2*(Ly[e]+256+1)]++,t.dyn_dtree[2*jU(n)]++),t.sym_next===t.sym_end),_tr_align:t=>{Nl(t,2,3),kA(t,256,jd),(t=>{16===t.bi_valid?(Ny(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},Ry=(t,n,e,i)=>{let r=65535&t,o=t>>>16&65535,s=0;for(;0!==e;){s=e>2e3?2e3:e,e-=s;do{r=r+n[i++]|0,o=o+r|0}while(--s);r%=65521,o%=65521}return r|o<<16};const vce=new Uint32Array((()=>{let t,n=[];for(var e=0;e<256;e++){t=e;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;n[e]=t}return n})());var oa=(t,n,e,i)=>{const r=vce,o=i+e;t^=-1;for(let s=i;s<o;s++)t=t>>>8^r[255&(t^n[s])];return~t},mg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vg={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:_ce,_tr_stored_block:S4,_tr_flush_block:yce,_tr_tally:Ef,_tr_align:bce}=gce,{Z_NO_FLUSH:Pf,Z_PARTIAL_FLUSH:wce,Z_FULL_FLUSH:Cce,Z_FINISH:Zc,Z_BLOCK:t7,Z_OK:wa,Z_STREAM_END:n7,Z_STREAM_ERROR:FA,Z_DATA_ERROR:xce,Z_BUF_ERROR:E4,Z_DEFAULT_COMPRESSION:Mce,Z_FILTERED:Bce,Z_HUFFMAN_ONLY:mx,Z_RLE:Dce,Z_FIXED:Sce,Z_DEFAULT_STRATEGY:Ece,Z_UNKNOWN:Pce,Z_DEFLATED:vx}=vg,TA=262,bg=(t,n)=>(t.msg=mg[n],n),i7=t=>2*t-(t>4?9:0),Of=t=>{let n=t.length;for(;--n>=0;)t[n]=0},Qce=t=>{let n,e,i,r=t.w_size;n=t.hash_size,i=n;do{e=t.head[--i],t.head[i]=e>=r?e-r:0}while(--n);n=r,i=n;do{e=t.prev[--i],t.prev[i]=e>=r?e-r:0}while(--n)};let kf=(t,n,e)=>(n<<t.hash_shift^e)&t.hash_mask;const vc=t=>{const n=t.state;let e=n.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+e),t.next_out),t.next_out+=e,n.pending_out+=e,t.total_out+=e,t.avail_out-=e,n.pending-=e,0===n.pending&&(n.pending_out=0))},_c=(t,n)=>{yce(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,n),t.block_start=t.strstart,vc(t.strm)},Rr=(t,n)=>{t.pending_buf[t.pending++]=n},Qy=(t,n)=>{t.pending_buf[t.pending++]=n>>>8&255,t.pending_buf[t.pending++]=255&n},L4=(t,n,e,i)=>{let r=t.avail_in;return r>i&&(r=i),0===r?0:(t.avail_in-=r,n.set(t.input.subarray(t.next_in,t.next_in+r),e),1===t.state.wrap?t.adler=Ry(t.adler,n,r,e):2===t.state.wrap&&(t.adler=oa(t.adler,n,r,e)),t.next_in+=r,t.total_in+=r,r)},r7=(t,n)=>{let r,o,e=t.max_chain_length,i=t.strstart,s=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-TA?t.strstart-(t.w_size-TA):0,u=t.window,d=t.w_mask,g=t.prev,y=t.strstart+258;let m=u[i+s-1],B=u[i+s];t.prev_length>=t.good_match&&(e>>=2),a>t.lookahead&&(a=t.lookahead);do{if(r=n,u[r+s]===B&&u[r+s-1]===m&&u[r]===u[i]&&u[++r]===u[i+1]){i+=2,r++;do{}while(u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&i<y);if(o=258-(y-i),i=y-258,o>s){if(t.match_start=n,s=o,o>=a)break;m=u[i+s-1],B=u[i+s]}}}while((n=g[n&d])>l&&0!=--e);return s<=t.lookahead?s:t.lookahead},g1=t=>{const n=t.w_size;let e,i,r;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=n+(n-TA)&&(t.window.set(t.window.subarray(n,n+n-i),0),t.match_start-=n,t.strstart-=n,t.block_start-=n,t.insert>t.strstart&&(t.insert=t.strstart),Qce(t),i+=n),0===t.strm.avail_in)break;if(e=L4(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=e,t.lookahead+t.insert>=3)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=kf(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=kf(t,t.ins_h,t.window[r+3-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<TA&&0!==t.strm.avail_in)},o7=(t,n)=>{let i,r,o,e=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(i=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,r=t.strstart-t.block_start,i>r+t.strm.avail_in&&(i=r+t.strm.avail_in),i>o&&(i=o),i<e&&(0===i&&n!==Zc||n===Pf||i!==r+t.strm.avail_in)))break;s=n===Zc&&i===r+t.strm.avail_in?1:0,S4(t,0,0,s),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,vc(t.strm),r&&(r>i&&(r=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,i-=r),i&&(L4(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(0===s);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:n!==Pf&&n!==Zc&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(L4(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,e=o>t.w_size?t.w_size:o,r=t.strstart-t.block_start,(r>=e||(r||n===Zc)&&n!==Pf&&0===t.strm.avail_in&&r<=o)&&(i=r>o?o:r,s=n===Zc&&0===t.strm.avail_in&&i===r?1:0,S4(t,t.block_start,i,s),t.block_start+=i,vc(t.strm)),s?3:1)},N4=(t,n)=>{let e,i;for(;;){if(t.lookahead<TA){if(g1(t),t.lookahead<TA&&n===Pf)return 1;if(0===t.lookahead)break}if(e=0,t.lookahead>=3&&(t.ins_h=kf(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==e&&t.strstart-e<=t.w_size-TA&&(t.match_length=r7(t,e)),t.match_length>=3)if(i=Ef(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=kf(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=kf(t,t.ins_h,t.window[t.strstart+1]);else i=Ef(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(_c(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,n===Zc?(_c(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(_c(t,!1),0===t.strm.avail_out)?1:2},m1=(t,n)=>{let e,i,r;for(;;){if(t.lookahead<TA){if(g1(t),t.lookahead<TA&&n===Pf)return 1;if(0===t.lookahead)break}if(e=0,t.lookahead>=3&&(t.ins_h=kf(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==e&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-TA&&(t.match_length=r7(t,e),t.match_length<=5&&(t.strategy===Bce||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=Ef(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=kf(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(_c(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=Ef(t,0,t.window[t.strstart-1]),i&&_c(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=Ef(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,n===Zc?(_c(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(_c(t,!1),0===t.strm.avail_out)?1:2};function LA(t,n,e,i,r){this.good_length=t,this.max_lazy=n,this.nice_length=e,this.max_chain=i,this.func=r}const Hy=[new LA(0,0,0,0,o7),new LA(4,4,8,4,N4),new LA(4,5,16,8,N4),new LA(4,6,32,32,N4),new LA(4,4,16,16,m1),new LA(8,16,32,32,m1),new LA(8,16,128,128,m1),new LA(8,32,128,256,m1),new LA(32,128,258,1024,m1),new LA(32,258,258,4096,m1)];function jce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=vx,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Of(this.dyn_ltree),Of(this.dyn_dtree),Of(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Of(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Of(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const zy=t=>{if(!t)return 1;const n=t.state;return!n||n.strm!==t||42!==n.status&&57!==n.status&&69!==n.status&&73!==n.status&&91!==n.status&&103!==n.status&&113!==n.status&&666!==n.status?1:0},s7=t=>{if(zy(t))return bg(t,FA);t.total_in=t.total_out=0,t.data_type=Pce;const n=t.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=2===n.wrap?57:n.wrap?42:113,t.adler=2===n.wrap?0:1,n.last_flush=-2,_ce(n),wa},a7=t=>{const n=s7(t);return n===wa&&(t=>{t.window_size=2*t.w_size,Of(t.head),t.max_lazy_match=Hy[t.level].max_lazy,t.good_match=Hy[t.level].good_length,t.nice_match=Hy[t.level].nice_length,t.max_chain_length=Hy[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),n},l7=(t,n,e,i,r,o)=>{if(!t)return FA;let s=1;if(n===Mce&&(n=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>9||e!==vx||i<8||i>15||n<0||n>9||o<0||o>Sce||8===i&&1!==s)return bg(t,FA);8===i&&(i=9);const a=new jce;return t.state=a,a.strm=t,a.status=42,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=n,a.strategy=o,a.method=e,a7(t)};var Vy={deflateInit:(t,n)=>l7(t,n,vx,15,8,Ece),deflateInit2:l7,deflateReset:a7,deflateResetKeep:s7,deflateSetHeader:(t,n)=>zy(t)||2!==t.state.wrap?FA:(t.state.gzhead=n,wa),deflate:(t,n)=>{if(zy(t)||n>t7||n<0)return t?bg(t,FA):FA;const e=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===e.status&&n!==Zc)return bg(t,0===t.avail_out?E4:FA);const i=e.last_flush;if(e.last_flush=n,0!==e.pending){if(vc(t),0===t.avail_out)return e.last_flush=-1,wa}else if(0===t.avail_in&&i7(n)<=i7(i)&&n!==Zc)return bg(t,E4);if(666===e.status&&0!==t.avail_in)return bg(t,E4);if(42===e.status&&0===e.wrap&&(e.status=113),42===e.status){let r=vx+(e.w_bits-8<<4)<<8,o=-1;if(o=e.strategy>=mx||e.level<2?0:e.level<6?1:6===e.level?2:3,r|=o<<6,0!==e.strstart&&(r|=32),r+=31-r%31,Qy(e,r),0!==e.strstart&&(Qy(e,t.adler>>>16),Qy(e,65535&t.adler)),t.adler=1,e.status=113,vc(t),0!==e.pending)return e.last_flush=-1,wa}if(57===e.status)if(t.adler=0,Rr(e,31),Rr(e,139),Rr(e,8),e.gzhead)Rr(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),Rr(e,255&e.gzhead.time),Rr(e,e.gzhead.time>>8&255),Rr(e,e.gzhead.time>>16&255),Rr(e,e.gzhead.time>>24&255),Rr(e,9===e.level?2:e.strategy>=mx||e.level<2?4:0),Rr(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(Rr(e,255&e.gzhead.extra.length),Rr(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=oa(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69;else if(Rr(e,0),Rr(e,0),Rr(e,0),Rr(e,0),Rr(e,0),Rr(e,9===e.level?2:e.strategy>=mx||e.level<2?4:0),Rr(e,3),e.status=113,vc(t),0!==e.pending)return e.last_flush=-1,wa;if(69===e.status){if(e.gzhead.extra){let r=e.pending,o=(65535&e.gzhead.extra.length)-e.gzindex;for(;e.pending+o>e.pending_buf_size;){let a=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+a),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>r&&(t.adler=oa(t.adler,e.pending_buf,e.pending-r,r)),e.gzindex+=a,vc(t),0!==e.pending)return e.last_flush=-1,wa;r=0,o-=a}let s=new Uint8Array(e.gzhead.extra);e.pending_buf.set(s.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending+=o,e.gzhead.hcrc&&e.pending>r&&(t.adler=oa(t.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=73}if(73===e.status){if(e.gzhead.name){let o,r=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(t.adler=oa(t.adler,e.pending_buf,e.pending-r,r)),vc(t),0!==e.pending)return e.last_flush=-1,wa;r=0}o=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,Rr(e,o)}while(0!==o);e.gzhead.hcrc&&e.pending>r&&(t.adler=oa(t.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=91}if(91===e.status){if(e.gzhead.comment){let o,r=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(t.adler=oa(t.adler,e.pending_buf,e.pending-r,r)),vc(t),0!==e.pending)return e.last_flush=-1,wa;r=0}o=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,Rr(e,o)}while(0!==o);e.gzhead.hcrc&&e.pending>r&&(t.adler=oa(t.adler,e.pending_buf,e.pending-r,r))}e.status=103}if(103===e.status){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(vc(t),0!==e.pending))return e.last_flush=-1,wa;Rr(e,255&t.adler),Rr(e,t.adler>>8&255),t.adler=0}if(e.status=113,vc(t),0!==e.pending)return e.last_flush=-1,wa}if(0!==t.avail_in||0!==e.lookahead||n!==Pf&&666!==e.status){let r=0===e.level?o7(e,n):e.strategy===mx?((t,n)=>{let e;for(;;){if(0===t.lookahead&&(g1(t),0===t.lookahead)){if(n===Pf)return 1;break}if(t.match_length=0,e=Ef(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(_c(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===Zc?(_c(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(_c(t,!1),0===t.strm.avail_out)?1:2})(e,n):e.strategy===Dce?((t,n)=>{let e,i,r,o;const s=t.window;for(;;){if(t.lookahead<=258){if(g1(t),t.lookahead<=258&&n===Pf)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=t.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){o=t.strstart+258;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);t.match_length=258-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(e=Ef(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=Ef(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(_c(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===Zc?(_c(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(_c(t,!1),0===t.strm.avail_out)?1:2})(e,n):Hy[e.level].func(e,n);if((3===r||4===r)&&(e.status=666),1===r||3===r)return 0===t.avail_out&&(e.last_flush=-1),wa;if(2===r&&(n===wce?bce(e):n!==t7&&(S4(e,0,0,!1),n===Cce&&(Of(e.head),0===e.lookahead&&(e.strstart=0,e.block_start=0,e.insert=0))),vc(t),0===t.avail_out))return e.last_flush=-1,wa}return n!==Zc?wa:e.wrap<=0?n7:(2===e.wrap?(Rr(e,255&t.adler),Rr(e,t.adler>>8&255),Rr(e,t.adler>>16&255),Rr(e,t.adler>>24&255),Rr(e,255&t.total_in),Rr(e,t.total_in>>8&255),Rr(e,t.total_in>>16&255),Rr(e,t.total_in>>24&255)):(Qy(e,t.adler>>>16),Qy(e,65535&t.adler)),vc(t),e.wrap>0&&(e.wrap=-e.wrap),0!==e.pending?wa:n7)},deflateEnd:t=>{if(zy(t))return FA;const n=t.state.status;return t.state=null,113===n?bg(t,xce):wa},deflateSetDictionary:(t,n)=>{let e=n.length;if(zy(t))return FA;const i=t.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return FA;if(1===r&&(t.adler=Ry(t.adler,n,e,0)),i.wrap=0,e>=i.w_size){0===r&&(Of(i.head),i.strstart=0,i.block_start=0,i.insert=0);let l=new Uint8Array(i.w_size);l.set(n.subarray(e-i.w_size,e),0),n=l,e=i.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=e,t.next_in=0,t.input=n,g1(i);i.lookahead>=3;){let l=i.strstart,u=i.lookahead-2;do{i.ins_h=kf(i,i.ins_h,i.window[l+3-1]),i.prev[l&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=l,l++}while(--u);i.strstart=l,i.lookahead=2,g1(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,i.wrap=r,wa},deflateInfo:"pako deflate (from Nodeca project)"};const oue=(t,n)=>Object.prototype.hasOwnProperty.call(t,n);var _x={assign:function(t){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const e=n.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(const i in e)oue(e,i)&&(t[i]=e[i])}}return t},flattenChunks:t=>{let n=0;for(let i=0,r=t.length;i<r;i++)n+=t[i].length;const e=new Uint8Array(n);for(let i=0,r=0,o=t.length;i<o;i++){let s=t[i];e.set(s,r),r+=s.length}return e}};let c7=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c7=!1}const jy=new Uint8Array(256);for(let t=0;t<256;t++)jy[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;jy[254]=jy[254]=1;var Gy={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let n,e,i,r,o,s=t.length,a=0;for(r=0;r<s;r++)e=t.charCodeAt(r),55296==(64512&e)&&r+1<s&&(i=t.charCodeAt(r+1),56320==(64512&i)&&(e=65536+(e-55296<<10)+(i-56320),r++)),a+=e<128?1:e<2048?2:e<65536?3:4;for(n=new Uint8Array(a),o=0,r=0;o<a;r++)e=t.charCodeAt(r),55296==(64512&e)&&r+1<s&&(i=t.charCodeAt(r+1),56320==(64512&i)&&(e=65536+(e-55296<<10)+(i-56320),r++)),e<128?n[o++]=e:e<2048?(n[o++]=192|e>>>6,n[o++]=128|63&e):e<65536?(n[o++]=224|e>>>12,n[o++]=128|e>>>6&63,n[o++]=128|63&e):(n[o++]=240|e>>>18,n[o++]=128|e>>>12&63,n[o++]=128|e>>>6&63,n[o++]=128|63&e);return n},buf2string:(t,n)=>{const e=n||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,n));let i,r;const o=new Array(2*e);for(r=0,i=0;i<e;){let s=t[i++];if(s<128){o[r++]=s;continue}let a=jy[s];if(a>4)o[r++]=65533,i+=a-1;else{for(s&=2===a?31:3===a?15:7;a>1&&i<e;)s=s<<6|63&t[i++],a--;a>1?o[r++]=65533:s<65536?o[r++]=s:(s-=65536,o[r++]=55296|s>>10&1023,o[r++]=56320|1023&s)}}return((t,n)=>{if(n<65534&&t.subarray&&c7)return String.fromCharCode.apply(null,t.length===n?t:t.subarray(0,n));let e="";for(let i=0;i<n;i++)e+=String.fromCharCode(t[i]);return e})(o,r)},utf8border:(t,n)=>{(n=n||t.length)>t.length&&(n=t.length);let e=n-1;for(;e>=0&&128==(192&t[e]);)e--;return e<0||0===e?n:e+jy[t[e]]>n?e:n}},u7=function due(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const A7=Object.prototype.toString,{Z_NO_FLUSH:hue,Z_SYNC_FLUSH:fue,Z_FULL_FLUSH:pue,Z_FINISH:gue,Z_OK:yx,Z_STREAM_END:mue,Z_DEFAULT_COMPRESSION:vue,Z_DEFAULT_STRATEGY:_ue,Z_DEFLATED:yue}=vg;function Ky(t){this.options=_x.assign({level:vue,method:yue,chunkSize:16384,windowBits:15,memLevel:8,strategy:_ue},t||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u7,this.strm.avail_out=0;let e=Vy.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(e!==yx)throw new Error(mg[e]);if(n.header&&Vy.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(i="string"==typeof n.dictionary?Gy.string2buf(n.dictionary):"[object ArrayBuffer]"===A7.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,e=Vy.deflateSetDictionary(this.strm,i),e!==yx)throw new Error(mg[e]);this._dict_set=!0}}function R4(t,n){const e=new Ky(n);if(e.push(t,!0),e.err)throw e.msg||mg[e.err];return e.result}Ky.prototype.push=function(t,n){const e=this.strm,i=this.options.chunkSize;let r,o;if(this.ended)return!1;for(o=n===~~n?n:!0===n?gue:hue,e.input="string"==typeof t?Gy.string2buf(t):"[object ArrayBuffer]"===A7.call(t)?new Uint8Array(t):t,e.next_in=0,e.avail_in=e.input.length;;)if(0===e.avail_out&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),(o===fue||o===pue)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if(r=Vy.deflate(e,o),r===mue)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),r=Vy.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===yx;if(0!==e.avail_out){if(o>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(0===e.avail_in)break}else this.onData(e.output)}return!0},Ky.prototype.onData=function(t){this.chunks.push(t)},Ky.prototype.onEnd=function(t){t===yx&&(this.result=_x.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Sue={Deflate:Ky,deflate:R4,deflateRaw:function bue(t,n){return(n=n||{}).raw=!0,R4(t,n)},gzip:function wue(t,n){return(n=n||{}).gzip=!0,R4(t,n)},constants:vg};const bx=16209;var Pue=function(n,e){let i,r,o,s,a,l,u,d,g,y,m,B,D,I,F,R,H,z,ie,be,Be,se,te,Re;const G=n.state;i=n.next_in,te=n.input,r=i+(n.avail_in-5),o=n.next_out,Re=n.output,s=o-(e-n.avail_out),a=o+(n.avail_out-257),l=G.dmax,u=G.wsize,d=G.whave,g=G.wnext,y=G.window,m=G.hold,B=G.bits,D=G.lencode,I=G.distcode,F=(1<<G.lenbits)-1,R=(1<<G.distbits)-1;e:do{B<15&&(m+=te[i++]<<B,B+=8,m+=te[i++]<<B,B+=8),H=D[m&F];t:for(;;){if(z=H>>>24,m>>>=z,B-=z,z=H>>>16&255,0===z)Re[o++]=65535&H;else{if(!(16&z)){if(64&z){if(32&z){G.mode=16191;break e}n.msg="invalid literal/length code",G.mode=bx;break e}H=D[(65535&H)+(m&(1<<z)-1)];continue t}for(ie=65535&H,z&=15,z&&(B<z&&(m+=te[i++]<<B,B+=8),ie+=m&(1<<z)-1,m>>>=z,B-=z),B<15&&(m+=te[i++]<<B,B+=8,m+=te[i++]<<B,B+=8),H=I[m&R];;){if(z=H>>>24,m>>>=z,B-=z,z=H>>>16&255,16&z){if(be=65535&H,z&=15,B<z&&(m+=te[i++]<<B,B+=8,B<z&&(m+=te[i++]<<B,B+=8)),be+=m&(1<<z)-1,be>l){n.msg="invalid distance too far back",G.mode=bx;break e}if(m>>>=z,B-=z,z=o-s,be>z){if(z=be-z,z>d&&G.sane){n.msg="invalid distance too far back",G.mode=bx;break e}if(Be=0,se=y,0===g){if(Be+=u-z,z<ie){ie-=z;do{Re[o++]=y[Be++]}while(--z);Be=o-be,se=Re}}else if(g<z){if(Be+=u+g-z,z-=g,z<ie){ie-=z;do{Re[o++]=y[Be++]}while(--z);if(Be=0,g<ie){z=g,ie-=z;do{Re[o++]=y[Be++]}while(--z);Be=o-be,se=Re}}}else if(Be+=g-z,z<ie){ie-=z;do{Re[o++]=y[Be++]}while(--z);Be=o-be,se=Re}for(;ie>2;)Re[o++]=se[Be++],Re[o++]=se[Be++],Re[o++]=se[Be++],ie-=3;ie&&(Re[o++]=se[Be++],ie>1&&(Re[o++]=se[Be++]))}else{Be=o-be;do{Re[o++]=Re[Be++],Re[o++]=Re[Be++],Re[o++]=Re[Be++],ie-=3}while(ie>2);ie&&(Re[o++]=Re[Be++],ie>1&&(Re[o++]=Re[Be++]))}break}if(64&z){n.msg="invalid distance code",G.mode=bx;break e}H=I[(65535&H)+(m&(1<<z)-1)]}}break}}while(i<r&&o<a);ie=B>>3,i-=ie,B-=ie<<3,m&=(1<<B)-1,n.next_in=i,n.next_out=o,n.avail_in=i<r?r-i+5:5-(i-r),n.avail_out=o<a?a-o+257:257-(o-a),G.hold=m,G.bits=B};const Iue=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Oue=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kue=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Fue=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Wy=(t,n,e,i,r,o,s,a)=>{const l=a.bits;let H,z,ie,be,Be,te,u=0,d=0,g=0,y=0,m=0,B=0,D=0,I=0,F=0,R=0,se=null;const Re=new Uint16Array(16),G=new Uint16Array(16);let Ee,Se,tt,J=null;for(u=0;u<=15;u++)Re[u]=0;for(d=0;d<i;d++)Re[n[e+d]]++;for(m=l,y=15;y>=1&&0===Re[y];y--);if(m>y&&(m=y),0===y)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(g=1;g<y&&0===Re[g];g++);for(m<g&&(m=g),I=1,u=1;u<=15;u++)if(I<<=1,I-=Re[u],I<0)return-1;if(I>0&&(0===t||1!==y))return-1;for(G[1]=0,u=1;u<15;u++)G[u+1]=G[u]+Re[u];for(d=0;d<i;d++)0!==n[e+d]&&(s[G[n[e+d]]++]=d);if(0===t?(se=J=s,te=20):1===t?(se=Iue,J=Oue,te=257):(se=kue,J=Fue,te=0),R=0,d=0,u=g,Be=o,B=m,D=0,ie=-1,F=1<<m,be=F-1,1===t&&F>852||2===t&&F>592)return 1;for(;;){Ee=u-D,s[d]+1<te?(Se=0,tt=s[d]):s[d]>=te?(Se=J[s[d]-te],tt=se[s[d]-te]):(Se=96,tt=0),H=1<<u-D,z=1<<B,g=z;do{z-=H,r[Be+(R>>D)+z]=Ee<<24|Se<<16|tt}while(0!==z);for(H=1<<u-1;R&H;)H>>=1;if(0!==H?(R&=H-1,R+=H):R=0,d++,0==--Re[u]){if(u===y)break;u=n[e+s[d]]}if(u>m&&(R&be)!==ie){for(0===D&&(D=m),Be+=g,B=u-D,I=1<<B;B+D<y&&(I-=Re[B+D],!(I<=0));)B++,I<<=1;if(F+=1<<B,1===t&&F>852||2===t&&F>592)return 1;ie=R&be,r[ie]=m<<24|B<<16|Be-o}}return 0!==R&&(r[Be+R]=u-D<<24|64<<16),a.bits=m,0};const{Z_FINISH:v7,Z_BLOCK:Lue,Z_TREES:wx,Z_OK:wg,Z_STREAM_END:Nue,Z_NEED_DICT:Rue,Z_STREAM_ERROR:Yc,Z_DATA_ERROR:_7,Z_MEM_ERROR:y7,Z_BUF_ERROR:Uue,Z_DEFLATED:b7}=vg,Cx=16180,xx=16190,Gd=16191,Mx=16199,Bx=16200,ko=16209,G7=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Vue(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Cg=t=>{if(!t)return 1;const n=t.state;return!n||n.strm!==t||n.mode<Cx||n.mode>16211?1:0},K7=t=>{if(Cg(t))return Yc;const n=t.state;return t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=1&n.wrap),n.mode=Cx,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(852),n.distcode=n.distdyn=new Int32Array(592),n.sane=1,n.back=-1,wg},W7=t=>{if(Cg(t))return Yc;const n=t.state;return n.wsize=0,n.whave=0,n.wnext=0,K7(t)},$7=(t,n)=>{let e;if(Cg(t))return Yc;const i=t.state;return n<0?(e=0,n=-n):(e=5+(n>>4),n<48&&(n&=15)),n&&(n<8||n>15)?Yc:(null!==i.window&&i.wbits!==n&&(i.window=null),i.wrap=e,i.wbits=n,W7(t))},q7=(t,n)=>{if(!t)return Yc;const e=new Vue;t.state=e,e.strm=t,e.window=null,e.mode=Cx;const i=$7(t,n);return i!==wg&&(t.state=null),i};let V4,j4,Z7=!0;const Gue=t=>{if(Z7){V4=new Int32Array(512),j4=new Int32Array(32);let n=0;for(;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(Wy(1,t.lens,0,288,V4,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;Wy(2,t.lens,0,32,j4,0,t.work,{bits:5}),Z7=!1}t.lencode=V4,t.lenbits=9,t.distcode=j4,t.distbits=5},Y7=(t,n,e,i)=>{let r;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(n.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(n.subarray(e-i,e-i+r),o.wnext),(i-=r)?(o.window.set(n.subarray(e-i,e),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0};var Kd={inflateReset:W7,inflateReset2:$7,inflateResetKeep:K7,inflateInit:t=>q7(t,15),inflateInit2:q7,inflate:(t,n)=>{let e,i,r,o,s,a,l,u,d,g,y,m,B,D,F,R,H,z,ie,be,Be,se,I=0;const te=new Uint8Array(4);let Re,G;const J=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Cg(t)||!t.output||!t.input&&0!==t.avail_in)return Yc;e=t.state,e.mode===Gd&&(e.mode=16192),s=t.next_out,r=t.output,l=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,u=e.hold,d=e.bits,g=a,y=l,se=wg;e:for(;;)switch(e.mode){case Cx:if(0===e.wrap){e.mode=16192;break}for(;d<16;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}if(2&e.wrap&&35615===u){0===e.wbits&&(e.wbits=15),e.check=0,te[0]=255&u,te[1]=u>>>8&255,e.check=oa(e.check,te,2,0),u=0,d=0,e.mode=16181;break}if(e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",e.mode=ko;break}if((15&u)!==b7){t.msg="unknown compression method",e.mode=ko;break}if(u>>>=4,d-=4,Be=8+(15&u),0===e.wbits&&(e.wbits=Be),Be>15||Be>e.wbits){t.msg="invalid window size",e.mode=ko;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=512&u?16189:Gd,u=0,d=0;break;case 16181:for(;d<16;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}if(e.flags=u,(255&e.flags)!==b7){t.msg="unknown compression method",e.mode=ko;break}if(57344&e.flags){t.msg="unknown header flags set",e.mode=ko;break}e.head&&(e.head.text=u>>8&1),512&e.flags&&4&e.wrap&&(te[0]=255&u,te[1]=u>>>8&255,e.check=oa(e.check,te,2,0)),u=0,d=0,e.mode=16182;case 16182:for(;d<32;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}e.head&&(e.head.time=u),512&e.flags&&4&e.wrap&&(te[0]=255&u,te[1]=u>>>8&255,te[2]=u>>>16&255,te[3]=u>>>24&255,e.check=oa(e.check,te,4,0)),u=0,d=0,e.mode=16183;case 16183:for(;d<16;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}e.head&&(e.head.xflags=255&u,e.head.os=u>>8),512&e.flags&&4&e.wrap&&(te[0]=255&u,te[1]=u>>>8&255,e.check=oa(e.check,te,2,0)),u=0,d=0,e.mode=16184;case 16184:if(1024&e.flags){for(;d<16;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}e.length=u,e.head&&(e.head.extra_len=u),512&e.flags&&4&e.wrap&&(te[0]=255&u,te[1]=u>>>8&255,e.check=oa(e.check,te,2,0)),u=0,d=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(1024&e.flags&&(m=e.length,m>a&&(m=a),m&&(e.head&&(Be=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(o,o+m),Be)),512&e.flags&&4&e.wrap&&(e.check=oa(e.check,i,m,o)),a-=m,o+=m,e.length-=m),e.length))break e;e.length=0,e.mode=16186;case 16186:if(2048&e.flags){if(0===a)break e;m=0;do{Be=i[o+m++],e.head&&Be&&e.length<65536&&(e.head.name+=String.fromCharCode(Be))}while(Be&&m<a);if(512&e.flags&&4&e.wrap&&(e.check=oa(e.check,i,m,o)),a-=m,o+=m,Be)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=16187;case 16187:if(4096&e.flags){if(0===a)break e;m=0;do{Be=i[o+m++],e.head&&Be&&e.length<65536&&(e.head.comment+=String.fromCharCode(Be))}while(Be&&m<a);if(512&e.flags&&4&e.wrap&&(e.check=oa(e.check,i,m,o)),a-=m,o+=m,Be)break e}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(512&e.flags){for(;d<16;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}if(4&e.wrap&&u!==(65535&e.check)){t.msg="header crc mismatch",e.mode=ko;break}u=0,d=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=Gd;break;case 16189:for(;d<32;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}t.adler=e.check=G7(u),u=0,d=0,e.mode=xx;case xx:if(0===e.havedict)return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,e.hold=u,e.bits=d,Rue;t.adler=e.check=1,e.mode=Gd;case Gd:if(n===Lue||n===wx)break e;case 16192:if(e.last){u>>>=7&d,d-=7&d,e.mode=16206;break}for(;d<3;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}switch(e.last=1&u,u>>>=1,d-=1,3&u){case 0:e.mode=16193;break;case 1:if(Gue(e),e.mode=Mx,n===wx){u>>>=2,d-=2;break e}break;case 2:e.mode=16196;break;case 3:t.msg="invalid block type",e.mode=ko}u>>>=2,d-=2;break;case 16193:for(u>>>=7&d,d-=7&d;d<32;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",e.mode=ko;break}if(e.length=65535&u,u=0,d=0,e.mode=16194,n===wx)break e;case 16194:e.mode=16195;case 16195:if(m=e.length,m){if(m>a&&(m=a),m>l&&(m=l),0===m)break e;r.set(i.subarray(o,o+m),s),a-=m,o+=m,l-=m,s+=m,e.length-=m;break}e.mode=Gd;break;case 16196:for(;d<14;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}if(e.nlen=257+(31&u),u>>>=5,d-=5,e.ndist=1+(31&u),u>>>=5,d-=5,e.ncode=4+(15&u),u>>>=4,d-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=ko;break}e.have=0,e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;d<3;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}e.lens[J[e.have++]]=7&u,u>>>=3,d-=3}for(;e.have<19;)e.lens[J[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,Re={bits:e.lenbits},se=Wy(0,e.lens,0,19,e.lencode,0,e.work,Re),e.lenbits=Re.bits,se){t.msg="invalid code lengths set",e.mode=ko;break}e.have=0,e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;I=e.lencode[u&(1<<e.lenbits)-1],F=I>>>24,R=I>>>16&255,H=65535&I,!(F<=d);){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}if(H<16)u>>>=F,d-=F,e.lens[e.have++]=H;else{if(16===H){for(G=F+2;d<G;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}if(u>>>=F,d-=F,0===e.have){t.msg="invalid bit length repeat",e.mode=ko;break}Be=e.lens[e.have-1],m=3+(3&u),u>>>=2,d-=2}else if(17===H){for(G=F+3;d<G;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}u>>>=F,d-=F,Be=0,m=3+(7&u),u>>>=3,d-=3}else{for(G=F+7;d<G;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}u>>>=F,d-=F,Be=0,m=11+(127&u),u>>>=7,d-=7}if(e.have+m>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=ko;break}for(;m--;)e.lens[e.have++]=Be}}if(e.mode===ko)break;if(0===e.lens[256]){t.msg="invalid code -- missing end-of-block",e.mode=ko;break}if(e.lenbits=9,Re={bits:e.lenbits},se=Wy(1,e.lens,0,e.nlen,e.lencode,0,e.work,Re),e.lenbits=Re.bits,se){t.msg="invalid literal/lengths set",e.mode=ko;break}if(e.distbits=6,e.distcode=e.distdyn,Re={bits:e.distbits},se=Wy(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,Re),e.distbits=Re.bits,se){t.msg="invalid distances set",e.mode=ko;break}if(e.mode=Mx,n===wx)break e;case Mx:e.mode=Bx;case Bx:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,e.hold=u,e.bits=d,Pue(t,y),s=t.next_out,r=t.output,l=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,u=e.hold,d=e.bits,e.mode===Gd&&(e.back=-1);break}for(e.back=0;I=e.lencode[u&(1<<e.lenbits)-1],F=I>>>24,R=I>>>16&255,H=65535&I,!(F<=d);){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}if(R&&!(240&R)){for(z=F,ie=R,be=H;I=e.lencode[be+((u&(1<<z+ie)-1)>>z)],F=I>>>24,R=I>>>16&255,H=65535&I,!(z+F<=d);){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}u>>>=z,d-=z,e.back+=z}if(u>>>=F,d-=F,e.back+=F,e.length=H,0===R){e.mode=16205;break}if(32&R){e.back=-1,e.mode=Gd;break}if(64&R){t.msg="invalid literal/length code",e.mode=ko;break}e.extra=15&R,e.mode=16201;case 16201:if(e.extra){for(G=e.extra;d<G;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}e.length+=u&(1<<e.extra)-1,u>>>=e.extra,d-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=16202;case 16202:for(;I=e.distcode[u&(1<<e.distbits)-1],F=I>>>24,R=I>>>16&255,H=65535&I,!(F<=d);){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}if(!(240&R)){for(z=F,ie=R,be=H;I=e.distcode[be+((u&(1<<z+ie)-1)>>z)],F=I>>>24,R=I>>>16&255,H=65535&I,!(z+F<=d);){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}u>>>=z,d-=z,e.back+=z}if(u>>>=F,d-=F,e.back+=F,64&R){t.msg="invalid distance code",e.mode=ko;break}e.offset=H,e.extra=15&R,e.mode=16203;case 16203:if(e.extra){for(G=e.extra;d<G;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}e.offset+=u&(1<<e.extra)-1,u>>>=e.extra,d-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=ko;break}e.mode=16204;case 16204:if(0===l)break e;if(m=y-l,e.offset>m){if(m=e.offset-m,m>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=ko;break}m>e.wnext?(m-=e.wnext,B=e.wsize-m):B=e.wnext-m,m>e.length&&(m=e.length),D=e.window}else D=r,B=s-e.offset,m=e.length;m>l&&(m=l),l-=m,e.length-=m;do{r[s++]=D[B++]}while(--m);0===e.length&&(e.mode=Bx);break;case 16205:if(0===l)break e;r[s++]=e.length,l--,e.mode=Bx;break;case 16206:if(e.wrap){for(;d<32;){if(0===a)break e;a--,u|=i[o++]<<d,d+=8}if(y-=l,t.total_out+=y,e.total+=y,4&e.wrap&&y&&(t.adler=e.check=e.flags?oa(e.check,r,y,s-y):Ry(e.check,r,y,s-y)),y=l,4&e.wrap&&(e.flags?u:G7(u))!==e.check){t.msg="incorrect data check",e.mode=ko;break}u=0,d=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;d<32;){if(0===a)break e;a--,u+=i[o++]<<d,d+=8}if(4&e.wrap&&u!==(4294967295&e.total)){t.msg="incorrect length check",e.mode=ko;break}u=0,d=0}e.mode=16208;case 16208:se=Nue;break e;case ko:se=_7;break e;case 16210:return y7;default:return Yc}return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,e.hold=u,e.bits=d,(e.wsize||y!==t.avail_out&&e.mode<ko&&(e.mode<16206||n!==v7))&&Y7(t,t.output,t.next_out,y-t.avail_out),g-=t.avail_in,y-=t.avail_out,t.total_in+=g,t.total_out+=y,e.total+=y,4&e.wrap&&y&&(t.adler=e.check=e.flags?oa(e.check,r,y,t.next_out-y):Ry(e.check,r,y,t.next_out-y)),t.data_type=e.bits+(e.last?64:0)+(e.mode===Gd?128:0)+(e.mode===Mx||16194===e.mode?256:0),(0===g&&0===y||n===v7)&&se===wg&&(se=Uue),se},inflateEnd:t=>{if(Cg(t))return Yc;let n=t.state;return n.window&&(n.window=null),t.state=null,wg},inflateGetHeader:(t,n)=>{if(Cg(t))return Yc;const e=t.state;return 2&e.wrap?(e.head=n,n.done=!1,wg):Yc},inflateSetDictionary:(t,n)=>{const e=n.length;let i,r,o;return Cg(t)||(i=t.state,0!==i.wrap&&i.mode!==xx)?Yc:i.mode===xx&&(r=1,r=Ry(r,n,e,0),r!==i.check)?_7:(o=Y7(t,n,e,e),o?(i.mode=16210,y7):(i.havedict=1,wg))},inflateInfo:"pako inflate (from Nodeca project)"},aAe=function sAe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const X7=Object.prototype.toString,{Z_NO_FLUSH:lAe,Z_FINISH:cAe,Z_OK:$y,Z_STREAM_END:G4,Z_NEED_DICT:K4,Z_STREAM_ERROR:uAe,Z_DATA_ERROR:J7,Z_MEM_ERROR:AAe}=vg;function qy(t){this.options=_x.assign({chunkSize:65536,windowBits:15,to:""},t||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,0===n.windowBits&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(t&&t.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(15&n.windowBits||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u7,this.strm.avail_out=0;let e=Kd.inflateInit2(this.strm,n.windowBits);if(e!==$y)throw new Error(mg[e]);if(this.header=new aAe,Kd.inflateGetHeader(this.strm,this.header),n.dictionary&&("string"==typeof n.dictionary?n.dictionary=Gy.string2buf(n.dictionary):"[object ArrayBuffer]"===X7.call(n.dictionary)&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(e=Kd.inflateSetDictionary(this.strm,n.dictionary),e!==$y)))throw new Error(mg[e])}function W4(t,n){const e=new qy(n);if(e.push(t),e.err)throw e.msg||mg[e.err];return e.result}qy.prototype.push=function(t,n){const e=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=n===~~n?n:!0===n?cAe:lAe,e.input="[object ArrayBuffer]"===X7.call(t)?new Uint8Array(t):t,e.next_in=0,e.avail_in=e.input.length;;){for(0===e.avail_out&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),o=Kd.inflate(e,s),o===K4&&r&&(o=Kd.inflateSetDictionary(e,r),o===$y?o=Kd.inflate(e,s):o===J7&&(o=K4));e.avail_in>0&&o===G4&&e.state.wrap>0&&0!==t[e.next_in];)Kd.inflateReset(e),o=Kd.inflate(e,s);switch(o){case uAe:case J7:case K4:case AAe:return this.onEnd(o),this.ended=!0,!1}if(a=e.avail_out,e.next_out&&(0===e.avail_out||o===G4))if("string"===this.options.to){let l=Gy.utf8border(e.output,e.next_out),u=e.next_out-l,d=Gy.buf2string(e.output,l);e.next_out=u,e.avail_out=i-u,u&&e.output.set(e.output.subarray(l,l+u),0),this.onData(d)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(o!==$y||0!==a){if(o===G4)return o=Kd.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===e.avail_in)break}}return!0},qy.prototype.onData=function(t){this.chunks.push(t)},qy.prototype.onEnd=function(t){t===$y&&(this.result="string"===this.options.to?this.chunks.join(""):_x.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var vAe={Inflate:qy,inflate:W4,inflateRaw:function dAe(t,n){return(n=n||{}).raw=!0,W4(t,n)},ungzip:W4,constants:vg};const{Inflate:CAe,inflate:xAe}=vAe;var $4=CAe,tQ=xAe;const nQ=[];for(let t=0;t<256;t++){let n=t;for(let e=0;e<8;e++)1&n?n=3988292384^n>>>1:n>>>=1;nQ[t]=n}const iQ=4294967295;function oQ(t,n,e){const i=t.readUint32(),r=function rQ(t,n){return(function kAe(t,n,e){let i=t;for(let r=0;r<e;r++)i=nQ[255&(i^n[r])]^i>>>8;return i}(iQ,t,n)^iQ)>>>0}(new Uint8Array(t.buffer,t.byteOffset+t.offset-n-4,n),n);if(r!==i)throw new Error(`CRC mismatch for chunk ${e}. Expected ${i}, found ${r}`)}function sQ(t,n,e){for(let i=0;i<e;i++)n[i]=t[i]}function aQ(t,n,e,i){let r=0;for(;r<i;r++)n[r]=t[r];for(;r<e;r++)n[r]=t[r]+n[r-i]&255}function lQ(t,n,e,i){let r=0;if(0===e.length)for(;r<i;r++)n[r]=t[r];else for(;r<i;r++)n[r]=t[r]+e[r]&255}function cQ(t,n,e,i,r){let o=0;if(0===e.length){for(;o<r;o++)n[o]=t[o];for(;o<i;o++)n[o]=t[o]+(n[o-r]>>1)&255}else{for(;o<r;o++)n[o]=t[o]+(e[o]>>1)&255;for(;o<i;o++)n[o]=t[o]+(n[o-r]+e[o]>>1)&255}}function uQ(t,n,e,i,r){let o=0;if(0===e.length){for(;o<r;o++)n[o]=t[o];for(;o<i;o++)n[o]=t[o]+n[o-r]&255}else{for(;o<r;o++)n[o]=t[o]+e[o]&255;for(;o<i;o++)n[o]=t[o]+FAe(n[o-r],e[o],e[o-r])&255}}function FAe(t,n,e){const i=t+n-e,r=Math.abs(i-t),o=Math.abs(i-n),s=Math.abs(i-e);return r<=o&&r<=s?t:o<=s?n:e}function TAe(t,n,e,i,r,o){switch(t){case 0:sQ(n,e,r);break;case 1:aQ(n,e,r,o);break;case 2:lQ(n,e,i,r);break;case 3:cQ(n,e,i,r,o);break;case 4:uQ(n,e,i,r,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const LAe=new Uint16Array([255]),NAe=255===new Uint8Array(LAe.buffer)[0];function UAe(t){return(255&t)<<8|t>>8&255}const QAe=new Uint16Array([255]),HAe=255===new Uint8Array(QAe.buffer)[0],zAe=new Uint8Array(0);function AQ(t){const{data:n,width:e,height:i,channels:r,depth:o}=t,s=Math.ceil(o/8)*r,a=Math.ceil(o/8*r*e),l=new Uint8Array(i*a);let g,y,u=zAe,d=0;for(let m=0;m<i;m++){switch(g=n.subarray(d+1,d+1+a),y=l.subarray(m*a,(m+1)*a),n[d]){case 0:sQ(g,y,a);break;case 1:aQ(g,y,a,s);break;case 2:lQ(g,y,u,a);break;case 3:cQ(g,y,u,a,s);break;case 4:uQ(g,y,u,a,s);break;default:throw new Error(`Unsupported filter: ${n[d]}`)}u=y,d+=a+1}if(16===o){const m=new Uint16Array(l.buffer);if(HAe)for(let B=0;B<m.length;B++)m[B]=VAe(m[B]);return m}return l}function VAe(t){return(255&t)<<8|t>>8&255}const Zy=Uint8Array.of(137,80,78,71,13,10,26,10);function dQ(t){if(!function GAe(t){if(t.length<Zy.length)return!1;for(let n=0;n<Zy.length;n++)if(t[n]!==Zy[n])return!1;return!0}(t.readBytes(Zy.length)))throw new Error("wrong PNG signature")}const fQ=0,pQ=new TextDecoder("latin1");function gQ(t){if(function mQ(t){if(!KAe.test(t))throw new Error("invalid latin1 text")}(t),0===t.length||t.length>79)throw new Error("keyword length must be between 1 and 79")}const KAe=/^[\u0000-\u00FF]*$/;function vQ(t){for(t.mark();t.readByte()!==fQ;);const n=t.offset;t.reset();const e=pQ.decode(t.readBytes(n-t.offset-1));return t.skip(1),gQ(e),e}class ZAe extends Iy{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(n,e={}){super(n);const{checkCrc:i=!1}=e;this._checkCrc=i,this._inflator=new $4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=-1,this._filterMethod=-1,this._interlaceMethod=-1,this._colorType=-1,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(dQ(this);!this._end;){const n=this.readUint32(),e=this.readChars(4);this.decodeChunk(n,e)}return this.decodeImage(),this._png}decodeApng(){for(dQ(this);!this._end;){const n=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(n,e)}return this.decodeApngImage(),this._apng}decodeChunk(n,e){const i=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case"tEXt":!function WAe(t,n,e){const i=vQ(n);t[i]=function qAe(t,n){return pQ.decode(t.readBytes(n))}(n,e-i.length-1)}(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n)}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?oQ(this,n+4,e):this.skip(4)}decodeApngChunk(n,e){const i=this.offset;switch("fdAT"!==e&&"IDAT"!==e&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,e),this.offset=i+n}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?oQ(this,n+4,e):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=function YAe(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error(`invalid bit depth: ${t}`);return t}(this.readUint8());const e=this.readUint8();let i;switch(this._colorType=e,e){case 0:case 3:i=1;break;case 2:i=3;break;case 4:i=2;break;case 6:i=4;break;default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),0!==this._compressionMethod)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const e=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let r=0;r<e;r++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){if(this._writingDataChunks=!0,this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let e=n,i=this.offset+this.byteOffset;if(i+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case 0:case 2:if(n%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let e=0;e<n/2;e++)this._transparency[e]=this.readUint16();break;case 3:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let e=0;for(;e<n;e++){const i=this.readByte();this._palette[e].push(i)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const e=vQ(this),i=this.readUint8();if(0!==i)throw new Error(`Unsupported iCCP compression method: ${i}`);const r=this.readBytes(n-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:tQ(r)}}decodepHYs(){const n=this.readUint32(),e=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:e,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const e={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=AQ({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===n||0===i.xOffset&&0===i.yOffset&&i.width===this._png.width&&i.height===this._png.height)e.data=i.data;else{const r=this._apng.frames.at(n-1);this.disposeFrame(i,r,e),this.addFrameDataToCanvas(e,i)}this._apng.frames.push(e)}}return this._apng}disposeFrame(n,e,i){switch(n.disposeOp){case 0:break;case 1:for(let r=0;r<this._png.height;r++)for(let o=0;o<this._png.width;o++){const s=(r*n.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)i.data[s+a]=0}break;case 2:i.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,e){const i=1<<this._png.depth,r=(o,s)=>({index:((o+e.yOffset)*this._png.width+e.xOffset+s)*this._png.channels,frameIndex:(o*e.width+s)*this._png.channels});switch(e.blendOp){case 0:for(let o=0;o<e.height;o++)for(let s=0;s<e.width;s++){const{index:a,frameIndex:l}=r(o,s);for(let u=0;u<this._png.channels;u++)n.data[a+u]=e.data[l+u]}break;case 1:for(let o=0;o<e.height;o++)for(let s=0;s<e.width;s++){const{index:a,frameIndex:l}=r(o,s);for(let u=0;u<this._png.channels;u++){const d=e.data[l+this._png.channels-1]/i,y=Math.floor(d*(u%(this._png.channels-1)==0?1:e.data[l+u])+(1-d)*n.data[a+u]);n.data[a+u]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(0!==this._filterMethod)throw new Error(`Filter method ${this._filterMethod} not supported`);if(0===this._interlaceMethod)this._png.data=AQ({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(1!==this._interlaceMethod)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function RAe(t){const{data:n,width:e,height:i,channels:r,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*r,l=new Uint8Array(i*e*a);let u=0;for(let d=0;d<7;d++){const g=s[d],y=Math.ceil((e-g.x)/g.xStep),m=Math.ceil((i-g.y)/g.yStep);if(y<=0||m<=0)continue;const B=y*a,D=new Uint8Array(B);for(let I=0;I<m;I++){const F=n[u++],R=n.subarray(u,u+B);u+=B;const H=new Uint8Array(B);TAe(F,R,H,D,B,a),D.set(H);for(let z=0;z<y;z++){const ie=g.x+z*g.xStep,be=g.y+I*g.yStep;if(!(ie>=e||be>=i))for(let Be=0;Be<a;Be++)l[(be*e+ie)*a+Be]=H[z*a+Be]}}}if(16===o){const d=new Uint16Array(l.buffer);if(NAe)for(let g=0;g<d.length;g++)d[g]=UAe(d[g]);return d}return l}({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,e=this._frames.at(-1);e?e.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:0,blendOp:0,data:n}),this._inflator=new $4,this._writingDataChunks=!1}}var Bi=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Y4(){Bi.console&&"function"==typeof Bi.console.log&&Bi.console.log.apply(Bi.console,arguments)}var so={log:Y4,warn:function(t){Bi.console&&("function"==typeof Bi.console.warn?Bi.console.warn.apply(Bi.console,arguments):Y4.call(null,arguments))},error:function(t){Bi.console&&("function"==typeof Bi.console.error?Bi.console.error.apply(Bi.console,arguments):Y4(t))}};function X4(t,n,e){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){xg(i.response,n,e)},i.onerror=function(){so.error("could not download file")},i.send()}function yQ(t){var n=new XMLHttpRequest;n.open("HEAD",t,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function Ex(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var xg=Bi.saveAs||("object"!==(typeof window>"u"?"undefined":Zr(window))||window!==Bi?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,n,e){var i=Bi.URL||Bi.webkitURL,r=document.createElement("a");r.download=n=n||t.name||"download",r.rel="noopener","string"==typeof t?(r.href=t,r.origin!==location.origin?yQ(r.href)?X4(t,n,e):Ex(r,r.target="_blank"):Ex(r)):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Ex(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,e){if(n=n||t.name||"download","string"==typeof t)if(yQ(t))X4(t,n,e);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){Ex(i)})}else navigator.msSaveOrOpenBlob((r=t,void 0===(o=e)?o={autoBom:!1}:"object"!==Zr(o)&&(so.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\ufeff",r],{type:r.type}):r),n);var r,o}:function(t,n,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return X4(t,n,e);var r="application/octet-stream"===t.type,o=/constructor/i.test(Bi.HTMLElement)||Bi.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&o)&&"object"===(typeof FileReader>"u"?"undefined":Zr(FileReader))){var a=new FileReader;a.onloadend=function(){var d=a.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=d:location=d,i=null},a.readAsDataURL(t)}else{var l=Bi.URL||Bi.webkitURL,u=l.createObjectURL(t);i?i.location=u:location.href=u,i=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});function bQ(t){var n;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<e.length;i++){var o=e[i].process,s=e[i].re.exec(t);s&&(n=o(s),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return 1==a.length&&(a="0"+a),1==l.length&&(l="0"+l),1==u.length&&(u="0"+u),"#"+a+l+u}}var Px=Bi.atob.bind(Bi),wQ=Bi.btoa.bind(Bi);function J4(t,n){var e=t[0],i=t[1],r=t[2],o=t[3];e=Ha(e,i,r,o,n[0],7,-680876936),o=Ha(o,e,i,r,n[1],12,-389564586),r=Ha(r,o,e,i,n[2],17,606105819),i=Ha(i,r,o,e,n[3],22,-1044525330),e=Ha(e,i,r,o,n[4],7,-176418897),o=Ha(o,e,i,r,n[5],12,1200080426),r=Ha(r,o,e,i,n[6],17,-1473231341),i=Ha(i,r,o,e,n[7],22,-45705983),e=Ha(e,i,r,o,n[8],7,1770035416),o=Ha(o,e,i,r,n[9],12,-1958414417),r=Ha(r,o,e,i,n[10],17,-42063),i=Ha(i,r,o,e,n[11],22,-1990404162),e=Ha(e,i,r,o,n[12],7,1804603682),o=Ha(o,e,i,r,n[13],12,-40341101),r=Ha(r,o,e,i,n[14],17,-1502002290),e=za(e,i=Ha(i,r,o,e,n[15],22,1236535329),r,o,n[1],5,-165796510),o=za(o,e,i,r,n[6],9,-1069501632),r=za(r,o,e,i,n[11],14,643717713),i=za(i,r,o,e,n[0],20,-373897302),e=za(e,i,r,o,n[5],5,-701558691),o=za(o,e,i,r,n[10],9,38016083),r=za(r,o,e,i,n[15],14,-660478335),i=za(i,r,o,e,n[4],20,-405537848),e=za(e,i,r,o,n[9],5,568446438),o=za(o,e,i,r,n[14],9,-1019803690),r=za(r,o,e,i,n[3],14,-187363961),i=za(i,r,o,e,n[8],20,1163531501),e=za(e,i,r,o,n[13],5,-1444681467),o=za(o,e,i,r,n[2],9,-51403784),r=za(r,o,e,i,n[7],14,1735328473),e=Va(e,i=za(i,r,o,e,n[12],20,-1926607734),r,o,n[5],4,-378558),o=Va(o,e,i,r,n[8],11,-2022574463),r=Va(r,o,e,i,n[11],16,1839030562),i=Va(i,r,o,e,n[14],23,-35309556),e=Va(e,i,r,o,n[1],4,-1530992060),o=Va(o,e,i,r,n[4],11,1272893353),r=Va(r,o,e,i,n[7],16,-155497632),i=Va(i,r,o,e,n[10],23,-1094730640),e=Va(e,i,r,o,n[13],4,681279174),o=Va(o,e,i,r,n[0],11,-358537222),r=Va(r,o,e,i,n[3],16,-722521979),i=Va(i,r,o,e,n[6],23,76029189),e=Va(e,i,r,o,n[9],4,-640364487),o=Va(o,e,i,r,n[12],11,-421815835),r=Va(r,o,e,i,n[15],16,530742520),e=ja(e,i=Va(i,r,o,e,n[2],23,-995338651),r,o,n[0],6,-198630844),o=ja(o,e,i,r,n[7],10,1126891415),r=ja(r,o,e,i,n[14],15,-1416354905),i=ja(i,r,o,e,n[5],21,-57434055),e=ja(e,i,r,o,n[12],6,1700485571),o=ja(o,e,i,r,n[3],10,-1894986606),r=ja(r,o,e,i,n[10],15,-1051523),i=ja(i,r,o,e,n[1],21,-2054922799),e=ja(e,i,r,o,n[8],6,1873313359),o=ja(o,e,i,r,n[15],10,-30611744),r=ja(r,o,e,i,n[6],15,-1560198380),i=ja(i,r,o,e,n[13],21,1309151649),e=ja(e,i,r,o,n[4],6,-145523070),o=ja(o,e,i,r,n[11],10,-1120210379),r=ja(r,o,e,i,n[2],15,718787259),i=ja(i,r,o,e,n[9],21,-343485551),t[0]=Tf(e,t[0]),t[1]=Tf(i,t[1]),t[2]=Tf(r,t[2]),t[3]=Tf(o,t[3])}function Ix(t,n,e,i,r,o){return n=Tf(Tf(n,t),Tf(i,o)),Tf(n<<r|n>>>32-r,e)}function Ha(t,n,e,i,r,o,s){return Ix(n&e|~n&i,t,n,r,o,s)}function za(t,n,e,i,r,o,s){return Ix(n&i|e&~i,t,n,r,o,s)}function Va(t,n,e,i,r,o,s){return Ix(n^e^i,t,n,r,o,s)}function ja(t,n,e,i,r,o,s){return Ix(e^(n|~i),t,n,r,o,s)}function CQ(t){var n,e=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)J4(i,ode(t.substring(n-64,n)));t=t.substring(n-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)r[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(r[n>>2]|=128<<(n%4<<3),n>55)for(J4(i,r),n=0;n<16;n++)r[n]=0;return r[14]=8*e,J4(i,r),i}function ode(t){var n,e=[];for(n=0;n<64;n+=4)e[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return e}var xQ="0123456789abcdef".split("");function sde(t){for(var n="",e=0;e<4;e++)n+=xQ[t>>8*e+4&15]+xQ[t>>8*e&15];return n}function ade(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function eP(t){return CQ(t).map(ade).join("")}var lde="5d41402abc4b2a76b9719d911017c592"!=function(t){for(var n=0;n<t.length;n++)t[n]=sde(t[n]);return t.join("")}(CQ("hello"));function Tf(t,n){if(lde){var e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}return t+n&4294967295}function tP(t,n){var e,i,r;if(t!==e){for(var s=(r=t,new Array(1+(256/t.length|0)+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var d=a[l];u=(u+d+s.charCodeAt(l))%256,a[l]=a[u],a[u]=d}e=t,i=a}else a=i;var g=n.length,y=0,m=0,B="";for(l=0;l<g;l++)m=(m+(d=a[y=(y+1)%256]))%256,a[y]=a[m],a[m]=d,s=a[(a[y]+a[m])%256],B+=String.fromCharCode(n.charCodeAt(l)^s);return B}var MQ={print:4,modify:8,copy:16,"annot-forms":32};function y1(t,n,e,i){this.v=1,this.r=2;var r=192;t.forEach(function(a){if(void 0!==MQ.perm)throw new Error("Invalid permission: "+a);r+=MQ[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(n+this.padding).substr(0,32),s=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^r)),this.encryptionKey=eP(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=tP(this.encryptionKey,this.padding)}function b1(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var n="",e=t.length,i=0;i<e;i++){var r=t.charCodeAt(i);n+=r<33||35===r||37===r||40===r||41===r||47===r||60===r||62===r||91===r||93===r||123===r||125===r||r>126?"#"+("0"+r.toString(16)).slice(-2):t[i]}return n}function BQ(t){if("object"!==Zr(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(e,i,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof i||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(e)||(n[e]={});var o=Math.random().toString(35);return n[e][o]=[i,!!r],o},this.unsubscribe=function(e){for(var i in n)if(n[i][e])return delete n[i][e],0===Object.keys(n[i]).length&&delete n[i],!0;return!1},this.publish=function(e){if(n.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var o in n[e]){var s=n[e][o];try{s[0].apply(t,i)}catch(a){Bi.console&&so.error("jsPDF PubSub Error",a.message,a)}s[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function Ox(t){if(!(this instanceof Ox))return new Ox(t);var n="opacity,stroke-opacity".split(",");for(var e in t)t.hasOwnProperty(e)&&n.indexOf(e)>=0&&(this[e]=t[e]);this.id="",this.objectNumber=-1}function DQ(t,n){this.gState=t,this.matrix=n,this.id="",this.objectNumber=-1}function Mg(t,n,e,i,r){if(!(this instanceof Mg))return new Mg(t,n,e,i,r);this.type="axial"===t?2:3,this.coords=n,this.colors=e,DQ.call(this,i,r)}function w1(t,n,e,i,r){if(!(this instanceof w1))return new w1(t,n,e,i,r);this.boundingBox=t,this.xStep=n,this.yStep=e,this.stream="",this.cloneIndex=0,DQ.call(this,i,r)}function kn(t){var n,e="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],r=arguments[2],o=arguments[3],s=[],a=1,l=16,u="S",d=null;"object"===Zr(t=t||{})&&(e=t.orientation,i=t.unit||i,r=t.format||r,o=t.compress||t.compressPdf||o,null!==(d=t.encryption||null)&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(n=t.precision),void 0!==t.floatPrecision&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(!0===o?["FlateEncode"]:s),i=i||"mm",e=(""+(e||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,y={},m={internal:{},__private__:{}};m.__private__.PubSub=BQ;var B="1.3",D=m.__private__.getPdfVersion=function(){return B};m.__private__.setPdfVersion=function(P){B=P};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return I};var F=m.__private__.getPageFormat=function(P){return I[P]};r=r||"a4";var R="compat",H="advanced",z=R;function ie(){this.saveGraphicsState(),Ae(new di(Vi,0,0,-Vi,0,Wg()*Vi).toString()+" cm"),this.setFontSize(this.getFontSize()/Vi),u="n",z=H}function be(){this.restoreGraphicsState(),u="S",z=R}var Be=m.__private__.combineFontStyleAndFontWeight=function(P,V){if("bold"==P&&"normal"==V||"bold"==P&&400==V||"normal"==P&&"italic"==V||"bold"==P&&"italic"==V)throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(P=400==V||"normal"===V?"italic"===P?"italic":"normal":700!=V&&"bold"!==V||"normal"!==P?(700==V?"bold":V)+""+P:"bold"),P};m.advancedAPI=function(P){var V=z===R;return V&&ie.call(this),"function"!=typeof P||(P(this),V&&be.call(this)),this},m.compatAPI=function(P){var V=z===H;return V&&be.call(this),"function"!=typeof P||(P(this),V&&ie.call(this)),this},m.isAdvancedAPI=function(){return z===H};var se,te=function(P){if(z!==H)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Re=m.roundToPrecision=m.__private__.roundToPrecision=function(P,V){var ve=n||V;if(isNaN(P)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(ve).replace(/0+$/,"")};se=m.hpf=m.__private__.hpf="number"==typeof l?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return Re(P,l)}:"smart"===l?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return Re(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return Re(P,16)};var G=m.f2=m.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return Re(P,2)},J=m.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return Re(P,3)},Ee=m.scale=m.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return z===R?P*Vi:z===H?P:void 0},Se=function(P){return Ee((V=P,z===R?Wg()-V:z===H?V:void 0));var V};m.__private__.setPrecision=m.setPrecision=function(P){"number"==typeof parseInt(P,10)&&(n=parseInt(P,10))};var tt,Le="00000000000000000000000000000000",ze=m.__private__.getFileId=function(){return Le},Ue=m.__private__.setFileId=function(P){return Le=void 0!==P&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():Le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==d&&($s=new y1(d.userPermissions,d.userPassword,d.ownerPassword,Le)),Le};m.setFileId=function(P){return Ue(P),this},m.getFileId=function(){return ze()};var et=m.__private__.convertDateToPDFDate=function(P){var V=P.getTimezoneOffset(),ve=V<0?"+":"-",He=Math.floor(Math.abs(V/60)),ot=Math.abs(V%60),Rt=[ve,ye(He),"'",ye(ot),"'"].join("");return["D:",P.getFullYear(),ye(P.getMonth()+1),ye(P.getDate()),ye(P.getHours()),ye(P.getMinutes()),ye(P.getSeconds()),Rt].join("")},Qt=m.__private__.convertPDFDateToDate=function(P){var V=parseInt(P.substr(2,4),10),ve=parseInt(P.substr(6,2),10)-1,He=parseInt(P.substr(8,2),10),ot=parseInt(P.substr(10,2),10),Rt=parseInt(P.substr(12,2),10),Kt=parseInt(P.substr(14,2),10);return new Date(V,ve,He,ot,Rt,Kt,0)},kt=m.__private__.setCreationDate=function(P){var V;if(void 0===P&&(P=new Date),P instanceof Date)V=et(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=P}return tt=V},W=m.__private__.getCreationDate=function(P){var V=tt;return"jsDate"===P&&(V=Qt(tt)),V};m.setCreationDate=function(P){return kt(P),this},m.getCreationDate=function(P){return W(P)};var pe,ye=m.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},Qe=m.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},$e=0,rt=[],yt=[],_t=0,Tt=[],Xt=[],vn=!1,gn=yt;m.__private__.setCustomOutputDestination=function(P){vn=!0,gn=P};var qn=function(P){vn||(gn=P)};m.__private__.resetCustomOutputDestination=function(){vn=!1,gn=yt};var Ae=m.__private__.out=function(P){return P=P.toString(),_t+=P.length+1,gn.push(P),gn},_n=m.__private__.write=function(P){return Ae(1===arguments.length?P.toString():Array.prototype.join.call(arguments," "))},Zi=m.__private__.getArrayBuffer=function(P){for(var V=P.length,ve=new ArrayBuffer(V),He=new Uint8Array(ve);V--;)He[V]=P.charCodeAt(V);return ve},si=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return si};var Yt=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(P){return Yt=z===H?P/Vi:P,this};var ai,On=m.__private__.getFontSize=m.getFontSize=function(){return z===R?Yt:Yt*Vi},oi=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(P){return oi=P,this},m.__private__.getR2L=m.getR2L=function(){return oi};var Jn,Qr=m.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))ai=P;else if(isNaN(P)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');ai=P}else ai=parseInt(P,10)};m.__private__.getZoomMode=function(){return ai};var dr,Li=m.__private__.setPageMode=function(P){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Jn=P};m.__private__.getPageMode=function(){return Jn};var vr=m.__private__.setLayoutMode=function(P){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');dr=P};m.__private__.getLayoutMode=function(){return dr},m.__private__.setDisplayMode=m.setDisplayMode=function(P,V,ve){return Qr(P),vr(V),Li(ve),this};var hr={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(P){if(-1===Object.keys(hr).indexOf(P))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return hr[P]},m.__private__.getDocumentProperties=function(){return hr},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(P){for(var V in hr)hr.hasOwnProperty(V)&&P[V]&&(hr[V]=P[V]);return this},m.__private__.setDocumentProperty=function(P,V){if(-1===Object.keys(hr).indexOf(P))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return hr[P]=V};var Qn,Vi,$n,fs,Dr,nr={},ir={},To=[],ni={},go={},fi={},Ni={},Lo=null,or=0,Ai=[],Hr=new BQ(m),Ug=t.hotfixes||[],qa={},nh={},VA=[],di=function P(V,ve,He,ot,Rt,Kt){if(!(this instanceof P))return new P(V,ve,He,ot,Rt,Kt);isNaN(V)&&(V=1),isNaN(ve)&&(ve=0),isNaN(He)&&(He=0),isNaN(ot)&&(ot=1),isNaN(Rt)&&(Rt=0),isNaN(Kt)&&(Kt=0),this._matrix=[V,ve,He,ot,Rt,Kt]};Object.defineProperty(di.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(di.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(di.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(di.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(di.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(di.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(di.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(di.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(di.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(di.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(di.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(di.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(di.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(di.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(di.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(di.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),di.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(se).join(P)},di.prototype.multiply=function(P){return new di(P.sx*this.sx+P.shy*this.shx,P.sx*this.shy+P.shy*this.sy,P.shx*this.sx+P.sy*this.shx,P.shx*this.shy+P.sy*this.sy,P.tx*this.sx+P.ty*this.shx+this.tx,P.tx*this.shy+P.ty*this.sy+this.ty)},di.prototype.decompose=function(){var P=this.sx,V=this.shy,ve=this.shx,He=this.sy,ot=this.tx,Rt=this.ty,Kt=Math.sqrt(P*P+V*V),Fn=(P/=Kt)*ve+(V/=Kt)*He;ve-=P*Fn,He-=V*Fn;var Hn=Math.sqrt(ve*ve+He*He);return Fn/=Hn,P*(He/=Hn)<V*(ve/=Hn)&&(P=-P,V=-V,Fn=-Fn,Kt=-Kt),{scale:new di(Kt,0,0,Hn,0,0),translate:new di(1,0,0,1,ot,Rt),rotate:new di(P,V,-V,P,0,0),skew:new di(1,0,Fn,1,0,0)}},di.prototype.toString=function(P){return this.join(" ")},di.prototype.inversed=function(){var P=this.sx,V=this.shy,ve=this.shx,He=this.sy,ot=this.tx,Rt=this.ty,Kt=1/(P*He-V*ve),Fn=He*Kt,Hn=-V*Kt,Si=-ve*Kt,ji=P*Kt;return new di(Fn,Hn,Si,ji,-Fn*ot-Si*Rt,-Hn*ot-ji*Rt)},di.prototype.applyToPoint=function(P){return new ch(P.x*this.sx+P.y*this.shx+this.tx,P.x*this.shy+P.y*this.sy+this.ty)},di.prototype.applyToRectangle=function(P){var V=this.applyToPoint(P),ve=this.applyToPoint(new ch(P.x+P.w,P.y+P.h));return new Db(V.x,V.y,ve.x-V.x,ve.y-V.y)},di.prototype.clone=function(){return new di(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},m.Matrix=di;var ih=m.matrixMult=function(P,V){return V.multiply(P)},rh=new di(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=rh;var Jc=function(P,V){if(!go[P]){var ve=(V instanceof Mg?"Sh":"P")+(Object.keys(ni).length+1).toString(10);V.id=ve,go[P]=ve,ni[ve]=V,Hr.publish("addPattern",V)}};m.ShadingPattern=Mg,m.TilingPattern=w1,m.addShadingPattern=function(P,V){return te("addShadingPattern()"),Jc(P,V),this},m.beginTilingPattern=function(P){te("beginTilingPattern()"),Sb(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},m.endTilingPattern=function(P,V){te("endTilingPattern()"),V.stream=Xt[pe].join("\n"),Jc(P,V),Hr.publish("endTilingPattern",V),VA.pop().restore()};var eu,Zo=m.__private__.newObject=function(){var P=la();return xa(P,!0),P},la=m.__private__.newObjectDeferred=function(){return $e++,rt[$e]=function(){return _t},$e},xa=function(P,V){return V="boolean"==typeof V&&V,rt[P]=_t,V&&Ae(P+" 0 obj"),P},Qg=m.__private__.newAdditionalObject=function(){var P={objId:la(),content:""};return Tt.push(P),P},Kf=la(),Gu=la(),jA=m.__private__.decodeColorString=function(P){var V=P.split(" ");if(2!==V.length||"g"!==V[1]&&"G"!==V[1])5!==V.length||"k"!==V[4]&&"K"!==V[4]||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ve=parseFloat(V[0]);V=[ve,ve,ve,"r"]}for(var He="#",ot=0;ot<3;ot++)He+=("0"+Math.floor(255*parseFloat(V[ot])).toString(16)).slice(-2);return He},Ku=m.__private__.encodeColorString=function(P){var V;"string"==typeof P&&(P={ch1:P});var ve=P.ch1,He=P.ch2,ot=P.ch3,Rt=P.ch4,Kt="draw"===P.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof ve&&"#"!==ve.charAt(0)){var Fn=new bQ(ve);if(Fn.ok)ve=Fn.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if("string"==typeof ve&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),"string"==typeof ve&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var Hn=parseInt(ve.substr(1),16);ve=Hn>>16&255,He=Hn>>8&255,ot=255&Hn}if(void 0===He||void 0===Rt&&ve===He&&He===ot)V="string"==typeof ve?ve+" "+Kt[0]:2===P.precision?G(ve/255)+" "+Kt[0]:J(ve/255)+" "+Kt[0];else if(void 0===Rt||"object"===Zr(Rt)){if(Rt&&!isNaN(Rt.a)&&0===Rt.a)return["1.","1.","1.",Kt[1]].join(" ");V="string"==typeof ve?[ve,He,ot,Kt[1]].join(" "):2===P.precision?[G(ve/255),G(He/255),G(ot/255),Kt[1]].join(" "):[J(ve/255),J(He/255),J(ot/255),Kt[1]].join(" ")}else V="string"==typeof ve?[ve,He,ot,Rt,Kt[2]].join(" "):2===P.precision?[G(ve),G(He),G(ot),G(Rt),Kt[2]].join(" "):[J(ve),J(He),J(ot),J(Rt),Kt[2]].join(" ");return V},Wu=m.__private__.getFilters=function(){return s},tu=m.__private__.putStream=function(P){var V=(P=P||{}).data||"",ve=P.filters||Wu(),He=P.alreadyAppliedFilters||[],ot=P.addLength1||!1,Rt=V.length,Kt=P.objectId,Fn=function(qs){return qs};if(null!==d&&void 0===Kt)throw new Error("ObjectId must be passed to putStream for file encryption");null!==d&&(Fn=$s.encryptor(Kt,0));var Hn={};!0===ve&&(ve=["FlateEncode"]);var Si=P.additionalKeyValues||[],ji=(Hn=void 0!==kn.API.processDataByFilters?kn.API.processDataByFilters(V,ve):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(He)?He.join(" "):He.toString());if(0!==Hn.data.length&&(Si.push({key:"Length",value:Hn.data.length}),!0===ot&&Si.push({key:"Length1",value:Rt})),0!=ji.length)if(ji.split("/").length-1==1)Si.push({key:"Filter",value:ji});else{Si.push({key:"Filter",value:"["+ji+"]"});for(var Sr=0;Sr<Si.length;Sr+=1)if("DecodeParms"===Si[Sr].key){for(var Ho=[],Os=0;Os<Hn.reverseChain.split("/").length-1;Os+=1)Ho.push("null");Ho.push(Si[Sr].value),Si[Sr].value="["+Ho.join(" ")+"]"}}Ae("<<");for(var mo=0;mo<Si.length;mo++)Ae("/"+Si[mo].key+" "+Si[mo].value);Ae(">>"),0!==Hn.data.length&&(Ae("stream"),Ae(Fn(Hn.data)),Ae("endstream"))},Hg=m.__private__.putPage=function(P){var V=P.number,ve=P.data,He=P.objId,ot=P.contentsObjId;xa(He,!0),Ae("<</Type /Page"),Ae("/Parent "+P.rootDictionaryObjId+" 0 R"),Ae("/Resources "+P.resourceDictionaryObjId+" 0 R"),Ae("/MediaBox ["+parseFloat(se(P.mediaBox.bottomLeftX))+" "+parseFloat(se(P.mediaBox.bottomLeftY))+" "+se(P.mediaBox.topRightX)+" "+se(P.mediaBox.topRightY)+"]"),null!==P.cropBox&&Ae("/CropBox ["+se(P.cropBox.bottomLeftX)+" "+se(P.cropBox.bottomLeftY)+" "+se(P.cropBox.topRightX)+" "+se(P.cropBox.topRightY)+"]"),null!==P.bleedBox&&Ae("/BleedBox ["+se(P.bleedBox.bottomLeftX)+" "+se(P.bleedBox.bottomLeftY)+" "+se(P.bleedBox.topRightX)+" "+se(P.bleedBox.topRightY)+"]"),null!==P.trimBox&&Ae("/TrimBox ["+se(P.trimBox.bottomLeftX)+" "+se(P.trimBox.bottomLeftY)+" "+se(P.trimBox.topRightX)+" "+se(P.trimBox.topRightY)+"]"),null!==P.artBox&&Ae("/ArtBox ["+se(P.artBox.bottomLeftX)+" "+se(P.artBox.bottomLeftY)+" "+se(P.artBox.topRightX)+" "+se(P.artBox.topRightY)+"]"),"number"==typeof P.userUnit&&1!==P.userUnit&&Ae("/UserUnit "+P.userUnit),Hr.publish("putPage",{objId:He,pageContext:Ai[V],pageNumber:V,page:ve}),Ae("/Contents "+ot+" 0 R"),Ae(">>"),Ae("endobj");var Rt=ve.join("\n");return z===H&&(Rt+="\nQ"),xa(ot,!0),tu({data:Rt,filters:Wu(),objectId:ot}),Ae("endobj"),He},GA=m.__private__.putPages=function(){var P,V,ve=[];for(P=1;P<=or;P++)Ai[P].objId=la(),Ai[P].contentsObjId=la();for(P=1;P<=or;P++)ve.push(Hg({number:P,data:Xt[P],objId:Ai[P].objId,contentsObjId:Ai[P].contentsObjId,mediaBox:Ai[P].mediaBox,cropBox:Ai[P].cropBox,bleedBox:Ai[P].bleedBox,trimBox:Ai[P].trimBox,artBox:Ai[P].artBox,userUnit:Ai[P].userUnit,rootDictionaryObjId:Kf,resourceDictionaryObjId:Gu}));xa(Kf,!0),Ae("<</Type /Pages");var He="/Kids [";for(V=0;V<or;V++)He+=ve[V]+" 0 R ";Ae(He+"]"),Ae("/Count "+or),Ae(">>"),Ae("endobj"),Hr.publish("postPutPages")},zg=function(P){Hr.publish("putFont",{font:P,out:Ae,newObject:Zo,putStream:tu}),!0!==P.isAlreadyPutted&&(P.objectNumber=Zo(),Ae("<<"),Ae("/Type /Font"),Ae("/BaseFont /"+b1(P.postScriptName)),Ae("/Subtype /Type1"),"string"==typeof P.encoding&&Ae("/Encoding /"+P.encoding),Ae("/FirstChar 32"),Ae("/LastChar 255"),Ae(">>"),Ae("endobj"))},N1=function(P){P.objectNumber=Zo();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[se(P.x),se(P.y),se(P.x+P.width),se(P.y+P.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var ve=P.pages[1].join("\n");tu({data:ve,additionalKeyValues:V,objectId:P.objectNumber}),Ae("endobj")},R1=function(P,V){V||(V=21);var ve=Zo(),He=function(Kt,Fn){var Hn,Si=[],ji=1/(Fn-1);for(Hn=0;Hn<1;Hn+=ji)Si.push(Hn);Si.push(1),0!=Kt[0].offset&&Kt.unshift({offset:0,color:Kt[0].color}),1!=Kt[Kt.length-1].offset&&Kt.push({offset:1,color:Kt[Kt.length-1].color});for(var Os="",mo=0,qs=0;qs<Si.length;qs++){for(Hn=Si[qs];Hn>Kt[mo+1].offset;)mo++;var ks=Kt[mo].offset,Ma=(Hn-ks)/(Kt[mo+1].offset-ks),dh=Kt[mo].color,qu=Kt[mo+1].color;Os+=Qe(Math.round((1-Ma)*dh[0]+Ma*qu[0]).toString(16))+Qe(Math.round((1-Ma)*dh[1]+Ma*qu[1]).toString(16))+Qe(Math.round((1-Ma)*dh[2]+Ma*qu[2]).toString(16))}return Os.trim()}(P.colors,V),ot=[];ot.push({key:"FunctionType",value:"0"}),ot.push({key:"Domain",value:"[0.0 1.0]"}),ot.push({key:"Size",value:"["+V+"]"}),ot.push({key:"BitsPerSample",value:"8"}),ot.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ot.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tu({data:He,additionalKeyValues:ot,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),Ae("endobj"),P.objectNumber=Zo(),Ae("<< /ShadingType "+P.type),Ae("/ColorSpace /DeviceRGB");var Rt="/Coords ["+se(parseFloat(P.coords[0]))+" "+se(parseFloat(P.coords[1]))+" ";Rt+=2===P.type?se(parseFloat(P.coords[2]))+" "+se(parseFloat(P.coords[3])):se(parseFloat(P.coords[2]))+" "+se(parseFloat(P.coords[3]))+" "+se(parseFloat(P.coords[4]))+" "+se(parseFloat(P.coords[5])),Ae(Rt+="]"),P.matrix&&Ae("/Matrix ["+P.matrix.toString()+"]"),Ae("/Function "+ve+" 0 R"),Ae("/Extend [true true]"),Ae(">>"),Ae("endobj")},U1=function(P,V){var ve=la(),He=Zo();V.push({resourcesOid:ve,objectOid:He}),P.objectNumber=He;var ot=[];ot.push({key:"Type",value:"/Pattern"}),ot.push({key:"PatternType",value:"1"}),ot.push({key:"PaintType",value:"1"}),ot.push({key:"TilingType",value:"1"}),ot.push({key:"BBox",value:"["+P.boundingBox.map(se).join(" ")+"]"}),ot.push({key:"XStep",value:se(P.xStep)}),ot.push({key:"YStep",value:se(P.yStep)}),ot.push({key:"Resources",value:ve+" 0 R"}),P.matrix&&ot.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),tu({data:P.stream,additionalKeyValues:ot,objectId:P.objectNumber}),Ae("endobj")},n3=function(P){for(var V in P.objectNumber=Zo(),Ae("<<"),P)switch(V){case"opacity":Ae("/ca "+G(P[V]));break;case"stroke-opacity":Ae("/CA "+G(P[V]))}Ae(">>"),Ae("endobj")},_b=function(P){xa(P.resourcesOid,!0),Ae("<<"),Ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var V in Ae("/Font <<"),nr)nr.hasOwnProperty(V)&&(!1===g||!0===g&&y.hasOwnProperty(V))&&Ae("/"+V+" "+nr[V].objectNumber+" 0 R");Ae(">>")}(),function(){if(Object.keys(ni).length>0){for(var V in Ae("/Shading <<"),ni)ni.hasOwnProperty(V)&&ni[V]instanceof Mg&&ni[V].objectNumber>=0&&Ae("/"+V+" "+ni[V].objectNumber+" 0 R");Hr.publish("putShadingPatternDict"),Ae(">>")}}(),function(V){if(Object.keys(ni).length>0){for(var ve in Ae("/Pattern <<"),ni)ni.hasOwnProperty(ve)&&ni[ve]instanceof m.TilingPattern&&ni[ve].objectNumber>=0&&ni[ve].objectNumber<V&&Ae("/"+ve+" "+ni[ve].objectNumber+" 0 R");Hr.publish("putTilingPatternDict"),Ae(">>")}}(P.objectOid),function(){if(Object.keys(fi).length>0){var V;for(V in Ae("/ExtGState <<"),fi)fi.hasOwnProperty(V)&&fi[V].objectNumber>=0&&Ae("/"+V+" "+fi[V].objectNumber+" 0 R");Hr.publish("putGStateDict"),Ae(">>")}}(),function(){for(var V in Ae("/XObject <<"),qa)qa.hasOwnProperty(V)&&qa[V].objectNumber>=0&&Ae("/"+V+" "+qa[V].objectNumber+" 0 R");Hr.publish("putXobjectDict"),Ae(">>")}(),Ae(">>"),Ae("endobj")},m5=function(P){ir[P.fontName]=ir[P.fontName]||{},ir[P.fontName][P.fontStyle]=P.id},v5=function(P,V,ve,He,ot){var Rt={id:"F"+(Object.keys(nr).length+1).toString(10),postScriptName:P,fontName:V,fontStyle:ve,encoding:He,isStandardFont:ot||!1,metadata:{}};return Hr.publish("addFont",{font:Rt,instance:this}),nr[Rt.id]=Rt,m5(Rt),Rt.id},nu=m.__private__.pdfEscape=m.pdfEscape=function(P,V){return function(ve,He){var ot,Rt,Kt,Fn,Hn,Si,ji,Sr,Ho;if(Kt=(He=He||{}).sourceEncoding||"Unicode",Hn=He.outputEncoding,(He.autoencode||Hn)&&nr[Qn].metadata&&nr[Qn].metadata[Kt]&&nr[Qn].metadata[Kt].encoding&&(Fn=nr[Qn].metadata[Kt].encoding,!Hn&&nr[Qn].encoding&&(Hn=nr[Qn].encoding),!Hn&&Fn.codePages&&(Hn=Fn.codePages[0]),"string"==typeof Hn&&(Hn=Fn[Hn]),Hn)){for(ji=!1,Si=[],ot=0,Rt=ve.length;ot<Rt;ot++)(Sr=Hn[ve.charCodeAt(ot)])?Si.push(String.fromCharCode(Sr)):Si.push(ve[ot]),Si[ot].charCodeAt(0)>>8&&(ji=!0);ve=Si.join("")}for(ot=ve.length;void 0===ji&&0!==ot;)ve.charCodeAt(ot-1)>>8&&(ji=!0),ot--;if(!ji)return ve;for(Si=He.noBOM?[]:[254,255],ot=0,Rt=ve.length;ot<Rt;ot++){if((Ho=(Sr=ve.charCodeAt(ot))>>8)>>8)throw new Error("Character at position "+ot+" of string '"+ve+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Si.push(Ho),Si.push(Sr-(Ho<<8))}return String.fromCharCode.apply(void 0,Si)}(P,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yb=m.__private__.beginPage=function(P){Xt[++or]=[],Ai[or]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},y5(or),qn(Xt[pe])},_5=function(P,V){var ve,He,ot;switch(e=V||e,"string"==typeof P&&(ve=F(P.toLowerCase()),Array.isArray(ve)&&(He=ve[0],ot=ve[1])),Array.isArray(P)&&(He=P[0]*Vi,ot=P[1]*Vi),isNaN(He)&&(He=r[0],ot=r[1]),(He>14400||ot>14400)&&(so.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),He=Math.min(14400,He),ot=Math.min(14400,ot)),r=[He,ot],e.substr(0,1)){case"l":ot>He&&(r=[ot,He]);break;case"p":He>ot&&(r=[ot,He])}yb(r),Ei(Cb),Ae(V1),0!==Mb&&Ae(Mb+" J"),0!==Bb&&Ae(Bb+" j"),Hr.publish("addPage",{pageNumber:or})},bb=function(P){P>0&&P<=or&&(Xt.splice(P,1),Ai.splice(P,1),or--,pe>or&&(pe=or),this.setPage(pe))},y5=function(P){P>0&&P<=or&&(pe=P)},b5=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Xt.length-1},w5=function(P,V,ve){var He,ot=void 0;return ve=ve||{},V=void 0!==V?V:nr[Qn].fontStyle,He=(P=void 0!==P?P:nr[Qn].fontName).toLowerCase(),void 0!==ir[He]&&void 0!==ir[He][V]?ot=ir[He][V]:void 0!==ir[P]&&void 0!==ir[P][V]?ot=ir[P][V]:!1===ve.disableWarning&&so.warn("Unable to look up font label for font '"+P+"', '"+V+"'. Refer to getFontList() for available fonts."),ot||ve.noFallback||null==(ot=ir.times[V])&&(ot=ir.times.normal),ot},KA=m.__private__.putInfo=function(){var P=Zo(),V=function(He){return He};for(var ve in null!==d&&(V=$s.encryptor(P,0)),Ae("<<"),Ae("/Producer ("+nu(V("jsPDF "+kn.version))+")"),hr)hr.hasOwnProperty(ve)&&hr[ve]&&Ae("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+nu(V(hr[ve]))+")");Ae("/CreationDate ("+nu(V(tt))+")"),Ae(">>"),Ae("endobj")},Q1=m.__private__.putCatalog=function(P){var V=(P=P||{}).rootDictionaryObjId||Kf;switch(Zo(),Ae("<<"),Ae("/Type /Catalog"),Ae("/Pages "+V+" 0 R"),ai||(ai="fullwidth"),ai){case"fullwidth":Ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ae("/OpenAction [3 0 R /Fit]");break;case"original":Ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+ai;"%"===ve.substr(ve.length-1)&&(ai=parseInt(ai)/100),"number"==typeof ai&&Ae("/OpenAction [3 0 R /XYZ null null "+G(ai)+"]")}switch(dr||(dr="continuous"),dr){case"continuous":Ae("/PageLayout /OneColumn");break;case"single":Ae("/PageLayout /SinglePage");break;case"two":case"twoleft":Ae("/PageLayout /TwoColumnLeft");break;case"tworight":Ae("/PageLayout /TwoColumnRight")}Jn&&Ae("/PageMode /"+Jn),Hr.publish("putCatalog"),Ae(">>"),Ae("endobj")},i3=m.__private__.putTrailer=function(){Ae("trailer"),Ae("<<"),Ae("/Size "+($e+1)),Ae("/Root "+$e+" 0 R"),Ae("/Info "+($e-1)+" 0 R"),null!==d&&Ae("/Encrypt "+$s.oid+" 0 R"),Ae("/ID [ <"+Le+"> <"+Le+"> ]"),Ae(">>")},Is=m.__private__.putHeader=function(){Ae("%PDF-"+B),Ae("%\xba\xdf\xac\xe0")},C5=m.__private__.putXRef=function(){var P="0000000000";Ae("xref"),Ae("0 "+($e+1)),Ae("0000000000 65535 f ");for(var V=1;V<=$e;V++)Ae("function"==typeof rt[V]?(P+rt[V]()).slice(-10)+" 00000 n ":void 0!==rt[V]?(P+rt[V]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},WA=m.__private__.buildDocument=function(){var P;$e=0,_t=0,yt=[],rt=[],Tt=[],Kf=la(),Gu=la(),qn(yt),Hr.publish("buildDocument"),Is(),GA(),function(){Hr.publish("putAdditionalObjects");for(var ve=0;ve<Tt.length;ve++){var He=Tt[ve];xa(He.objId,!0),Ae(He.content),Ae("endobj")}Hr.publish("postPutAdditionalObjects")}(),P=[],function(){for(var ve in nr)nr.hasOwnProperty(ve)&&(!1===g||!0===g&&y.hasOwnProperty(ve))&&zg(nr[ve])}(),function(){var ve;for(ve in fi)fi.hasOwnProperty(ve)&&n3(fi[ve])}(),function(){for(var ve in qa)qa.hasOwnProperty(ve)&&N1(qa[ve])}(),function(ve){var He;for(He in ni)ni.hasOwnProperty(He)&&(ni[He]instanceof Mg?R1(ni[He]):ni[He]instanceof w1&&U1(ni[He],ve))}(P),Hr.publish("putResources"),P.forEach(_b),_b({resourcesOid:Gu,objectOid:Number.MAX_SAFE_INTEGER}),Hr.publish("postPutResources"),null!==d&&($s.oid=Zo(),Ae("<<"),Ae("/Filter /Standard"),Ae("/V "+$s.v),Ae("/R "+$s.r),Ae("/U <"+$s.toHexString($s.U)+">"),Ae("/O <"+$s.toHexString($s.O)+">"),Ae("/P "+$s.P),Ae(">>"),Ae("endobj")),KA(),Q1();var V=_t;return C5(),i3(),Ae("startxref"),Ae(""+V),Ae("%%EOF"),qn(Xt[pe]),yt.join("\n")},H1=m.__private__.getBlob=function(P){return new Blob([Zi(P)],{type:"application/pdf"})},x5=m.output=m.__private__.output=((eu=function(P,V){switch("string"==typeof(V=V||{})?V={filename:V}:V.filename=V.filename||"generated.pdf",P){case void 0:return WA();case"save":m.save(V.filename);break;case"arraybuffer":return Zi(WA());case"blob":return H1(WA());case"bloburi":case"bloburl":if(void 0!==Bi.URL&&"function"==typeof Bi.URL.createObjectURL)return Bi.URL&&Bi.URL.createObjectURL(H1(WA()))||void 0;so.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",He=WA();try{ve=wQ(He)}catch{ve=wQ(unescape(encodeURIComponent(He)))}return"data:application/pdf;filename="+V.filename+";base64,"+ve;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Bi)){var ot="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(ot=V.pdfObjectUrl,Rt="");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ot+'"'+Rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",Fn=Bi.open();return null!==Fn&&Fn.document.write(Kt),Fn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Bi)){var Hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',Si=Bi.open();if(null!==Si){Si.document.write(Hn);var ji=this;Si.document.documentElement.querySelector("#pdfViewer").onload=function(){Si.document.title=V.filename,Si.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ji.output("bloburl"))}}return Si}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Bi))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Ho=Bi.open();if(null!==Ho&&(Ho.document.write(Sr),Ho.document.title=V.filename),Ho||typeof safari>"u")return Ho;break;case"datauri":case"dataurl":return Bi.document.location.href=this.output("datauristring",V);default:return null}}).foo=function(){try{return eu.apply(this,arguments)}catch(ve){var P=ve.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var V="Error in function "+P.split("\n")[0].split("<")[0]+": "+ve.message;if(!Bi.console)throw new Error(V);Bi.console.error(V,ve),Bi.alert&&alert(V)}},eu.foo.bar=eu,eu.foo),iu=function(P){return!0===Array.isArray(Ug)&&Ug.indexOf(P)>-1};switch(i){case"pt":Vi=1;break;case"mm":Vi=72/25.4;break;case"cm":Vi=72/2.54;break;case"in":Vi=72;break;case"px":Vi=1==iu("px_scaling")?.75:96/72;break;case"pc":case"em":Vi=12;break;case"ex":Vi=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);Vi=i}var $s=null;kt(),Ue();var oh=m.__private__.getPageInfo=m.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ai[P].objId,pageNumber:P,pageContext:Ai[P]}},M5=m.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Ai)if(Ai[V].objId===P)break;return oh(V)},r3=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ai[pe].objId,pageNumber:pe,pageContext:Ai[pe]}};m.addPage=function(){return _5.apply(this,arguments),this},m.setPage=function(){return y5.apply(this,arguments),qn.call(this,Xt[pe]),this},m.insertPage=function(P){return this.addPage(),this.movePage(pe,P),this},m.movePage=function(P,V){var ve,He;if(P>V){ve=Xt[P],He=Ai[P];for(var ot=P;ot>V;ot--)Xt[ot]=Xt[ot-1],Ai[ot]=Ai[ot-1];Xt[V]=ve,Ai[V]=He,this.setPage(V)}else if(P<V){ve=Xt[P],He=Ai[P];for(var Rt=P;Rt<V;Rt++)Xt[Rt]=Xt[Rt+1],Ai[Rt]=Ai[Rt+1];Xt[V]=ve,Ai[V]=He,this.setPage(V)}return this},m.deletePage=function(){return bb.apply(this,arguments),this},m.__private__.text=m.text=function(P,V,ve,He,ot){var Rt,Kt,Fn,Hn,Si,ji,Sr,Ho,Os,mo=(He=He||{}).scope||this;if("number"==typeof P&&"number"==typeof V&&("string"==typeof ve||Array.isArray(ve))){var qs=ve;ve=V,V=P,P=qs}if(arguments[3]instanceof di==0?(Fn=arguments[4],Hn=arguments[5],"object"===Zr(Sr=arguments[3])&&null!==Sr||("string"==typeof Fn&&(Hn=Fn,Fn=null),"string"==typeof Sr&&(Hn=Sr,Sr=null),"number"==typeof Sr&&(Fn=Sr,Sr=null),He={flags:Sr,angle:Fn,align:Hn})):(te("The transform parameter of text() with a Matrix value"),Os=ot),isNaN(V)||isNaN(ve)||null==P)throw new Error("Invalid arguments passed to jsPDF.text");if(0===P.length)return mo;var ks,Ma="",dh="number"==typeof He.lineHeightFactor?He.lineHeightFactor:jg,qu=mo.internal.scaleFactor;function hh(zr){return zr=zr.split("\t").join(Array(He.TabLen||9).join(" ")),nu(zr,Sr)}function Pb(zr){for(var ao,gs=zr.concat(),Zs=[],gh=gs.length;gh--;)"string"==typeof(ao=gs.shift())?Zs.push(ao):Array.isArray(zr)&&(1===ao.length||void 0===ao[1]&&void 0===ao[2])?Zs.push(ao[0]):Zs.push([ao[0],ao[1],ao[2]]);return Zs}function G1(zr,ao){var gs;if("string"==typeof zr)gs=ao(zr)[0];else if(Array.isArray(zr)){for(var Zs,gh,Qb=zr.concat(),$1=[],L5=Qb.length;L5--;)"string"==typeof(Zs=Qb.shift())?$1.push(ao(Zs)[0]):Array.isArray(Zs)&&"string"==typeof Zs[0]&&(gh=ao(Zs[0],Zs[1],Zs[2]),$1.push([gh[0],gh[1],gh[2]]));gs=$1}return gs}var Wf=!1,$g=!0;if("string"==typeof P)Wf=!0;else if(Array.isArray(P)){var qg=P.concat();Kt=[];for(var $f,Ba=qg.length;Ba--;)("string"!=typeof($f=qg.shift())||Array.isArray($f)&&"string"!=typeof $f[0])&&($g=!1);Wf=$g}if(!1===Wf)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');"string"==typeof P&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var Zg=Yt/mo.internal.scaleFactor,Yg=Zg*(dh-1);switch(He.baseline){case"bottom":ve-=Yg;break;case"top":ve+=Zg-Yg;break;case"hanging":ve+=Zg-2*Yg;break;case"middle":ve+=Zg/2-Yg}if((ji=He.maxWidth||0)>0&&("string"==typeof P?P=mo.splitTextToSize(P,ji):"[object Array]"===Object.prototype.toString.call(P)&&(P=P.reduce(function(zr,ao){return zr.concat(mo.splitTextToSize(ao,ji))},[]))),Hr.publish("preProcessText",Rt={text:P,x:V,y:ve,options:He,mutex:{pdfEscape:nu,activeFontKey:Qn,fonts:nr,activeFontSize:Yt}}),P=Rt.text,Fn=(He=Rt.options).angle,Os instanceof di==0&&Fn&&"number"==typeof Fn){Fn*=Math.PI/180,0===He.rotationDirection&&(Fn=-Fn),z===H&&(Fn=-Fn);var Ib=Math.cos(Fn),Ob=Math.sin(Fn);Os=new di(Ib,Ob,-Ob,Ib,0,0)}else Fn&&Fn instanceof di&&(Os=Fn);z!==H||Os||(Os=rh),void 0!==(Si=He.charSpace||lh)&&(Ma+=se(Ee(Si))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Ho=He.horizontalScale)&&(Ma+=se(100*Ho)+" Tz\n");var ml=-1,fh=void 0!==He.renderingMode?He.renderingMode:He.stroke,K1=mo.internal.getCurrentPageInfo().pageContext;switch(fh){case 0:case!1:case"fill":ml=0;break;case 1:case!0:case"stroke":ml=1;break;case 2:case"fillThenStroke":ml=2;break;case 3:case"invisible":ml=3;break;case 4:case"fillAndAddForClipping":ml=4;break;case 5:case"strokeAndAddPathForClipping":ml=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ml=6;break;case 7:case"addToPathForClipping":ml=7}-1!==ml?Ma+=ml+" Tr\n":-1!==(void 0!==K1.usedRenderingMode?K1.usedRenderingMode:-1)&&(Ma+="0 Tr\n"),-1!==ml&&(K1.usedRenderingMode=ml),Hn=He.align||"left";var ru,Xg=Yt*dh,kb=mo.internal.pageSize.getWidth(),Fb=nr[Qn];Si=He.charSpace||lh,ji=He.maxWidth||0,Sr=Object.assign({autoencode:!0,noBOM:!0},He.flags);var qf=[],Jg=function(zr){return mo.getStringUnitWidth(zr,{font:Fb,charSpace:Si,fontSize:Yt,doKerning:!1})*Yt/qu};if("[object Array]"===Object.prototype.toString.call(P)){var bc;Kt=Pb(P),"left"!==Hn&&(ru=Kt.map(Jg));var wc,Zf=0;if("right"===Hn){V-=ru[0],P=[],Ba=Kt.length;for(var ph=0;ph<Ba;ph++)0===ph?(wc=sh(V),bc=ah(ve)):(wc=Ee(Zf-ru[ph]),bc=-Xg),P.push([Kt[ph],wc,bc]),Zf=ru[ph]}else if("center"===Hn){V-=ru[0]/2,P=[],Ba=Kt.length;for(var Yf=0;Yf<Ba;Yf++)0===Yf?(wc=sh(V),bc=ah(ve)):(wc=Ee((Zf-ru[Yf])/2),bc=-Xg),P.push([Kt[Yf],wc,bc]),Zf=ru[Yf]}else if("left"===Hn){P=[],Ba=Kt.length;for(var Tb=0;Tb<Ba;Tb++)P.push(Kt[Tb])}else if("justify"===Hn&&"Identity-H"===Fb.encoding){P=[],Ba=Kt.length,ji=0!==ji?ji:kb;for(var W1=0,ps=0;ps<Ba;ps++)if(bc=0===ps?ah(ve):-Xg,wc=0===ps?sh(V):W1,ps<Ba-1){var T5=Ee((ji-ru[ps])/(Kt[ps].split(" ").length-1)),qA=Kt[ps].split(" ");P.push([qA[0]+" ",wc,bc]),W1=0;for(var ZA=1;ZA<qA.length;ZA++){var Lb=(Jg(qA[ZA-1]+" "+qA[ZA])-Jg(qA[ZA]))*qu+T5;P.push(ZA==qA.length-1?[qA[ZA],Lb,0]:[qA[ZA]+" ",Lb,0]),W1-=Lb}}else P.push([Kt[ps],wc,bc]);P.push(["",W1,0])}else{if("justify"!==Hn)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Ba=Kt.length,ji=0!==ji?ji:kb,ps=0;ps<Ba;ps++){bc=0===ps?ah(ve):-Xg,wc=0===ps?sh(V):0;var Nb=Kt[ps].split(" ").length-1;qf.push(ps<Ba-1?se(Ee(Nb>0?(ji-ru[ps])/Nb:0)):0),P.push([Kt[ps],wc,bc])}}}!0===("boolean"==typeof He.R2L?He.R2L:oi)&&(P=G1(P,function(zr,ao,gs){return[zr.split("").reverse().join(""),ao,gs]})),Hr.publish("postProcessText",Rt={text:P,x:V,y:ve,options:He,mutex:{pdfEscape:nu,activeFontKey:Qn,fonts:nr,activeFontSize:Yt}}),P=Rt.text,ks=Rt.mutex.isHex||!1;var Ub=nr[Qn].encoding;"WinAnsiEncoding"!==Ub&&"StandardEncoding"!==Ub||(P=G1(P,function(zr,ao,gs){return[hh(zr),ao,gs]})),Kt=Pb(P),P=[];for(var Xf,Jf,ep,em=Array.isArray(Kt[0])?1:0,tp="",tm=function(zr,ao,gs){var Zs="";return gs instanceof di?(gs="number"==typeof He.angle?ih(gs,new di(1,0,0,1,zr,ao)):ih(new di(1,0,0,1,zr,ao),gs),z===H&&(gs=ih(new di(1,0,0,-1,0,0),gs)),Zs=gs.join(" ")+" Tm\n"):Zs=se(zr)+" "+se(ao)+" Td\n",Zs},ou=0;ou<Kt.length;ou++){switch(tp="",em){case 1:ep=(ks?"<":"(")+Kt[ou][0]+(ks?">":")"),Xf=parseFloat(Kt[ou][1]),Jf=parseFloat(Kt[ou][2]);break;case 0:ep=(ks?"<":"(")+Kt[ou]+(ks?">":")"),Xf=sh(V),Jf=ah(ve)}void 0!==qf&&void 0!==qf[ou]&&(tp=qf[ou]+" Tw\n"),0===ou?P.push(tp+tm(Xf,Jf,Os)+ep):0===em?P.push(tp+ep):1===em&&P.push(tp+tm(Xf,Jf,Os)+ep)}P=P.join(0===em?" Tj\nT* ":" Tj\n"),P+=" Tj\n";var YA="BT\n/";return YA+=Qn+" "+Yt+" Tf\n",YA+=se(Yt*dh)+" TL\n",YA+=Gg+"\n",YA+=Ma,YA+=P,Ae(YA+="ET"),y[Qn]=!0,mo};var o3=m.__private__.clip=m.clip=function(P){return Ae("evenodd"===P?"W*":"W"),this};m.clipEvenOdd=function(){return o3("evenodd")},m.__private__.discardPath=m.discardPath=function(){return Ae("n"),this};var $A=m.__private__.isValidStyle=function(P){var V=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)&&(V=!0),V};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(P){return $A(P)&&(u=P),this};var B5=m.__private__.getStyle=m.getStyle=function(P){var V=u;switch(P){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=P}return V},D5=m.close=function(){return Ae("h"),this};m.stroke=function(){return Ae("S"),this},m.fill=function(P){return z1("f",P),this},m.fillEvenOdd=function(P){return z1("f*",P),this},m.fillStroke=function(P){return z1("B",P),this},m.fillStrokeEvenOdd=function(P){return z1("B*",P),this};var z1=function(P,V){"object"===Zr(V)?a3(V,P):Ae(P)},Vg=function(P){null===P||z===H&&void 0===P||(P=B5(P),Ae(P))};function s3(P,V,ve,He,ot){var Rt=new w1(V||this.boundingBox,ve||this.xStep,He||this.yStep,this.gState,ot||this.matrix);Rt.stream=this.stream;var Kt=P+"$$"+this.cloneIndex+++"$$";return Jc(Kt,Rt),Rt}var a3=function(P,V){var ve=go[P.key],He=ni[ve];if(He instanceof Mg)Ae("q"),Ae(l3(V)),He.gState&&m.setGState(He.gState),Ae(P.matrix.toString()+" cm"),Ae("/"+ve+" sh"),Ae("Q");else if(He instanceof w1){var ot=new di(1,0,0,-1,0,Wg());P.matrix&&(ot=ot.multiply(P.matrix||rh),ve=s3.call(He,P.key,P.boundingBox,P.xStep,P.yStep,ot).id),Ae("q"),Ae("/Pattern cs"),Ae("/"+ve+" scn"),He.gState&&m.setGState(He.gState),Ae(V),Ae("Q")}},l3=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},wb=m.moveTo=function(P,V){return Ae(se(Ee(P))+" "+se(Se(V))+" m"),this},S5=m.lineTo=function(P,V){return Ae(se(Ee(P))+" "+se(Se(V))+" l"),this},$u=m.curveTo=function(P,V,ve,He,ot,Rt){return Ae([se(Ee(P)),se(Se(V)),se(Ee(ve)),se(Se(He)),se(Ee(ot)),se(Se(Rt)),"c"].join(" ")),this};m.__private__.line=m.line=function(P,V,ve,He,ot){if(isNaN(P)||isNaN(V)||isNaN(ve)||isNaN(He)||!$A(ot))throw new Error("Invalid arguments passed to jsPDF.line");return z===R?this.lines([[ve-P,He-V]],P,V,[1,1],ot||"S"):this.lines([[ve-P,He-V]],P,V,[1,1]).stroke()},m.__private__.lines=m.lines=function(P,V,ve,He,ot,Rt){var Kt,Fn,Hn,Si,ji,qs,ks,Ma;if("number"==typeof P&&(Ma=ve,ve=V,V=P,P=Ma),He=He||[1,1],Rt=Rt||!1,isNaN(V)||isNaN(ve)||!Array.isArray(P)||!Array.isArray(He)||!$A(ot)||"boolean"!=typeof Rt)throw new Error("Invalid arguments passed to jsPDF.lines");for(wb(V,ve),Kt=He[0],Fn=He[1],Si=P.length,qs=V,ks=ve,Hn=0;Hn<Si;Hn++)2===(ji=P[Hn]).length?S5(qs=ji[0]*Kt+qs,ks=ji[1]*Fn+ks):$u(ji[0]*Kt+qs,ji[1]*Fn+ks,ji[2]*Kt+qs,ji[3]*Fn+ks,qs=ji[4]*Kt+qs,ks=ji[5]*Fn+ks);return Rt&&D5(),Vg(ot),this},m.path=function(P){for(var V=0;V<P.length;V++){var ve=P[V],He=ve.c;switch(ve.op){case"m":wb(He[0],He[1]);break;case"l":S5(He[0],He[1]);break;case"c":$u.apply(this,He);break;case"h":D5()}}return this},m.__private__.rect=m.rect=function(P,V,ve,He,ot){if(isNaN(P)||isNaN(V)||isNaN(ve)||isNaN(He)||!$A(ot))throw new Error("Invalid arguments passed to jsPDF.rect");return z===R&&(He=-He),Ae([se(Ee(P)),se(Se(V)),se(Ee(ve)),se(Ee(He)),"re"].join(" ")),Vg(ot),this},m.__private__.triangle=m.triangle=function(P,V,ve,He,ot,Rt,Kt){if(isNaN(P)||isNaN(V)||isNaN(ve)||isNaN(He)||isNaN(ot)||isNaN(Rt)||!$A(Kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-P,He-V],[ot-ve,Rt-He],[P-ot,V-Rt]],P,V,[1,1],Kt,!0),this},m.__private__.roundedRect=m.roundedRect=function(P,V,ve,He,ot,Rt,Kt){if(isNaN(P)||isNaN(V)||isNaN(ve)||isNaN(He)||isNaN(ot)||isNaN(Rt)||!$A(Kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Fn=4/3*(Math.SQRT2-1);return ot=Math.min(ot,.5*ve),Rt=Math.min(Rt,.5*He),this.lines([[ve-2*ot,0],[ot*Fn,0,ot,Rt-Rt*Fn,ot,Rt],[0,He-2*Rt],[0,Rt*Fn,-ot*Fn,Rt,-ot,Rt],[2*ot-ve,0],[-ot*Fn,0,-ot,-Rt*Fn,-ot,-Rt],[0,2*Rt-He],[0,-Rt*Fn,ot*Fn,-Rt,ot,-Rt]],P+ot,V,[1,1],Kt,!0),this},m.__private__.ellipse=m.ellipse=function(P,V,ve,He,ot){if(isNaN(P)||isNaN(V)||isNaN(ve)||isNaN(He)||!$A(ot))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Rt=4/3*(Math.SQRT2-1)*ve,Kt=4/3*(Math.SQRT2-1)*He;return wb(P+ve,V),$u(P+ve,V-Kt,P+Rt,V-He,P,V-He),$u(P-Rt,V-He,P-ve,V-Kt,P-ve,V),$u(P-ve,V+Kt,P-Rt,V+He,P,V+He),$u(P+Rt,V+He,P+ve,V+Kt,P+ve,V),Vg(ot),this},m.__private__.circle=m.circle=function(P,V,ve,He){if(isNaN(P)||isNaN(V)||isNaN(ve)||!$A(He))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,V,ve,ve,He)},m.setFont=function(P,V,ve){return ve&&(V=Be(V,ve)),Qn=w5(P,V,{disableWarning:!1}),this};var c3=m.__private__.getFont=m.getFont=function(){return nr[w5.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var P,V,ve={};for(P in ir)if(ir.hasOwnProperty(P))for(V in ve[P]=[],ir[P])ir[P].hasOwnProperty(V)&&ve[P].push(V);return ve},m.addFont=function(P,V,ve,He,ot){var Rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Rt.indexOf(arguments[3])?ot=arguments[3]:arguments[3]&&-1==Rt.indexOf(arguments[3])&&(ve=Be(ve,He)),v5.call(this,P,V,ve,ot=ot||"Identity-H")};var jg,Cb=t.lineWidth||.200025,u3=m.__private__.getLineWidth=m.getLineWidth=function(){return Cb},Ei=m.__private__.setLineWidth=m.setLineWidth=function(P){return Cb=P,Ae(se(Ee(P))+" w"),this};m.__private__.setLineDash=kn.API.setLineDash=kn.API.setLineDashPattern=function(P,V){if(P=P||[],V=V||0,isNaN(V)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(ve){return se(Ee(ve))}).join(" "),V=se(Ee(V)),Ae("["+P+"] "+V+" d"),this};var A3=m.__private__.getLineHeight=m.getLineHeight=function(){return Yt*jg};m.__private__.getLineHeight=m.getLineHeight=function(){return Yt*jg};var d3=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(P){return"number"==typeof(P=P||1.15)&&(jg=P),this},h3=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return jg};d3(t.lineHeight);var sh=m.__private__.getHorizontalCoordinate=function(P){return Ee(P)},ah=m.__private__.getVerticalCoordinate=function(P){return z===H?P:Ai[pe].mediaBox.topRightY-Ai[pe].mediaBox.bottomLeftY-Ee(P)},f3=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(P){return se(sh(P))},p3=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(P){return se(ah(P))},V1=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return jA(V1)},m.__private__.setStrokeColor=m.setDrawColor=function(P,V,ve,He){return V1=Ku({ch1:P,ch2:V,ch3:ve,ch4:He,pdfColorType:"draw",precision:2}),Ae(V1),this};var xb=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return jA(xb)},m.__private__.setFillColor=m.setFillColor=function(P,V,ve,He){return xb=Ku({ch1:P,ch2:V,ch3:ve,ch4:He,pdfColorType:"fill",precision:2}),Ae(xb),this};var Gg=t.textColor||"0 g",g3=m.__private__.getTextColor=m.getTextColor=function(){return jA(Gg)};m.__private__.setTextColor=m.setTextColor=function(P,V,ve,He){return Gg=Ku({ch1:P,ch2:V,ch3:ve,ch4:He,pdfColorType:"text",precision:3}),this};var lh=t.charSpace,m3=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(lh||0)};m.__private__.setCharSpace=m.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lh=P,this};var Mb=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(P){var V=m.CapJoinStyles[P];if(void 0===V)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mb=V,Ae(V+" J"),this};var Bb=0;m.__private__.setLineJoin=m.setLineJoin=function(P){var V=m.CapJoinStyles[P];if(void 0===V)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bb=V,Ae(V+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ae(se(Ee(P))+" M"),this},m.GState=Ox,m.setGState=function(P){(P="string"==typeof P?fi[Ni[P]]:E5(null,P)).equals(Lo)||(Ae("/"+P.id+" gs"),Lo=P)};var E5=function(P,V){if(!P||!Ni[P]){var ve=!1;for(var He in fi)if(fi.hasOwnProperty(He)&&fi[He].equals(V)){ve=!0;break}if(ve)V=fi[He];else{var ot="GS"+(Object.keys(fi).length+1).toString(10);fi[ot]=V,V.id=ot}return P&&(Ni[P]=V.id),Hr.publish("addGState",V),V}};m.addGState=function(P,V){return E5(P,V),this},m.saveGraphicsState=function(){return Ae("q"),To.push({key:Qn,size:Yt,color:Gg}),this},m.restoreGraphicsState=function(){Ae("Q");var P=To.pop();return Qn=P.key,Yt=P.size,Gg=P.color,Lo=null,this},m.setCurrentTransformationMatrix=function(P){return Ae(P.toString()+" cm"),this},m.comment=function(P){return Ae("#"+P),this};var ch=function(P,V){var ve=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(Rt){isNaN(Rt)||(ve=parseFloat(Rt))}});var He=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return He},set:function(Rt){isNaN(Rt)||(He=parseFloat(Rt))}});var ot="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ot},set:function(Rt){ot=Rt.toString()}}),this},Db=function(P,V,ve,He){ch.call(this,P,V),this.type="rect";var ot=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ot},set:function(Kt){isNaN(Kt)||(ot=parseFloat(Kt))}});var Rt=He||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Rt},set:function(Kt){isNaN(Kt)||(Rt=parseFloat(Kt))}}),this},j1=function(){this.page=or,this.currentPage=pe,this.pages=Xt.slice(0),this.pagesContext=Ai.slice(0),this.x=$n,this.y=fs,this.matrix=Dr,this.width=Eb(pe),this.height=I5(pe),this.outputDestination=gn,this.id="",this.objectNumber=-1};j1.prototype.restore=function(){or=this.page,Ai=this.pagesContext,Xt=this.pages,$n=this.x,fs=this.y,Dr=this.matrix,P5(pe=this.currentPage,this.width),uh(pe,this.height),gn=this.outputDestination};var Sb=function(P,V,ve,He,ot){VA.push(new j1),or=pe=0,Xt=[],$n=P,fs=V,Dr=ot,yb([ve,He])};for(var Kg in m.beginFormObject=function(P,V,ve,He,ot){return Sb(P,V,ve,He,ot),this},m.endFormObject=function(P){return function(V){if(nh[V])VA.pop().restore();else{var ve=new j1,He="Xo"+(Object.keys(qa).length+1).toString(10);ve.id=He,nh[V]=He,qa[He]=ve,Hr.publish("addFormObject",ve),VA.pop().restore()}}(P),this},m.doFormObject=function(P,V){var ve=qa[nh[P]];return Ae("q"),Ae(V.toString()+" cm"),Ae("/"+ve.id+" Do"),Ae("Q"),this},m.getFormObject=function(P){var V=qa[nh[P]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},m.save=function(P,V){return P=P||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,!1===V.returnPromise?(xg(H1(WA()),P),"function"==typeof xg.unload&&Bi.setTimeout&&setTimeout(xg.unload,911),this):new Promise(function(ve,He){try{var ot=xg(H1(WA()),P);"function"==typeof xg.unload&&Bi.setTimeout&&setTimeout(xg.unload,911),ve(ot)}catch(Rt){He(Rt.message)}})},kn.API)kn.API.hasOwnProperty(Kg)&&("events"===Kg&&kn.API.events.length?function(P,V){var He,ot;for(ot=V.length-1;-1!==ot;ot--)P.subscribe.apply(P,[V[ot][0]].concat("function"==typeof(He=V[ot][1])?[He]:He))}(Hr,kn.API.events):m[Kg]=kn.API[Kg]);function Eb(P){return Ai[P].mediaBox.topRightX-Ai[P].mediaBox.bottomLeftX}function P5(P,V){Ai[P].mediaBox.topRightX=V+Ai[P].mediaBox.bottomLeftX}function I5(P){return Ai[P].mediaBox.topRightY-Ai[P].mediaBox.bottomLeftY}function uh(P,V){Ai[P].mediaBox.topRightY=V+Ai[P].mediaBox.bottomLeftY}var Ah=m.getPageWidth=function(P){return Eb(P=P||pe)/Vi},O5=m.setPageWidth=function(P,V){P5(P,V*Vi)},Wg=m.getPageHeight=function(P){return I5(P=P||pe)/Vi},k5=m.setPageHeight=function(P,V){uh(P,V*Vi)};return m.internal={pdfEscape:nu,getStyle:B5,getFont:c3,getFontSize:On,getCharSpace:m3,getTextColor:g3,getLineHeight:A3,getLineHeightFactor:h3,getLineWidth:u3,write:_n,getHorizontalCoordinate:sh,getVerticalCoordinate:ah,getCoordinateString:f3,getVerticalCoordinateString:p3,collections:{},newObject:Zo,newAdditionalObject:Qg,newObjectDeferred:la,newObjectDeferredBegin:xa,getFilters:Wu,putStream:tu,events:Hr,scaleFactor:Vi,pageSize:{getWidth:function(){return Ah(pe)},setWidth:function(P){O5(pe,P)},getHeight:function(){return Wg(pe)},setHeight:function(P){k5(pe,P)}},encryptionOptions:d,encryption:$s,getEncryptor:function(P){return null!==d?$s.encryptor(P,0):function(V){return V}},output:x5,getNumberOfPages:b5,get pages(){return Xt},out:Ae,f2:G,f3:J,getPageInfo:oh,getPageInfoByObjId:M5,getCurrentPageInfo:r3,getPDFVersion:D,Point:ch,Rectangle:Db,Matrix:di,hasHotfix:iu},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ah(pe)},set:function(P){O5(pe,P)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Wg(pe)},set:function(P){k5(pe,P)},enumerable:!0,configurable:!0}),function(P){for(var V=0,ve=si.length;V<ve;V++){var He=v5.call(this,P[V][0],P[V][1],P[V][2],si[V][3],!0);!1===g&&(y[He]=!0);var ot=P[V][0].split("-");m5({id:He,fontName:ot[0],fontStyle:ot[1]||""})}Hr.publish("addFonts",{fonts:nr,dictionary:ir})}.call(m,si),Qn="F1",_5(r,e),Hr.publish("initialized"),m}y1.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},y1.prototype.toHexString=function(t){return t.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},y1.prototype.hexToBytes=function(t){for(var n=[],e=0;e<t.length;e+=2)n.push(String.fromCharCode(parseInt(t.substr(e,2),16)));return n.join("")},y1.prototype.processOwnerPassword=function(t,n){return tP(eP(n).substr(0,5),t)},y1.prototype.encryptor=function(t,n){var e=eP(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&n,n>>8&255)).substr(0,10);return function(i){return tP(e,i)}},Ox.prototype.equals=function(t){var n,e="id,objectNumber,equals";if(!t||Zr(t)!==Zr(this))return!1;var i=0;for(n in this)if(!(e.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!t.hasOwnProperty(n)||this[n]!==t[n])return!1;i++}for(n in t)t.hasOwnProperty(n)&&e.indexOf(n)<0&&i--;return 0===i},kn.API={events:[]},kn.version="4.1.0";var $o=kn.API,nP=1,Bg=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},C1=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kx=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(n){var e=n.charCodeAt(0).toString(16).toUpperCase();return"#"+(1===e.length?"0"+e:e)})},Oi=function(t){return t.toFixed(2)},Lf=function(t){return t.toFixed(5)};$o.__acroform__={};var Rl=function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t},SQ=function(t){return t*nP},NA=function(t){var n=new PQ,e=In.internal.getHeight(t)||0,i=In.internal.getWidth(t)||0;return n.BBox=[0,0,Number(Oi(i)),Number(Oi(e))],n},cde=$o.__acroform__.setBit=function(t,n){if(t=t||0,n=n||0,isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<n},ude=$o.__acroform__.clearBit=function(t,n){if(t=t||0,n=n||0,isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<n)},Ade=$o.__acroform__.getBit=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<n?1:0},us=$o.__acroform__.getBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ade(t,n-1)},As=$o.__acroform__.setBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return cde(t,n-1)},ds=$o.__acroform__.clearBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ude(t,n-1)},dde=$o.__acroform__.calculateCoordinates=function(t,n){var e=n.internal.getHorizontalCoordinate,i=n.internal.getVerticalCoordinate,r=t[0],o=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=e(r)||0,l.lowerLeft_Y=i(o+a)||0,l.upperRight_X=e(r+s)||0,l.upperRight_Y=i(o)||0,[Number(Oi(l.lowerLeft_X)),Number(Oi(l.lowerLeft_Y)),Number(Oi(l.upperRight_X)),Number(Oi(l.upperRight_Y))]},hde=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var n=[],i=iP(t,t._V||t.DV),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(t.scope.__private__.encodeColorString(t.color)),n.push("/"+r+" "+Oi(i.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC");var o=NA(t);return o.scope=t.scope,o.stream=n.join("\n"),o}},iP=function(t,n){var e=0===t.fontSize?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},r=(n=")"==(n="("==n.substr(0,1)?n.substr(1):n).substr(n.length-1)?n.substr(0,n.length-1):n).split(" ");r=r.map(t.multiline?function(G){return G.split("\n")}:function(G){return[G]});var o=e,s=In.internal.getHeight(t)||0;s=s<0?-s:s;var G,a=In.internal.getWidth(t)||0;a=a<0?-a:a,o++;e:for(;o>0;){n="",o--;var u,d,g=Fx("3",t,o).height,y=t.multiline?s-o:(s-g)/2,m=y+=2,B=0,D=0,I=0;if(o<=0){n="(...) Tj\n",n+="% Width of Text: "+Fx(n,t,o=12).width+", FieldWidth:"+a+"\n";break}for(var F="",R=0,H=0;H<r.length;H++)if(r.hasOwnProperty(H)){var z=!1;if(1!==r[H].length&&I!==r[H].length-1){if((g+2)*(R+2)+2>s)continue e;F+=r[H][I],z=!0,D=H,H--}else{F=" "==(F+=r[H][I]+" ").substr(F.length-1)?F.substr(0,F.length-1):F;var ie=parseInt(H),be=(G=ie)+1<r.length&&Fx(F+" "+r[G+1][0],t,o).width<=a-4,Be=H>=r.length-1;if(be&&!Be){F+=" ",I=0;continue}if(be||Be){if(Be)D=ie;else if(t.multiline&&(g+2)*(R+2)+2>s)continue e}else{if(!t.multiline||(g+2)*(R+2)+2>s)continue e;D=ie}}for(var se="",te=B;te<=D;te++){var Re=r[te];if(t.multiline){if(te===D){se+=Re[I]+" ",I=(I+1)%Re.length;continue}if(te===B){se+=Re[Re.length-1]+" ";continue}}se+=Re[0]+" "}switch(se=" "==se.substr(se.length-1)?se.substr(0,se.length-1):se,d=Fx(se,t,o).width,t.textAlign){case"right":u=a-d-2;break;case"center":u=(a-d)/2;break;default:u=2}n+=Oi(u)+" "+Oi(m)+" Td\n",n+="("+Bg(se)+") Tj\n",n+=-Oi(u)+" 0 Td\n",m=-(o+2),d=0,B=z?D:D+1,R++,F=""}break}return i.text=n,i.fontSize=o,i},Fx=function(t,n,e){var i=n.scope.internal.getFont(n.fontName,n.fontStyle),r=n.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:n.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},fde={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},pde=function(t,n){var e={type:"reference",object:t};void 0===n.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})&&n.internal.getPageInfo(t.page).pageContext.annotations.push(e)},EQ=$o.__acroform__.arrayToPdfArray=function(t,n,e){var i=function(s){return s};if(Array.isArray(t)){for(var r="[",o=0;o<t.length;o++)switch(0!==o&&(r+=" "),Zr(t[o])){case"boolean":case"number":case"object":r+=t[o].toString();break;case"string":"/"===t[o].substr(0,1)?r+="/"+kx(t[o].substr(1)):(void 0!==n&&e&&(i=e.internal.getEncryptor(n)),r+="("+Bg(i(t[o].toString()))+")")}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rP=function(t,n,e){var i=function(r){return r};return void 0!==n&&e&&(i=e.internal.getEncryptor(n)),(t=t||"").toString(),"("+Bg(i(t))+")"},RA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};RA.prototype.toString=function(){return this.objId+" 0 R"},RA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},RA.prototype.getKeyValueListForStream=function(){var t=[],n=Object.getOwnPropertyNames(this).filter(function(o){return"content"!=o&&"appearanceStreamContent"!=o&&"scope"!=o&&"objId"!=o&&"_"!=o.substring(0,1)});for(var e in n)if(!1===Object.getOwnPropertyDescriptor(this,n[e]).configurable){var i=n[e],r=this[i];r&&(Array.isArray(r)?t.push({key:i,value:EQ(r,this.objId,this.scope)}):r instanceof RA?(r.scope=this.scope,t.push({key:i,value:r.objId+" 0 R"})):"function"!=typeof r&&t.push({key:i,value:r}))}return t};var PQ=function(){RA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};Rl(PQ,RA);var IQ=function(){RA.call(this);var t,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Bg(e(t))+")"}},set:function(e){t=e}})};Rl(IQ,RA);var Hu=function t(){RA.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute F supplied.');n=F}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!us(n,3)},set:function(F){this.F=F?As(n,3):ds(n,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute Ff supplied.');e=F}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(F){i=void 0!==F?F:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(F){i[0]=F}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(F){i[1]=F}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(F){i[2]=F}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(F){i[3]=F}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(F){switch(F){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=F;break;default:throw new Error('Invalid value "'+F+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Nx)return;o="FieldObject"+t.FieldNum++}var F=function(R){return R};return this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),"("+Bg(F(o))+")"},set:function(F){o=F.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(F){o=F}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(F){s=F}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(F){a=F}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(F){l=F}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===u?50/nP:u},set:function(F){u=F}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(F){d=F}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Nx||this instanceof Dg))return rP(g,this.objId,this.scope)},set:function(F){F=F.toString(),g=F}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof sa==0?rP(y,this.objId,this.scope):y},set:function(F){F=F.toString(),y=this instanceof sa==0?"("===F.substr(0,1)?C1(F.substr(1,F.length-2)):C1(F):F}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof sa==1?C1(y.substr(1,y.length-1)):y},set:function(F){F=F.toString(),y=this instanceof sa==1?"/"+kx(F):F}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(F){this.V=F}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof sa==0?rP(m,this.objId,this.scope):m},set:function(F){F=F.toString(),m=this instanceof sa==0?"("===F.substr(0,1)?C1(F.substr(1,F.length-2)):C1(F):F}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof sa==1?C1(m.substr(1,m.length-1)):m},set:function(F){F=F.toString(),m=this instanceof sa==1?"/"+kx(F):F}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var B,D=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return D},set:function(F){D=F=!!F}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(B)return B},set:function(F){B=F}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,1)},set:function(F){this.Ff=F?As(this.Ff,1):ds(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,2)},set:function(F){this.Ff=F?As(this.Ff,2):ds(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,3)},set:function(F){this.Ff=F?As(this.Ff,3):ds(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==I)return I},set:function(F){if(-1===[0,1,2].indexOf(F))throw new Error('Invalid value "'+F+'" for attribute Q supplied.');I=F}}),Object.defineProperty(this,"textAlign",{get:function(){var F;switch(I){case 0:default:F="left";break;case 1:F="center";break;case 2:F="right"}return F},configurable:!0,enumerable:!0,set:function(F){switch(F){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};Rl(Hu,RA);var x1=function(){Hu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return EQ(n,this.objId,this.scope)},set:function(e){var i,r;r=[],"string"==typeof(i=e)&&(r=function(o,s,a){a||(a=1);for(var l,u=[];l=s.exec(o);)u.push(l[a]);return u}(i,/\((.*?)\)/g)),n=r}}),this.getOptions=function(){return n},this.setOptions=function(e){n=e,this.sort&&n.sort()},this.addOption=function(e){e=(e=e||"").toString(),n.push(e),this.sort&&n.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();-1!==n.indexOf(e)&&(n.splice(n.indexOf(e),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,18)},set:function(e){this.Ff=e?As(this.Ff,18):ds(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,19)},set:function(e){!0===this.combo&&(this.Ff=e?As(this.Ff,19):ds(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,20)},set:function(e){e?(this.Ff=As(this.Ff,20),n.sort()):this.Ff=ds(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,22)},set:function(e){this.Ff=e?As(this.Ff,22):ds(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,23)},set:function(e){this.Ff=e?As(this.Ff,23):ds(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,27)},set:function(e){this.Ff=e?As(this.Ff,27):ds(this.Ff,27)}}),this.hasAppearanceStream=!1};Rl(x1,Hu);var M1=function(){x1.call(this),this.fontName="helvetica",this.combo=!1};Rl(M1,x1);var B1=function(){M1.call(this),this.combo=!0};Rl(B1,M1);var Tx=function(){B1.call(this),this.edit=!0};Rl(Tx,B1);var sa=function(){Hu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,15)},set:function(e){this.Ff=e?As(this.Ff,15):ds(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,16)},set:function(e){this.Ff=e?As(this.Ff,16):ds(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,17)},set:function(e){this.Ff=e?As(this.Ff,17):ds(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,26)},set:function(e){this.Ff=e?As(this.Ff,26):ds(this.Ff,26)}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(n).length){var i,r=[];for(i in r.push("<<"),n)r.push("/"+i+" ("+Bg(e(n[i]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===Zr(e)&&(n=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(e){"string"==typeof e&&(n.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+kx(e)}})};Rl(sa,Hu);var Lx=function(){sa.call(this),this.pushButton=!0};Rl(Lx,sa);var D1=function(){sa.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=void 0!==n?n:[]}})};Rl(D1,sa);var Nx=function(){var t,n;Hu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(r){n=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),i)s.push("/"+o+" ("+Bg(r(i[o]))+")");return s.push(">>"),s.join("\n")},set:function(r){"object"===Zr(r)&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){"string"==typeof r&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=In.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Rl(Nx,Hu),D1.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var e=this.Kids[n];e.appearanceStreamContent=t.createAppearanceStream(e.optionName),e.caption=t.getCA()}},D1.prototype.createOption=function(t){var n=new Nx;return n.Parent=this,n.optionName=t,this.Kids.push(n),mde.call(this.scope,n),n};var Rx=function(){sa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=In.CheckBox.createAppearanceStream()};Rl(Rx,sa);var Dg=function(){Hu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,13)},set:function(n){this.Ff=n?As(this.Ff,13):ds(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,21)},set:function(n){this.Ff=n?As(this.Ff,21):ds(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,23)},set:function(n){this.Ff=n?As(this.Ff,23):ds(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,24)},set:function(n){this.Ff=n?As(this.Ff,24):ds(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,25)},set:function(n){this.Ff=n?As(this.Ff,25):ds(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,26)},set:function(n){this.Ff=n?As(this.Ff,26):ds(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){Number.isInteger(n)&&(t=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Rl(Dg,Hu);var Ux=function(){Dg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!us(this.Ff,14)},set:function(t){this.Ff=t?As(this.Ff,14):ds(this.Ff,14)}}),this.password=!0};Rl(Ux,Dg);var In={CheckBox:{createAppearanceStream:function(){return{N:{On:In.CheckBox.YesNormal},D:{On:In.CheckBox.YesPushDown,Off:In.CheckBox.OffPushDown}}},YesPushDown:function(t){var n=NA(t);n.scope=t.scope;var e=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),o=iP(t,t.caption);return e.push("0.749023 g"),e.push("0 0 "+Oi(In.internal.getWidth(t))+" "+Oi(In.internal.getHeight(t))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+Oi(o.fontSize)+" Tf "+r),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),n.stream=e.join("\n"),n},YesNormal:function(t){var n=NA(t);n.scope=t.scope;var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),r=[],o=In.internal.getHeight(t),s=In.internal.getWidth(t),a=iP(t,t.caption);return r.push("1 g"),r.push("0 0 "+Oi(s)+" "+Oi(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Oi(s-1)+" "+Oi(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+Oi(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),n.stream=r.join("\n"),n},OffPushDown:function(t){var n=NA(t);n.scope=t.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Oi(In.internal.getWidth(t))+" "+Oi(In.internal.getHeight(t))+" re"),e.push("f"),n.stream=e.join("\n"),n}},RadioButton:{Circle:{createAppearanceStream:function(t){var n={D:{Off:In.RadioButton.Circle.OffPushDown},N:{}};return n.N[t]=In.RadioButton.Circle.YesNormal,n.D[t]=In.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(t){var n=NA(t);n.scope=t.scope;var e=[],i=In.internal.getWidth(t)<=In.internal.getHeight(t)?In.internal.getWidth(t)/4:In.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var o=Number((i*In.internal.Bezier_C).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Lf(In.internal.getWidth(t)/2)+" "+Lf(In.internal.getHeight(t)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),n.stream=e.join("\n"),n},YesPushDown:function(t){var n=NA(t);n.scope=t.scope;var e=[],i=In.internal.getWidth(t)<=In.internal.getHeight(t)?In.internal.getWidth(t)/4:In.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*In.internal.Bezier_C).toFixed(5)),s=Number((i*In.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Lf(In.internal.getWidth(t)/2)+" "+Lf(In.internal.getHeight(t)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Lf(In.internal.getWidth(t)/2)+" "+Lf(In.internal.getHeight(t)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),n.stream=e.join("\n"),n},OffPushDown:function(t){var n=NA(t);n.scope=t.scope;var e=[],i=In.internal.getWidth(t)<=In.internal.getHeight(t)?In.internal.getWidth(t)/4:In.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*In.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Lf(In.internal.getWidth(t)/2)+" "+Lf(In.internal.getHeight(t)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),n.stream=e.join("\n"),n}},Cross:{createAppearanceStream:function(t){var n={D:{Off:In.RadioButton.Cross.OffPushDown},N:{}};return n.N[t]=In.RadioButton.Cross.YesNormal,n.D[t]=In.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(t){var n=NA(t);n.scope=t.scope;var e=[],i=In.internal.calculateCross(t);return e.push("q"),e.push("1 1 "+Oi(In.internal.getWidth(t)-2)+" "+Oi(In.internal.getHeight(t)-2)+" re"),e.push("W"),e.push("n"),e.push(Oi(i.x1.x)+" "+Oi(i.x1.y)+" m"),e.push(Oi(i.x2.x)+" "+Oi(i.x2.y)+" l"),e.push(Oi(i.x4.x)+" "+Oi(i.x4.y)+" m"),e.push(Oi(i.x3.x)+" "+Oi(i.x3.y)+" l"),e.push("s"),e.push("Q"),n.stream=e.join("\n"),n},YesPushDown:function(t){var n=NA(t);n.scope=t.scope;var e=In.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Oi(In.internal.getWidth(t))+" "+Oi(In.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Oi(In.internal.getWidth(t)-2)+" "+Oi(In.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Oi(e.x1.x)+" "+Oi(e.x1.y)+" m"),i.push(Oi(e.x2.x)+" "+Oi(e.x2.y)+" l"),i.push(Oi(e.x4.x)+" "+Oi(e.x4.y)+" m"),i.push(Oi(e.x3.x)+" "+Oi(e.x3.y)+" l"),i.push("s"),i.push("Q"),n.stream=i.join("\n"),n},OffPushDown:function(t){var n=NA(t);n.scope=t.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Oi(In.internal.getWidth(t))+" "+Oi(In.internal.getHeight(t))+" re"),e.push("f"),n.stream=e.join("\n"),n}}},createDefaultAppearanceStream:function(t){var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,e=t.scope.__private__.encodeColorString(t.color);return"/"+n+" "+t.fontSize+" Tf "+e}};In.internal={Bezier_C:.551915024494,calculateCross:function(t){var n=In.internal.getWidth(t),e=In.internal.getHeight(t),i=Math.min(n,e);return{x1:{x:(n-i)/2,y:(e-i)/2+i},x2:{x:(n-i)/2+i,y:(e-i)/2},x3:{x:(n-i)/2,y:(e-i)/2},x4:{x:(n-i)/2+i,y:(e-i)/2+i}}}},In.internal.getWidth=function(t){var n=0;return"object"===Zr(t)&&(n=SQ(t.Rect[2])),n},In.internal.getHeight=function(t){var n=0;return"object"===Zr(t)&&(n=SQ(t.Rect[3])),n};var t,n,mde=$o.addField=function(t){if(function(t,n){if(n.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(Hu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(fde)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");nP=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new IQ,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){var e;(e=t).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),t.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];o.objId=void 0,o.hasAnnotation&&pde(o,e)}}(t)}),t.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)}),t.internal.events.subscribe("postPutPages",function(e){!function(i,r){var o=!i;for(var s in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var a=i[s],l=[],u=a.Rect;if(a.Rect&&(a.Rect=dde(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=In.createDefaultAppearanceStream(a),"object"===Zr(a)&&"function"==typeof a.getKeyValueListForStream&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=hde(a);l.push({key:"AP",value:"<</N "+d+">>"}),r.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var g="";for(var y in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(y)){var m=a.appearanceStreamContent[y];if(g+="/"+y+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var B=m[s];"function"==typeof B&&(B=B.call(r,a)),g+="/"+s+" "+B+" ",r.internal.acroformPlugin.xForms.indexOf(B)>=0||r.internal.acroformPlugin.xForms.push(B)}}else"function"==typeof(B=m)&&(B=B.call(r,a)),g+="/"+s+" "+B,r.internal.acroformPlugin.xForms.indexOf(B)>=0||r.internal.acroformPlugin.xForms.push(B);g+=">>"}l.push({key:"AP",value:"<<\n"+g+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}o&&function(D,I){for(var F in D)if(D.hasOwnProperty(F)){var R=F,H=D[F];I.internal.newObjectDeferredBegin(H.objId,!0),"object"===Zr(H)&&"function"==typeof H.putStream&&H.putStream(),delete D[R]}}(r.internal.acroformPlugin.xForms,r)}(e,t)}),t.internal.acroformPlugin.isInitialized=!0}}(this,t),!(t instanceof Hu))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=t).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};function OQ(t){return t.reduce(function(n,e,i){return n[e]=i,n},{})}$o.AcroFormChoiceField=x1,$o.AcroFormListBox=M1,$o.AcroFormComboBox=B1,$o.AcroFormEditBox=Tx,$o.AcroFormButton=sa,$o.AcroFormPushButton=Lx,$o.AcroFormRadioButton=D1,$o.AcroFormCheckBox=Rx,$o.AcroFormTextField=Dg,$o.AcroFormPasswordField=Ux,$o.AcroFormAppearance=In,$o.AcroForm={ChoiceField:x1,ListBox:M1,ComboBox:B1,EditBox:Tx,Button:sa,PushButton:Lx,RadioButton:D1,CheckBox:Rx,TextField:Dg,PasswordField:Ux,Appearance:In},kn.AcroForm={ChoiceField:x1,ListBox:M1,ComboBox:B1,EditBox:Tx,Button:sa,PushButton:Lx,RadioButton:D1,CheckBox:Rx,TextField:Dg,PasswordField:Ux,Appearance:In},function(t){var n="addImage_";t.__addimage__={};var e="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(G,J){var Ee,Se,tt,Le,ze,Ue=e;if("RGBA"===(J=J||e)||void 0!==G.data&&G.data instanceof Uint8ClampedArray&&"height"in G&&"width"in G)return"RGBA";if(be(G))for(ze in i)for(tt=i[ze],Ee=0;Ee<tt.length;Ee+=1){for(Le=!0,Se=0;Se<tt[Ee].length;Se+=1)if(void 0!==tt[Ee][Se]&&tt[Ee][Se]!==G[Se]){Le=!1;break}if(!0===Le){Ue=ze;break}}else for(ze in i)for(tt=i[ze],Ee=0;Ee<tt.length;Ee+=1){for(Le=!0,Se=0;Se<tt[Ee].length;Se+=1)if(void 0!==tt[Ee][Se]&&tt[Ee][Se]!==G.charCodeAt(Se)){Le=!1;break}if(!0===Le){Ue=ze;break}}return Ue===e&&J!==e&&(Ue=J),Ue},o=function G(J){for(var Ee=this.internal.write,Se=this.internal.putStream,tt=(0,this.internal.getFilters)();-1!==tt.indexOf("FlateEncode");)tt.splice(tt.indexOf("FlateEncode"),1);J.objectId=this.internal.newObject();var Le=[];if(Le.push({key:"Type",value:"/XObject"}),Le.push({key:"Subtype",value:"/Image"}),Le.push({key:"Width",value:J.width}),Le.push({key:"Height",value:J.height}),J.colorSpace===F.INDEXED?Le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(J.palette.length/3-1)+" "+("sMask"in J&&void 0!==J.sMask?J.objectId+2:J.objectId+1)+" 0 R]"}):(Le.push({key:"ColorSpace",value:"/"+J.colorSpace}),J.colorSpace===F.DEVICE_CMYK&&Le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Le.push({key:"BitsPerComponent",value:J.bitsPerComponent}),"decodeParameters"in J&&void 0!==J.decodeParameters&&Le.push({key:"DecodeParms",value:"<<"+J.decodeParameters+">>"}),"transparency"in J&&Array.isArray(J.transparency)&&J.transparency.length>0){for(var ze="",Ue=0,et=J.transparency.length;Ue<et;Ue++)ze+=J.transparency[Ue]+" "+J.transparency[Ue]+" ";Le.push({key:"Mask",value:"["+ze+"]"})}if(void 0!==J.sMask&&Le.push({key:"SMask",value:J.objectId+1+" 0 R"}),Se({data:J.data,additionalKeyValues:Le,alreadyAppliedFilters:void 0!==J.filter?["/"+J.filter]:void 0,objectId:J.objectId}),Ee("endobj"),"sMask"in J&&void 0!==J.sMask){var kt,W=null!==(kt=J.sMaskBitsPerComponent)&&void 0!==kt?kt:J.bitsPerComponent,pe={width:J.width,height:J.height,colorSpace:"DeviceGray",bitsPerComponent:W,data:J.sMask};"filter"in J&&(pe.decodeParameters="/Predictor ".concat(J.predictor," /Colors 1 /BitsPerComponent ").concat(W," /Columns ").concat(J.width),pe.filter=J.filter),G.call(this,pe)}if(J.colorSpace===F.INDEXED){var ye=this.internal.newObject();Se({data:se(new Uint8Array(J.palette)),objectId:ye}),Ee("endobj")}},s=function(){var G=this.internal.collections[n+"images"];for(var J in G)o.call(this,G[J])},a=function(){var G,J=this.internal.collections[n+"images"],Ee=this.internal.write;for(var Se in J)Ee("/I"+(G=J[Se]).index,G.objectId,"0","R")},l=function(){this.internal.collections[n+"images"]||(this.internal.collections[n+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var G=this.internal.collections[n+"images"];return l.call(this),G},d=function(){return Object.keys(this.internal.collections[n+"images"]).length},g=function(G){return"function"==typeof t["process"+G.toUpperCase()]},y=function(G){return"object"===Zr(G)&&1===G.nodeType},m=function(G,J){if("IMG"===G.nodeName&&G.hasAttribute("src")){var Ee=""+G.getAttribute("src");if(0===Ee.indexOf("data:image/"))return Px(unescape(Ee).split("base64,").pop());var Se=t.loadFile(Ee,!0);if(void 0!==Se)return Se}if("CANVAS"===G.nodeName){if(0===G.width||0===G.height)throw new Error("Given canvas must have data. Canvas width: "+G.width+", height: "+G.height);var tt;switch(J){case"PNG":tt="image/png";break;case"WEBP":tt="image/webp";break;default:tt="image/jpeg"}return Px(G.toDataURL(tt,1).split("base64,").pop())}},B=function(G){var J=this.internal.collections[n+"images"];if(J)for(var Ee in J)if(G===J[Ee].alias)return J[Ee]},D=function(G,J,Ee){return G||J||(G=-96,J=-96),G<0&&(G=-1*Ee.width*72/G/this.internal.scaleFactor),J<0&&(J=-1*Ee.height*72/J/this.internal.scaleFactor),0===G&&(G=J*Ee.width/Ee.height),0===J&&(J=G*Ee.height/Ee.width),[G,J]},I=function(G,J,Ee,Se,tt,Le){var ze=D.call(this,Ee,Se,tt),Ue=this.internal.getCoordinateString,et=this.internal.getVerticalCoordinateString,Qt=u.call(this);if(Ee=ze[0],Se=ze[1],Qt[tt.index]=tt,Le){Le*=Math.PI/180;var kt=Math.cos(Le),W=Math.sin(Le),pe=function(Qe){return Qe.toFixed(4)},ye=[pe(kt),pe(W),pe(-1*W),pe(kt),0,0,"cm"]}this.internal.write("q"),Le?(this.internal.write([1,"0","0",1,Ue(G),et(J+Se),"cm"].join(" ")),this.internal.write(ye.join(" ")),this.internal.write([Ue(Ee),"0","0",Ue(Se),"0","0","cm"].join(" "))):this.internal.write([Ue(Ee),"0","0",Ue(Se),Ue(G),et(J+Se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+tt.index+" Do"),this.internal.write("Q")},F=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},H=t.__addimage__.sHashCode=function(G){var J,Ee,Se=0;if("string"==typeof G)for(Ee=G.length,J=0;J<Ee;J++)Se=(Se<<5)-Se+G.charCodeAt(J),Se|=0;else if(be(G))for(Ee=G.byteLength/2,J=0;J<Ee;J++)Se=(Se<<5)-Se+G[J],Se|=0;return Se},z=t.__addimage__.validateStringAsBase64=function(G){(G=G||"").toString().trim();var J=!0;return 0===G.length&&(J=!1),G.length%4!=0&&(J=!1),!1===/^[A-Za-z0-9+/]+$/.test(G.substr(0,G.length-2))&&(J=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(G.substr(-2))&&(J=!1),J},ie=t.__addimage__.extractImageFromDataUrl=function(G){if(null==G||!(G=G.trim()).startsWith("data:"))return null;var J=G.indexOf(",");return J<0?null:G.substring(0,J).trim().endsWith("base64")?G.substring(J+1):null};t.__addimage__.isArrayBuffer=function(G){return G instanceof ArrayBuffer};var be=t.__addimage__.isArrayBufferView=function(G){return G instanceof Int8Array||G instanceof Uint8Array||G instanceof Uint8ClampedArray||G instanceof Int16Array||G instanceof Uint16Array||G instanceof Int32Array||G instanceof Uint32Array||G instanceof Float32Array||G instanceof Float64Array},Be=t.__addimage__.binaryStringToUint8Array=function(G){for(var J=G.length,Ee=new Uint8Array(J),Se=0;Se<J;Se++)Ee[Se]=G.charCodeAt(Se);return Ee},se=t.__addimage__.arrayBufferToBinaryString=function(G){for(var J="",Ee=be(G)?G:new Uint8Array(G),Se=0;Se<Ee.length;Se+=8192)J+=String.fromCharCode.apply(null,Ee.subarray(Se,Se+8192));return J};t.addImage=function(){var G,J,Ee,Se,tt,Le,ze,Ue,et;if("number"==typeof arguments[1]?(J=e,Ee=arguments[1],Se=arguments[2],tt=arguments[3],Le=arguments[4],ze=arguments[5],Ue=arguments[6],et=arguments[7]):(J=arguments[1],Ee=arguments[2],Se=arguments[3],tt=arguments[4],Le=arguments[5],ze=arguments[6],Ue=arguments[7],et=arguments[8]),"object"===Zr(G=arguments[0])&&!y(G)&&"imageData"in G){var Qt=G;G=Qt.imageData,J=Qt.format||J||e,Ee=Qt.x||Ee||0,Se=Qt.y||Se||0,tt=Qt.w||Qt.width||tt,Le=Qt.h||Qt.height||Le,ze=Qt.alias||ze,Ue=Qt.compression||Ue,et=Qt.rotation||Qt.angle||et}var kt=this.internal.getFilters();if(void 0===Ue&&-1!==kt.indexOf("FlateEncode")&&(Ue="SLOW"),isNaN(Ee)||isNaN(Se))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var W=te.call(this,G,J,ze,Ue);return I.call(this,Ee,Se,tt,Le,W,et),this};var te=function(G,J,Ee,Se){var tt,Le,ze,et;if("string"==typeof G&&r(G)===e){G=unescape(G);var Ue=Re(G,!1);(""!==Ue||void 0!==(Ue=t.loadFile(G,!0)))&&(G=Ue)}if(y(G)&&(G=m(G,J)),J=r(G,J),!g(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if((null==(ze=Ee)||0===ze.length)&&(Ee="string"==typeof(et=G)||be(et)?H(et):be(et.data)?H(et.data):null),(tt=B.call(this,Ee))||(G instanceof Uint8Array||"RGBA"===J||(Le=G,G=Be(G)),tt=this["process"+J.toUpperCase()](G,d.call(this),Ee,function(et){return et&&"string"==typeof et&&(et=et.toUpperCase()),et in t.image_compression?et:R.NONE}(Se),Le)),!tt)throw new Error("An unknown error occurred whilst processing the image.");return tt},Re=t.__addimage__.convertBase64ToBinaryString=function(G,J){J="boolean"!=typeof J||J;var Ee,Se="";if("string"==typeof G){var tt;Ee=null!==(tt=ie(G))&&void 0!==tt?tt:G;try{Se=Px(Ee)}catch(Le){if(J)throw z(Ee)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Se};t.getImageProperties=function(G){var J,Ee,Se="";if(y(G)&&(G=m(G)),"string"==typeof G&&r(G)===e&&(""===(Se=Re(G,!1))&&(Se=t.loadFile(G)||""),G=Se),Ee=r(G),!g(Ee))throw new Error("addImage does not support files of type '"+Ee+"', please ensure that a plugin for '"+Ee+"' support is added.");if(G instanceof Uint8Array||(G=Be(G)),!(J=this["process"+Ee.toUpperCase()](G)))throw new Error("An unknown error occurred whilst processing the image");return J.fileType=Ee,J}}(kn.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
t=kn.API,n=function(e){if(void 0!==e&&""!=e)return!0},kn.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(e){for(var i,r,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),u=e.pageContext.annotations,d=!1,g=0;g<u.length&&!d;g++)switch((i=u[g]).type){case"link":(n(i.options.url)||n(i.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(0!=d){this.internal.write("/Annots [");for(var y=0;y<u.length;y++){i=u[y];var m=this.internal.pdfEscape,B=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var D=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),F=this.internal.getEncryptor(D.objId),R=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+m(F(i.contents))+")",o+=" /Popup "+I.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+m(F(R))+") >>",D.content=o;var H=D.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+H,i.open&&(o+=" /Open true"),I.content=o+=" >>",this.internal.write(D.objId,"0 R",I.objId,"0 R");break;case"freetext":r="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var z=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+m(B(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",o+=" /Border [0 0 0]",this.internal.write(o+=" >>");break;case"link":if(i.options.name){var ie=this.annotations._nameMap[i.options.name];i.options.pageNumber=ie.page,i.options.top=ie.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+m(B(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var be=a(i.options.top);i.options.left=i.options.left||0,void 0===i.options.zoom&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+be+" "+i.options.zoom+"]"}""!=o&&this.internal.write(o+=" >>")}}this.internal.write("]")}}]),t.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},t.link=function(e,i,r,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(e),y:u(i),w:l(e+r),h:u(i+o)},options:s,type:"link"})},t.textWithLink=function(e,i,r,o){var s,a,l=this.getTextWidth(e),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==o.maxWidth){var d=this.splitTextToSize(e,a=o.maxWidth).length;s=Math.ceil(u*d)}else a=l,s=u;return this.text(e,i,r,o),"center"===o.align&&(i-=l/2),"right"===o.align&&(i-=l),this.link(i,(r+=.2*u)-u,a,s,o),l},t.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(D){return void 0!==n[D.charCodeAt(0)]},s=t.__arabicParser__.isArabicLetter=function(D){return"string"==typeof D&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(D)},a=t.__arabicParser__.isArabicEndLetter=function(D){return s(D)&&o(D)&&n[D.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(D){return s(D)&&r.indexOf(D.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(D){return s(D)&&o(D)&&n[D.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(D){return s(D)&&o(D)&&n[D.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(D){return s(D)&&o(D)&&n[D.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(D){return s(D)&&o(D)&&4==n[D.charCodeAt(0)].length},g=t.__arabicParser__.resolveLigatures=function(D){var I=0,F=e,R="",H=0;for(I=0;I<D.length;I+=1)void 0!==F[D.charCodeAt(I)]?(H++,"number"==typeof(F=F[D.charCodeAt(I)])&&(R+=String.fromCharCode(F),F=e,H=0),I===D.length-1&&(F=e,R+=D.charAt(I-(H-1)),I-=H-1,H=0)):(F=e,R+=D.charAt(I-H),I-=H,H=0);return R};t.__arabicParser__.isArabicDiacritic=function(D){return void 0!==D&&void 0!==i[D.charCodeAt(0)]};var y=t.__arabicParser__.getCorrectForm=function(D,I,F){return s(D)?!1===o(D)?-1:!u(D)||!s(I)&&!s(F)||!s(F)&&a(I)||a(D)&&!s(I)||a(D)&&l(I)||a(D)&&a(I)?0:d(D)&&s(I)&&!a(I)&&s(F)&&u(F)?3:a(D)||!s(F)?1:2:-1},m=function(D){var I=0,F=0,R=0,H="",z="",ie="",be=(D=D||"").split("\\s+"),Be=[];for(I=0;I<be.length;I+=1){for(Be.push(""),F=0;F<be[I].length;F+=1)z=be[I][F-1],ie=be[I][F+1],s(H=be[I][F])?(R=y(H,z,ie),Be[I]+=-1!==R?String.fromCharCode(n[H.charCodeAt(0)][R]):H):Be[I]+=H;Be[I]=g(Be[I])}return Be.join(" ")},B=t.__arabicParser__.processArabic=t.processArabic=function(){var D,I="string"==typeof arguments[0]?arguments[0]:arguments[0].text,F=[];if(Array.isArray(I)){var R=0;for(F=[],R=0;R<I.length;R+=1)Array.isArray(I[R])?F.push([m(I[R][0]),I[R][1],I[R][2]]):F.push([m(I[R])]);D=F}else D=m(I);return"string"==typeof arguments[0]?D:(arguments[0].text=D,arguments[0])};t.events.push(["preProcessText",B])}(kn.API),kn.API.autoPrint=function(t){var n;return(t=t||{}).variant=t.variant||"non-conform","javascript"===t.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var n=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(a){e=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(e,i){var r;if("2d"!==(e=e||"2d"))return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(kn.API),function(t){var n={left:0,top:0,bottom:0,right:0},e=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(D){l=D}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(D){u=D}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(D){d=D}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(D){g=D}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(D){y=D}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(D){m=D}});var B=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return B},set:function(D){B=D}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof l?l:void 0,this},t.getTextDimensions=function(l,u){i.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),g=u.font||this.getFont(),y=u.scaleFactor||this.internal.scaleFactor,m=0,B=0,D=0,I=this;if(!Array.isArray(l)&&"string"!=typeof l){if("number"!=typeof l)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var F=u.maxWidth;F>0?"string"==typeof l?l=this.splitTextToSize(l,F):"[object Array]"===Object.prototype.toString.call(l)&&(l=l.reduce(function(H,z){return H.concat(I.splitTextToSize(z,F))},[])):l=Array.isArray(l)?l:[l];for(var R=0;R<l.length;R++)m<(D=this.getStringUnitWidth(l[R],{font:g})*d)&&(m=D);return 0!==m&&(B=l.length),{w:m/=y,h:Math.max((B*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,g=this.internal.__cell__.margins||n,y=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return void 0!==u.lineNumber&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,m&&y&&(this.printHeaderRow(l.lineNumber,!0),l.y+=y[0].height)):l.y=u.y+u.height||l.y),void 0!==l.text[0]&&(this.rect(l.x,l.y,l.width,l.height,!0===e?"FD":void 0),"right"===l.align?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):"center"===l.align?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,d,g,y){if(i.call(this),!d)throw new Error("No data for PDF table.");var m,B,D,I,F=[],R=[],H=[],z={},ie={},be=[],Be=[],se=(y=y||{}).autoSize||!1,te=!1!==y.printHeaders,Re=y.css&&void 0!==y.css["font-size"]?16*y.css["font-size"]:y.fontSize||12,G=y.margins||Object.assign({width:this.getPageWidth()},n),J="number"==typeof y.padding?y.padding:3,Ee=y.headerBackgroundColor||"#c8c8c8",Se=y.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=te,this.internal.__cell__.margins=G,this.internal.__cell__.table_font_size=Re,this.internal.__cell__.padding=J,this.internal.__cell__.headerBackgroundColor=Ee,this.internal.__cell__.headerTextColor=Se,this.setFontSize(Re),null==g)R=F=Object.keys(d[0]),H=F.map(function(){return"left"});else if(Array.isArray(g)&&"object"===Zr(g[0]))for(F=g.map(function(Qt){return Qt.name}),R=g.map(function(Qt){return Qt.prompt||Qt.name||""}),H=g.map(function(Qt){return Qt.align||"left"}),m=0;m<g.length;m+=1)ie[g[m].name]=.7499990551181103*g[m].width;else Array.isArray(g)&&"string"==typeof g[0]&&(R=F=g,H=F.map(function(){return"left"}));if(se||Array.isArray(g)&&"string"==typeof g[0])for(m=0;m<F.length;m+=1){for(z[I=F[m]]=d.map(function(Qt){return Qt[I]}),this.setFont(void 0,"bold"),be.push(this.getTextDimensions(R[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),B=z[I],this.setFont(void 0,"normal"),D=0;D<B.length;D+=1)be.push(this.getTextDimensions(B[D],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ie[I]=Math.max.apply(null,be)+J+J,be=[]}if(te){var tt={};for(m=0;m<F.length;m+=1)tt[F[m]]={},tt[F[m]].text=R[m],tt[F[m]].align=H[m];var Le=a.call(this,tt,ie);Be=F.map(function(Qt){return new o(l,u,ie[Qt],Le,tt[Qt].text,void 0,tt[Qt].align)}),this.setTableHeaderRow(Be),this.printHeaderRow(1,!1)}var ze=g.reduce(function(Qt,kt){return Qt[kt.name]=kt.align,Qt},{});for(m=0;m<d.length;m+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:m,data:d[m]},this);var Ue=a.call(this,d[m],ie);for(D=0;D<F.length;D+=1){var et=d[m][F[D]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:m,col:D,data:et},this),s.call(this,new o(l,u,ie[F[D]],Ue,et,m+2,ze[F[D]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var d=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(l).map(function(m){var B=l[m];return this.splitTextToSize(B.hasOwnProperty("text")?B.text:B,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/y+d+d},this).reduce(function(m,B){return Math.max(m,B)},0)};t.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(e=!0,"function"==typeof this.internal.__cell__.headerFunction){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,y.push(d)),d.lineNumber=l;var B=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(B)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),e=!1}}(kn.API);var kQ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},FQ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],oP=OQ(FQ),TQ=[100,200,300,400,500,600,700,800,900],vde=OQ(TQ);function sP(t){var o,n=t.family.replace(/"|'/g,"").toLowerCase(),e=kQ[o=(o=t.style)||"normal"]?o:"normal",i=function(o){return o?"number"==typeof o?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):"bold"===o?700:400:400}(t.weight),r=function(o){return"number"==typeof oP[o=o||"normal"]?o:"normal"}(t.stretch);return{family:n,style:e,weight:i,stretch:r,src:t.src||[],ref:t.ref||{name:n,style:[r,e,i].join(" ")}}}function LQ(t,n,e,i){var r;for(r=e;r>=0&&r<n.length;r+=i)if(t[n[r]])return t[n[r]];for(r=e;r>=0&&r<n.length;r-=i)if(t[n[r]])return t[n[r]]}var _de={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},NQ={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function RQ(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function UQ(t){return t.trimLeft()}function yde(t,n){for(var e=0;e<t.length;){if(t.charAt(e)===n)return[t.substring(0,e),t.substring(e+1)];e+=1}return null}function bde(t){var n=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===n?null:[n[0],t.substring(n[0].length)]}var S1,Qx,QQ,HQ,zQ,aP=["times"];function VQ(t,n,e,i,r){var o=4,s=GQ;switch(r){case kn.API.image_compression.FAST:o=1,s=jQ;break;case kn.API.image_compression.MEDIUM:o=6,s=KQ;break;case kn.API.image_compression.SLOW:o=9,s=WQ}var a=Ey(t=function(l,u,d,g){for(var y,m=l.length/u,B=new Uint8Array(l.length+m),D=[wde,jQ,GQ,KQ,WQ],I=0;I<m;I+=1){var F=I*u,R=l.subarray(F,F+u);if(g)B.set(g(R,d,y),F+I);else{for(var H=D.length,z=[],ie=0;ie<H;ie+=1)z[ie]=D[ie](R,d,y);var be=xde(z.concat());B.set(z[be],F+I)}y=R}return B}(t,n,Math.ceil(e*i/8),s),{level:o});return kn.API.__addimage__.arrayBufferToBinaryString(a)}function wde(t){var n=Array.apply([],t);return n.unshift(0),n}function jQ(t,n){var e=t.length,i=[];i[0]=1;for(var r=0;r<e;r+=1)i[r+1]=t[r]-(t[r-n]||0)+256&255;return i}function GQ(t,n,e){var i=t.length,r=[];r[0]=2;for(var o=0;o<i;o+=1)r[o+1]=t[o]-(e&&e[o]||0)+256&255;return r}function KQ(t,n,e){var i=t.length,r=[];r[0]=3;for(var o=0;o<i;o+=1)r[o+1]=t[o]+256-((t[o-n]||0)+(e&&e[o]||0)>>>1)&255;return r}function WQ(t,n,e){var i=t.length,r=[];r[0]=4;for(var o=0;o<i;o+=1){var s=Cde(t[o-n]||0,e&&e[o]||0,e&&e[o-n]||0);r[o+1]=t[o]-s+256&255}return r}function Cde(t,n,e){if(t===n&&n===e)return t;var i=Math.abs(n-e),r=Math.abs(t-e),o=Math.abs(t+n-e-e);return i<=r&&i<=o?t:r<=o?n:e}function xde(t){var n=t.map(function(e){return e.reduce(function(i,r){return i+Math.abs(r)},0)});return n.indexOf(Math.min.apply(null,n))}function lP(t,n,e){var i=n*e,r=Math.floor(i/8),o=16-(i-8*r+e),s=(1<<e)-1;return qQ(t,r)>>o&s}function $Q(t,n,e,i){var u,d,g,r=e*i,o=Math.floor(r/8),s=16-(r-8*o+i),a=(1<<i)-1,l=(n&a)<<s;u=t,d=o,g=qQ(t,o)&~(a<<s)&65535|l,d+1<u.byteLength?u.setUint16(d,g,!1):u.setUint8(d,g>>8&255)}function qQ(t,n){return n+1<t.byteLength?t.getUint16(n,!1):t.getUint8(n)<<8}function Mde(t){var n=0;if(71!==t[n++]||73!==t[n++]||70!==t[n++]||56!==t[n++]||56!=(t[n++]+1&253)||97!==t[n++])throw new Error("Invalid GIF 87a/89a header.");var e=t[n++]|t[n++]<<8,i=t[n++]|t[n++]<<8,r=t[n++],s=1<<1+(7&r);n++,n++;var a=null,l=null;r>>7&&(a=n,l=s,n+=3*s);var u=!0,d=[],g=0,y=null,m=0,B=null;for(this.width=e,this.height=i;u&&n<t.length;)switch(t[n++]){case 33:switch(t[n++]){case 255:if(11!==t[n]||78==t[n+1]&&69==t[n+2]&&84==t[n+3]&&83==t[n+4]&&67==t[n+5]&&65==t[n+6]&&80==t[n+7]&&69==t[n+8]&&50==t[n+9]&&46==t[n+10]&&48==t[n+11]&&3==t[n+12]&&1==t[n+13]&&0==t[n+16])n+=14,B=t[n++]|t[n++]<<8,n++;else for(n+=12;;){if(!((G=t[n++])>=0))throw Error("Invalid block size");if(0===G)break;n+=G}break;case 249:if(4!==t[n++]||0!==t[n+4])throw new Error("Invalid graphics extension block.");var D=t[n++];g=t[n++]|t[n++]<<8,y=t[n++],1&D||(y=null),m=D>>2&7,n++;break;case 254:for(;;){if(!((G=t[n++])>=0))throw Error("Invalid block size");if(0===G)break;n+=G}break;default:throw new Error("Unknown graphic control label: 0x"+t[n-1].toString(16))}break;case 44:var I=t[n++]|t[n++]<<8,F=t[n++]|t[n++]<<8,R=t[n++]|t[n++]<<8,H=t[n++]|t[n++]<<8,z=t[n++],ie=z>>6&1,be=1<<1+(7&z),Be=a,se=l,te=!1;z>>7&&(te=!0,Be=n,se=be,n+=3*be);var Re=n;for(n++;;){var G;if(!((G=t[n++])>=0))throw Error("Invalid block size");if(0===G)break;n+=G}d.push({x:I,y:F,width:R,height:H,has_local_palette:te,palette_offset:Be,palette_size:se,data_offset:Re,data_length:n-Re,transparent_index:y,interlaced:!!ie,delay:g,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[n-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return B},this.frameInfo=function(J){if(J<0||J>=d.length)throw new Error("Frame index out of range.");return d[J]},this.decodeAndBlitFrameBGRA=function(J,Ee){var Se=this.frameInfo(J),tt=Se.width*Se.height,Le=new Uint8Array(tt);ZQ(t,Se.data_offset,Le,tt);var ze=Se.palette_offset,Ue=Se.transparent_index;null===Ue&&(Ue=256);var et=Se.width,Qt=e-et,kt=et,W=4*(Se.y*e+Se.x),pe=4*((Se.y+Se.height)*e+Se.x),ye=W,Qe=4*Qt;!0===Se.interlaced&&(Qe+=4*e*7);for(var $e=8,rt=0,yt=Le.length;rt<yt;++rt){var _t=Le[rt];if(0===kt&&(kt=et,(ye+=Qe)>=pe&&(Qe=4*Qt+4*e*($e-1),ye=W+(et+Qt)*($e<<1),$e>>=1)),_t===Ue)ye+=4;else{var Tt=t[ze+3*_t],Xt=t[ze+3*_t+1];Ee[ye++]=t[ze+3*_t+2],Ee[ye++]=Xt,Ee[ye++]=Tt,Ee[ye++]=255}--kt}},this.decodeAndBlitFrameRGBA=function(J,Ee){var Se=this.frameInfo(J),tt=Se.width*Se.height,Le=new Uint8Array(tt);ZQ(t,Se.data_offset,Le,tt);var ze=Se.palette_offset,Ue=Se.transparent_index;null===Ue&&(Ue=256);var et=Se.width,Qt=e-et,kt=et,W=4*(Se.y*e+Se.x),pe=4*((Se.y+Se.height)*e+Se.x),ye=W,Qe=4*Qt;!0===Se.interlaced&&(Qe+=4*e*7);for(var $e=8,rt=0,yt=Le.length;rt<yt;++rt){var _t=Le[rt];if(0===kt&&(kt=et,(ye+=Qe)>=pe&&(Qe=4*Qt+4*e*($e-1),ye=W+(et+Qt)*($e<<1),$e>>=1)),_t===Ue)ye+=4;else{var Xt=t[ze+3*_t+1],vn=t[ze+3*_t+2];Ee[ye++]=t[ze+3*_t],Ee[ye++]=Xt,Ee[ye++]=vn,Ee[ye++]=255}--kt}}}function ZQ(t,n,e,i){for(var r=t[n++],o=1<<r,s=o+1,a=s+1,l=r+1,u=(1<<l)-1,d=0,g=0,y=0,m=t[n++],B=new Int32Array(4096),D=null;;){for(;d<16&&0!==m;)g|=t[n++]<<d,d+=8,1===m?m=t[n++]:--m;if(d<l)break;var I=g&u;if(g>>=l,d-=l,I!==o){if(I===s)break;for(var F=I<a?I:D,R=0,H=F;H>o;)H=B[H]>>8,++R;var z=H;if(y+R+(F!==I?1:0)>i)return void so.log("Warning, gif stream longer than expected.");e[y++]=z;var ie=y+=R;for(F!==I&&(e[y++]=z),H=F;R--;)e[--ie]=255&(H=B[H]),H>>=8;null!==D&&a<4096&&(B[a++]=D<<8|z,a>=u+1&&l<12&&(++l,u=u<<1|1)),D=I}else a=s+1,u=(1<<(l=r+1))-1,D=null}return y!==i&&so.log("Warning, gif stream shorter than expected."),e}function cP(t){var n,e,i,r,o,s=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),g=new Array(65535),y=new Array(65535),m=new Array(64),B=new Array(64),D=[],I=0,F=7,R=new Array(64),H=new Array(64),z=new Array(64),ie=new Array(256),be=new Array(2048),Be=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],se=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],Re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],G=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],J=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ee=[0,1,2,3,4,5,6,7,8,9,10,11],Se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],tt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Le(W,pe){for(var ye=0,Qe=0,$e=new Array,rt=1;rt<=16;rt++){for(var yt=1;yt<=W[rt];yt++)$e[pe[Qe]]=[],$e[pe[Qe]][0]=ye,$e[pe[Qe]][1]=rt,Qe++,ye++;ye*=2}return $e}function ze(W){for(var pe=W[0],ye=W[1]-1;ye>=0;)pe&1<<ye&&(I|=1<<F),ye--,--F<0&&(255==I?(Ue(255),Ue(0)):Ue(I),F=7,I=0)}function Ue(W){D.push(W)}function et(W){Ue(W>>8&255),Ue(255&W)}function Qt(W,pe,ye,Qe,$e){for(var rt,yt=$e[0],_t=$e[240],Tt=function(Yt,ai){var On,oi,Jn,Qr,dr,Li,vr,hr,Qn,Vi,$n=0;for(Qn=0;Qn<8;++Qn){var fs=(On=Yt[$n])+(hr=Yt[$n+7]),Dr=On-hr,nr=(oi=Yt[$n+1])+(vr=Yt[$n+6]),ir=oi-vr,To=(Jn=Yt[$n+2])+(Li=Yt[$n+5]),ni=Jn-Li,go=(Qr=Yt[$n+3])+(dr=Yt[$n+4]),fi=Qr-dr,Ni=fs+go,Lo=fs-go,or=nr+To,Ai=nr-To;Yt[$n]=Ni+or,Yt[$n+4]=Ni-or;var Hr=.707106781*(Ai+Lo);Yt[$n+2]=Lo+Hr,Yt[$n+6]=Lo-Hr;var Ug=.382683433*((Ni=fi+ni)-(Ai=ir+Dr)),qa=.5411961*Ni+Ug,nh=1.306562965*Ai+Ug,VA=.707106781*(or=ni+ir),di=Dr+VA,ih=Dr-VA;Yt[$n+5]=ih+qa,Yt[$n+3]=ih-qa,Yt[$n+1]=di+nh,Yt[$n+7]=di-nh,$n+=8}for($n=0,Qn=0;Qn<8;++Qn){var rh=(On=Yt[$n])+(hr=Yt[$n+56]),Jc=On-hr,eu=(oi=Yt[$n+8])+(vr=Yt[$n+48]),Zo=oi-vr,la=(Jn=Yt[$n+16])+(Li=Yt[$n+40]),xa=Jn-Li,Qg=(Qr=Yt[$n+24])+(dr=Yt[$n+32]),Kf=Qr-dr,Gu=rh+Qg,jA=rh-Qg,Ku=eu+la,Wu=eu-la;Yt[$n]=Gu+Ku,Yt[$n+32]=Gu-Ku;var tu=.707106781*(Wu+jA);Yt[$n+16]=jA+tu,Yt[$n+48]=jA-tu;var Hg=.382683433*((Gu=Kf+xa)-(Wu=Zo+Jc)),GA=.5411961*Gu+Hg,zg=1.306562965*Wu+Hg,N1=.707106781*(Ku=xa+Zo),R1=Jc+N1,U1=Jc-N1;Yt[$n+40]=U1+GA,Yt[$n+24]=U1-GA,Yt[$n+8]=R1+zg,Yt[$n+56]=R1-zg,$n++}for(Qn=0;Qn<64;++Qn)m[Qn]=(Vi=Yt[Qn]*ai[Qn])>0?Vi+.5|0:Vi-.5|0;return m}(W,pe),Xt=0;Xt<64;++Xt)B[Be[Xt]]=Tt[Xt];var vn=B[0]-ye;ye=B[0],0==vn?ze(Qe[0]):(ze(Qe[y[rt=32767+vn]]),ze(g[rt]));for(var gn=63;gn>0&&0==B[gn];)gn--;if(0==gn)return ze(yt),ye;for(var qn,Ae=1;Ae<=gn;){for(var _n=Ae;0==B[Ae]&&Ae<=gn;)++Ae;var Zi=Ae-_n;if(Zi>=16){qn=Zi>>4;for(var si=1;si<=qn;++si)ze(_t);Zi&=15}ze($e[(Zi<<4)+y[rt=32767+B[Ae]]]),ze(g[rt]),Ae++}return 63!=gn&&ze(yt),ye}function kt(W){W=Math.min(Math.max(W,1),100),o!=W&&(function(pe){for(var ye=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Qe=0;Qe<64;Qe++){var $e=s((ye[Qe]*pe+50)/100);$e=Math.min(Math.max($e,1),255),a[Be[Qe]]=$e}for(var rt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],yt=0;yt<64;yt++){var _t=s((rt[yt]*pe+50)/100);_t=Math.min(Math.max(_t,1),255),l[Be[yt]]=_t}for(var Tt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xt=0,vn=0;vn<8;vn++)for(var gn=0;gn<8;gn++)u[Xt]=1/(a[Be[Xt]]*Tt[vn]*Tt[gn]*8),d[Xt]=1/(l[Be[Xt]]*Tt[vn]*Tt[gn]*8),Xt++}(W<50?Math.floor(5e3/W):Math.floor(200-2*W)),o=W)}this.encode=function(W,pe){var oi,Jn;pe&&kt(pe),D=new Array,I=0,F=7,et(65496),et(65504),et(16),Ue(74),Ue(70),Ue(73),Ue(70),Ue(0),Ue(1),Ue(1),Ue(0),et(1),et(1),Ue(0),Ue(0),function(){et(65499),et(132),Ue(0);for(var oi=0;oi<64;oi++)Ue(a[oi]);Ue(1);for(var Jn=0;Jn<64;Jn++)Ue(l[Jn])}(),oi=W.width,Jn=W.height,et(65472),et(17),Ue(8),et(Jn),et(oi),Ue(3),Ue(1),Ue(17),Ue(0),Ue(2),Ue(17),Ue(1),Ue(3),Ue(17),Ue(1),function(){et(65476),et(418),Ue(0);for(var oi=0;oi<16;oi++)Ue(se[oi+1]);for(var Jn=0;Jn<=11;Jn++)Ue(te[Jn]);Ue(16);for(var Qr=0;Qr<16;Qr++)Ue(Re[Qr+1]);for(var dr=0;dr<=161;dr++)Ue(G[dr]);Ue(1);for(var Li=0;Li<16;Li++)Ue(J[Li+1]);for(var vr=0;vr<=11;vr++)Ue(Ee[vr]);Ue(17);for(var hr=0;hr<16;hr++)Ue(Se[hr+1]);for(var Qn=0;Qn<=161;Qn++)Ue(tt[Qn])}(),et(65498),et(12),Ue(3),Ue(1),Ue(0),Ue(2),Ue(17),Ue(3),Ue(17),Ue(0),Ue(63),Ue(0);var ye=0,Qe=0,$e=0;I=0,F=7,this.encode.displayName="_encode_";for(var rt,yt,_t,Tt,Xt,vn,gn,qn,Ae,_n=W.data,si=W.height,Yt=4*W.width,ai=0;ai<si;){for(rt=0;rt<Yt;){for(Xt=Yt*ai+rt,gn=-1,qn=0,Ae=0;Ae<64;Ae++)vn=Xt+(qn=Ae>>3)*Yt+(gn=4*(7&Ae)),ai+qn>=si&&(vn-=Yt*(ai+1+qn-si)),rt+gn>=Yt&&(vn-=rt+gn-Yt+4),yt=_n[vn++],_t=_n[vn++],Tt=_n[vn++],R[Ae]=(be[yt]+be[_t+256|0]+be[Tt+512|0]>>16)-128,H[Ae]=(be[yt+768|0]+be[_t+1024|0]+be[Tt+1280|0]>>16)-128,z[Ae]=(be[yt+1280|0]+be[_t+1536|0]+be[Tt+1792|0]>>16)-128;ye=Qt(R,u,ye,n,i),Qe=Qt(H,d,Qe,e,r),$e=Qt(z,d,$e,e,r),rt+=32}ai+=8}if(F>=0){var On=[];On[1]=F+1,On[0]=(1<<F+1)-1,ze(On)}return et(65497),new Uint8Array(D)},t=t||50,function(){for(var W=String.fromCharCode,pe=0;pe<256;pe++)ie[pe]=W(pe)}(),n=Le(se,te),e=Le(J,Ee),i=Le(Re,G),r=Le(Se,tt),function(){for(var W=1,pe=2,ye=1;ye<=15;ye++){for(var Qe=W;Qe<pe;Qe++)y[32767+Qe]=ye,g[32767+Qe]=[],g[32767+Qe][1]=ye,g[32767+Qe][0]=Qe;for(var $e=-(pe-1);$e<=-W;$e++)y[32767+$e]=ye,g[32767+$e]=[],g[32767+$e][1]=ye,g[32767+$e][0]=pe-1+$e;W<<=1,pe<<=1}}(),function(){for(var W=0;W<256;W++)be[W]=19595*W,be[W+256|0]=38470*W,be[W+512|0]=7471*W+32768,be[W+768|0]=-11059*W,be[W+1024|0]=-21709*W,be[W+1280|0]=32768*W+8421375,be[W+1536|0]=-27439*W,be[W+1792|0]=-5329*W}(),kt(t)}function zu(t,n){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function YQ(t){function n(te){if(!te)throw Error("assert :P")}function e(te,Re,G){for(var J=0;4>J;J++)if(te[Re+J]!=G.charCodeAt(J))return!0;return!1}function i(te,Re,G,J,Ee){for(var Se=0;Se<Ee;Se++)te[Re+Se]=G[J+Se]}function r(te,Re,G,J){for(var Ee=0;Ee<J;Ee++)te[Re+Ee]=G}function o(te){return new Int32Array(te)}function s(te,Re){for(var G=[],J=0;J<te;J++)G.push(new Re);return G}function a(te,Re){var G=[];return function J(Ee,Se,tt){for(var Le=tt[Se],ze=0;ze<Le&&(Ee.push(tt.length>Se+1?[]:new Re),!(tt.length<Se+1));ze++)J(Ee[ze],Se+1,tt)}(G,0,te),G}var l=function(){var te=this;function Re(_,M){for(var k=1<<M-1>>>0;_&k;)k>>>=1;return k?(_&k-1)+k:_}function G(_,M,k,N,j){n(!(N%k));do{_[M+(N-=k)]=j}while(0<N)}function J(_,M,k,N,j){if(n(2328>=j),512>=j)var q=o(512);else if(null==(q=o(j)))return 0;return function(Y,ee,re,ge,Ke,ft){var me,Xe,ut=ee,Ot=1<<re,ht=o(16),Ft=o(16);for(n(0!=Ke),n(null!=ge),n(null!=Y),n(0<re),Xe=0;Xe<Ke;++Xe){if(15<ge[Xe])return 0;++ht[ge[Xe]]}if(ht[0]==Ke)return 0;for(Ft[1]=0,me=1;15>me;++me){if(ht[me]>1<<me)return 0;Ft[me+1]=Ft[me]+ht[me]}for(Xe=0;Xe<Ke;++Xe)me=ge[Xe],0<ge[Xe]&&(ft[Ft[me]++]=Xe);if(1==Ft[15])return(ge=new Ee).g=0,ge.value=ft[0],G(Y,ut,1,Ot,ge),Ot;var Ut,Jt=-1,Wt=Ot-1,Kn=0,Sn=1,Wi=1,Tn=1<<re;for(Xe=0,me=1,Ke=2;me<=re;++me,Ke<<=1){if(Sn+=Wi<<=1,0>(Wi-=ht[me]))return 0;for(;0<ht[me];--ht[me])(ge=new Ee).g=me,ge.value=ft[Xe++],G(Y,ut+Kn,Ke,Tn,ge),Kn=Re(Kn,me)}for(me=re+1,Ke=2;15>=me;++me,Ke<<=1){if(Sn+=Wi<<=1,0>(Wi-=ht[me]))return 0;for(;0<ht[me];--ht[me]){if(ge=new Ee,(Kn&Wt)!=Jt){for(ut+=Tn,Ut=1<<(Jt=me)-re;15>Jt&&!(0>=(Ut-=ht[Jt]));)++Jt,Ut<<=1;Ot+=Tn=1<<(Ut=Jt-re),Y[ee+(Jt=Kn&Wt)].g=Ut+re,Y[ee+Jt].value=ut-ee-Jt}ge.g=me-re,ge.value=ft[Xe++],G(Y,ut+(Kn>>re),Ke,Tn,ge),Kn=Re(Kn,me)}}return Sn!=2*Ft[15]-1?0:Ot}(_,M,k,N,j,q)}function Ee(){this.value=this.g=0}function Se(){this.value=this.g=0}function tt(){this.G=s(5,Ee),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Jg,Se)}function Le(_,M,k,N){n(null!=_),n(null!=M),n(2147483648>N),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=M,_.pa=k,_.Jd=M,_.Yc=k+N,_.Zc=4<=N?k+N-4+1:k,yt(_)}function ze(_,M){for(var k=0;0<M--;)k|=Tt(_,128)<<M;return k}function Ue(_,M){var k=ze(_,M);return _t(_)?-k:k}function et(_,M,k,N){var j,q=0;for(n(null!=_),n(null!=M),n(4294967288>N),_.Sb=N,_.Ra=0,_.u=0,_.h=0,4<N&&(N=4),j=0;j<N;++j)q+=M[k+j]<<8*j;_.Ra=q,_.bb=N,_.oa=M,_.pa=k}function Qt(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Zf-8>>>0,++_.bb,_.u-=8;Qe(_)&&(_.h=1,_.u=0)}function kt(_,M){if(n(0<=M),!_.h&&M<=wc){var k=ye(_)&bc[M];return _.u+=M,Qt(_),k}return _.h=1,_.u=0}function W(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function pe(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ye(_){return _.Ra>>>(_.u&Zf-1)>>>0}function Qe(_){return n(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Zf}function $e(_,M){_.u=M,_.h=Qe(_)}function rt(_){_.u>=ph&&(n(_.u>=ph),Qt(_))}function yt(_){n(null!=_&&null!=_.oa),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(n(null!=_&&null!=_.oa),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function _t(_){return ze(_,1)}function Tt(_,M){var k=_.Ca;0>_.b&&yt(_);var N=_.b,j=k*M>>>8,q=(_.I>>>N>j)+0;for(q?(k-=j,_.I-=j+1<<N>>>0):k=j+1,N=k,j=0;256<=N;)j+=8,N>>=8;return _.b-=N=7^j+Yf[N],_.Ca=(k<<N)-1,q}function Xt(_,M,k){_[M+0]=k>>24&255,_[M+1]=k>>16&255,_[M+2]=k>>8&255,_[M+3]=255&k}function vn(_,M){return _[M+0]|_[M+1]<<8}function gn(_,M){return vn(_,M)|_[M+2]<<16}function qn(_,M){return vn(_,M)|vn(_,M+2)<<16}function Ae(_,M){var k=1<<M;return n(null!=_),n(0<M),_.X=o(k),null==_.X?0:(_.Mb=32-M,_.Xa=M,1)}function _n(_,M){n(null!=_),n(null!=M),n(_.Xa==M.Xa),i(M.X,0,_.X,0,1<<M.Xa)}function Zi(){this.X=[],this.Xa=this.Mb=0}function si(_,M,k,N){n(null!=k),n(null!=N);var j=k[0],q=N[0];return 0==j&&(j=(_*q+M/2)/M),0==q&&(q=(M*j+_/2)/_),0>=j||0>=q?0:(k[0]=j,N[0]=q,1)}function Yt(_,M){return _+(1<<M)-1>>>M}function ai(_,M){return((4278255360&_)+(4278255360&M)>>>0&4278255360)+((16711935&_)+(16711935&M)>>>0&16711935)>>>0}function On(_,M){te[M]=function(k,N,j,q,Y,ee,re){var ge;for(ge=0;ge<Y;++ge){var Ke=te[_](ee[re+ge-1],j,q+ge);ee[re+ge]=ai(k[N+ge],Ke)}}}function oi(){this.ud=this.hd=this.jd=0}function Jn(_,M){return((4278124286&(_^M))>>>1)+(_&M)>>>0}function Qr(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function dr(_,M){return Qr(_+(_-M+.5>>1))}function Li(_,M,k){return Math.abs(M-k)-Math.abs(_-k)}function vr(_,M,k,N,j,q,Y){for(N=q[Y-1],k=0;k<j;++k)q[Y+k]=N=ai(_[M+k],N)}function hr(_,M,k,N,j){var q;for(q=0;q<k;++q){var Y=_[M+q],ee=Y>>8&255,re=16711935&(re=(re=16711935&Y)+((ee<<16)+ee));N[j+q]=(4278255360&Y)+re>>>0}}function Qn(_,M){M.jd=255&_,M.hd=_>>8&255,M.ud=_>>16&255}function Vi(_,M,k,N,j,q){var Y;for(Y=0;Y<N;++Y){var ee=M[k+Y],re=ee>>>8,ge=ee,Ke=255&(Ke=(Ke=ee>>>16)+((_.jd<<24>>24)*(re<<24>>24)>>>5));ge=255&(ge=(ge+=(_.hd<<24>>24)*(re<<24>>24)>>>5)+((_.ud<<24>>24)*(Ke<<24>>24)>>>5)),j[q+Y]=(4278255360&ee)+(Ke<<16)+ge}}function $n(_,M,k,N,j){te[M]=function(q,Y,ee,re,ge,Ke,ft,me,Xe){for(re=ft;re<me;++re)for(ft=0;ft<Xe;++ft)ge[Ke++]=j(ee[N(q[Y++])])},te[_]=function(q,Y,ee,re,ge,Ke,ft){var me=8>>q.b,Xe=q.Ea,ut=q.K[0],Ot=q.w;if(8>me)for(q=(1<<q.b)-1,Ot=(1<<me)-1;Y<ee;++Y){var ht,Ft=0;for(ht=0;ht<Xe;++ht)ht&q||(Ft=N(re[ge++])),Ke[ft++]=j(ut[Ft&Ot]),Ft>>=me}else te["VP8LMapColor"+k](re,ge,ut,Ot,Ke,ft,Y,ee,Xe)}}function fs(_,M,k,N,j){for(k=M+k;M<k;){var q=_[M++];N[j++]=q>>16&255,N[j++]=q>>8&255,N[j++]=255&q}}function Dr(_,M,k,N,j){for(k=M+k;M<k;){var q=_[M++];N[j++]=q>>16&255,N[j++]=q>>8&255,N[j++]=255&q,N[j++]=q>>24&255}}function nr(_,M,k,N,j){for(k=M+k;M<k;){var q=(Y=_[M++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;N[j++]=q,N[j++]=Y}}function ir(_,M,k,N,j){for(k=M+k;M<k;){var q=(Y=_[M++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;N[j++]=q,N[j++]=Y}}function To(_,M,k,N,j){for(k=M+k;M<k;){var q=_[M++];N[j++]=255&q,N[j++]=q>>8&255,N[j++]=q>>16&255}}function ni(_,M,k,N,j,q){if(0==q)for(k=M+k;M<k;)Xt(N,((q=_[M++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),j+=32;else i(N,j,_,M,k)}function go(_,M){te[M][0]=te[_+"0"],te[M][1]=te[_+"1"],te[M][2]=te[_+"2"],te[M][3]=te[_+"3"],te[M][4]=te[_+"4"],te[M][5]=te[_+"5"],te[M][6]=te[_+"6"],te[M][7]=te[_+"7"],te[M][8]=te[_+"8"],te[M][9]=te[_+"9"],te[M][10]=te[_+"10"],te[M][11]=te[_+"11"],te[M][12]=te[_+"12"],te[M][13]=te[_+"13"],te[M][14]=te[_+"0"],te[M][15]=te[_+"0"]}function fi(_){return _==y3||_==b3||_==z5||_==w3}function Ni(){this.eb=[],this.size=this.A=this.fb=0}function Lo(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function or(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ni,this.f.kb=new Lo,this.sd=null}function Ai(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Hr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ug(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function qa(_,M){var k=_.T,N=M.ba.f.RGBA,j=N.eb,q=N.fb+_.ka*N.A,Y=au[M.ba.S],ee=_.y,re=_.O,ge=_.f,Ke=_.N,ft=_.ea,me=_.W,Xe=M.cc,ut=M.dc,Ot=M.Mc,ht=M.Nc,Ft=_.ka,Ut=_.ka+_.T,Jt=_.U,Wt=Jt+1>>1;for(0==Ft?Y(ee,re,null,null,ge,Ke,ft,me,ge,Ke,ft,me,j,q,null,null,Jt):(Y(M.ec,M.fc,ee,re,Xe,ut,Ot,ht,ge,Ke,ft,me,j,q-N.A,j,q,Jt),++k);Ft+2<Ut;Ft+=2)Y(ee,(re+=2*_.fa)-_.fa,ee,re,Xe=ge,ut=Ke,Ot=ft,ht=me,ge,Ke+=_.Rc,ft,me+=_.Rc,j,(q+=2*N.A)-N.A,j,q,Jt);return re+=_.fa,_.j+Ut<_.o?(i(M.ec,M.fc,ee,re,Jt),i(M.cc,M.dc,ge,Ke,Wt),i(M.Mc,M.Nc,ft,me,Wt),k--):1&Ut||Y(ee,re,null,null,ge,Ke,ft,me,ge,Ke,ft,me,j,q+N.A,null,null,Jt),k}function nh(_,M,k){var N=_.F,j=[_.J];if(null!=N){var q=_.U,Y=M.ba.S,ee=Y==H5||Y==z5;M=M.ba.f.RGBA;var re=[0],ge=_.ka;re[0]=_.T,_.Kb&&(0==ge?--re[0]:(--ge,j[0]-=_.width),_.j+_.ka+_.T==_.o&&(re[0]=_.o-_.j-ge));var Ke=M.eb;_=Qz(N,j[0],_.width,q,re,Ke,(ge=M.fb+ge*M.A)+(ee?0:3),M.A),n(k==re),_&&fi(Y)&&Hb(Ke,ge,ee,q,re,M.A)}return 0}function VA(_){var M=_.ma,k=M.ba.S,N=11>k,j=k==U5||k==Q5||k==H5||k==_3||12==k||fi(k);if(M.memory=null,M.Ib=null,M.Jb=null,M.Nd=null,!kb(M.Oa,_,j?11:12))return 0;if(j&&fi(k)&&Pb(),_.da)alert("todo:use_scaling");else{if(N){if(M.Ib=Ug,_.Kb){if(M.memory=o(_.U+2*(k=_.U+1>>1)),null==M.memory)return 0;M.ec=M.memory,M.fc=0,M.cc=M.ec,M.dc=M.fc+_.U,M.Mc=M.cc,M.Nc=M.dc+k,M.Ib=qa,Pb()}}else alert("todo:EmitYUV");j&&(M.Jb=nh,N&&qu())}if(N&&!iV){for(_=0;256>_;++_)N_e[_]=89858*(_-128)+j5>>V5,Q_e[_]=-22014*(_-128)+j5,U_e[_]=-45773*(_-128),R_e[_]=113618*(_-128)+j5>>V5;for(_=Vb;_<M3;++_)H_e[_-Vb]=KA(M=76283*(_-16)+j5>>V5,255),z_e[_-Vb]=KA(M+8>>4,15);iV=1}return 1}function di(_){var M=_.ma,k=_.U,N=_.T;return n(!(1&_.ka)),0>=k||0>=N?0:(k=M.Ib(_,M),null!=M.Jb&&M.Jb(_,M,k),M.Dc+=k,1)}function ih(_){_.ma.memory=null}function rh(_,M,k,N){return 47!=kt(_,8)?0:(M[0]=kt(_,14)+1,k[0]=kt(_,14)+1,N[0]=kt(_,1),0!=kt(_,3)?0:!_.h)}function Jc(_,M){if(4>_)return _+1;var k=_-2>>1;return(2+(1&_)<<k)+kt(M,k)+1}function eu(_,M){return 120<M?M-120:1<=(k=((k=C_e[M-1])>>4)*_+(8-(15&k)))?k:1;var k}function Zo(_,M,k){var N=ye(k),j=_[M+=255&N].g-8;return 0<j&&($e(k,k.u+8),N=ye(k),M+=_[M].value,M+=N&(1<<j)-1),$e(k,k.u+_[M].g),_[M].value}function la(_,M,k){return k.g+=_.g,k.value+=_.value<<M>>>0,n(8>=k.g),_.g}function xa(_,M,k){var N=_.xc;return n((M=0==N?0:_.vc[_.md*(k>>N)+(M>>N)])<_.Wb),_.Ya[M]}function Qg(_,M,k,N){var j=_.ab,q=_.c*M,Y=_.C;M=Y+M;var ee=k,re=N;for(N=_.Ta,k=_.Ua;0<j--;){var ge=_.gc[j],Ke=Y,ft=M,me=ee,Xe=re,ut=(re=N,ee=k,ge.Ea);switch(n(Ke<ft),n(ft<=ge.nc),ge.hc){case 2:ps(me,Xe,(ft-Ke)*ut,re,ee);break;case 0:var Ot=Ke,ht=ft,Ft=re,Ut=ee,Jt=(Tn=ge).Ea;0==Ot&&(Tb(me,Xe,null,null,1,Ft,Ut),vr(me,Xe+1,0,0,Jt-1,Ft,Ut+1),Xe+=Jt,Ut+=Jt,++Ot);for(var Wt=1<<Tn.b,Kn=Wt-1,Sn=Yt(Jt,Tn.b),Wi=Tn.K,Tn=Tn.w+(Ot>>Tn.b)*Sn;Ot<ht;){var _r=Wi,Ys=Tn,$i=1;for(W1(me,Xe,Ft,Ut-Jt,1,Ft,Ut);$i<Jt;){var Ln=($i&~Kn)+Wt;Ln>Jt&&(Ln=Jt),(0,Nb[_r[Ys++]>>8&15])(me,Xe+ +$i,Ft,Ut+$i-Jt,Ln-$i,Ft,Ut+$i),$i=Ln}Xe+=Jt,Ut+=Jt,++Ot&Kn||(Tn+=Sn)}ft!=ge.nc&&i(re,ee-ut,re,ee+(ft-Ke-1)*ut,ut);break;case 1:for(ut=me,ht=Xe,Jt=(me=ge.Ea)-(Ut=me&~(Ft=(Xe=1<<ge.b)-1)),Ot=Yt(me,ge.b),Wt=ge.K,ge=ge.w+(Ke>>ge.b)*Ot;Ke<ft;){for(Kn=Wt,Sn=ge,Wi=new oi,Tn=ht+Ut,_r=ht+me;ht<Tn;)Qn(Kn[Sn++],Wi),Rb(Wi,ut,ht,Xe,re,ee),ht+=Xe,ee+=Xe;ht<_r&&(Qn(Kn[Sn++],Wi),Rb(Wi,ut,ht,Jt,re,ee),ht+=Jt,ee+=Jt),++Ke&Ft||(ge+=Ot)}break;case 3:if(me==re&&Xe==ee&&0<ge.b){for(ht=re,me=ut=ee+(ft-Ke)*ut-(Ut=(ft-Ke)*Yt(ge.Ea,ge.b)),Xe=re,Ft=ee,Ot=[],Ut=(Jt=Ut)-1;0<=Ut;--Ut)Ot[Ut]=Xe[Ft+Ut];for(Ut=Jt-1;0<=Ut;--Ut)ht[me+Ut]=Ot[Ut];T5(ge,Ke,ft,re,ut,re,ee)}else T5(ge,Ke,ft,me,Xe,re,ee)}ee=N,re=k}re!=k&&i(N,k,ee,re,q)}function Kf(_,M){var k=_.V,N=_.Ba+_.c*_.C,j=M-_.C;if(n(M<=_.l.o),n(16>=j),0<j){var q=_.l,Y=_.Ta,ee=_.Ua,re=q.width;if(Qg(_,j,k,N),j=ee=[ee],n((k=_.C)<(N=M)),n(q.v<q.va),N>q.o&&(N=q.o),k<q.j){var ge=q.j-k;k=q.j,j[0]+=ge*re}if(k>=N?k=0:(j[0]+=4*q.v,q.ka=k-q.j,q.U=q.va-q.v,q.T=N-k,k=1),k){if(ee=ee[0],11>(k=_.ca).S){var Ke=k.f.RGBA,ft=(N=k.S,j=q.U,q=q.T,ge=Ke.eb,Ke.A),me=q;for(Ke=Ke.fb+_.Ma*Ke.A;0<me--;){var Xe=Y,ut=ee,Ot=j,ht=ge,Ft=Ke;switch(N){case R5:Ub(Xe,ut,Ot,ht,Ft);break;case U5:Xf(Xe,ut,Ot,ht,Ft);break;case y3:Xf(Xe,ut,Ot,ht,Ft),Hb(ht,Ft,0,Ot,1,0);break;case Wz:em(Xe,ut,Ot,ht,Ft);break;case Q5:ni(Xe,ut,Ot,ht,Ft,1);break;case b3:ni(Xe,ut,Ot,ht,Ft,1),Hb(ht,Ft,0,Ot,1,0);break;case H5:ni(Xe,ut,Ot,ht,Ft,0);break;case z5:ni(Xe,ut,Ot,ht,Ft,0),Hb(ht,Ft,1,Ot,1,0);break;case _3:Jf(Xe,ut,Ot,ht,Ft);break;case w3:Jf(Xe,ut,Ot,ht,Ft),Uz(ht,Ft,Ot,1,0);break;case $z:ep(Xe,ut,Ot,ht,Ft);break;default:n(0)}ee+=re,Ke+=ft}_.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");n(_.Ma<=k.height)}}_.C=M,n(_.C<=_.i)}function Gu(_){var M;if(0<_.ua)return 0;for(M=0;M<_.Wb;++M){var k=_.Ya[M].G,N=_.Ya[M].H;if(0<k[1][N[1]+0].g||0<k[2][N[2]+0].g||0<k[3][N[3]+0].g)return 0}return 1}function jA(_,M,k,N,j,q){if(0!=_.Z){var Y=_.qd,ee=_.rd;for(n(null!=ip[_.Z]);M<k;++M)ip[_.Z](Y,ee,N,j,N,j,q),Y=N,ee=j,j+=q;_.qd=Y,_.rd=ee}}function Ku(_,M){var k=_.l.ma,N=0==k.Z||1==k.Z?_.l.j:_.C;if(N=_.C<N?N:_.C,n(M<=_.l.o),M>N){var j=_.l.width,q=k.ca,Y=k.tb+j*N,ee=_.V,re=_.Ba+_.c*N,ge=_.gc;n(1==_.ab),n(3==ge[0].hc),ZA(ge[0],N,M,ee,re,q,Y),jA(k,N,M,q,Y,j)}_.C=_.Ma=M}function Wu(_,M,k,N,j,q,Y){var ee=_.$/N,re=_.$%N,ge=_.m,Ke=_.s,ft=k+_.$,me=ft;j=k+N*j;var Xe=k+N*q,ut=280+Ke.ua,Ot=_.Pb?ee:16777216,ht=0<Ke.ua?Ke.Wa:null,Ft=Ke.wc,Ut=ft<Xe?xa(Ke,re,ee):null;n(_.C<q),n(Xe<=j);var Jt=!1;e:for(;;){for(;Jt||ft<Xe;){var Wt=0;if(ee>=Ot){var Kn=ft-k;n((Ot=_).Pb),Ot.wd=Ot.m,Ot.xd=Kn,0<Ot.s.ua&&_n(Ot.s.Wa,Ot.s.vb),Ot=ee+M_e}if(re&Ft||(Ut=xa(Ke,re,ee)),n(null!=Ut),Ut.Qb&&(M[ft]=Ut.qb,Jt=!0),!Jt)if(rt(ge),Ut.jc){Kn=M;var Sn=ft,Wi=Ut.pd[ye(Wt=ge)&Jg-1];n(Ut.jc),256>Wi.g?($e(Wt,Wt.u+Wi.g),Kn[Sn]=Wi.value,Wt=0):($e(Wt,Wt.u+Wi.g-256),n(256<=Wi.value),Wt=Wi.value),0==Wt&&(Jt=!0)}else Wt=Zo(Ut.G[0],Ut.H[0],ge);if(ge.h)break;if(Jt||256>Wt){if(!Jt)if(Ut.nd)M[ft]=(Ut.qb|Wt<<8)>>>0;else{if(rt(ge),Jt=Zo(Ut.G[1],Ut.H[1],ge),rt(ge),Kn=Zo(Ut.G[2],Ut.H[2],ge),Sn=Zo(Ut.G[3],Ut.H[3],ge),ge.h)break;M[ft]=(Sn<<24|Jt<<16|Wt<<8|Kn)>>>0}if(Jt=!1,++ft,++re>=N&&(re=0,++ee,null!=Y&&ee<=q&&!(ee%16)&&Y(_,ee),null!=ht))for(;me<ft;)Wt=M[me++],ht.X[(506832829*Wt&4294967295)>>>ht.Mb]=Wt}else if(280>Wt){if(Wt=Jc(Wt-256,ge),Kn=Zo(Ut.G[4],Ut.H[4],ge),rt(ge),Kn=eu(N,Kn=Jc(Kn,ge)),ge.h)break;if(ft-k<Kn||j-ft<Wt)break e;for(Sn=0;Sn<Wt;++Sn)M[ft+Sn]=M[ft+Sn-Kn];for(ft+=Wt,re+=Wt;re>=N;)re-=N,++ee,null!=Y&&ee<=q&&!(ee%16)&&Y(_,ee);if(n(ft<=j),re&Ft&&(Ut=xa(Ke,re,ee)),null!=ht)for(;me<ft;)Wt=M[me++],ht.X[(506832829*Wt&4294967295)>>>ht.Mb]=Wt}else{if(!(Wt<ut))break e;for(Jt=Wt-280,n(null!=ht);me<ft;)Wt=M[me++],ht.X[(506832829*Wt&4294967295)>>>ht.Mb]=Wt;Wt=ft,n(!(Jt>>>(Kn=ht).Xa)),M[Wt]=Kn.X[Jt],Jt=!0}Jt||n(ge.h==Qe(ge))}if(_.Pb&&ge.h&&ft<j)n(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&_n(_.s.vb,_.s.Wa);else{if(ge.h)break e;Y?.(_,ee>q?q:ee),_.a=0,_.$=ft-k}return 1}return _.a=3,0}function tu(_){n(null!=_),_.vc=null,_.yc=null,_.Ya=null;var M=_.Wa;null!=M&&(M.X=null),_.vb=null,n(null!=_)}function Hg(){var _=new Si;return null==_?null:(_.a=0,_.xb=Yz,go("Predictor","VP8LPredictors"),go("Predictor","VP8LPredictors_C"),go("PredictorAdd","VP8LPredictorsAdd"),go("PredictorAdd","VP8LPredictorsAdd_C"),ps=hr,Rb=Vi,Ub=fs,Xf=Dr,Jf=nr,ep=ir,em=To,te.VP8LMapColor32b=qA,te.VP8LMapColor8b=Lb,_)}function GA(_,M,k,N,j){var q=1,Y=[_],ee=[M],re=N.m,ge=N.s,Ke=null,ft=0;e:for(;;){if(k)for(;q&&kt(re,1);){var me=Y,Xe=ee,ut=N,Ot=1,ht=ut.m,Ft=ut.gc[ut.ab],Ut=kt(ht,2);if(ut.Oc&1<<Ut)q=0;else{switch(ut.Oc|=1<<Ut,Ft.hc=Ut,Ft.Ea=me[0],Ft.nc=Xe[0],Ft.K=[null],++ut.ab,n(4>=ut.ab),Ut){case 0:case 1:Ft.b=kt(ht,3)+2,Ot=GA(Yt(Ft.Ea,Ft.b),Yt(Ft.nc,Ft.b),0,ut,Ft.K),Ft.K=Ft.K[0];break;case 3:var Jt,Wt=kt(ht,8)+1,Kn=16<Wt?0:4<Wt?1:2<Wt?2:3;if(me[0]=Yt(Ft.Ea,Kn),Ft.b=Kn,Jt=Ot=GA(Wt,1,0,ut,Ft.K)){var Sn,Wi=Wt,Tn=Ft,_r=1<<(8>>Tn.b),Ys=o(_r);if(null==Ys)Jt=0;else{var $i=Tn.K[0],Ln=Tn.w;for(Ys[0]=Tn.K[0][0],Sn=1;Sn<1*Wi;++Sn)Ys[Sn]=ai($i[Ln+Sn],Ys[Sn-1]);for(;Sn<4*_r;++Sn)Ys[Sn]=0;Tn.K[0]=null,Tn.K[0]=Ys,Jt=1}}Ot=Jt;break;case 2:break;default:n(0)}q=Ot}}if(Y=Y[0],ee=ee[0],q&&kt(re,1)&&!(q=1<=(ft=kt(re,4))&&11>=ft)){N.a=3;break e}var un;if(un=q)t:{var ms,Ri,Mr,Bo=N,Da=Y,vl=ee,Yo=ft,Za=k,_l=Bo.m,Xs=Bo.s,Er=[null],Jr=1,Xo=0,eo=x_e[Yo];n:for(;;){if(Za&&kt(_l,1)){var Sa=kt(_l,3)+2,Yu=Yt(Da,Sa),vs=Yt(vl,Sa),Hl=Yu*vs;if(!GA(Yu,vs,0,Bo,Er))break n;for(Er=Er[0],Xs.xc=Sa,ms=0;ms<Hl;++ms){var lo=Er[ms]>>8&65535;Er[ms]=lo,lo>=Jr&&(Jr=lo+1)}}if(_l.h)break n;for(Ri=0;5>Ri;++Ri){var Js=qz[Ri];!Ri&&0<Yo&&(Js+=1<<Yo),Xo<Js&&(Xo=Js)}var xc=s(Jr*eo,Ee),yl=Jr,Mc=s(yl,tt);if(null==Mc)var Bc=null;else n(65536>=yl),Bc=Mc;var zl=o(Xo);if(null==Bc||null==zl||null==xc){Bo.a=1;break n}var Dc=xc;for(ms=Mr=0;ms<Jr;++ms){var vo=Bc[ms],Sc=vo.G,Xu=vo.H,nm=0,vh=1,Ea=0;for(Ri=0;5>Ri;++Ri){Js=qz[Ri],Sc[Ri]=Dc,Xu[Ri]=Mr,!Ri&&0<Yo&&(Js+=1<<Yo);r:{var K5,B3=Js,W5=Bo,jb=zl,G_e=Dc,K_e=Mr,D3=0,rp=W5.m,W_e=kt(rp,1);if(r(jb,0,0,B3),W_e){var $_e=kt(rp,1)+1,q_e=kt(rp,1),sV=kt(rp,0==q_e?1:8);jb[sV]=1,2==$_e&&(jb[sV=kt(rp,8)]=1);var $5=1}else{var aV=o(19),lV=kt(rp,4)+4;if(19<lV){W5.a=3;var q5=0;break r}for(K5=0;K5<lV;++K5)aV[w_e[K5]]=kt(rp,3);var S3=void 0,Gb=void 0,cV=W5,Z_e=aV,Z5=B3,uV=jb,E3=0,op=cV.m,AV=8,dV=s(128,Ee);i:for(;J(dV,0,7,Z_e,19);){if(kt(op,1)){var Y_e=2+2*kt(op,3);if((S3=2+kt(op,Y_e))>Z5)break i}else S3=Z5;for(Gb=0;Gb<Z5&&S3--;){rt(op);var hV=dV[0+(127&ye(op))];$e(op,op.u+hV.g);var q1=hV.value;if(16>q1)uV[Gb++]=q1,0!=q1&&(AV=q1);else{var X_e=16==q1,fV=q1-16,J_e=y_e[fV],pV=kt(op,__e[fV])+J_e;if(Gb+pV>Z5)break i;for(var eye=X_e?AV:0;0<pV--;)uV[Gb++]=eye}}E3=1;break i}E3||(cV.a=3),$5=E3}($5=$5&&!rp.h)&&(D3=J(G_e,K_e,8,jb,B3)),$5&&0!=D3?q5=D3:(W5.a=3,q5=0)}if(0==q5)break n;if(vh&&1==b_e[Ri]&&(vh=0==Dc[Mr].g),nm+=Dc[Mr].g,Mr+=q5,3>=Ri){var Kb,P3=zl[0];for(Kb=1;Kb<Js;++Kb)zl[Kb]>P3&&(P3=zl[Kb]);Ea+=P3}}if(vo.nd=vh,vo.Qb=0,vh&&(vo.qb=(Sc[3][Xu[3]+0].value<<24|Sc[1][Xu[1]+0].value<<16|Sc[2][Xu[2]+0].value)>>>0,0==nm&&256>Sc[0][Xu[0]+0].value&&(vo.Qb=1,vo.qb+=Sc[0][Xu[0]+0].value<<8)),vo.jc=!vo.Qb&&6>Ea,vo.jc){var Y5,_h=vo;for(Y5=0;Y5<Jg;++Y5){var sp=Y5,ap=_h.pd[sp],X5=_h.G[0][_h.H[0]+sp];256<=X5.value?(ap.g=X5.g+256,ap.value=X5.value):(ap.g=0,ap.value=0,sp>>=la(X5,8,ap),sp>>=la(_h.G[1][_h.H[1]+sp],16,ap),sp>>=la(_h.G[2][_h.H[2]+sp],0,ap),la(_h.G[3][_h.H[3]+sp],24,ap))}}}Xs.vc=Er,Xs.Wb=Jr,Xs.Ya=Bc,Xs.yc=xc,un=1;break t}un=0}if(!(q=un)){N.a=3;break e}if(0<ft){if(ge.ua=1<<ft,!Ae(ge.Wa,ft)){N.a=1,q=0;break e}}else ge.ua=0;var I3=N,gV=Y,tye=ee,O3=I3.s,k3=O3.xc;if(I3.c=gV,I3.i=tye,O3.md=Yt(gV,k3),O3.wc=0==k3?-1:(1<<k3)-1,k){N.xb=O_e;break e}if(null==(Ke=o(Y*ee))){N.a=1,q=0;break e}q=(q=Wu(N,Ke,0,Y,ee,ee,null))&&!re.h;break e}return q?(null!=j?j[0]=Ke:(n(null==Ke),n(k)),N.$=0,k||tu(ge)):tu(ge),q}function zg(_,M){var k=_.c*_.i,N=k+M+16*M;return n(_.c<=M),_.V=o(N),null==_.V?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+k+M,1)}function N1(_,M){var k=_.C,N=M-k,j=_.V,q=_.Ba+_.c*k;for(n(M<=_.l.o);0<N;){var Y=16<N?16:N,ee=_.l.ma,re=_.l.width,ge=re*Y,Ke=ee.ca,ft=ee.tb+re*k,me=_.Ta,Xe=_.Ua;Qg(_,Y,j,q),Hz(me,Xe,Ke,ft,ge),jA(ee,k,k+Y,Ke,ft,re),N-=Y,j+=Y*_.c,k+=Y}n(k==M),_.C=_.Ma=M}function R1(){this.ub=this.yd=this.td=this.Rb=0}function U1(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function n3(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function _b(){var _;this.Yb=(function M(k,N,j){for(var q=j[N],Y=0;Y<q&&(k.push(j.length>N+1?[]:0),!(j.length<N+1));Y++)M(k[Y],N+1,j)}(_=[],0,[3,11]),_)}function m5(){this.jb=o(3),this.Wc=a([4,8],_b),this.Xc=a([4,17],_b)}function v5(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function nu(){this.ld=this.La=this.dd=this.tc=0}function yb(){this.Na=this.la=0}function _5(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function bb(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function y5(){this.uc=this.M=this.Nb=0,this.wa=Array(new nu),this.Y=0,this.ya=Array(new bb),this.aa=0,this.l=new Q1}function b5(){this.y=o(16),this.f=o(8),this.ea=o(8)}function w5(){this.cb=this.a=0,this.sc="",this.m=new W,this.Od=new R1,this.Kc=new U1,this.ed=new v5,this.Qa=new n3,this.Ic=this.$c=this.Aa=0,this.D=new y5,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,W),this.ia=0,this.pb=s(4,_5),this.Pa=new m5,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new b5),this.Hd=0,this.rb=Array(new yb),this.sb=0,this.wa=Array(new nu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new bb),this.L=this.aa=0,this.gd=a([4,2],nu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function KA(_,M){return 0>_?0:_>M?M:_}function Q1(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function i3(){var _=new w5;return null!=_&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,zb||(zb=H1)),_}function Is(_,M,k){return 0==_.a&&(_.a=M,_.sc=k,_.cb=0),0}function C5(_,M,k){return 3<=k&&157==_[M+0]&&1==_[M+1]&&42==_[M+2]}function WA(_,M){if(null==_)return 0;if(_.a=0,_.sc="OK",null==M)return Is(_,2,"null VP8Io passed to VP8GetHeaders()");var k=M.data,N=M.w,j=M.ha;if(4>j)return Is(_,7,"Truncated header.");var q=k[N+0]|k[N+1]<<8|k[N+2]<<16,Y=_.Od;if(Y.Rb=!(1&q),Y.td=q>>1&7,Y.yd=q>>4&1,Y.ub=q>>5,3<Y.td)return Is(_,3,"Incorrect keyframe parameters.");if(!Y.yd)return Is(_,4,"Frame not displayable.");N+=3,j-=3;var ee=_.Kc;if(Y.Rb){if(7>j)return Is(_,7,"cannot parse picture header");if(!C5(k,N,j))return Is(_,3,"Bad code word");ee.c=16383&(k[N+4]<<8|k[N+3]),ee.Td=k[N+4]>>6,ee.i=16383&(k[N+6]<<8|k[N+5]),ee.Ud=k[N+6]>>6,N+=7,j-=7,_.za=ee.c+15>>4,_.Ub=ee.i+15>>4,M.width=ee.c,M.height=ee.i,M.Da=0,M.j=0,M.v=0,M.va=M.width,M.o=M.height,M.da=0,M.ib=M.width,M.hb=M.height,M.U=M.width,M.T=M.height,r((q=_.Pa).jb,0,255,q.jb.length),n(null!=(q=_.Qa)),q.Cb=0,q.Bb=0,q.Fb=1,r(q.Zb,0,0,q.Zb.length),r(q.Lb,0,0,q.Lb)}if(Y.ub>j)return Is(_,7,"bad partition length");Le(q=_.m,k,N,Y.ub),N+=Y.ub,j-=Y.ub,Y.Rb&&(ee.Ld=_t(q),ee.Kd=_t(q)),ee=_.Qa;var re,ge=_.Pa;if(n(null!=q),n(null!=ee),ee.Cb=_t(q),ee.Cb){if(ee.Bb=_t(q),_t(q)){for(ee.Fb=_t(q),re=0;4>re;++re)ee.Zb[re]=_t(q)?Ue(q,7):0;for(re=0;4>re;++re)ee.Lb[re]=_t(q)?Ue(q,6):0}if(ee.Bb)for(re=0;3>re;++re)ge.jb[re]=_t(q)?ze(q,8):255}else ee.Bb=0;if(q.Ka)return Is(_,3,"cannot parse segment header");if((ee=_.ed).zd=_t(q),ee.Tb=ze(q,6),ee.wb=ze(q,3),ee.Pc=_t(q),ee.Pc&&_t(q)){for(ge=0;4>ge;++ge)_t(q)&&(ee.vd[ge]=Ue(q,6));for(ge=0;4>ge;++ge)_t(q)&&(ee.od[ge]=Ue(q,6))}if(_.L=0==ee.Tb?0:ee.zd?1:2,q.Ka)return Is(_,3,"cannot parse filter header");var Ke=j;if(j=re=N,N=re+Ke,ee=Ke,_.Xb=(1<<ze(_.m,2))-1,Ke<3*(ge=_.Xb))k=7;else{for(re+=3*ge,ee-=3*ge,Ke=0;Ke<ge;++Ke){var ft=k[j+0]|k[j+1]<<8|k[j+2]<<16;ft>ee&&(ft=ee),Le(_.Jc[+Ke],k,re,ft),re+=ft,ee-=ft,j+=3}Le(_.Jc[+ge],k,re,ee),k=re<N?0:5}if(0!=k)return Is(_,k,"cannot parse partitions");for(k=ze(re=_.m,7),j=_t(re)?Ue(re,4):0,N=_t(re)?Ue(re,4):0,ee=_t(re)?Ue(re,4):0,ge=_t(re)?Ue(re,4):0,re=_t(re)?Ue(re,4):0,Ke=_.Qa,ft=0;4>ft;++ft){if(Ke.Cb){var me=Ke.Zb[ft];Ke.Fb||(me+=k)}else{if(0<ft){_.pb[ft]=_.pb[0];continue}me=k}var Xe=_.pb[ft];Xe.Sc[0]=C3[KA(me+j,127)],Xe.Sc[1]=x3[KA(me+0,127)],Xe.Eb[0]=2*C3[KA(me+N,127)],Xe.Eb[1]=101581*x3[KA(me+ee,127)]>>16,8>Xe.Eb[1]&&(Xe.Eb[1]=8),Xe.Qc[0]=C3[KA(me+ge,117)],Xe.Qc[1]=x3[KA(me+re,127)],Xe.lc=me+re}if(!Y.Rb)return Is(_,4,"Not a key frame.");for(_t(q),Y=_.Pa,k=0;4>k;++k){for(j=0;8>j;++j)for(N=0;3>N;++N)for(ee=0;11>ee;++ee)ge=Tt(q,P_e[k][j][N][ee])?ze(q,8):S_e[k][j][N][ee],Y.Wc[k][j].Yb[N][ee]=ge;for(j=0;17>j;++j)Y.Xc[k][j]=Y.Wc[k][I_e[j]]}return _.kc=_t(q),_.kc&&(_.Bd=ze(q,8)),_.cb=1}function H1(_,M,k,N,j,q,Y){var ee=M[j].Yb[k];for(k=0;16>j;++j){if(!Tt(_,ee[k+0]))return j;for(;!Tt(_,ee[k+1]);)if(ee=M[++j].Yb[0],k=0,16==j)return 16;var re=M[j+1].Yb;if(Tt(_,ee[k+2])){var ge=_,Ke=0;if(Tt(ge,(me=ee)[(ft=k)+3]))if(Tt(ge,me[ft+6])){for(ee=0,ft=2*(Ke=Tt(ge,me[ft+8]))+(me=Tt(ge,me[ft+9+Ke])),Ke=0,me=B_e[ft];me[ee];++ee)Ke+=Ke+Tt(ge,me[ee]);Ke+=3+(8<<ft)}else Tt(ge,me[ft+7])?(Ke=7+2*Tt(ge,165),Ke+=Tt(ge,145)):Ke=5+Tt(ge,159);else Ke=Tt(ge,me[ft+4])?3+Tt(ge,me[ft+5]):2;ee=re[2]}else Ke=1,ee=re[1];re=Y+D_e[j],0>(ge=_).b&&yt(ge);var ft,me=ge.b,Xe=(ft=ge.Ca>>1)-(ge.I>>me)>>31;--ge.b,ge.Ca+=Xe,ge.Ca|=1,ge.I-=(ft+1&Xe)<<me,q[re]=((Ke^Xe)-Xe)*N[(0<j)+0]}return 16}function x5(_){var M=_.rb[_.sb-1];M.la=0,M.Na=0,r(_.zc,0,0,_.zc.length),_.ja=0}function iu(_,M,k,N,j){_[M+k+32*N]=-256&(j=_[M+k+32*N]+(j>>3))?0>j?0:255:j}function $s(_,M,k,N,j,q){iu(_,M,0,k,N+j),iu(_,M,1,k,N+q),iu(_,M,2,k,N-q),iu(_,M,3,k,N-j)}function oh(_){return(20091*_>>16)+_}function M5(_,M,k,N){var j,q=0,Y=o(16);for(j=0;4>j;++j){var ee=_[M+0]+_[M+8],re=_[M+0]-_[M+8],ge=(35468*_[M+4]>>16)-oh(_[M+12]),Ke=oh(_[M+4])+(35468*_[M+12]>>16);Y[q+0]=ee+Ke,Y[q+1]=re+ge,Y[q+2]=re-ge,Y[q+3]=ee-Ke,q+=4,M++}for(j=q=0;4>j;++j)ee=(_=Y[q+0]+4)+Y[q+8],re=_-Y[q+8],ge=(35468*Y[q+4]>>16)-oh(Y[q+12]),iu(k,N,0,0,ee+(Ke=oh(Y[q+4])+(35468*Y[q+12]>>16))),iu(k,N,1,0,re+ge),iu(k,N,2,0,re-ge),iu(k,N,3,0,ee-Ke),q++,N+=32}function r3(_,M,k,N){var j=_[M+0]+4,q=35468*_[M+4]>>16,Y=oh(_[M+4]),ee=35468*_[M+1]>>16;$s(k,N,0,j+Y,_=oh(_[M+1]),ee),$s(k,N,1,j+q,_,ee),$s(k,N,2,j-q,_,ee),$s(k,N,3,j-Y,_,ee)}function o3(_,M,k,N,j){M5(_,M,k,N),j&&M5(_,M+16,k,N+4)}function $A(_,M,k,N){tm(_,M+0,k,N,1),tm(_,M+32,k,N+128,1)}function B5(_,M,k,N){var j;for(_=_[M+0]+4,j=0;4>j;++j)for(M=0;4>M;++M)iu(k,N,M,j,_)}function D5(_,M,k,N){_[M+0]&&zr(_,M+0,k,N),_[M+16]&&zr(_,M+16,k,N+4),_[M+32]&&zr(_,M+32,k,N+128),_[M+48]&&zr(_,M+48,k,N+128+4)}function z1(_,M,k,N){var j,q=o(16);for(j=0;4>j;++j){var Y=_[M+0+j]+_[M+12+j],ee=_[M+4+j]+_[M+8+j],re=_[M+4+j]-_[M+8+j],ge=_[M+0+j]-_[M+12+j];q[0+j]=Y+ee,q[8+j]=Y-ee,q[4+j]=ge+re,q[12+j]=ge-re}for(j=0;4>j;++j)Y=(_=q[0+4*j]+3)+q[3+4*j],re=q[1+4*j]-q[2+4*j],ge=_-q[3+4*j],k[N+0]=Y+(ee=q[1+4*j]+q[2+4*j])>>3,k[N+16]=ge+re>>3,k[N+32]=Y-ee>>3,k[N+48]=ge-re>>3,N+=64}function Vg(_,M,k){var N,j=M-32,q=Cc,Y=255-_[j-1];for(N=0;N<k;++N){var ee,re=q,ge=Y+_[M-1];for(ee=0;ee<k;++ee)_[M+ee]=re[ge+_[j+ee]];M+=32}}function s3(_,M){Vg(_,M,4)}function a3(_,M){Vg(_,M,8)}function l3(_,M){Vg(_,M,16)}function wb(_,M){var k;for(k=0;16>k;++k)i(_,M+32*k,_,M-32,16)}function S5(_,M){var k;for(k=16;0<k;--k)r(_,M,_[M-1],16),M+=32}function $u(_,M,k){var N;for(N=0;16>N;++N)r(M,k+32*N,_,16)}function c3(_,M){var k,N=16;for(k=0;16>k;++k)N+=_[M-1+32*k]+_[M+k-32];$u(N>>5,_,M)}function jg(_,M){var k,N=8;for(k=0;16>k;++k)N+=_[M-1+32*k];$u(N>>4,_,M)}function Cb(_,M){var k,N=8;for(k=0;16>k;++k)N+=_[M+k-32];$u(N>>4,_,M)}function u3(_,M){$u(128,_,M)}function Ei(_,M,k){return _+2*M+k+2>>2}function A3(_,M){var k,N=M-32;for(N=new Uint8Array([Ei(_[N-1],_[N+0],_[N+1]),Ei(_[N+0],_[N+1],_[N+2]),Ei(_[N+1],_[N+2],_[N+3]),Ei(_[N+2],_[N+3],_[N+4])]),k=0;4>k;++k)i(_,M+32*k,N,0,N.length)}function d3(_,M){var k=_[M-1],N=_[M-1+32],j=_[M-1+64],q=_[M-1+96];Xt(_,M+0,16843009*Ei(_[M-1-32],k,N)),Xt(_,M+32,16843009*Ei(k,N,j)),Xt(_,M+64,16843009*Ei(N,j,q)),Xt(_,M+96,16843009*Ei(j,q,q))}function h3(_,M){var k,N=4;for(k=0;4>k;++k)N+=_[M+k-32]+_[M-1+32*k];for(N>>=3,k=0;4>k;++k)r(_,M+32*k,N,4)}function sh(_,M){var k=_[M-1+0],N=_[M-1+32],j=_[M-1+64],q=_[M-1-32],Y=_[M+0-32],ee=_[M+1-32],re=_[M+2-32],ge=_[M+3-32];_[M+0+96]=Ei(N,j,_[M-1+96]),_[M+1+96]=_[M+0+64]=Ei(k,N,j),_[M+2+96]=_[M+1+64]=_[M+0+32]=Ei(q,k,N),_[M+3+96]=_[M+2+64]=_[M+1+32]=_[M+0+0]=Ei(Y,q,k),_[M+3+64]=_[M+2+32]=_[M+1+0]=Ei(ee,Y,q),_[M+3+32]=_[M+2+0]=Ei(re,ee,Y),_[M+3+0]=Ei(ge,re,ee)}function ah(_,M){var k=_[M+1-32],N=_[M+2-32],j=_[M+3-32],q=_[M+4-32],Y=_[M+5-32],ee=_[M+6-32],re=_[M+7-32];_[M+0+0]=Ei(_[M+0-32],k,N),_[M+1+0]=_[M+0+32]=Ei(k,N,j),_[M+2+0]=_[M+1+32]=_[M+0+64]=Ei(N,j,q),_[M+3+0]=_[M+2+32]=_[M+1+64]=_[M+0+96]=Ei(j,q,Y),_[M+3+32]=_[M+2+64]=_[M+1+96]=Ei(q,Y,ee),_[M+3+64]=_[M+2+96]=Ei(Y,ee,re),_[M+3+96]=Ei(ee,re,re)}function f3(_,M){var k=_[M-1+0],N=_[M-1+32],j=_[M-1+64],q=_[M-1-32],Y=_[M+0-32],ee=_[M+1-32],re=_[M+2-32],ge=_[M+3-32];_[M+0+0]=_[M+1+64]=q+Y+1>>1,_[M+1+0]=_[M+2+64]=Y+ee+1>>1,_[M+2+0]=_[M+3+64]=ee+re+1>>1,_[M+3+0]=re+ge+1>>1,_[M+0+96]=Ei(j,N,k),_[M+0+64]=Ei(N,k,q),_[M+0+32]=_[M+1+96]=Ei(k,q,Y),_[M+1+32]=_[M+2+96]=Ei(q,Y,ee),_[M+2+32]=_[M+3+96]=Ei(Y,ee,re),_[M+3+32]=Ei(ee,re,ge)}function p3(_,M){var k=_[M+0-32],N=_[M+1-32],j=_[M+2-32],q=_[M+3-32],Y=_[M+4-32],ee=_[M+5-32],re=_[M+6-32],ge=_[M+7-32];_[M+0+0]=k+N+1>>1,_[M+1+0]=_[M+0+64]=N+j+1>>1,_[M+2+0]=_[M+1+64]=j+q+1>>1,_[M+3+0]=_[M+2+64]=q+Y+1>>1,_[M+0+32]=Ei(k,N,j),_[M+1+32]=_[M+0+96]=Ei(N,j,q),_[M+2+32]=_[M+1+96]=Ei(j,q,Y),_[M+3+32]=_[M+2+96]=Ei(q,Y,ee),_[M+3+64]=Ei(Y,ee,re),_[M+3+96]=Ei(ee,re,ge)}function V1(_,M){var k=_[M-1+0],N=_[M-1+32],j=_[M-1+64],q=_[M-1+96];_[M+0+0]=k+N+1>>1,_[M+2+0]=_[M+0+32]=N+j+1>>1,_[M+2+32]=_[M+0+64]=j+q+1>>1,_[M+1+0]=Ei(k,N,j),_[M+3+0]=_[M+1+32]=Ei(N,j,q),_[M+3+32]=_[M+1+64]=Ei(j,q,q),_[M+3+64]=_[M+2+64]=_[M+0+96]=_[M+1+96]=_[M+2+96]=_[M+3+96]=q}function xb(_,M){var k=_[M-1+0],N=_[M-1+32],j=_[M-1+64],q=_[M-1+96],Y=_[M-1-32],ee=_[M+0-32],re=_[M+1-32],ge=_[M+2-32];_[M+0+0]=_[M+2+32]=k+Y+1>>1,_[M+0+32]=_[M+2+64]=N+k+1>>1,_[M+0+64]=_[M+2+96]=j+N+1>>1,_[M+0+96]=q+j+1>>1,_[M+3+0]=Ei(ee,re,ge),_[M+2+0]=Ei(Y,ee,re),_[M+1+0]=_[M+3+32]=Ei(k,Y,ee),_[M+1+32]=_[M+3+64]=Ei(N,k,Y),_[M+1+64]=_[M+3+96]=Ei(j,N,k),_[M+1+96]=Ei(q,j,N)}function Gg(_,M){var k;for(k=0;8>k;++k)i(_,M+32*k,_,M-32,8)}function g3(_,M){var k;for(k=0;8>k;++k)r(_,M,_[M-1],8),M+=32}function lh(_,M,k){var N;for(N=0;8>N;++N)r(M,k+32*N,_,8)}function m3(_,M){var k,N=8;for(k=0;8>k;++k)N+=_[M+k-32]+_[M-1+32*k];lh(N>>4,_,M)}function Mb(_,M){var k,N=4;for(k=0;8>k;++k)N+=_[M+k-32];lh(N>>3,_,M)}function Bb(_,M){var k,N=4;for(k=0;8>k;++k)N+=_[M-1+32*k];lh(N>>3,_,M)}function E5(_,M){lh(128,_,M)}function ch(_,M,k){var N=_[M-k],j=_[M+0],q=3*(j-N)+v3[1020+_[M-2*k]-_[M+k]],Y=N5[112+(q+4>>3)];_[M-k]=Cc[255+N+N5[112+(q+3>>3)]],_[M+0]=Cc[255+j-Y]}function Db(_,M,k,N){return su[255+_[M-2*k]-_[M-k]]>N||su[255+_[M+k]-_[M+0]]>N}function j1(_,M,k,N){return 4*su[255+_[M-k]-_[M+0]]+su[255+_[M-2*k]-_[M+k]]<=N}function Sb(_,M,k,N,j){var q=_[M-3*k],Y=_[M-2*k],ee=_[M-k],re=_[M+0],ge=_[M+k],Ke=_[M+2*k];return 4*su[255+ee-re]+su[255+Y-ge]>N?0:su[255+_[M-4*k]-q]<=j&&su[255+q-Y]<=j&&su[255+Y-ee]<=j&&su[255+_[M+3*k]-Ke]<=j&&su[255+Ke-ge]<=j&&su[255+ge-re]<=j}function Kg(_,M,k,N){var j=2*N+1;for(N=0;16>N;++N)j1(_,M+N,k,j)&&ch(_,M+N,k)}function Eb(_,M,k,N){var j=2*N+1;for(N=0;16>N;++N)j1(_,M+N*k,1,j)&&ch(_,M+N*k,1)}function P5(_,M,k,N){var j;for(j=3;0<j;--j)Kg(_,M+=4*k,k,N)}function I5(_,M,k,N){var j;for(j=3;0<j;--j)Eb(_,M+=4,k,N)}function uh(_,M,k,N,j,q,Y,ee){for(q=2*q+1;0<j--;){if(Sb(_,M,k,q,Y))if(Db(_,M,k,ee))ch(_,M,k);else{var re=_,ge=M,Ke=k,ft=re[ge-2*Ke],me=re[ge-Ke],Xe=re[ge+0],ut=re[ge+Ke],Ot=re[ge+2*Ke],ht=27*(Ut=v3[1020+3*(Xe-me)+v3[1020+ft-ut]])+63>>7,Ft=18*Ut+63>>7,Ut=9*Ut+63>>7;re[ge-3*Ke]=Cc[255+re[ge-3*Ke]+Ut],re[ge-2*Ke]=Cc[255+ft+Ft],re[ge-Ke]=Cc[255+me+ht],re[ge+0]=Cc[255+Xe-ht],re[ge+Ke]=Cc[255+ut-Ft],re[ge+2*Ke]=Cc[255+Ot-Ut]}M+=N}}function Ah(_,M,k,N,j,q,Y,ee){for(q=2*q+1;0<j--;){if(Sb(_,M,k,q,Y))if(Db(_,M,k,ee))ch(_,M,k);else{var re=_,ge=M,Ke=k,ft=re[ge-Ke],me=re[ge+0],Xe=re[ge+Ke],ut=N5[112+(4+(Ot=3*(me-ft))>>3)],Ot=N5[112+(Ot+3>>3)],ht=ut+1>>1;re[ge-2*Ke]=Cc[255+re[ge-2*Ke]+ht],re[ge-Ke]=Cc[255+ft+Ot],re[ge+0]=Cc[255+me-ut],re[ge+Ke]=Cc[255+Xe-ht]}M+=N}}function O5(_,M,k,N,j,q){uh(_,M,k,1,16,N,j,q)}function Wg(_,M,k,N,j,q){uh(_,M,1,k,16,N,j,q)}function k5(_,M,k,N,j,q){var Y;for(Y=3;0<Y;--Y)Ah(_,M+=4*k,k,1,16,N,j,q)}function P(_,M,k,N,j,q){var Y;for(Y=3;0<Y;--Y)Ah(_,M+=4,1,k,16,N,j,q)}function V(_,M,k,N,j,q,Y,ee){uh(_,M,j,1,8,q,Y,ee),uh(k,N,j,1,8,q,Y,ee)}function ve(_,M,k,N,j,q,Y,ee){uh(_,M,1,j,8,q,Y,ee),uh(k,N,1,j,8,q,Y,ee)}function He(_,M,k,N,j,q,Y,ee){Ah(_,M+4*j,j,1,8,q,Y,ee),Ah(k,N+4*j,j,1,8,q,Y,ee)}function ot(_,M,k,N,j,q,Y,ee){Ah(_,M+4,1,j,8,q,Y,ee),Ah(k,N+4,1,j,8,q,Y,ee)}function Rt(){this.ba=new or,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Hr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Hn(){this.ua=0,this.Wa=new Zi,this.vb=new Zi,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new tt,this.yc=new Ee}function Si(){this.xb=this.a=0,this.l=new Q1,this.ca=new or,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new pe,this.Pb=0,this.wd=new pe,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Hn,this.ab=0,this.gc=s(4,Fn),this.Oc=0}function ji(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Q1,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sr(_,M,k,N,j,q,Y){for(_=null==_?0:_[M+0],M=0;M<Y;++M)j[q+M]=_+k[N+M]&255,_=j[q+M]}function Ho(_,M,k,N,j,q,Y){var ee;if(null==_)Sr(null,null,k,N,j,q,Y);else for(ee=0;ee<Y;++ee)j[q+ee]=_[M+ee]+k[N+ee]&255}function Os(_,M,k,N,j,q,Y){if(null==_)Sr(null,null,k,N,j,q,Y);else{var ee,re=_[M+0],ge=re,Ke=re;for(ee=0;ee<Y;++ee)ge=Ke+(re=_[M+ee])-ge,Ke=k[N+ee]+(-256&ge?0>ge?0:255:ge)&255,ge=re,j[q+ee]=Ke}}function mo(_,M,k,N){var j=M.width,q=M.o;if(n(null!=_&&null!=M),0>k||0>=N||k+N>q)return null;if(!_.Cc){if(null==_.ga){var Y;if(_.ga=new ji,(Y=null==_.ga)||(Y=M.width*M.o,n(0==_.Gb.length),_.Gb=o(Y),_.Uc=0,null==_.Gb?Y=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,Y=1),Y=!Y),!Y){var ee=_.Fa,re=_.P,ge=_.qc,Ke=_.mb,ft=_.nb,me=re+1,Xe=ge-1,ut=(Y=_.ga).l;if(n(null!=ee&&null!=Ke&&null!=M),ip[0]=null,ip[1]=Sr,ip[2]=Ho,ip[3]=Os,Y.ca=Ke,Y.tb=ft,Y.c=M.width,Y.i=M.height,n(0<Y.c&&0<Y.i),1>=ge)M=0;else if(Y.$a=3&ee[re+0],Y.Z=ee[re+0]>>2&3,Y.Lc=ee[re+0]>>4&3,re=ee[re+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||re)M=0;else if(ut.put=di,ut.ac=VA,ut.bc=ih,ut.ma=Y,ut.width=M.width,ut.height=M.height,ut.Da=M.Da,ut.v=M.v,ut.va=M.va,ut.j=M.j,ut.o=M.o,Y.$a)e:{n(1==Y.$a),M=Hg();t:for(;;){if(null==M){M=0;break e}if(n(null!=Y),Y.mc=M,M.c=Y.c,M.i=Y.i,M.l=Y.l,M.l.ma=Y,M.l.width=Y.c,M.l.height=Y.i,M.a=0,et(M.m,ee,me,Xe),!GA(Y.c,Y.i,1,M,null)||(1==M.ab&&3==M.gc[0].hc&&Gu(M.s)?(Y.ic=1,ee=M.c*M.i,M.Ta=null,M.Ua=0,M.V=o(ee),M.Ba=0,null==M.V?(M.a=1,M=0):M=1):(Y.ic=0,M=zg(M,Y.c)),!M))break t;M=1;break e}Y.mc=null,M=0}else M=Xe>=Y.c*Y.i;Y=!M}if(Y)return null;1!=_.ga.Lc?_.Ga=0:N=q-k}n(null!=_.ga),n(k+N<=q);e:{if(M=(ee=_.ga).c,q=ee.l.o,0==ee.$a){if(me=_.rc,Xe=_.Vc,ut=_.Fa,ge=_.mb,Ke=_.nb+k*M,n((re=_.P+1+k*M)<=_.P+_.qc),0!=ee.Z)for(n(null!=ip[ee.Z]),Y=0;Y<N;++Y)ip[ee.Z](me,Xe,ut,re,ge,Ke,M),me=ge,Xe=Ke,Ke+=M,re+=M;else for(Y=0;Y<N;++Y)i(ge,Ke,ut,re,M),me=ge,Xe=Ke,Ke+=M,re+=M;_.rc=me,_.Vc=Xe}else{if(n(null!=ee.mc),M=k+N,n(null!=(Y=ee.mc)),n(M<=Y.i),Y.C>=M)M=1;else if(ee.ic||qu(),ee.ic){ee=Y.V,me=Y.Ba;var Ot=Y.i,ht=(ut=1,re=Y.$/(Xe=Y.c),ge=Y.$%Xe,Ke=Y.m,ft=Y.s,Y.$),Ft=Xe*Ot,Ut=Xe*M,Jt=ft.wc,Wt=ht<Ut?xa(ft,ge,re):null;n(ht<=Ft),n(M<=Ot),n(Gu(ft));t:for(;;){for(;!Ke.h&&ht<Ut;){if(ge&Jt||(Wt=xa(ft,ge,re)),n(null!=Wt),rt(Ke),256>(Ot=Zo(Wt.G[0],Wt.H[0],Ke)))ee[me+ht]=Ot,++ht,++ge>=Xe&&(ge=0,++re<=M&&!(re%16)&&Ku(Y,re));else{if(!(280>Ot)){ut=0;break t}Ot=Jc(Ot-256,Ke);var Kn,Sn=Zo(Wt.G[4],Wt.H[4],Ke);if(rt(Ke),!(ht>=(Sn=eu(Xe,Sn=Jc(Sn,Ke)))&&Ft-ht>=Ot)){ut=0;break t}for(Kn=0;Kn<Ot;++Kn)ee[me+ht+Kn]=ee[me+ht+Kn-Sn];for(ht+=Ot,ge+=Ot;ge>=Xe;)ge-=Xe,++re<=M&&!(re%16)&&Ku(Y,re);ht<Ut&&ge&Jt&&(Wt=xa(ft,ge,re))}n(Ke.h==Qe(Ke))}Ku(Y,re>M?M:re);break t}!ut||Ke.h&&ht<Ft?(ut=0,Y.a=Ke.h?5:3):Y.$=ht,M=ut}else M=Wu(Y,Y.V,Y.Ba,Y.c,Y.i,M,N1);if(!M){N=0;break e}}k+N>=q&&(_.Cc=1),N=1}if(!N)return null;if(_.Cc&&(null!=(N=_.ga)&&(N.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+k*j}function qs(_,M,k,N,j,q){for(;0<j--;){var Y,ee=_,re=M+(k?1:0),ge=_,Ke=M+(k?0:3);for(Y=0;Y<N;++Y){var ft=ge[Ke+4*Y];255!=ft&&(ee[re+4*Y+0]=ee[re+4*Y+0]*(ft*=32897)>>23,ee[re+4*Y+1]=ee[re+4*Y+1]*ft>>23,ee[re+4*Y+2]=ee[re+4*Y+2]*ft>>23)}M+=q}}function ks(_,M,k,N,j){for(;0<N--;){var q;for(q=0;q<k;++q){var Y=_[M+2*q+0],ee=15&(ge=_[M+2*q+1]),re=4369*ee,ge=(240&ge|ge>>4)*re>>16;_[M+2*q+0]=(240&Y|Y>>4)*re>>16&240|(15&Y|Y<<4)*re>>16>>4&15,_[M+2*q+1]=240&ge|ee}M+=j}}function Ma(_,M,k,N,j,q,Y,ee){var re,ge,Ke=255;for(ge=0;ge<j;++ge){for(re=0;re<N;++re){var ft=_[M+re];q[Y+4*re]=ft,Ke&=ft}M+=k,Y+=ee}return 255!=Ke}function dh(_,M,k,N,j){var q;for(q=0;q<j;++q)k[N+q]=_[M+q]>>8}function qu(){Hb=qs,Uz=ks,Qz=Ma,Hz=dh}function hh(_,M,k){te[_]=function(N,j,q,Y,ee,re,ge,Ke,ft,me,Xe,ut,Ot,ht,Ft,Ut,Jt){var Wt,Kn=Jt-1>>1,Sn=ee[re+0]|ge[Ke+0]<<16,Wi=ft[me+0]|Xe[ut+0]<<16;n(null!=N);var Tn=3*Sn+Wi+131074>>2;for(M(N[j+0],255&Tn,Tn>>16,Ot,ht),null!=q&&M(q[Y+0],255&(Tn=3*Wi+Sn+131074>>2),Tn>>16,Ft,Ut),Wt=1;Wt<=Kn;++Wt){var _r=ee[re+Wt]|ge[Ke+Wt]<<16,Ys=ft[me+Wt]|Xe[ut+Wt]<<16,$i=Sn+_r+Wi+Ys+524296,Ln=$i+2*(_r+Wi)>>3;Tn=Ln+Sn>>1,Sn=($i=$i+2*(Sn+Ys)>>3)+_r>>1,M(N[j+2*Wt-1],255&Tn,Tn>>16,Ot,ht+(2*Wt-1)*k),M(N[j+2*Wt-0],255&Sn,Sn>>16,Ot,ht+(2*Wt-0)*k),null!=q&&(Sn=Ln+Ys>>1,M(q[Y+2*Wt-1],255&(Tn=$i+Wi>>1),Tn>>16,Ft,Ut+(2*Wt-1)*k),M(q[Y+2*Wt+0],255&Sn,Sn>>16,Ft,Ut+(2*Wt+0)*k)),Sn=_r,Wi=Ys}1&Jt||(M(N[j+Jt-1],255&(Tn=3*Sn+Wi+131074>>2),Tn>>16,Ot,ht+(Jt-1)*k),null!=q&&M(q[Y+Jt-1],255&(Tn=3*Wi+Sn+131074>>2),Tn>>16,Ft,Ut+(Jt-1)*k))}}function Pb(){au[R5]=k_e,au[U5]=Xz,au[Wz]=F_e,au[Q5]=Jz,au[H5]=eV,au[_3]=tV,au[$z]=T_e,au[y3]=Xz,au[b3]=Jz,au[z5]=eV,au[w3]=tV}function G1(_){return _&~L_e?0>_?0:255:_>>nV}function Wf(_,M){return G1((19077*_>>8)+(26149*M>>8)-14234)}function $g(_,M,k){return G1((19077*_>>8)-(6419*M>>8)-(13320*k>>8)+8708)}function qg(_,M){return G1((19077*_>>8)+(33050*M>>8)-17685)}function $f(_,M,k,N,j){N[j+0]=Wf(_,k),N[j+1]=$g(_,M,k),N[j+2]=qg(_,M)}function Ba(_,M,k,N,j){N[j+0]=qg(_,M),N[j+1]=$g(_,M,k),N[j+2]=Wf(_,k)}function Zg(_,M,k,N,j){var q=$g(_,M,k);M=q<<3&224|qg(_,M)>>3,N[j+0]=248&Wf(_,k)|q>>5,N[j+1]=M}function Yg(_,M,k,N,j){var q=240&qg(_,M)|15;N[j+0]=240&Wf(_,k)|$g(_,M,k)>>4,N[j+1]=q}function Ib(_,M,k,N,j){N[j+0]=255,$f(_,M,k,N,j+1)}function Ob(_,M,k,N,j){Ba(_,M,k,N,j),N[j+3]=255}function ml(_,M,k,N,j){$f(_,M,k,N,j),N[j+3]=255}function fh(_,M,k){te[_]=function(N,j,q,Y,ee,re,ge,Ke,ft){for(var me=Ke+(-2&ft)*k;Ke!=me;)M(N[j+0],q[Y+0],ee[re+0],ge,Ke),M(N[j+1],q[Y+0],ee[re+0],ge,Ke+k),j+=2,++Y,++re,Ke+=2*k;1&ft&&M(N[j+0],q[Y+0],ee[re+0],ge,Ke)}}function K1(_,M,k){return 0==k?0==_?0==M?6:5:0==M?4:0:k}function F5(_,M,k,N,j){switch(_>>>30){case 3:tm(M,k,N,j,0);break;case 2:ou(M,k,N,j);break;case 1:zr(M,k,N,j)}}function ru(_,M){var k,N,j=M.M,q=M.Nb,Y=_.oc,ee=_.pc+40,re=_.oc,ge=_.pc+584,Ke=_.oc,ft=_.pc+600;for(k=0;16>k;++k)Y[ee+32*k-1]=129;for(k=0;8>k;++k)re[ge+32*k-1]=129,Ke[ft+32*k-1]=129;for(0<j?Y[ee-1-32]=re[ge-1-32]=Ke[ft-1-32]=129:(r(Y,ee-32-1,127,21),r(re,ge-32-1,127,9),r(Ke,ft-32-1,127,9)),N=0;N<_.za;++N){var me=M.ya[M.aa+N];if(0<N){for(k=-1;16>k;++k)i(Y,ee+32*k-4,Y,ee+32*k+12,4);for(k=-1;8>k;++k)i(re,ge+32*k-4,re,ge+32*k+4,4),i(Ke,ft+32*k-4,Ke,ft+32*k+4,4)}var Xe=_.Gd,ut=_.Hd+N,Ot=me.ad,ht=me.Hc;if(0<j&&(i(Y,ee-32,Xe[ut].y,0,16),i(re,ge-32,Xe[ut].f,0,8),i(Ke,ft-32,Xe[ut].ea,0,8)),me.Za){var Ft=Y,Ut=ee-32+16;for(0<j&&(N>=_.za-1?r(Ft,Ut,Xe[ut].y[15],4):i(Ft,Ut,Xe[ut+1].y,0,4)),k=0;4>k;k++)Ft[Ut+128+k]=Ft[Ut+256+k]=Ft[Ut+384+k]=Ft[Ut+0+k];for(k=0;16>k;++k,ht<<=2)Zu[me.Ob[k]](Ft=Y,Ut=ee+rV[k]),F5(ht,Ot,16*+k,Ft,Ut)}else if(Ft=K1(N,j,me.Ob[0]),np[Ft](Y,ee),0!=ht)for(k=0;16>k;++k,ht<<=2)F5(ht,Ot,16*+k,Y,ee+rV[k]);for(k=me.Gc,Ft=K1(N,j,me.Dd),mh[Ft](re,ge),mh[Ft](Ke,ft),ht=Ot,Ft=re,Ut=ge,255&(me=0|k)&&(170&me?YA(ht,256,Ft,Ut):ao(ht,256,Ft,Ut)),me=Ke,ht=ft,255&(k>>=8)&&(170&k?YA(Ot,320,me,ht):ao(Ot,320,me,ht)),j<_.Ub-1&&(i(Xe[ut].y,0,Y,ee+480,16),i(Xe[ut].f,0,re,ge+224,8),i(Xe[ut].ea,0,Ke,ft+224,8)),Xe=_.sa,ut=_.ta+16*N+16*q*_.R,Ot=_.qa,me=_.ra+8*N+(k=8*q*_.B),ht=_.Ha,Ft=_.Ia+8*N+k,k=0;16>k;++k)i(Xe,ut+k*_.R,Y,ee+32*k,16);for(k=0;8>k;++k)i(Ot,me+k*_.B,re,ge+32*k,8),i(ht,Ft+k*_.B,Ke,ft+32*k,8)}}function Xg(_,M,k,N,j,q,Y,ee,re){var ge=[0],Ke=[0],ft=0,me=null!=re?re.kd:0,Xe=re??new Kt;if(null==_||12>k)return 7;Xe.data=_,Xe.w=M,Xe.ha=k,M=[M],k=[k],Xe.gb=[Xe.gb];e:{var ut=M,Ot=k,ht=Xe.gb;if(n(null!=_),n(null!=Ot),n(null!=ht),ht[0]=0,12<=Ot[0]&&!e(_,ut[0],"RIFF")){if(e(_,ut[0]+8,"WEBP")){ht=3;break e}var Ft=qn(_,ut[0]+4);if(12>Ft||4294967286<Ft){ht=3;break e}if(me&&Ft>Ot[0]-8){ht=7;break e}ht[0]=Ft,ut[0]+=12,Ot[0]-=12}ht=0}if(0!=ht)return ht;for(Ft=0<Xe.gb[0],k=k[0];;){e:{var Ut=_;Ot=M,ht=k;var Jt=ge,Wt=Ke,Kn=ut=[0];if((Tn=ft=[ft])[0]=0,8>ht[0])ht=7;else{if(!e(Ut,Ot[0],"VP8X")){if(10!=qn(Ut,Ot[0]+4)){ht=3;break e}if(18>ht[0]){ht=7;break e}var Sn=qn(Ut,Ot[0]+8),Wi=1+gn(Ut,Ot[0]+12);if(2147483648<=Wi*(Ut=1+gn(Ut,Ot[0]+15))){ht=3;break e}null!=Kn&&(Kn[0]=Sn),null!=Jt&&(Jt[0]=Wi),null!=Wt&&(Wt[0]=Ut),Ot[0]+=18,ht[0]-=18,Tn[0]=1}ht=0}}if(ft=ft[0],0!=ht)return ht;if(Ot=!!(2&(ut=ut[0])),!Ft&&ft)return 3;if(null!=q&&(q[0]=!!(16&ut)),null!=Y&&(Y[0]=Ot),null!=ee&&(ee[0]=0),Y=ge[0],ut=Ke[0],ft&&Ot&&null==re){ht=0;break}if(4>k){ht=7;break}if(Ft&&ft||!Ft&&!ft&&!e(_,M[0],"ALPH")){k=[k],Xe.na=[Xe.na],Xe.P=[Xe.P],Xe.Sa=[Xe.Sa];e:{ht=M,Ft=k;var Tn=Xe.gb;Jt=Xe.na,Wt=Xe.P,Kn=Xe.Sa,Wi=22,n(null!=(Sn=_)),n(null!=Ft),Ut=ht[0];var _r=Ft[0];for(n(null!=Jt),n(null!=Kn),Jt[0]=null,Wt[0]=null,Kn[0]=0;;){if(ht[0]=Ut,Ft[0]=_r,8>_r){ht=7;break e}var Ys=qn(Sn,Ut+4);if(4294967286<Ys){ht=3;break e}var $i=8+Ys+1&-2;if(Wi+=$i,0<Tn&&Wi>Tn){ht=3;break e}if(!e(Sn,Ut,"VP8 ")||!e(Sn,Ut,"VP8L")){ht=0;break e}if(_r[0]<$i){ht=7;break e}e(Sn,Ut,"ALPH")||(Jt[0]=Sn,Wt[0]=Ut+8,Kn[0]=Ys),Ut+=$i,_r-=$i}}if(k=k[0],Xe.na=Xe.na[0],Xe.P=Xe.P[0],Xe.Sa=Xe.Sa[0],0!=ht)break}k=[k],Xe.Ja=[Xe.Ja],Xe.xa=[Xe.xa];e:if(Tn=_,ht=M,Ft=k,Jt=Xe.gb[0],Wt=Xe.Ja,Kn=Xe.xa,Sn=ht[0],Ut=!e(Tn,Sn,"VP8 "),Wi=!e(Tn,Sn,"VP8L"),n(null!=Tn),n(null!=Ft),n(null!=Wt),n(null!=Kn),8>Ft[0])ht=7;else{if(Ut||Wi){if(Tn=qn(Tn,Sn+4),12<=Jt&&Tn>Jt-12){ht=3;break e}if(me&&Tn>Ft[0]-8){ht=7;break e}Wt[0]=Tn,ht[0]+=8,Ft[0]-=8,Kn[0]=Wi}else Kn[0]=5<=Ft[0]&&47==Tn[Sn+0]&&!(Tn[Sn+4]>>5),Wt[0]=Ft[0];ht=0}if(k=k[0],Xe.Ja=Xe.Ja[0],Xe.xa=Xe.xa[0],M=M[0],0!=ht)break;if(4294967286<Xe.Ja)return 3;if(null==ee||Ot||(ee[0]=Xe.xa?2:1),Y=[Y],ut=[ut],Xe.xa){if(5>k){ht=7;break}ee=Y,me=ut,Ot=q,null==_||5>k?_=0:5<=k&&47==_[M+0]&&!(_[M+4]>>5)?(Ft=[0],Tn=[0],Jt=[0],et(Wt=new pe,_,M,k),rh(Wt,Ft,Tn,Jt)?(null!=ee&&(ee[0]=Ft[0]),null!=me&&(me[0]=Tn[0]),null!=Ot&&(Ot[0]=Jt[0]),_=1):_=0):_=0}else{if(10>k){ht=7;break}ee=ut,null==_||10>k||!C5(_,M+3,k-3)?_=0:(me=_[M+0]|_[M+1]<<8|_[M+2]<<16,Ot=16383&(_[M+7]<<8|_[M+6]),_=16383&(_[M+9]<<8|_[M+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=Xe.Ja||!Ot||!_?_=0:(Y&&(Y[0]=Ot),ee&&(ee[0]=_),_=1))}if(!_||(Y=Y[0],ut=ut[0],ft&&(ge[0]!=Y||Ke[0]!=ut)))return 3;null!=re&&(re[0]=Xe,re.offset=M-re.w,n(4294967286>M-re.w),n(re.offset==re.ha-k));break}return 0==ht||7==ht&&ft&&null==re?(null!=q&&(q[0]|=null!=Xe.na&&0<Xe.na.length),null!=N&&(N[0]=Y),null!=j&&(j[0]=ut),0):ht}function kb(_,M,k){var N=M.width,j=M.height,q=0,Y=0,ee=N,re=j;if(M.Da=null!=_&&0<_.Da,M.Da&&(ee=_.cd,re=_.bd,q=_.v,Y=_.j,11>k||(q&=-2,Y&=-2),0>q||0>Y||0>=ee||0>=re||q+ee>N||Y+re>j))return 0;if(M.v=q,M.j=Y,M.va=q+ee,M.o=Y+re,M.U=ee,M.T=re,M.da=null!=_&&0<_.da,M.da){if(!si(ee,re,k=[_.ib],q=[_.hb]))return 0;M.ib=k[0],M.hb=q[0]}return M.ob=null!=_&&_.ob,M.Kb=null==_||!_.Sd,M.da&&(M.ob=M.ib<3*N/4&&M.hb<3*j/4,M.Kb=0),1}function Fb(_){if(null==_)return 2;if(11>_.S){var M=_.f.RGBA;M.fb+=(_.height-1)*M.A,M.A=-M.A}else(M=_.f.kb).O+=((_=_.height)-1)*M.fa,M.fa=-M.fa,M.N+=(_-1>>1)*M.Ab,M.Ab=-M.Ab,M.W+=(_-1>>1)*M.Db,M.Db=-M.Db,null!=M.F&&(M.J+=(_-1)*M.lb,M.lb=-M.lb);return 0}function qf(_,M,k,N){if(null==N||0>=_||0>=M)return 2;if(null!=k){if(k.Da){var j=k.cd,q=k.bd,Y=-2&k.v,ee=-2&k.j;if(0>Y||0>ee||0>=j||0>=q||Y+j>_||ee+q>M)return 2;_=j,M=q}if(k.da){if(!si(_,M,j=[k.ib],q=[k.hb]))return 2;_=j[0],M=q[0]}}N.width=_,N.height=M;e:{var re=N.width,ge=N.height;if(_=N.S,0>=re||0>=ge||!(_>=R5&&13>_))_=2;else{if(0>=N.Rd&&null==N.sd){Y=q=j=M=0;var Ke=(ee=re*oV[_])*ge;if(11>_||(q=(ge+1)/2*(M=(re+1)/2),12==_&&(Y=(j=re)*ge)),null==(ge=o(Ke+2*q+Y))){_=1;break e}N.sd=ge,11>_?((re=N.f.RGBA).eb=ge,re.fb=0,re.A=ee,re.size=Ke):((re=N.f.kb).y=ge,re.O=0,re.fa=ee,re.Fd=Ke,re.f=ge,re.N=0+Ke,re.Ab=M,re.Cd=q,re.ea=ge,re.W=0+Ke+q,re.Db=M,re.Ed=q,12==_&&(re.F=ge,re.J=0+Ke+2*q),re.Tc=Y,re.lb=j)}if(M=1,q=N.width,Y=N.height,(j=N.S)>=R5&&13>j)if(11>j)_=N.f.RGBA,M&=(ee=Math.abs(_.A))*(Y-1)+q<=_.size,M&=ee>=q*oV[j],M&=null!=_.eb;else{_=N.f.kb,ee=(q+1)/2,Ke=(Y+1)/2,re=Math.abs(_.fa),ge=Math.abs(_.Ab);var ft=Math.abs(_.Db),me=Math.abs(_.lb);M&=re*(Y-1)+q<=_.Fd,M&=ge*(Ke-1)+ee<=_.Cd,M=(M&=ft*(Ke-1)+ee<=_.Ed)&re>=q&ge>=ee&ft>=ee,M&=null!=_.y,M&=null!=_.f,M&=null!=_.ea,12==j&&(M&=me>=q,M&=me*(Y-1)+q<=_.Tc,M&=null!=_.F)}else M=0;_=M?0:2}}return 0!=_||null!=k&&k.fd&&(_=Fb(N)),_}var Jg=64,bc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],wc=24,Zf=32,ph=8,Yf=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];On("Predictor0","PredictorAdd0"),te.Predictor0=function(){return 4278190080},te.Predictor1=function(_){return _},te.Predictor2=function(_,M,k){return M[k+0]},te.Predictor3=function(_,M,k){return M[k+1]},te.Predictor4=function(_,M,k){return M[k-1]},te.Predictor5=function(_,M,k){return Jn(Jn(_,M[k+1]),M[k+0])},te.Predictor6=function(_,M,k){return Jn(_,M[k-1])},te.Predictor7=function(_,M,k){return Jn(_,M[k+0])},te.Predictor8=function(_,M,k){return Jn(M[k-1],M[k+0])},te.Predictor9=function(_,M,k){return Jn(M[k+0],M[k+1])},te.Predictor10=function(_,M,k){return Jn(Jn(_,M[k-1]),Jn(M[k+0],M[k+1]))},te.Predictor11=function(_,M,k){var N=M[k+0];return 0>=Li(N>>24&255,_>>24&255,(M=M[k-1])>>24&255)+Li(N>>16&255,_>>16&255,M>>16&255)+Li(N>>8&255,_>>8&255,M>>8&255)+Li(255&N,255&_,255&M)?N:_},te.Predictor12=function(_,M,k){var N=M[k+0];return(Qr((_>>24&255)+(N>>24&255)-((M=M[k-1])>>24&255))<<24|Qr((_>>16&255)+(N>>16&255)-(M>>16&255))<<16|Qr((_>>8&255)+(N>>8&255)-(M>>8&255))<<8|Qr((255&_)+(255&N)-(255&M)))>>>0},te.Predictor13=function(_,M,k){var N=M[k-1];return(dr((_=Jn(_,M[k+0]))>>24&255,N>>24&255)<<24|dr(_>>16&255,N>>16&255)<<16|dr(_>>8&255,N>>8&255)<<8|dr(255&_,255&N))>>>0};var Tb=te.PredictorAdd0;te.PredictorAdd1=vr,On("Predictor2","PredictorAdd2"),On("Predictor3","PredictorAdd3"),On("Predictor4","PredictorAdd4"),On("Predictor5","PredictorAdd5"),On("Predictor6","PredictorAdd6"),On("Predictor7","PredictorAdd7"),On("Predictor8","PredictorAdd8"),On("Predictor9","PredictorAdd9"),On("Predictor10","PredictorAdd10"),On("Predictor11","PredictorAdd11"),On("Predictor12","PredictorAdd12"),On("Predictor13","PredictorAdd13");var W1=te.PredictorAdd2;$n("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),$n("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var ps,T5=te.ColorIndexInverseTransform,qA=te.MapARGB,ZA=te.VP8LColorIndexInverseTransformAlpha,Lb=te.MapAlpha,Nb=te.VP8LPredictorsAdd=[];Nb.length=16,(te.VP8LPredictors=[]).length=16,(te.VP8LPredictorsAdd_C=[]).length=16,(te.VP8LPredictors_C=[]).length=16;var Rb,Ub,Xf,Jf,ep,em,tp,tm,ou,YA,zr,ao,gs,Zs,gh,Qb,$1,L5,kz,Fz,Tz,Lz,Nz,Rz,Hb,Uz,Qz,Hz,zz=o(511),Vz=o(2041),jz=o(225),Gz=o(767),Kz=0,v3=Vz,N5=jz,Cc=Gz,su=zz,R5=0,U5=1,Wz=2,Q5=3,H5=4,_3=5,$z=6,y3=7,b3=8,z5=9,w3=10,__e=[2,3,7],y_e=[3,3,11],qz=[280,256,256,256,40],b_e=[0,1,1,1,0],w_e=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],C_e=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],x_e=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],M_e=8,C3=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],x3=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zb=null,B_e=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],D_e=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Zz=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],S_e=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],E_e=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],P_e=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],I_e=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],np=[],Zu=[],mh=[],O_e=1,Yz=2,ip=[],au=[];hh("UpsampleRgbLinePair",$f,3),hh("UpsampleBgrLinePair",Ba,3),hh("UpsampleRgbaLinePair",ml,4),hh("UpsampleBgraLinePair",Ob,4),hh("UpsampleArgbLinePair",Ib,4),hh("UpsampleRgba4444LinePair",Yg,2),hh("UpsampleRgb565LinePair",Zg,2);var k_e=te.UpsampleRgbLinePair,F_e=te.UpsampleBgrLinePair,Xz=te.UpsampleRgbaLinePair,Jz=te.UpsampleBgraLinePair,eV=te.UpsampleArgbLinePair,tV=te.UpsampleRgba4444LinePair,T_e=te.UpsampleRgb565LinePair,V5=16,j5=1<<V5-1,Vb=-227,M3=482,nV=6,L_e=(256<<nV)-1,iV=0,N_e=o(256),R_e=o(256),U_e=o(256),Q_e=o(256),H_e=o(M3-Vb),z_e=o(M3-Vb);fh("YuvToRgbRow",$f,3),fh("YuvToBgrRow",Ba,3),fh("YuvToRgbaRow",ml,4),fh("YuvToBgraRow",Ob,4),fh("YuvToArgbRow",Ib,4),fh("YuvToRgba4444Row",Yg,2),fh("YuvToRgb565Row",Zg,2);var rV=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],G5=[0,2,8],V_e=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(_,M,k,N,j){var q=U5,Y=new Rt,ee=new or;Y.ba=ee,ee.S=q,ee.width=[ee.width],ee.height=[ee.height];var re=ee.width,ge=ee.height,Ke=new Ai;if(null==Ke||null==_)var ft=2;else n(null!=Ke),ft=Xg(_,M,k,Ke.width,Ke.height,Ke.Pd,Ke.Qd,Ke.format,null);if(0!=ft?re=0:(null!=re&&(re[0]=Ke.width[0]),null!=ge&&(ge[0]=Ke.height[0]),re=1),re){ee.width=ee.width[0],ee.height=ee.height[0],null!=N&&(N[0]=ee.width),null!=j&&(j[0]=ee.height);e:{if(N=new Q1,(j=new Kt).data=_,j.w=M,j.ha=k,j.kd=1,M=[0],n(null!=j),(0==(_=Xg(j.data,j.w,j.ha,null,null,null,M,null,j))||7==_)&&M[0]&&(_=4),0==(M=_)){if(n(null!=Y),N.data=j.data,N.w=j.w+j.offset,N.ha=j.ha-j.offset,N.put=di,N.ac=VA,N.bc=ih,N.ma=Y,j.xa){if(null==(_=Hg())){Y=1;break e}if(function(me,Xe){var ut=[0],Ot=[0],ht=[0];t:for(;;){if(null==me)return 0;if(null==Xe)return me.a=2,0;if(me.l=Xe,me.a=0,et(me.m,Xe.data,Xe.w,Xe.ha),!rh(me.m,ut,Ot,ht)){me.a=3;break t}if(me.xb=Yz,Xe.width=ut[0],Xe.height=Ot[0],!GA(ut[0],Ot[0],1,me,null))break t;return 1}return n(0!=me.a),0}(_,N)){if(N=0==(M=qf(N.width,N.height,Y.Oa,Y.ba))){t:{N=_;n:for(;;){if(null==N){N=0;break t}if(n(null!=N.s.yc),n(null!=N.s.Ya),n(0<N.s.Wb),n(null!=(k=N.l)),n(null!=(j=k.ma)),0!=N.xb){if(N.ca=j.ba,N.tb=j.tb,n(null!=N.ca),!kb(j.Oa,k,Q5)){N.a=2;break n}if(!zg(N,k.width)||k.da)break n;if((k.da||fi(N.ca.S))&&qu(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=N.ca.f.kb.F&&qu()),N.Pb&&0<N.s.ua&&null==N.s.vb.X&&!Ae(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Wu(N,N.V,N.Ba,N.c,N.i,k.o,Kf))break n;j.Dc=N.Ma,N=1;break t}n(0!=N.a),N=0}N=!N}N&&(M=_.a)}else M=_.a}else{if(null==(_=new i3)){Y=1;break e}if(_.Fa=j.na,_.P=j.P,_.qc=j.Sa,WA(_,N)){if(0==(M=qf(N.width,N.height,Y.Oa,Y.ba))){if(_.Aa=0,k=Y.Oa,n(null!=(j=_)),null!=k){if(0<(re=0>(re=k.Md)?0:100<re?255:255*re/100)){for(ge=Ke=0;4>ge;++ge)12>(ft=j.pb[ge]).lc&&(ft.ia=re*V_e[0>ft.lc?0:ft.lc]>>3),Ke|=ft.ia;Ke&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=k.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(me,Xe){if(null==me)return 0;if(null==Xe)return Is(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!WA(me,Xe))return 0;if(n(me.cb),null==Xe.ac||Xe.ac(Xe)){Xe.ob&&(me.L=0);var ut=G5[me.L];if(2==me.L?(me.yb=0,me.zb=0):(me.yb=Xe.v-ut>>4,me.zb=Xe.j-ut>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=Xe.o+15+ut>>4,me.Hb=Xe.va+15+ut>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var Ot=me.ed;for(ut=0;4>ut;++ut){var ht;if(me.Qa.Cb){var Ft=me.Qa.Lb[ut];me.Qa.Fb||(Ft+=Ot.Tb)}else Ft=Ot.Tb;for(ht=0;1>=ht;++ht){var Ut=me.gd[ut][ht],Jt=Ft;if(Ot.Pc&&(Jt+=Ot.vd[0],ht&&(Jt+=Ot.od[0])),0<(Jt=0>Jt?0:63<Jt?63:Jt)){var Wt=Jt;0<Ot.wb&&(Wt=4<Ot.wb?Wt>>2:Wt>>1)>9-Ot.wb&&(Wt=9-Ot.wb),1>Wt&&(Wt=1),Ut.dd=Wt,Ut.tc=2*Jt+Wt,Ut.ld=40<=Jt?2:15<=Jt?1:0}else Ut.tc=0;Ut.La=ht}}}ut=0}else Is(me,6,"Frame setup failed"),ut=me.a;if(ut=0==ut){if(ut){me.$c=0,0<me.Aa||(me.Ic=1);t:{Ot=4*(Wt=me.za);var Kn=32*Wt,Sn=Wt+1,Wi=0<me.L?Wt*(0<me.Aa?2:1):0,Tn=(2==me.Aa?2:1)*Wt;if((Ut=Ot+832+(ht=3*(16*(ut=me.Ic)+G5[me.L])/2*Kn)+(Ft=null!=me.Fa&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=Ut)ut=0;else{if(Ut>me.Vb){if(me.Vb=0,me.Ec=o(Ut),me.Fc=0,null==me.Ec){ut=Is(me,1,"no memory during frame initialization.");break t}me.Vb=Ut}Jt=me.Fc,me.Ac=Ut=me.Ec,me.Bc=Jt,Jt+=Ot,me.Gd=s(Kn,b5),me.Hd=0,me.rb=s(Sn+1,yb),me.sb=1,me.wa=Wi?s(Wi,nu):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=Wt),n(!0),me.oc=Ut,me.pc=Jt,Jt+=832,me.ya=s(Tn,bb),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,2==me.Aa&&(me.D.aa+=Wt),me.R=16*Wt,me.B=8*Wt,Wt=(Kn=G5[me.L])*me.R,Kn=Kn/2*me.B,me.sa=Ut,me.ta=Jt+Wt,me.qa=me.sa,me.ra=me.ta+16*ut*me.R+Kn,me.Ha=me.qa,me.Ia=me.ra+8*ut*me.B+Kn,me.$c=0,Jt+=ht,me.mb=Ft?Ut:null,me.nb=Ft?Jt:null,n(Jt+Ft<=me.Fc+me.Vb),x5(me),r(me.Ac,me.Bc,0,Ot),ut=1}}if(ut){if(Xe.ka=0,Xe.y=me.sa,Xe.O=me.ta,Xe.f=me.qa,Xe.N=me.ra,Xe.ea=me.Ha,Xe.Vd=me.Ia,Xe.fa=me.R,Xe.Rc=me.B,Xe.F=null,Xe.J=0,!Kz){for(ut=-255;255>=ut;++ut)zz[255+ut]=0>ut?-ut:ut;for(ut=-1020;1020>=ut;++ut)Vz[1020+ut]=-128>ut?-128:127<ut?127:ut;for(ut=-112;112>=ut;++ut)jz[112+ut]=-16>ut?-16:15<ut?15:ut;for(ut=-255;510>=ut;++ut)Gz[255+ut]=0>ut?0:255<ut?255:ut;Kz=1}tp=z1,tm=o3,YA=$A,zr=B5,ao=D5,ou=r3,gs=O5,Zs=Wg,gh=V,Qb=ve,$1=k5,L5=P,kz=He,Fz=ot,Tz=Kg,Lz=Eb,Nz=P5,Rz=I5,Zu[0]=h3,Zu[1]=s3,Zu[2]=A3,Zu[3]=d3,Zu[4]=sh,Zu[5]=f3,Zu[6]=ah,Zu[7]=p3,Zu[8]=xb,Zu[9]=V1,np[0]=c3,np[1]=l3,np[2]=wb,np[3]=S5,np[4]=jg,np[5]=Cb,np[6]=u3,mh[0]=m3,mh[1]=a3,mh[2]=Gg,mh[3]=g3,mh[4]=Bb,mh[5]=Mb,mh[6]=E5,ut=1}else ut=0}ut&&(ut=function(_r,Ys){for(_r.M=0;_r.M<_r.Va;++_r.M){var $i,Ln=_r.Jc[_r.M&_r.Xb],un=_r.m,ms=_r;for($i=0;$i<ms.za;++$i){var Ri=un,Mr=ms,Bo=Mr.Ac,Da=Mr.Bc+4*$i,vl=Mr.zc,Yo=Mr.ya[Mr.aa+$i];if(Yo.$b=Mr.Qa.Bb?Tt(Ri,Mr.Pa.jb[0])?2+Tt(Ri,Mr.Pa.jb[2]):Tt(Ri,Mr.Pa.jb[1]):0,Mr.kc&&(Yo.Ad=Tt(Ri,Mr.Bd)),Yo.Za=!Tt(Ri,145)+0,Yo.Za){var Za=Yo.Ob,_l=0;for(Mr=0;4>Mr;++Mr){var Xs,Er=vl[0+Mr];for(Xs=0;4>Xs;++Xs){for(var Jr=Zz[Tt(Ri,(Er=E_e[Bo[Da+Xs]][Er])[0])];0<Jr;)Jr=Zz[2*Jr+Tt(Ri,Er[Jr])];Bo[Da+Xs]=Er=-Jr}i(Za,_l,Bo,Da,4),_l+=4,vl[0+Mr]=Er}}else Er=Tt(Ri,156)?Tt(Ri,128)?1:3:Tt(Ri,163)?2:0,Yo.Ob[0]=Er,r(Bo,Da,Er,4),r(vl,0,Er,4);Yo.Dd=Tt(Ri,142)?Tt(Ri,114)?Tt(Ri,183)?1:3:2:0}if(ms.m.Ka)return Is(_r,7,"Premature end-of-partition0 encountered.");for(;_r.ja<_r.za;++_r.ja){if(ms=Ln,Ri=(un=_r).rb[un.sb-1],Bo=un.rb[un.sb+un.ja],$i=un.ya[un.aa+un.ja],Da=un.kc?$i.Ad:0)Ri.la=Bo.la=0,$i.Za||(Ri.Na=Bo.Na=0),$i.Hc=0,$i.Gc=0,$i.ia=0;else{var Xo,eo;if(Ri=Bo,Bo=ms,Da=un.Pa.Xc,Yo=un.pb[(vl=un.ya[un.aa+un.ja]).$b],_l=un.rb[un.sb-1],Er=Xs=0,r(Mr=vl.ad,Za=0,0,384),vl.Za)var Sa=0,Yu=Da[3];else{Jr=o(16);var vs=Ri.Na+_l.Na;if(vs=zb(Bo,Da[1],vs,Yo.Eb,0,Jr,0),Ri.Na=_l.Na=(0<vs)+0,1<vs)tp(Jr,0,Mr,Za);else{var Hl=Jr[0]+3>>3;for(Jr=0;256>Jr;Jr+=16)Mr[Za+Jr]=Hl}Sa=1,Yu=Da[0]}var lo=15&Ri.la,Js=15&_l.la;for(Jr=0;4>Jr;++Jr){var xc=1&Js;for(Hl=eo=0;4>Hl;++Hl)lo=lo>>1|(xc=(vs=zb(Bo,Yu,vs=xc+(1&lo),Yo.Sc,Sa,Mr,Za))>Sa)<<7,eo=eo<<2|(3<vs?3:1<vs?2:0!=Mr[Za+0]),Za+=16;lo>>=4,Js=Js>>1|xc<<7,Xs=(Xs<<8|eo)>>>0}for(Yu=lo,Sa=Js>>4,Xo=0;4>Xo;Xo+=2){for(eo=0,lo=Ri.la>>4+Xo,Js=_l.la>>4+Xo,Jr=0;2>Jr;++Jr){for(xc=1&Js,Hl=0;2>Hl;++Hl)lo=lo>>1|(xc=0<(vs=zb(Bo,Da[2],vs=xc+(1&lo),Yo.Qc,0,Mr,Za)))<<3,eo=eo<<2|(3<vs?3:1<vs?2:0!=Mr[Za+0]),Za+=16;lo>>=2,Js=Js>>1|xc<<5}Er|=eo<<4*Xo,Yu|=lo<<4<<Xo,Sa|=(240&Js)<<Xo}Ri.la=Yu,_l.la=Sa,vl.Hc=Xs,vl.Gc=Er,vl.ia=43690&Er?0:Yo.ia,Da=!(Xs|Er)}if(0<un.L&&(un.wa[un.Y+un.ja]=un.gd[$i.$b][$i.Za],un.wa[un.Y+un.ja].La|=!Da),ms.Ka)return Is(_r,7,"Premature end-of-file encountered.")}if(x5(_r),un=Ys,ms=1,$i=(Ln=_r).D,Ri=0<Ln.L&&Ln.M>=Ln.zb&&Ln.M<=Ln.Va,0==Ln.Aa)t:{if($i.M=Ln.M,$i.uc=Ri,ru(Ln,$i),ms=1,$i=(eo=Ln.D).Nb,Ri=(Er=G5[Ln.L])*Ln.R,Da=Ln.sa,vl=Ln.ta-Ri+(Jr=16*$i*Ln.R),Yo=Ln.qa,Mr=Ln.ra-(Bo=Er/2*Ln.B)+(Hl=8*$i*Ln.B),Za=Ln.Ha,_l=Ln.Ia-Bo+Hl,Js=0==(lo=eo.M),Xs=lo>=Ln.Va-1,2==Ln.Aa&&ru(Ln,eo),eo.uc)for(xc=(vs=Ln).D.M,n(vs.D.uc),eo=vs.yb;eo<vs.Hb;++eo){Yu=xc;var yl=(Mc=(Ea=vs).D).Nb,Mc=Mc.wa[Mc.Y+(Sa=eo)],Bc=Ea.sa,zl=Ea.ta+16*yl*(Xo=Ea.R)+16*Sa,Dc=Mc.dd,vo=Mc.tc;if(0!=vo)if(n(3<=vo),1==Ea.L)0<Sa&&Lz(Bc,zl,Xo,vo+4),Mc.La&&Rz(Bc,zl,Xo,vo),0<Yu&&Tz(Bc,zl,Xo,vo+4),Mc.La&&Nz(Bc,zl,Xo,vo);else{var Sc=Ea.B,Xu=Ea.qa,nm=Ea.ra+8*yl*Sc+8*Sa,vh=Ea.Ha,Ea=Ea.Ia+8*yl*Sc+8*Sa;yl=Mc.ld,0<Sa&&(Zs(Bc,zl,Xo,vo+4,Dc,yl),Qb(Xu,nm,vh,Ea,Sc,vo+4,Dc,yl)),Mc.La&&(L5(Bc,zl,Xo,vo,Dc,yl),Fz(Xu,nm,vh,Ea,Sc,vo,Dc,yl)),0<Yu&&(gs(Bc,zl,Xo,vo+4,Dc,yl),gh(Xu,nm,vh,Ea,Sc,vo+4,Dc,yl)),Mc.La&&($1(Bc,zl,Xo,vo,Dc,yl),kz(Xu,nm,vh,Ea,Sc,vo,Dc,yl))}}if(Ln.ia&&alert("todo:DitherRow"),null!=un.put){if(eo=16*lo,lo=16*(lo+1),Js?(un.y=Ln.sa,un.O=Ln.ta+Jr,un.f=Ln.qa,un.N=Ln.ra+Hl,un.ea=Ln.Ha,un.W=Ln.Ia+Hl):(eo-=Er,un.y=Da,un.O=vl,un.f=Yo,un.N=Mr,un.ea=Za,un.W=_l),Xs||(lo-=Er),lo>un.o&&(lo=un.o),un.F=null,un.J=null,null!=Ln.Fa&&0<Ln.Fa.length&&eo<lo&&(un.J=mo(Ln,un,eo,lo-eo),un.F=Ln.mb,null==un.F&&0==un.F.length)){ms=Is(Ln,3,"Could not decode alpha data.");break t}eo<un.j&&(Er=un.j-eo,eo=un.j,n(!(1&Er)),un.O+=Ln.R*Er,un.N+=Ln.B*(Er>>1),un.W+=Ln.B*(Er>>1),null!=un.F&&(un.J+=un.width*Er)),eo<lo&&(un.O+=un.v,un.N+=un.v>>1,un.W+=un.v>>1,null!=un.F&&(un.J+=un.v),un.ka=eo-un.j,un.U=un.va-un.v,un.T=lo-eo,ms=un.put(un))}$i+1!=Ln.Ic||Xs||(i(Ln.sa,Ln.ta-Ri,Da,vl+16*Ln.R,Ri),i(Ln.qa,Ln.ra-Bo,Yo,Mr+8*Ln.B,Bo),i(Ln.Ha,Ln.Ia-Bo,Za,_l+8*Ln.B,Bo))}if(!ms)return Is(_r,6,"Output aborted.")}return 1}(me,Xe)),null!=Xe.bc&&Xe.bc(Xe),ut&=1}return ut?(me.cb=0,ut):0})(_,N)||(M=_.a)}}else M=_.a}0==M&&null!=Y.Oa&&Y.Oa.fd&&(M=Fb(Y.ba))}Y=M}q=0!=Y?null:11>q?ee.f.RGBA.eb:ee.f.kb.y}else q=null;return q};var oV=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(te,Re){for(var G="",J=0;J<4;J++)G+=String.fromCharCode(te[Re++]);return G}function d(te,Re){return te[Re+0]|te[Re+1]<<8}function g(te,Re){return(te[Re+0]|te[Re+1]<<8|te[Re+2]<<16)>>>0}function y(te,Re){return(te[Re+0]|te[Re+1]<<8|te[Re+2]<<16|te[Re+3]<<24)>>>0}new l;var m=[0],B=[0],D=[],I=new l,F=t,R=function(te,Re){var G={},J=0,Ee=!1,Se=0,tt=0;if(G.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(W,pe){for(var ye=0;ye<4;ye++)if(W[pe+ye]!="RIFF".charCodeAt(ye))return!0;return!1}(te,Re)){for(y(te,Re+=4),Re+=8;Re<te.length;){var Le=u(te,Re),ze=y(te,Re+=4);Re+=4;var Ue=ze+(1&ze);switch(Le){case"VP8 ":case"VP8L":void 0===G.frames[J]&&(G.frames[J]={}),(kt=G.frames[J]).src_off=Ee?tt:Re-8,kt.src_size=Se+ze+8,J++,Ee&&(Ee=!1,Se=0,tt=0);break;case"VP8X":(kt=G.header={}).feature_flags=te[Re];var et=Re+4;kt.canvas_width=1+g(te,et),kt.canvas_height=1+g(te,et+=3),et+=3;break;case"ALPH":Ee=!0,Se=Ue+8,tt=Re-8;break;case"ANIM":(kt=G.header).bgcolor=y(te,Re),kt.loop_count=d(te,et=Re+4),et+=2;break;case"ANMF":var Qt,kt;(kt=G.frames[J]={}).offset_x=2*g(te,Re),kt.offset_y=2*g(te,Re+=3),kt.width=1+g(te,Re+=3),kt.height=1+g(te,Re+=3),kt.duration=g(te,Re+=3),Re+=3,Qt=te[Re++],kt.dispose=1&Qt,kt.blend=Qt>>1&1}"ANMF"!=Le&&(Re+=Ue)}return G}}(F,0);R.response=F,R.rgbaoutput=!0,R.dataurl=!1;var H=R.header?R.header:null,z=R.frames?R.frames:null;if(H){H.loop_counter=H.loop_count,m=[H.canvas_height],B=[H.canvas_width];for(var ie=0;ie<z.length&&0!=z[ie].blend;ie++);}var be=z[0],Be=I.WebPDecodeRGBA(F,be.src_off,be.src_size,B,m);be.rgba=Be,be.imgwidth=B[0],be.imgheight=m[0];for(var se=0;se<B[0]*m[0]*4;se++)D[se]=Be[se];return this.width=B,this.height=m,this.data=D,this}function Bde(){var t,e=unescape(encodeURIComponent(this.internal.__metadata__.metadata));t=this.internal.__metadata__.rawXml?e:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function Dde(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var n,e,i,r,o,s,a,l,u,d=function(W){return this.isStrokeTransparent=(W=W||{}).isStrokeTransparent||!1,this.strokeOpacity=W.strokeOpacity||1,this.strokeStyle=W.strokeStyle||"#000000",this.fillStyle=W.fillStyle||"#000000",this.isFillTransparent=W.isFillTransparent||!1,this.fillOpacity=W.fillOpacity||1,this.font=W.font||"10px sans-serif",this.textBaseline=W.textBaseline||"alphabetic",this.textAlign=W.textAlign||"left",this.lineWidth=W.lineWidth||1,this.lineJoin=W.lineJoin||"miter",this.lineCap=W.lineCap||"butt",this.path=W.path||[],this.transform=void 0!==W.transform?W.transform.clone():new l,this.globalCompositeOperation=W.globalCompositeOperation||"normal",this.globalAlpha=W.globalAlpha||1,this.clip_path=W.clip_path||[],this.currentPoint=W.currentPoint||new s,this.miterLimit=W.miterLimit||10,this.lastPoint=W.lastPoint||new s,this.lineDashOffset=W.lineDashOffset||0,this.lineDash=W.lineDash||[],this.margin=W.margin||[0,0,0,0],this.prevPageLastElemOffset=W.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof W.ignoreClearRect||W.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),n=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var g=function(W){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var pe=W;Object.defineProperty(this,"pdf",{get:function(){return pe}});var ye=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ye},set:function(Ae){ye=!!Ae}});var Qe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Qe},set:function(Ae){Qe=!!Ae}});var $e=0;Object.defineProperty(this,"posX",{get:function(){return $e},set:function(Ae){isNaN(Ae)||($e=Ae)}});var rt=0;Object.defineProperty(this,"posY",{get:function(){return rt},set:function(Ae){isNaN(Ae)||(rt=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ae){var _n;"number"==typeof Ae?_n=[Ae,Ae,Ae,Ae]:((_n=new Array(4))[0]=Ae[0],_n[1]=Ae.length>=2?Ae[1]:_n[0],_n[2]=Ae.length>=3?Ae[2]:_n[0],_n[3]=Ae.length>=4?Ae[3]:_n[1]),u.margin=_n}});var yt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return yt},set:function(Ae){yt=Ae}});var _t=0;Object.defineProperty(this,"lastBreak",{get:function(){return _t},set:function(Ae){_t=Ae}});var Tt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Tt},set:function(Ae){Tt=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ae){Ae instanceof d&&(u=Ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ae){u.path=Ae}});var Xt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xt},set:function(Ae){Xt=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var _n;_n=y(Ae),this.ctx.fillStyle=_n.style,this.ctx.isFillTransparent=0===_n.a,this.ctx.fillOpacity=_n.a,this.pdf.setFillColor(_n.r,_n.g,_n.b,{a:_n.a}),this.pdf.setTextColor(_n.r,_n.g,_n.b,{a:_n.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var _n=y(Ae);this.ctx.strokeStyle=_n.style,this.ctx.isStrokeTransparent=0===_n.a,this.ctx.strokeOpacity=_n.a,0===_n.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(_n.r,_n.g,_n.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){-1!==["butt","round","square"].indexOf(Ae)&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){-1!==["bevel","round","miter"].indexOf(Ae)&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){-1!==["right","end","center","left","start"].indexOf(Ae)&&(this.ctx.textAlign=Ae)}});var vn=null,gn=null,qn=null;Object.defineProperty(this,"fontFaces",{get:function(){return qn},set:function(Ae){vn=null,gn=null,qn=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var _n;if(this.ctx.font=Ae,null!==(_n=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Ae))){var Zi=_n[1],si=_n[3],Yt=_n[4],ai=_n[6],On=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Yt)[2];Yt=Math.floor("px"===On?parseFloat(Yt)*this.pdf.internal.scaleFactor:"em"===On?parseFloat(Yt)*this.pdf.getFontSize():parseFloat(Yt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Yt);var oi=function($n){var fs,Dr,nr=[],ir=$n.trim();if(""===ir)return aP;if(ir in NQ)return[NQ[ir]];for(;""!==ir;){switch(Dr=null,fs=(ir=UQ(ir)).charAt(0)){case'"':case"'":Dr=yde(ir.substring(1),fs);break;default:Dr=bde(ir)}if(null===Dr||(nr.push(Dr[0]),""!==(ir=UQ(Dr[1]))&&","!==ir.charAt(0)))return aP;ir=ir.replace(/^,/,"")}return nr}(ai);if(this.fontFaces){var dr=function($n,fs,Dr){for(var nr=(Dr=Dr||{}).defaultFontFamily||"times",ir=Object.assign({},_de,Dr.genericFontFamilies||{}),To=null,ni=null,go=0;go<fs.length;++go)if(ir[(To=sP(fs[go])).family]&&(To.family=ir[To.family]),$n.hasOwnProperty(To.family)){ni=$n[To.family];break}if(!(ni=ni||$n[nr]))throw new Error("Could not find a font-family for the rule '"+RQ(To)+"' and default family '"+nr+"'.");if(ni=function(fi,Ni){if(Ni[fi])return Ni[fi];var Lo=oP[fi],Ai=LQ(Ni,FQ,Lo,Lo<=oP.normal?-1:1);if(!Ai)throw new Error("Could not find a matching font-stretch value for "+fi);return Ai}(To.stretch,ni),ni=function(fi,Ni){if(Ni[fi])return Ni[fi];for(var Lo=kQ[fi],or=0;or<Lo.length;++or)if(Ni[Lo[or]])return Ni[Lo[or]];throw new Error("Could not find a matching font-style for "+fi)}(To.style,ni),!(ni=function(fi,Ni){if(Ni[fi])return Ni[fi];if(400===fi&&Ni[500])return Ni[500];if(500===fi&&Ni[400])return Ni[400];var or=LQ(Ni,TQ,vde[fi],fi<400?-1:1);if(!or)throw new Error("Could not find a matching font-weight for value "+fi);return or}(To.weight,ni)))throw new Error("Failed to resolve a font for the rule '"+RQ(To)+"'.");return ni}(function($n,fs){var To,ni,Dr=$n.getFontList(),nr=JSON.stringify(Dr);if(null===vn||gn!==nr){var ir=(To=Dr,ni=[],Object.keys(To).forEach(function(go){To[go].forEach(function(fi){var Ni=null;switch(fi){case"bold":Ni={family:go,weight:"bold"};break;case"italic":Ni={family:go,style:"italic"};break;case"bolditalic":Ni={family:go,weight:"bold",style:"italic"};break;case"":case"normal":Ni={family:go}}null!==Ni&&(Ni.ref={name:go,style:fi},ni.push(Ni))})}),ni);vn=function(To){for(var ni={},go=0;go<To.length;++go){var fi=sP(To[go]),Ni=fi.family,Lo=fi.stretch,or=fi.style,Ai=fi.weight;ni[Ni]=ni[Ni]||{},ni[Ni][Lo]=ni[Ni][Lo]||{},ni[Ni][Lo][or]=ni[Ni][Lo][or]||{},ni[Ni][Lo][or][Ai]=fi}return ni}(ir.concat(fs)),gn=nr}return vn}(this.pdf,this.fontFaces),oi.map(function($n){return{family:$n,stretch:"normal",weight:si,style:Zi}}));this.pdf.setFont(dr.ref.name,dr.ref.style)}else{var Li="";("bold"===si||parseInt(si,10)>=700||"bold"===Zi)&&(Li="bold"),"italic"===Zi&&(Li+="italic"),0===Li.length&&(Li="normal");for(var vr="",hr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qn=0;Qn<oi.length;Qn++){if(void 0!==this.pdf.internal.getFont(oi[Qn],Li,{noFallback:!0,disableWarning:!0})){vr=oi[Qn];break}if("bolditalic"===Li&&void 0!==this.pdf.internal.getFont(oi[Qn],"bold",{noFallback:!0,disableWarning:!0}))vr=oi[Qn],Li="bold";else if(void 0!==this.pdf.internal.getFont(oi[Qn],"normal",{noFallback:!0,disableWarning:!0})){vr=oi[Qn],Li="normal";break}}if(""===vr)for(var Vi=0;Vi<oi.length;Vi++)if(hr[oi[Vi]]){vr=hr[oi[Vi]];break}this.pdf.setFont(vr=""===vr?"Times":vr,Li)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,kt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,kt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};g.prototype.setLineDash=function(W){this.lineDash=W},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){z.call(this,"fill",!1)},g.prototype.stroke=function(){z.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(W,pe){if(isNaN(W)||isNaN(pe))throw so.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ye=this.ctx.transform.applyToPoint(new s(W,pe));this.path.push({type:"mt",x:ye.x,y:ye.y}),this.ctx.lastPoint=new s(W,pe)},g.prototype.closePath=function(){var W=new s(0,0),pe=0;for(pe=this.path.length-1;-1!==pe;pe--)if("begin"===this.path[pe].type&&"object"===Zr(this.path[pe+1])&&"number"==typeof this.path[pe+1].x){W=new s(this.path[pe+1].x,this.path[pe+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(W.x,W.y)},g.prototype.lineTo=function(W,pe){if(isNaN(W)||isNaN(pe))throw so.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ye=this.ctx.transform.applyToPoint(new s(W,pe));this.path.push({type:"lt",x:ye.x,y:ye.y}),this.ctx.lastPoint=new s(ye.x,ye.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},g.prototype.quadraticCurveTo=function(W,pe,ye,Qe){if(isNaN(ye)||isNaN(Qe)||isNaN(W)||isNaN(pe))throw so.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var $e=this.ctx.transform.applyToPoint(new s(ye,Qe)),rt=this.ctx.transform.applyToPoint(new s(W,pe));this.path.push({type:"qct",x1:rt.x,y1:rt.y,x:$e.x,y:$e.y}),this.ctx.lastPoint=new s($e.x,$e.y)},g.prototype.bezierCurveTo=function(W,pe,ye,Qe,$e,rt){if(isNaN($e)||isNaN(rt)||isNaN(W)||isNaN(pe)||isNaN(ye)||isNaN(Qe))throw so.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var yt=this.ctx.transform.applyToPoint(new s($e,rt)),_t=this.ctx.transform.applyToPoint(new s(W,pe)),Tt=this.ctx.transform.applyToPoint(new s(ye,Qe));this.path.push({type:"bct",x1:_t.x,y1:_t.y,x2:Tt.x,y2:Tt.y,x:yt.x,y:yt.y}),this.ctx.lastPoint=new s(yt.x,yt.y)},g.prototype.arc=function(W,pe,ye,Qe,$e,rt){if(isNaN(W)||isNaN(pe)||isNaN(ye)||isNaN(Qe)||isNaN($e))throw so.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(rt=!!rt,!this.ctx.transform.isIdentity){var yt=this.ctx.transform.applyToPoint(new s(W,pe));W=yt.x,pe=yt.y;var _t=this.ctx.transform.applyToPoint(new s(0,ye)),Tt=this.ctx.transform.applyToPoint(new s(0,0));ye=Math.sqrt(Math.pow(_t.x-Tt.x,2)+Math.pow(_t.y-Tt.y,2))}Math.abs($e-Qe)>=2*Math.PI&&(Qe=0,$e=2*Math.PI),this.path.push({type:"arc",x:W,y:pe,radius:ye,startAngle:Qe,endAngle:$e,counterclockwise:rt})},g.prototype.arcTo=function(W,pe,ye,Qe,$e){throw new Error("arcTo not implemented.")},g.prototype.rect=function(W,pe,ye,Qe){if(isNaN(W)||isNaN(pe)||isNaN(ye)||isNaN(Qe))throw so.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(W,pe),this.lineTo(W+ye,pe),this.lineTo(W+ye,pe+Qe),this.lineTo(W,pe+Qe),this.lineTo(W,pe),this.lineTo(W+ye,pe),this.lineTo(W,pe)},g.prototype.fillRect=function(W,pe,ye,Qe){if(isNaN(W)||isNaN(pe)||isNaN(ye)||isNaN(Qe))throw so.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var $e={};"butt"!==this.lineCap&&($e.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&($e.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(W,pe,ye,Qe),this.fill(),$e.hasOwnProperty("lineCap")&&(this.lineCap=$e.lineCap),$e.hasOwnProperty("lineJoin")&&(this.lineJoin=$e.lineJoin)}},g.prototype.strokeRect=function(W,pe,ye,Qe){if(isNaN(W)||isNaN(pe)||isNaN(ye)||isNaN(Qe))throw so.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");B.call(this)||(this.beginPath(),this.rect(W,pe,ye,Qe),this.stroke())},g.prototype.clearRect=function(W,pe,ye,Qe){if(isNaN(W)||isNaN(pe)||isNaN(ye)||isNaN(Qe))throw so.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(W,pe,ye,Qe))},g.prototype.save=function(W){W="boolean"!=typeof W||W;for(var pe=this.pdf.internal.getCurrentPageInfo().pageNumber,ye=0;ye<this.pdf.internal.getNumberOfPages();ye++)this.pdf.setPage(ye+1),this.pdf.internal.out("q");if(this.pdf.setPage(pe),W){this.ctx.fontSize=this.pdf.internal.getFontSize();var Qe=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Qe}},g.prototype.restore=function(W){W="boolean"!=typeof W||W;for(var pe=this.pdf.internal.getCurrentPageInfo().pageNumber,ye=0;ye<this.pdf.internal.getNumberOfPages();ye++)this.pdf.setPage(ye+1),this.pdf.internal.out("Q");this.pdf.setPage(pe),W&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(W){var pe,ye,Qe,$e;if(!0===W.isCanvasGradient&&(W=W.getColor()),!W)return{r:0,g:0,b:0,a:0,style:W};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(W))pe=0,ye=0,Qe=0,$e=0;else{var rt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(W);if(null!==rt)pe=parseInt(rt[1]),ye=parseInt(rt[2]),Qe=parseInt(rt[3]),$e=1;else if(null!==(rt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(W)))pe=parseInt(rt[1]),ye=parseInt(rt[2]),Qe=parseInt(rt[3]),$e=parseFloat(rt[4]);else{if($e=1,"string"==typeof W&&"#"!==W.charAt(0)){var yt=new bQ(W);W=yt.ok?yt.toHex():"#000000"}4===W.length?(pe=W.substring(1,2),pe+=pe,ye=W.substring(2,3),ye+=ye,Qe=W.substring(3,4),Qe+=Qe):(pe=W.substring(1,3),ye=W.substring(3,5),Qe=W.substring(5,7)),pe=parseInt(pe,16),ye=parseInt(ye,16),Qe=parseInt(Qe,16)}}return{r:pe,g:ye,b:Qe,a:$e,style:W}},m=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},B=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};g.prototype.fillText=function(W,pe,ye,Qe){if(isNaN(pe)||isNaN(ye)||"string"!=typeof W)throw so.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Qe=isNaN(Qe)?void 0:Qe,!m.call(this)){var $e=Ue(this.ctx.transform.rotation);J.call(this,{text:W,x:pe,y:ye,scale:this.ctx.transform.scaleX,angle:$e,align:this.textAlign,maxWidth:Qe})}},g.prototype.strokeText=function(W,pe,ye,Qe){if(isNaN(pe)||isNaN(ye)||"string"!=typeof W)throw so.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!B.call(this)){Qe=isNaN(Qe)?void 0:Qe;var $e=Ue(this.ctx.transform.rotation);J.call(this,{text:W,x:pe,y:ye,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:$e,align:this.textAlign,maxWidth:Qe})}},g.prototype.measureText=function(W){if("string"!=typeof W)throw so.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var pe=this.pdf,ye=this.pdf.internal.scaleFactor,Qe=pe.internal.getFontSize(),$e=pe.getStringUnitWidth(W)*Qe/pe.internal.scaleFactor;return new function(rt){var yt=(rt=rt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return yt}}),this}({width:$e*=Math.round(96*ye/72*1e4)/1e4})},g.prototype.scale=function(W,pe){if(isNaN(W)||isNaN(pe))throw so.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ye=new l(W,0,0,pe,0,0);this.ctx.transform=this.ctx.transform.multiply(ye)},g.prototype.rotate=function(W){if(isNaN(W))throw so.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var pe=new l(Math.cos(W),Math.sin(W),-Math.sin(W),Math.cos(W),0,0);this.ctx.transform=this.ctx.transform.multiply(pe)},g.prototype.translate=function(W,pe){if(isNaN(W)||isNaN(pe))throw so.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ye=new l(1,0,0,1,W,pe);this.ctx.transform=this.ctx.transform.multiply(ye)},g.prototype.transform=function(W,pe,ye,Qe,$e,rt){if(isNaN(W)||isNaN(pe)||isNaN(ye)||isNaN(Qe)||isNaN($e)||isNaN(rt))throw so.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var yt=new l(W,pe,ye,Qe,$e,rt);this.ctx.transform=this.ctx.transform.multiply(yt)},g.prototype.setTransform=function(W,pe,ye,Qe,$e,rt){W=isNaN(W)?1:W,pe=isNaN(pe)?0:pe,ye=isNaN(ye)?0:ye,Qe=isNaN(Qe)?1:Qe,$e=isNaN($e)?0:$e,rt=isNaN(rt)?0:rt,this.ctx.transform=new l(W,pe,ye,Qe,$e,rt)};var D=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(W,pe,ye,Qe,$e,rt,yt,_t,Tt){var Xt=this.pdf.getImageProperties(W),vn=1,gn=1,qn=1,Ae=1;void 0!==Qe&&void 0!==_t&&(qn=_t/Qe,Ae=Tt/$e,vn=Xt.width/Qe*_t/Qe,gn=Xt.height/$e*Tt/$e),void 0===rt&&(rt=pe,yt=ye,pe=0,ye=0),void 0!==Qe&&void 0===_t&&(_t=Qe,Tt=$e),void 0===Qe&&void 0===_t&&(_t=Xt.width,Tt=Xt.height);var _n=this.ctx.transform.decompose(),Zi=Ue(_n.rotate.shx),si=new l,Yt=(si=(si=(si=si.multiply(_n.translate)).multiply(_n.skew)).multiply(_n.scale)).applyToRectangle(new a(rt-pe*qn,yt-ye*Ae,Qe*vn,$e*gn));if(this.autoPaging){for(var ai,On=I.call(this,Yt),oi=[],Jn=0;Jn<On.length;Jn+=1)-1===oi.indexOf(On[Jn])&&oi.push(On[Jn]);H(oi);for(var Qr=oi[0],dr=oi[oi.length-1],Li=Qr;Li<dr+1;Li++){this.pdf.setPage(Li);var vr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hr=1===Li?this.posY+this.margin[0]:this.margin[0],Vi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$n=1===Li?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Li-2)*Vi;if(0!==this.ctx.clip_path.length){var fs=this.path;ai=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(ai,this.posX+this.margin[3],-$n+hr+this.ctx.prevPageLastElemOffset),ie.call(this,"fill",!0),this.path=fs}var Dr=JSON.parse(JSON.stringify(Yt));Dr=R([Dr],this.posX+this.margin[3],-$n+hr+this.ctx.prevPageLastElemOffset)[0];var nr=(Li>Qr||Li<dr)&&D.call(this);nr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vr,Vi,null).clip().discardPath()),this.pdf.addImage(W,"JPEG",Dr.x,Dr.y,Dr.w,Dr.h,null,null,Zi),nr&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(W,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,Zi)};var I=function(W,pe,ye){var Qe=[];pe=pe||this.pdf.internal.pageSize.width,ye=ye||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var $e=this.posY+this.ctx.prevPageLastElemOffset;switch(W.type){default:case"mt":case"lt":Qe.push(Math.floor((W.y+$e)/ye)+1);break;case"arc":Qe.push(Math.floor((W.y+$e-W.radius)/ye)+1),Qe.push(Math.floor((W.y+$e+W.radius)/ye)+1);break;case"qct":var rt=et(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x,W.y);Qe.push(Math.floor((rt.y+$e)/ye)+1),Qe.push(Math.floor((rt.y+rt.h+$e)/ye)+1);break;case"bct":var yt=Qt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x2,W.y2,W.x,W.y);Qe.push(Math.floor((yt.y+$e)/ye)+1),Qe.push(Math.floor((yt.y+yt.h+$e)/ye)+1);break;case"rect":Qe.push(Math.floor((W.y+$e)/ye)+1),Qe.push(Math.floor((W.y+W.h+$e)/ye)+1)}for(var _t=0;_t<Qe.length;_t+=1)for(;this.pdf.internal.getNumberOfPages()<Qe[_t];)F.call(this);return Qe},F=function(){var W=this.fillStyle,pe=this.strokeStyle,ye=this.font,Qe=this.lineCap,$e=this.lineWidth,rt=this.lineJoin;this.pdf.addPage(),this.fillStyle=W,this.strokeStyle=pe,this.font=ye,this.lineCap=Qe,this.lineWidth=$e,this.lineJoin=rt},R=function(W,pe,ye){for(var Qe=0;Qe<W.length;Qe++)switch(W[Qe].type){case"bct":W[Qe].x2+=pe,W[Qe].y2+=ye;case"qct":W[Qe].x1+=pe,W[Qe].y1+=ye;default:W[Qe].x+=pe,W[Qe].y+=ye}return W},H=function(W){return W.sort(function(pe,ye){return pe-ye})},z=function(W,pe){var ye=this.fillStyle,Qe=this.strokeStyle,$e=this.lineCap,rt=this.lineWidth,yt=Math.abs(rt*this.ctx.transform.scaleX),_t=this.lineJoin;if(this.autoPaging){for(var Tt,Xt,vn=JSON.parse(JSON.stringify(this.path)),gn=JSON.parse(JSON.stringify(this.path)),qn=[],Ae=0;Ae<gn.length;Ae++)if(void 0!==gn[Ae].x)for(var _n=I.call(this,gn[Ae]),Zi=0;Zi<_n.length;Zi+=1)-1===qn.indexOf(_n[Zi])&&qn.push(_n[Zi]);for(var si=0;si<qn.length;si++)for(;this.pdf.internal.getNumberOfPages()<qn[si];)F.call(this);H(qn);for(var Yt=qn[0],ai=qn[qn.length-1],On=Yt;On<ai+1;On++){this.pdf.setPage(On),this.fillStyle=ye,this.strokeStyle=Qe,this.lineCap=$e,this.lineWidth=yt,this.lineJoin=_t;var oi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Jn=1===On?this.posY+this.margin[0]:this.margin[0],dr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Li=1===On?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(On-2)*dr;if(0!==this.ctx.clip_path.length){var vr=this.path;Tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Tt,this.posX+this.margin[3],-Li+Jn+this.ctx.prevPageLastElemOffset),ie.call(this,W,!0),this.path=vr}if(Xt=JSON.parse(JSON.stringify(vn)),this.path=R(Xt,this.posX+this.margin[3],-Li+Jn+this.ctx.prevPageLastElemOffset),!1===pe||0===On){var hr=(On>Yt||On<ai)&&D.call(this);hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oi,dr,null).clip().discardPath()),ie.call(this,W,pe),hr&&this.pdf.restoreGraphicsState()}this.lineWidth=rt}this.path=vn}else this.lineWidth=yt,ie.call(this,W,pe),this.lineWidth=rt},ie=function(W,pe){if(("stroke"!==W||pe||!B.call(this))&&("stroke"===W||pe||!m.call(this))){for(var ye,Qe,$e=[],rt=this.path,yt=0;yt<rt.length;yt++){var _t=rt[yt];switch(_t.type){case"begin":$e.push({begin:!0});break;case"close":$e.push({close:!0});break;case"mt":$e.push({start:_t,deltas:[],abs:[]});break;case"lt":var Tt=$e.length;if(rt[yt-1]&&!isNaN(rt[yt-1].x)&&(ye=[_t.x-rt[yt-1].x,_t.y-rt[yt-1].y],Tt>0))for(;Tt>=0;Tt--)if(!0!==$e[Tt-1].close&&!0!==$e[Tt-1].begin){$e[Tt-1].deltas.push(ye),$e[Tt-1].abs.push(_t);break}break;case"bct":$e[$e.length-1].deltas.push(ye=[_t.x1-rt[yt-1].x,_t.y1-rt[yt-1].y,_t.x2-rt[yt-1].x,_t.y2-rt[yt-1].y,_t.x-rt[yt-1].x,_t.y-rt[yt-1].y]);break;case"qct":$e[$e.length-1].deltas.push(ye=[rt[yt-1].x+2/3*(_t.x1-rt[yt-1].x)-rt[yt-1].x,rt[yt-1].y+2/3*(_t.y1-rt[yt-1].y)-rt[yt-1].y,_t.x+2/3*(_t.x1-_t.x)-rt[yt-1].x,_t.y+2/3*(_t.y1-_t.y)-rt[yt-1].y,_t.x-rt[yt-1].x,_t.y-rt[yt-1].y]);break;case"arc":$e.push({deltas:[],abs:[],arc:!0}),Array.isArray($e[$e.length-1].abs)&&$e[$e.length-1].abs.push(_t)}}Qe=pe?null:"stroke"===W?"stroke":"fill";for(var Zi=!1,si=0;si<$e.length;si++)if($e[si].arc)for(var Yt=$e[si].abs,ai=0;ai<Yt.length;ai++){var On=Yt[ai];"arc"===On.type?se.call(this,On.x,On.y,On.radius,On.startAngle,On.endAngle,On.counterclockwise,void 0,pe,!Zi):Ee.call(this,On.x,On.y),Zi=!0}else!0===$e[si].close?(this.pdf.internal.out("h"),Zi=!1):!0!==$e[si].begin&&(Se.call(this,$e[si].deltas,$e[si].start.x,$e[si].start.y),Zi=!0);Qe&&te.call(this,Qe),pe&&Re.call(this)}},be=function(W){var pe=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ye=pe*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return W-ye;case"top":return W+pe-ye;case"hanging":return W+pe-2*ye;case"middle":return W+pe/2-ye;default:return W}},Be=function(W){return W+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var W=function(){};return W.colorStops=[],W.addColorStop=function(pe,ye){this.colorStops.push([pe,ye])},W.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},W.isCanvasGradient=!0,W},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var se=function(W,pe,ye,Qe,$e,rt,yt,_t,Tt){for(var Xt=Le.call(this,ye,Qe,$e,rt),vn=0;vn<Xt.length;vn++){var gn=Xt[vn];0===vn&&(Tt?G.call(this,gn.x1+W,gn.y1+pe):Ee.call(this,gn.x1+W,gn.y1+pe)),tt.call(this,W,pe,gn.x2,gn.y2,gn.x3,gn.y3,gn.x4,gn.y4)}_t?Re.call(this):te.call(this,yt)},te=function(W){switch(W){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Re=function(){this.pdf.clip(),this.pdf.discardPath()},G=function(W,pe){this.pdf.internal.out(e(W)+" "+i(pe)+" m")},J=function(W){var pe;switch(W.align){case"right":case"end":pe="right";break;case"center":pe="center";break;default:pe="left"}var ye,Qe,$e,rt=this.pdf.getTextDimensions(W.text),yt=be.call(this,W.y),_t=Be.call(this,yt)-rt.h,Tt=this.ctx.transform.applyToPoint(new s(W.x,yt));if(this.autoPaging){var Xt=this.ctx.transform.decompose(),vn=new l;vn=(vn=(vn=vn.multiply(Xt.translate)).multiply(Xt.skew)).multiply(Xt.scale);for(var gn=this.ctx.transform.applyToRectangle(new a(W.x,yt,rt.w,rt.h)),qn=vn.applyToRectangle(new a(W.x,_t,rt.w,rt.h)),Ae=I.call(this,qn),_n=[],Zi=0;Zi<Ae.length;Zi+=1)-1===_n.indexOf(Ae[Zi])&&_n.push(Ae[Zi]);H(_n);for(var si=_n[0],Yt=_n[_n.length-1],ai=si;ai<Yt+1;ai++){this.pdf.setPage(ai);var On=1===ai?this.posY+this.margin[0]:this.margin[0],Jn=this.pdf.internal.pageSize.height-this.margin[2],Qr=Jn-this.margin[0],dr=this.pdf.internal.pageSize.width-this.margin[1],Li=dr-this.margin[3],vr=1===ai?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(ai-2)*Qr;if(0!==this.ctx.clip_path.length){var hr=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(ye,this.posX+this.margin[3],-1*vr+On),ie.call(this,"fill",!0),this.path=hr}var Qn=R([JSON.parse(JSON.stringify(qn))],this.posX+this.margin[3],-vr+On+this.ctx.prevPageLastElemOffset)[0];W.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*W.scale),this.lineWidth=($e=this.lineWidth)*W.scale);var Vi="text"!==this.autoPaging;if(Vi||Qn.y+Qn.h<=Jn){if(Vi||Qn.y>=On&&Qn.x<=dr){var $n=Vi?W.text:this.pdf.splitTextToSize(W.text,W.maxWidth||dr-Qn.x)[0],fs=R([JSON.parse(JSON.stringify(gn))],this.posX+this.margin[3],-vr+On+this.ctx.prevPageLastElemOffset)[0],Dr=Vi&&(ai>si||ai<Yt)&&D.call(this);Dr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Li,Qr,null).clip().discardPath()),this.pdf.text($n,fs.x,fs.y,{angle:W.angle,align:pe,renderingMode:W.renderingMode}),Dr&&this.pdf.restoreGraphicsState()}}else Qn.y<Jn&&(this.ctx.prevPageLastElemOffset+=Jn-Qn.y);W.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=$e)}}else W.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*W.scale),this.lineWidth=($e=this.lineWidth)*W.scale),this.pdf.text(W.text,Tt.x+this.posX,Tt.y+this.posY,{angle:W.angle,align:pe,renderingMode:W.renderingMode,maxWidth:W.maxWidth}),W.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=$e)},Ee=function(W,pe,ye,Qe){Qe=Qe||0,this.pdf.internal.out(e(W+(ye=ye||0))+" "+i(pe+Qe)+" l")},Se=function(W,pe,ye){return this.pdf.lines(W,pe,ye,null,null)},tt=function(W,pe,ye,Qe,$e,rt,yt,_t){this.pdf.internal.out([n(r(ye+W)),n(o(Qe+pe)),n(r($e+W)),n(o(rt+pe)),n(r(yt+W)),n(o(_t+pe)),"c"].join(" "))},Le=function(W,pe,ye,Qe){for(var $e=2*Math.PI,rt=Math.PI/2;pe>ye;)pe-=$e;var yt=Math.abs(ye-pe);yt<$e&&Qe&&(yt=$e-yt);for(var _t=[],Tt=Qe?-1:1,Xt=pe;yt>1e-5;){var vn=Xt+Tt*Math.min(yt,rt);_t.push(ze.call(this,W,Xt,vn)),yt-=Math.abs(vn-Xt),Xt=vn}return _t},ze=function(W,pe,ye){var Qe=(ye-pe)/2,$e=W*Math.cos(Qe),rt=W*Math.sin(Qe),yt=$e,_t=-rt,Tt=yt*yt+_t*_t,Xt=Tt+yt*$e+_t*rt,vn=4/3*(Math.sqrt(2*Tt*Xt)-Xt)/(yt*rt-_t*$e),gn=yt-vn*_t,qn=_t+vn*yt,Ae=gn,_n=-qn,Zi=Qe+pe,si=Math.cos(Zi),Yt=Math.sin(Zi);return{x1:W*Math.cos(pe),y1:W*Math.sin(pe),x2:gn*si-qn*Yt,y2:gn*Yt+qn*si,x3:Ae*si-_n*Yt,y3:Ae*Yt+_n*si,x4:W*Math.cos(ye),y4:W*Math.sin(ye)}},Ue=function(W){return 180*W/Math.PI},et=function(W,pe,ye,Qe,$e,rt){var yt=W+.5*(ye-W),_t=pe+.5*(Qe-pe),Tt=$e+.5*(ye-$e),Xt=rt+.5*(Qe-rt),vn=Math.min(W,$e,yt,Tt),gn=Math.max(W,$e,yt,Tt),qn=Math.min(pe,rt,_t,Xt),Ae=Math.max(pe,rt,_t,Xt);return new a(vn,qn,gn-vn,Ae-qn)},Qt=function(W,pe,ye,Qe,$e,rt,yt,_t){var Tt,Xt,vn,gn,qn,Ae,_n,Zi,si,Yt,ai,On,oi,Jn,Qr=ye-W,dr=Qe-pe,Li=$e-ye,vr=rt-Qe,hr=yt-$e,Qn=_t-rt;for(Xt=0;Xt<41;Xt++)si=(_n=(vn=W+(Tt=Xt/40)*Qr)+Tt*((qn=ye+Tt*Li)-vn))+Tt*(qn+Tt*($e+Tt*hr-qn)-_n),Yt=(Zi=(gn=pe+Tt*dr)+Tt*((Ae=Qe+Tt*vr)-gn))+Tt*(Ae+Tt*(rt+Tt*Qn-Ae)-Zi),0==Xt?(ai=si,On=Yt,oi=si,Jn=Yt):(ai=Math.min(ai,si),On=Math.min(On,Yt),oi=Math.max(oi,si),Jn=Math.max(Jn,Yt));return new a(Math.round(ai),Math.round(On),Math.round(oi-ai),Math.round(Jn-On))},kt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ye=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==ye&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ye)}}})(kn.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var n=function(s){var a,l,u,d,g,y,m,B,D,I;for(/[^\x00-\xFF]/.test(s),l=[],u=0,d=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)0!==(g=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))?(y=(g=((g=((g=((g=(g-(I=g%85))/85)-(D=g%85))/85)-(B=g%85))/85)-(m=g%85))/85)%85,l.push(y+33,m+33,B+33,D+33,I+33)):l.push(122);return function(F,R){for(var H=R;H>0;H--)F.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},e=function(s){var a,l,u,d,g,y=String,m="length",B=255,D="charCodeAt",I="slice",F="replace";for(s[I](-2),s=s[I](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),u=[],d=0,g=(s+=a="uuuuu"[I](s[m]%5||5))[m];g>d;d+=5)l=52200625*(s[D](d)-33)+614125*(s[D](d+1)-33)+7225*(s[D](d+2)-33)+85*(s[D](d+3)-33)+(s[D](d+4)-33),u.push(B&l>>24,B&l>>16,B&l>>8,B&l);return function(R,H){for(var z=H;z>0;z--)R.pop()}(u,a[m]),y.fromCharCode.apply(y,u)},i=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===a.test(s))return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=Ey(a)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,a){var l=0,u=s||"",d=[];for("string"==typeof(a=a||[])&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=n(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=i(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=o(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(kn.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){t.loadFile=function(n,e,i){return function(r,o,s){o=!1!==o,s="function"==typeof s?s:function(){};var a=void 0;try{a=function(l,u,d){var g=new XMLHttpRequest,y=0,m=function(B){var D=B.length,I=[],F=String.fromCharCode;for(y=0;y<D;y+=1)I.push(F(255&B.charCodeAt(y)));return I.join("")};if(g.open("GET",l,!u),g.overrideMimeType("text/plain; charset=x-user-defined"),!1===u&&(g.onload=function(){d(200===g.status?m(this.responseText):void 0)}),g.send(null),u&&200===g.status)return m(g.responseText)}(r,o,s)}catch{}return a}(n,e,i)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(kn.API),function(t){function n(){return(Bi.html2canvas?Promise.resolve(Bi.html2canvas):Promise.resolve().then(Ve.t.bind(Ve,7239,23))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(Bi.DOMPurify?Promise.resolve(Bi.DOMPurify):Ve.e(627).then(Ve.bind(Ve,627))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var l=Zr(a);return"undefined"===l?"undefined":"string"===l||a instanceof String?"string":"number"===l||a instanceof Number?"number":"function"===l||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&1===a.nodeType?"element":"object"===l?"object":"unknown"},r=function(a,l){var u=document.createElement(a);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},o=function a(l,u){for(var d=3===l.nodeType?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)!0!==u&&1===g.nodeType&&"SCRIPT"===g.nodeName||d.appendChild(a(g,u));return 1===l.nodeType&&("CANVAS"===l.nodeName?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):"TEXTAREA"!==l.nodeName&&"SELECT"!==l.nodeName||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},s=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),u);return(d=d.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(i(u)){case"string":return"string";case"element":return"canvas"===u.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(e).then(function(u){return this.set({src:r("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===l.tagName&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(n).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(n).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,g="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var B=d[m],D=B.src.find(function(I){return"truetype"===I.format});D&&u.addFont(D.url,B.ref.name,B.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=0==y.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),l(this.prop.container,y)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,u){return"img"===(u=u||"pdf").toLowerCase()||"image"===u.toLowerCase()?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if("object"!==i(a))return this;var l=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(a=a||kn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,u,d){return null!=a&&(this.progress.val=a),null!=l&&(this.progress.state=l),null!=u&&(this.progress.n=u),null!=d&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,u,d){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(d,g){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,d),y}).then(d,g).then(function(y){return u.updateProgress(1),y})})},s.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var d=this;a&&(a=a.bind(d)),l&&(l=l.bind(d));var g=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?d:s.convert(Object.assign({},d),Promise.prototype),y=u.call(g,a,l);return s.convert(y,d.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,kn.getPageSize=function(a,l,u){if("object"===Zr(a)){var d=a;a=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var g,y=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var B,D=0,I=0;if(m.hasOwnProperty(y))D=m[y][1]/g,I=m[y][0]/g;else try{D=u[1],I=u[0]}catch{throw new Error("Invalid format: "+u)}if("p"===a||"portrait"===a)a="p",I>D&&(B=I,I=D,D=B);else{if("l"!==a&&"landscape"!==a)throw"Invalid orientation: "+a;a="l",D>I&&(B=I,I=D,D=B)}return{width:I,height:D,unit:l,k:g,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(sP):null;var u=new s(l);return l.worker?u:u.from(a).doCallback()}}(kn.API),kn.API.addJS=function(t){var n,e,i=t;return this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(n+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+i+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==n&&void 0!==e&&this.internal.out("/Names <</JavaScript "+n+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var n;t.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),o=0;o<r.length;o++){var s=r[o],a=i.exec(s);null!=a&&e.internal.newObjectDeferredBegin(a[1],!1),e.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(o=0;o<u;o++){var g=e.internal.newObject();d.push(g);var y=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var m=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<d.length;o++)e.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");e.internal.write(" ] >>","endobj"),n=e.internal.newObject(),e.internal.write("<< /Dests "+m+" 0 R"),e.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+n+" 0 R"))}]),t.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,o){var s={title:r,options:o,children:[]};return null==i&&(i=this.root),i.children.push(s),s},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var s=i.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var u=0;u<i.children.length;u++)this.renderItems(i.children[u])},e.outline.line=function(i){this.ctx.val+=i+"\r\n"},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+="\r\n"+i.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(i,r){for(var o=0;o<r.children.length;o++)i.count++,this.count_r(i,r.children[o]);return i.count}}])}(kn.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var n=[192,193,194,195,196,197,198,199];t.processJPEG=function(e,i,r,o,s,a){var l,u=this.decode.DCT_DECODE,d=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=this.__addimage__.isArrayBuffer(e=s||e)?new Uint8Array(e):e,(l=function(g){for(var y,m=256*g.charCodeAt(4)+g.charCodeAt(5),B=g.length,D={width:0,height:0,numcomponents:1},I=4;I<B;I+=2){if(-1!==n.indexOf(g.charCodeAt((I+=m)+1))){y=256*g.charCodeAt(I+5)+g.charCodeAt(I+6),D={width:256*g.charCodeAt(I+7)+g.charCodeAt(I+8),height:y,numcomponents:g.charCodeAt(I+9)};break}m=256*g.charCodeAt(I+2)+g.charCodeAt(I+3)}return D}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:e,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:i,alias:r}}return d}}(kn.API),kn.API.processPNG=function(t,n,e,i){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var r,g,y,m,o=function rde(t,n){return new ZAe(t,n).decode()}(t,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,d=o.depth,D=(r=o.palette&&1===l?function(se){for(var te=se.width,Re=se.height,G=se.data,J=se.palette,Ee=se.depth,Se=!1,tt=[],Le=[],ze=void 0,Ue=!1,et=0,Qt=0;Qt<J.length;Qt++){var kt=IU(J[Qt],4),Qe=kt[3];tt.push(kt[0],kt[1],kt[2]),null!=Qe&&(0===Qe?(et++,Le.length<1&&Le.push(Qt)):Qe<255&&(Ue=!0))}if(Ue||et>1){Se=!0,Le=void 0;var $e=te*Re;ze=new Uint8Array($e);for(var rt=new DataView(G.buffer),yt=0;yt<$e;yt++){var Tt=IU(J[lP(rt,yt,Ee)],4)[3];ze[yt]=Tt}}else 0===et&&(Le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Se?8:void 0,colorBytes:G,alphaBytes:ze,needSMask:Se,palette:tt,mask:Le}}(o):2===l||4===l?function(se){for(var te=se.data,J=se.channels,Ee=se.depth,Se=2===J?"DeviceGray":"DeviceRGB",tt=J-1,Le=se.width*se.height,ze=tt,et=1*Le,Qt=Math.ceil(Le*ze*Ee/8),kt=Math.ceil(et*Ee/8),W=new Uint8Array(Qt),pe=new Uint8Array(kt),ye=new DataView(te.buffer),Qe=new DataView(W.buffer),$e=new DataView(pe.buffer),rt=!1,yt=0;yt<Le;yt++){for(var _t=yt*J,Tt=0;Tt<ze;Tt++)$Q(Qe,lP(ye,_t+Tt,Ee),yt*ze+Tt,Ee);var Xt=lP(ye,_t+ze,Ee);Xt<(1<<Ee)-1&&(rt=!0),$Q($e,Xt,1*yt,Ee)}return{colorSpace:Se,colorsPerPixel:tt,sMaskBitsPerComponent:rt?Ee:void 0,colorBytes:W,alphaBytes:pe,needSMask:rt}}(o):{colorSpace:Re=1===(se=o).channels?"DeviceGray":"DeviceRGB",colorsPerPixel:"DeviceGray"===Re?1:3,colorBytes:(te=se.data)instanceof Uint16Array?function(G){for(var J=G.length,Ee=new Uint8Array(2*J),Se=new DataView(Ee.buffer,Ee.byteOffset,Ee.byteLength),tt=0;tt<J;tt++)Se.setUint16(2*tt,G[tt],!1);return Ee}(te):te,needSMask:!1}).colorSpace,I=r.colorsPerPixel,F=r.sMaskBitsPerComponent,R=r.colorBytes,H=r.alphaBytes,z=r.needSMask,ie=r.palette,be=r.mask,Be=null;return i!==kn.API.image_compression.NONE?(Be=function(se){var te;switch(se){case kn.API.image_compression.FAST:te=11;break;case kn.API.image_compression.MEDIUM:te=13;break;case kn.API.image_compression.SLOW:te=14;break;default:te=12}return te}(i),g=this.decode.FLATE_DECODE,y="/Predictor ".concat(Be," /Colors ").concat(I," /BitsPerComponent ").concat(d," /Columns ").concat(s),t=VQ(R,Math.ceil(s*I*d/8),I,d,i),z&&(m=VQ(H,Math.ceil(s*F/8),1,F,i))):(g=void 0,y=void 0,t=R,z&&(m=H)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:e,data:t,index:n,filter:g,decodeParameters:y,transparency:be,palette:ie,sMask:m,predictor:Be,width:s,height:a,bitsPerComponent:d,sMaskBitsPerComponent:F,colorSpace:D}}var se,te,Re},function(t){t.processGIF89A=function(n,e,i,r){var o=new Mde(n),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:a},d=new cP(100).encode(u,100);return t.processJPEG.call(this,d,e,i,r)},t.processGIF87A=t.processGIF89A}(kn.API),zu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var n=0;n<t;n++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:r,green:i,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zu.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,n=this.width*this.height*4;if(n>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(n);try{this[t]()}catch(e){so.log("bit decode error:"+e)}},zu.prototype.bit1=function(){var t,n=Math.ceil(this.width/8),e=n%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++)for(var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}0!==e&&(this.pos+=4-e)}},zu.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),n=t%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<t;r++){var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*r*4,l=15&o,u=this.palette[o>>4];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*r+1>=this.width)break;this.data[s+4]=(u=this.palette[l]).blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}0!==n&&(this.pos+=4-n)}},zu.prototype.bit8=function(){for(var t=this.width%4,n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*i;if(r<this.palette.length){var s=this.palette[r];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==t&&(this.pos+=4-t)}},zu.prototype.bit15=function(){for(var t=this.width%3,n=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&n)/n*255|0,a=(o>>5&n)/n*255|0,u=o>>15?255:0,d=i*this.width*4+4*r;this.data[d]=(o>>10&n)/n*255|0,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=u}this.pos+=t}},zu.prototype.bit16=function(){for(var t=this.width%3,n=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&n)/n*255|0,l=(s>>5&e)/e*255|0,d=r*this.width*4+4*o;this.data[d]=(s>>11)/n*255|0,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},zu.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*e;this.data[s]=o,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},zu.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var n=this.bottom_up?t:this.height-1-t,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*e;this.data[a]=o,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=s}},zu.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){t.processBMP=function(n,e,i,r){var o=new zu(n,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new cP(100).encode(l,100);return t.processJPEG.call(this,u,e,i,r)}}(kn.API),YQ.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){t.processWEBP=function(n,e,i,r){var o=new YQ(n),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new cP(100).encode(l,100);return t.processJPEG.call(this,u,e,i,r)}}(kn.API),kn.API.processRGBA=function(t,n,e){for(var i=t.data,r=i.length,o=new Uint8Array(r/4*3),s=new Uint8Array(r/4),a=0,l=0,u=0;u<r;u+=4){var g=i[u+1],y=i[u+2],m=i[u+3];o[a++]=i[u],o[a++]=g,o[a++]=y,s[l++]=m}var B=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:B,index:n,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},kn.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Qx=(S1=kn.API).getCharWidthsArray=function(t,n){var e,i,r=(n=n||{}).font||this.internal.getFont(),o=n.fontSize||this.internal.getFontSize(),s=n.charSpace||this.internal.getCharSpace(),a=n.widths?n.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,u=n.kerning?n.kerning:r.metadata.Unicode.kerning,d=u.fof?u.fof:1,g=!1!==n.doKerning,y=0,m=t.length,B=0,D=a[0]||l,I=[];for(e=0;e<m;e++)i=t.charCodeAt(e),"function"==typeof r.metadata.widthOfString?I.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+s*(1e3/o)||0)/1e3):(y=g&&"object"===Zr(u[i])&&!isNaN(parseInt(u[i][B],10))?u[i][B]/d:0,I.push((a[i]||D)/l+y)),B=i;return I},QQ=S1.getStringUnitWidth=function(t,n){var e=(n=n||{}).fontSize||this.internal.getFontSize(),i=n.font||this.internal.getFont(),r=n.charSpace||this.internal.getCharSpace();return S1.processArabic&&(t=S1.processArabic(t)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(t,e,r)/e:Qx.apply(this,arguments).reduce(function(o,s){return o+s},0)},HQ=function(t,n,e,i){for(var r=[],o=0,s=t.length,a=0;o!==s&&a+n[o]<e;)a+=n[o],o++;r.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+n[o]>i&&(r.push(t.slice(l,o)),a=0,l=o),a+=n[o],o++;return l!==o&&r.push(t.slice(l,o)),r},zQ=function(t,n,e){e||(e={});var i,r,o,s,a,l,d=[],g=[d],y=e.textIndent||0,m=0,B=0,D=t.split(" "),I=Qx.apply(this,[" ",e])[0];if(l=-1===e.lineIndent?D[0].length+2:e.lineIndent||0){var F=Array(l).join(" "),R=[];D.map(function(z){(z=z.split(/\s*\n/)).length>1?R=R.concat(z.map(function(ie,be){return(be&&ie.length?"\n":"")+ie})):R.push(z[0])}),D=R,l=QQ.apply(this,[F,e])}for(o=0,s=D.length;o<s;o++){var H=0;if(i=D[o],l&&"\n"==i[0]&&(i=i.substr(1),H=1),y+m+(B=(r=Qx.apply(this,[i,e])).reduce(function(z,ie){return z+ie},0))>n||H){if(B>n){for(a=HQ.apply(this,[i,r,n-(y+m),n]),d.push(a.shift()),d=[a.pop()];a.length;)g.push([a.shift()]);B=r.slice(i.length-(d[0]?d[0].length:0)).reduce(function(z,ie){return z+ie},0)}else d=[i];g.push(d),y=B+l,m=I}else d.push(i),y+=m+B,m=I}return g.map(l?function(z,ie){return(ie?F:"")+z.join(" ")}:function(z){return z.join(" ")})},S1.splitTextToSize=function(t,n,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),o=function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var g=this.internal.getFont(d.fontName,d.fontStyle),y="Unicode";return g.metadata[y]?{widths:g.metadata[y].widths||{0:1},kerning:g.metadata[y].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*n/r;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=e.lineIndent;var a,l,u=[];for(a=0,l=i.length;a<l;a++)u=u.concat(zQ.apply(this,[i[a],s,o]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var n="0123456789abcdef",e="klmnopqrstuvwxyz",i={},r={},o=0;o<16;o++)i[e[o]]=n[o],r[n[o]]=e[o];var s=function(y){return"0x"+parseInt(y,10).toString(16)},a=t.__fontmetrics__.compress=function(y){var m,B,D,I,F=["{"];for(var R in y){if(m=y[R],isNaN(parseInt(R,10))?B="'"+R+"'":(R=parseInt(R,10),B=(B=s(R).slice(2)).slice(0,-1)+r[B.slice(-1)]),"number"==typeof m)m<0?(D=s(m).slice(3),I="-"):(D=s(m).slice(2),I=""),D=I+D.slice(0,-1)+r[D.slice(-1)];else{if("object"!==Zr(m))throw new Error("Don't know what to do with value type "+Zr(m)+".");D=a(m)}F.push(B+D)}return F.push("}"),F.join("")},l=t.__fontmetrics__.uncompress=function(y){if("string"!=typeof y)throw new Error("Invalid argument passed to uncompress.");for(var m,B,D,I,F={},R=1,H=F,z=[],ie="",be="",Be=y.length-1,se=1;se<Be;se+=1)"'"==(I=y[se])?m?(D=m.join(""),m=void 0):m=[]:m?m.push(I):"{"==I?(z.push([H,D]),H={},D=void 0):"}"==I?((B=z.pop())[0][B[1]]=H,D=void 0,H=B[0]):"-"==I?R=-1:void 0===D?i.hasOwnProperty(I)?(ie+=i[I],D=parseInt(ie,16)*R,R=1,ie=""):ie+=I:i.hasOwnProperty(I)?(be+=i[I],H[D]=parseInt(be,16)*R,R=1,D=void 0,be=""):be+=I;return F},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var m=y.font,B=g.Unicode[m.postScriptName];B&&(m.metadata.Unicode={},m.metadata.Unicode.widths=B.widths,m.metadata.Unicode.kerning=B.kerning);var D=d.Unicode[m.postScriptName];D&&(m.metadata.Unicode.encoding=D,m.encoding=D.codePages[0])}])}(kn.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var n=function(e){for(var i=e.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=e.charCodeAt(o);return r};t.API.events.push(["addFont",function(e){var s,a,i=void 0,r=e.font,o=e.instance;if(!r.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if("string"!=typeof(i=!1===o.existsFileInVFS(r.postScriptName)?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");s=r,a=/^\x00\x01\x00\x00/.test(a=i)?n(a):n(Px(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]}}])}(kn),kn.API.addSvgAsImage=function(t,n,e,i,r,o,s,a){if(isNaN(n)||isNaN(e))throw so.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw so.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=r;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Bi.canvg?Promise.resolve(Bi.canvg):Ve.e(842).then(Ve.bind(Ve,3842))).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(d)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),n,e,i,r,s,a)})},kn.API.putTotalPages=function(t){var n,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(t,"g"),e=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(n,e);return this},kn.API.viewerPreferences=function(t,n){var e;t=t||{},n=n||!1;var i,r,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],u=0,d=0,g=0;function y(B,D){var I,F=!1;for(I=0;I<B.length;I+=1)B[I]===D&&(F=!0);return F}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,"reset"===t||!0===n){var m=a.length;for(g=0;g<m;g+=1)e[a[g]].value=e[a[g]].defaultValue,e[a[g]].explicitSet=!1}if("object"===Zr(t))for(r in t)if(o=t[r],y(a,r)&&void 0!==o){if("boolean"===e[r].type&&"boolean"==typeof o)e[r].value=o;else if("name"===e[r].type&&y(e[r].valueSet,o))e[r].value=o;else if("integer"===e[r].type&&Number.isInteger(o))e[r].value=o;else if("array"===e[r].type){for(u=0;u<o.length;u+=1)if(i=!0,1===o[u].length&&"number"==typeof o[u][0])l.push(String(o[u]-1));else if(o[u].length>1){for(d=0;d<o[u].length;d+=1)"number"!=typeof o[u][d]&&(i=!1);!0===i&&l.push([o[u][0]-1,o[u][1]-1].join(" "))}e[r].value="["+l.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var B,D=[];for(B in e)!0===e[B].explicitSet&&D.push("name"===e[B].type?"/"+B+" /"+e[B].value:"/"+B+" "+e[B].value);0!==D.length&&this.internal.write("/ViewerPreferences\n<<\n"+D.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},kn.API.addMetadata=function(t,n){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:t,namespaceUri:n??"http://jspdf.default.namespaceuri/",rawXml:"boolean"==typeof n&&n},this.internal.events.subscribe("putCatalog",Dde),this.internal.events.subscribe("postPutResources",Bde)),this},function(t){var n=t.API,e=n.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],g=0,y=o.length;g<y;++g){if(a=s.metadata.characterToGlyph(o.charCodeAt(g)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(g),-1==l.indexOf(a)&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),"0"==a)return d.join("");a=a.toString(16),d.push(u[4-a.length],a)}return d.join("")},i=function(o){var s,a,l,u,d,g,y;for(d="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",l=[],g=0,y=(a=Object.keys(o).sort(function(m,B){return m-B})).length;g<y;g++)s=a[g],l.length>=100&&(d+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar",l=[]),null!=o[s]&&"function"==typeof o[s].toString&&(u=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(d+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar\n"),d+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};n.events.push(["putFont",function(o){!function(s){var a=s.font,l=s.out,u=s.newObject,d=s.putStream;if(a.metadata instanceof t.API.TTFFont&&"Identity-H"===a.encoding){for(var g=a.metadata.Unicode.widths,y=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",B=0;B<y.length;B++)m+=String.fromCharCode(y[B]);var D=u();d({data:m,addLength1:!0,objectId:D}),l("endobj");var I=u();d({data:i(a.metadata.toUnicode),addLength1:!0,objectId:I}),l("endobj");var F=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+b1(a.fontName)),l("/FontFile2 "+D+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var R=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+b1(a.fontName)),l("/FontDescriptor "+F+" 0 R"),l("/W "+t.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+I+" 0 R"),l("/BaseFont /"+b1(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+R+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}}(o)}]),n.events.push(["putFont",function(o){!function(s){var a=s.font,l=s.out,u=s.newObject,d=s.putStream;if(a.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var g=a.metadata.rawData,y="",m=0;m<g.length;m++)y+=String.fromCharCode(g[m]);var B=u();d({data:y,addLength1:!0,objectId:B}),l("endobj");var D=u();d({data:i(a.metadata.toUnicode),addLength1:!0,objectId:D}),l("endobj");var I=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+B+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+b1(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var F=0;F<a.metadata.hmtx.widths.length;F++)a.metadata.hmtx.widths[F]=parseInt(a.metadata.hmtx.widths[F]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+D+" 0 R/BaseFont/"+b1(a.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}}(o)}]);var r=function(o){var s,a=o.text||"",l=o.x,u=o.y,d=o.options||{},g=o.mutex||{},y=g.pdfEscape,m=g.activeFontKey,B=g.fonts,D=m,I="",F=0,R="",H=B[D].encoding;if("Identity-H"!==B[D].encoding)return{text:a,x:l,y:u,options:d,mutex:g};for(R=a,D=m,Array.isArray(a)&&(R=a[0]),F=0;F<R.length;F+=1)B[D].metadata.hasOwnProperty("cmap")&&(s=B[D].metadata.cmap.unicode.codeMap[R[F].charCodeAt(0)]),s||R[F].charCodeAt(0)<256&&B[D].metadata.hasOwnProperty("Unicode")?I+=R[F]:I+="";var z="";return parseInt(D.slice(1))<14||"WinAnsiEncoding"===H?z=y(I,D).split("").map(function(ie){return ie.charCodeAt(0).toString(16)}).join(""):"Identity-H"===H&&(z=e(I,B[D])),g.isHex=!0,{text:z,x:l,y:u,options:d,mutex:g}};n.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&3===s[u].length?a.push([r(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):a.push(r(Object.assign({},l,{text:s[u]})).text);o.text=a}else o.text=r(Object.assign({},l,{text:s})).text}])}(kn),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(t){var n=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(e){return n.call(this),void 0!==this.internal.vFS[e]},t.addFileToVFS=function(e,i){return n.call(this),this.internal.vFS[e]=i,this},t.getFileFromVFS=function(e){return n.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(kn.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var r,o,s,a,l,u,d,g=n,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],B={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},D={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],F=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,H=0;this.__bidiEngine__={};var z=function(G){var J=G.charCodeAt(),Ee=J>>8,Se=D[Ee];return void 0!==Se?g[256*Se+(255&J)]:252===Ee||253===Ee?"AL":F.test(Ee)?"L":8===Ee?"R":"N"},ie=function(G){for(var J,Ee=0;Ee<G.length;Ee++){if("L"===(J=z(G.charAt(Ee))))return!1;if("R"===J)return!0}return!1},be=function(G,J,Ee,Se){var tt,Le,ze,Ue,et=J[Se];switch(et){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(et="AN");break;case"AL":R=!0,et="R";break;case"WS":case"BN":et="N";break;case"CS":Se<1||Se+1>=J.length||"EN"!==(tt=Ee[Se-1])&&"AN"!==tt||"EN"!==(Le=J[Se+1])&&"AN"!==Le?et="N":R&&(Le="AN"),et=Le===tt?Le:"N";break;case"ES":et="EN"===(tt=Se>0?Ee[Se-1]:"B")&&Se+1<J.length&&"EN"===J[Se+1]?"EN":"N";break;case"ET":if(Se>0&&"EN"===Ee[Se-1]){et="EN";break}if(R){et="N";break}for(ze=Se+1,Ue=J.length;ze<Ue&&"ET"===J[ze];)ze++;et=ze<Ue&&"EN"===J[ze]?"EN":"N";break;case"NSM":if(s&&!a){for(Ue=J.length,ze=Se+1;ze<Ue&&"NSM"===J[ze];)ze++;if(ze<Ue){var Qt=G[Se];if(tt=J[ze],(Qt>=1425&&Qt<=2303||64286===Qt)&&("R"===tt||"AL"===tt)){et="R";break}}}et=Se<1||"B"===(tt=J[Se-1])?"N":Ee[Se-1];break;case"B":R=!1,r=!0,et=H;break;case"S":o=!0,et="N"}return et},Be=function(G,J,Ee){var Se=G.split("");return Ee&&se(Se,Ee,{hiLevel:H}),Se.reverse(),J&&J.reverse(),Se.join("")},se=function(G,J,Ee){var Se,tt,Le,ze,Ue,et=-1,Qt=G.length,kt=0,W=[],pe=H?m:y,ye=[];for(R=!1,r=!1,o=!1,tt=0;tt<Qt;tt++)ye[tt]=z(G[tt]);for(Le=0;Le<Qt;Le++){if(Ue=kt,W[Le]=be(G,ye,W,Le),Se=240&(kt=pe[Ue][B[W[Le]]]),J[Le]=ze=pe[kt&=15][5],Se>0)if(16===Se){for(tt=et;tt<Le;tt++)J[tt]=1;et=-1}else et=-1;if(pe[kt][6])-1===et&&(et=Le);else if(et>-1){for(tt=et;tt<Le;tt++)J[tt]=ze;et=-1}"B"===ye[Le]&&(J[Le]=0),Ee.hiLevel|=ze}o&&function(Qe,$e,rt){for(var yt=0;yt<rt;yt++)if("S"===Qe[yt]){$e[yt]=H;for(var _t=yt-1;_t>=0&&"WS"===Qe[_t];_t--)$e[_t]=H}}(ye,J,Qt)},te=function(G,J,Ee,Se,tt){if(!(tt.hiLevel<G)){if(1===G&&1===H&&!r)return J.reverse(),void(Ee&&Ee.reverse());for(var Le,ze,Ue,et,Qt=J.length,kt=0;kt<Qt;){if(Se[kt]>=G){for(Ue=kt+1;Ue<Qt&&Se[Ue]>=G;)Ue++;for(et=kt,ze=Ue-1;et<ze;et++,ze--)Le=J[et],J[et]=J[ze],J[ze]=Le,Ee&&(Le=Ee[et],Ee[et]=Ee[ze],Ee[ze]=Le);kt=Ue}kt++}}},Re=function(G,J,Ee){var Se=G.split(""),tt={hiLevel:H};return Ee||(Ee=[]),se(Se,Ee,tt),function(Le,ze,Ue){if(0!==Ue.hiLevel&&d)for(var et,Qt=0;Qt<Le.length;Qt++)1===ze[Qt]&&(et=I.indexOf(Le[Qt]))>=0&&(Le[Qt]=I[et+1])}(Se,Ee,tt),te(2,Se,J,Ee,tt),te(1,Se,J,Ee,tt),Se.join("")};return this.__bidiEngine__.doBidiReorder=function(G,J,Ee){if(function(tt,Le){if(Le)for(var ze=0;ze<tt.length;ze++)Le[ze]=ze;void 0===a&&(a=ie(tt)),void 0===u&&(u=ie(tt))}(G,J),s||!l||u)if(s&&l&&a^u)H=a?1:0,G=Be(G,J,Ee);else if(!s&&l&&u)H=a?1:0,G=Re(G,J,Ee),G=Be(G,J);else if(!s||a||l||u){if(s&&!l&&a^u)G=Be(G,J),a?(H=0,G=Re(G,J,Ee)):(H=1,G=Re(G,J,Ee),G=Be(G,J));else if(s&&a&&!l&&u)H=1,G=Re(G,J,Ee),G=Be(G,J);else if(!s&&!l&&a^u){var Se=d;a?(H=1,G=Re(G,J,Ee),H=0,d=!1,G=Re(G,J,Ee),d=Se):(H=0,G=Re(G,J,Ee),G=Be(G,J),H=1,d=!1,G=Re(G,J,Ee),d=Se,G=Be(G,J))}}else H=0,G=Re(G,J,Ee);else H=a?1:0,G=Re(G,J,Ee);return G},this.__bidiEngine__.setOptions=function(G){G&&(s=G.isInputVisual,l=G.isOutputVisual,a=G.isInputRtl,u=G.isOutputRtl,d=G.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var r=i.text,o=i.options||{},s=[];if(o.isInputVisual="boolean"!=typeof o.isInputVisual||o.isInputVisual,e.setOptions(o),"[object Array]"===Object.prototype.toString.call(r)){var a=0;for(s=[],a=0;a<r.length;a+=1)"[object Array]"===Object.prototype.toString.call(r[a])?s.push([e.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):s.push([e.doBidiReorder(r[a])]);i.text=s}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(kn),kn.API.TTFFont=function(){function t(n){var e;if(this.rawData=n,e=this.contents=new Nf(n),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new zde(this),this.registerTTF()}return t.open=function(n){return new t(n)},t.prototype.parse=function(){return this.directory=new Sde(this.contents),this.head=new Pde(this),this.name=new Tde(this),this.cmap=new JQ(this),this.toUnicode={},this.hhea=new Ide(this),this.maxp=new Lde(this),this.hmtx=new Nde(this),this.post=new kde(this),this.os2=new Ode(this),this.loca=new Hde(this),this.glyf=new Rde(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,i,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,l,u;for(u=[],s=0,a=(l=this.bbox).length;s<a;s++)u.push(Math.round(l[s]*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(n){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[n]:void 0)||0},t.prototype.widthOfGlyph=function(n){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*e},t.prototype.widthOfString=function(n,e,i){var r,o,s,a;for(s=0,o=0,a=(n=""+n).length;0<=a?o<a:o>a;o=0<=a?++o:--o)r=n.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return s*(e/1e3)},t.prototype.lineHeight=function(n,e){return null==e&&(e=!1),(this.ascender+(e?this.lineGap:0)-this.decender)/1e3*n},t}();var Vu,Nf=function(){function t(n){this.data=n??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(n){return this.data[this.pos++]=n},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},t.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},t.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},t.prototype.readString=function(n){var e,i;for(i=[],e=0;0<=n?e<n:e>n;e=0<=n?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(n){var e,i,r;for(r=[],e=0,i=n.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(n.charCodeAt(e)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(n){return this.writeInt16(n)},t.prototype.readLongLong=function(){var n,e,i,r,o,s,a,l;return n=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*n+281474976710656*e+1099511627776*i+4294967296*r+16777216*o+65536*s+256*a+l},t.prototype.writeLongLong=function(n){var e,i;return e=Math.floor(n/4294967296),i=4294967295&n,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(n){return this.writeInt32(n)},t.prototype.read=function(n){var e,i;for(e=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)e.push(this.readByte());return e},t.prototype.write=function(n){var i,r,o;for(o=[],i=0,r=n.length;i<r;i++)o.push(this.writeByte(n[i]));return o},t}(),Sde=function(){var t;function n(e){var i,r,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return n.prototype.encode=function(e){var i,r,s,a,l,u,d,g,y,m,B,D;for(D in m=Object.keys(e).length,l=Math.log(2),g=16*Math.floor(Math.log(m)/l),s=Math.floor(g/l),d=16*m-g,(r=new Nf).writeInt(this.scalarType),r.writeShort(m),r.writeShort(g),r.writeShort(s),r.writeShort(d),u=r.pos+16*m,a=null,B=[],e)for(y=e[D],r.writeString(D),r.writeInt(t(y)),r.writeInt(u),r.writeInt(y.length),B=B.concat(y),"head"===D&&(a=u),u+=y.length;u%4;)B.push(0),u++;return r.write(B),i=2981146554-t(r.data),r.pos=a+8,r.writeUInt32(i),r.data},t=function(e){var i,r,o,s;for(e=eH.call(e);e.length%4;)e.push(0);for(o=new Nf(e),r=0,i=0,s=e.length;i<s;i=i+=4)r+=o.readUInt32();return 4294967295&r},n}(),Ede={}.hasOwnProperty,UA=function(t,n){for(var e in n)Ede.call(n,e)&&(t[e]=n[e]);function i(){this.constructor=t}return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Vu=function(){function t(n){var e;this.file=n,this.exists=!!(e=this.file.directory.tables[this.tag]),e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Pde=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return UA(t,Vu),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var e;return(e=new Nf).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(n),e.writeShort(this.glyphDataFormat),e.data},t}(),XQ=function(){function t(n,e){var i,r,o,s,a,l,u,d,g,y,m,B,D,I,F,R,H;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=e+n.readInt(),g=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=n.readByte();break;case 4:for(m=n.readUInt16(),y=m/2,n.pos+=6,o=function(){var z,ie;for(ie=[],l=z=0;0<=y?z<y:z>y;l=0<=y?++z:--z)ie.push(n.readUInt16());return ie}(),n.pos+=2,D=function(){var z,ie;for(ie=[],l=z=0;0<=y?z<y:z>y;l=0<=y?++z:--z)ie.push(n.readUInt16());return ie}(),u=function(){var z,ie;for(ie=[],l=z=0;0<=y?z<y:z>y;l=0<=y?++z:--z)ie.push(n.readUInt16());return ie}(),d=function(){var z,ie;for(ie=[],l=z=0;0<=y?z<y:z>y;l=0<=y?++z:--z)ie.push(n.readUInt16());return ie}(),r=(this.length-n.pos+this.offset)/2,a=function(){var z,ie;for(ie=[],l=z=0;0<=r?z<r:z>r;l=0<=r?++z:--z)ie.push(n.readUInt16());return ie}(),l=F=0,H=o.length;F<H;l=++F)for(I=o[l],i=R=B=D[l];B<=I?R<=I:R>=I;i=B<=I?++R:--R)0===d[l]?s=i+u[l]:0!==(s=a[d[l]/2+(i-B)-(y-l)]||0)&&(s+=u[l]),this.codeMap[i]=65535&s}n.pos=g}return t.encode=function(n,e){var i,r,o,s,a,l,u,d,g,y,m,B,D,I,F,R,H,ie,be,Be,se,te,Re,G,J,Ee,Se,tt,Le,ze,Ue,et,Qt,kt,W,pe,ye,Qe,$e,rt,yt,_t,Tt,Xt,vn;switch(Se=new Nf,s=Object.keys(n).sort(function(gn,qn){return gn-qn}),e){case"macroman":for(D=0,I=function(){var gn=[];for(B=0;B<256;++B)gn.push(0);return gn}(),R={0:0},o={},tt=0,et=s.length;tt<et;tt++)null==R[_t=n[r=s[tt]]]&&(R[_t]=++D),o[r]={old:n[r],new:R[n[r]]},I[r]=R[n[r]];return Se.writeUInt16(1),Se.writeUInt16(0),Se.writeUInt32(12),Se.writeUInt16(0),Se.writeUInt16(262),Se.writeUInt16(0),Se.write(I),{charMap:o,subtable:Se.data,maxGlyphID:D+1};case"unicode":for(J=[],g=[],H=0,R={},i={},F=u=null,Le=0,Qt=s.length;Le<Qt;Le++)null==R[ie=n[r=s[Le]]]&&(R[ie]=++H),i[r]={old:ie,new:R[ie]},a=R[ie]-r,null!=F&&a===u||(F&&g.push(F),J.push(r),u=a),F=r;for(F&&g.push(F),g.push(65535),J.push(65535),Re=2*(te=J.length),se=2*Math.pow(Math.log(te)/Math.LN2,2),y=Math.log(se/2)/Math.LN2,Be=2*te-se,l=[],be=[],m=[],B=ze=0,kt=J.length;ze<kt;B=++ze){if(d=g[B],65535===(G=J[B])){l.push(0),be.push(0);break}if(G-(Ee=i[G].new)>=32768)for(l.push(0),be.push(2*(m.length+te-B)),r=Ue=G;G<=d?Ue<=d:Ue>=d;r=G<=d?++Ue:--Ue)m.push(i[r].new);else l.push(Ee-G),be.push(0)}for(Se.writeUInt16(3),Se.writeUInt16(1),Se.writeUInt32(12),Se.writeUInt16(4),Se.writeUInt16(16+8*te+2*m.length),Se.writeUInt16(0),Se.writeUInt16(Re),Se.writeUInt16(se),Se.writeUInt16(y),Se.writeUInt16(Be),rt=0,W=g.length;rt<W;rt++)Se.writeUInt16(r=g[rt]);for(Se.writeUInt16(0),yt=0,pe=J.length;yt<pe;yt++)Se.writeUInt16(r=J[yt]);for(Tt=0,ye=l.length;Tt<ye;Tt++)Se.writeUInt16(a=l[Tt]);for(Xt=0,Qe=be.length;Xt<Qe;Xt++)Se.writeUInt16(be[Xt]);for(vn=0,$e=m.length;vn<$e;vn++)Se.writeUInt16(D=m[vn]);return{charMap:i,subtable:Se.data,maxGlyphID:H+1}}},t}(),JQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return UA(t,Vu),t.prototype.tag="cmap",t.prototype.parse=function(n){var e,i,r;for(n.pos=this.offset,this.version=n.readUInt16(),r=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)e=new XQ(n,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},t.encode=function(n,e){var i,r;return null==e&&(e="macroman"),i=XQ.encode(n,e),(r=new Nf).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},t}(),Ide=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return UA(t,Vu),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),Ode=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return UA(t,Vu),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var e,i;for(i=[],e=0;e<10;++e)i.push(n.readByte());return i}(),this.charRange=function(){var e,i;for(i=[],e=0;e<4;++e)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var e,i;for(i=[],e=0;e<2;e=++e)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),kde=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return UA(t,Vu),t.prototype.tag="post",t.prototype.parse=function(n){var e,i,r;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],r=[];n.pos<this.offset+this.length;)e=n.readByte(),r.push(this.names.push(n.readString(e)));return r;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 262144:return this.map=function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(n.readUInt32());return l}.call(this)}},t}(),Fde=function(t,n){this.raw=t,this.length=t.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},Tde=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return UA(t,Vu),t.prototype.tag="name",t.prototype.parse=function(n){var e,i,r,o,s,a,l,u,d,g,y;for(n.pos=this.offset,n.readShort(),e=n.readShort(),a=n.readShort(),i=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+a+n.readShort()});for(l={},o=d=0,g=i.length;d<g;o=++d)n.pos=(r=i[o]).offset,u=n.readString(r.length),s=new Fde(u,r),null==l[y=r.nameID]&&(l[y]=[]),l[r.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),Lde=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return UA(t,Vu),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),Nde=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return UA(t,Vu),t.prototype.tag="hmtx",t.prototype.parse=function(n){var e,i,r,s,a,l;for(n.pos=this.offset,this.metrics=[],e=0,a=this.file.hhea.numberOfMetrics;0<=a?e<a:e>a;e=0<=a?++e:--e)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],e=u=0;0<=r?u<r:u>r;e=0<=r?++u:--u)d.push(n.readInt16());return d}(),this.widths=function(){var u,d,g,y;for(y=[],u=0,d=(g=this.metrics).length;u<d;u++)y.push(g[u].advance);return y}.call(this),i=this.widths[this.widths.length-1],l=[],e=s=0;0<=r?s<r:s>r;e=0<=r?++s:--s)l.push(this.widths.push(i));return l},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),eH=[].slice,Rde=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return UA(t,Vu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var e,i,r,o,s,a,l,u,d,g;return n in this.cache?this.cache[n]:(e=this.file.contents,i=(o=this.file.loca).indexOf(n),0===(r=o.lengthOf(n))?this.cache[n]=null:(e.pos=this.offset+i,s=(a=new Nf(e.read(r))).readShort(),u=a.readShort(),g=a.readShort(),l=a.readShort(),d=a.readShort(),this.cache[n]=-1===s?new Qde(a,u,g,l,d):new Ude(a,s,u,g,l,d),this.cache[n]))},t.prototype.encode=function(n,e,i){var r,o,s,a,l;for(s=[],o=[],a=0,l=e.length;a<l;a++)r=n[e[a]],o.push(s.length),r&&(s=s.concat(r.encode(i)));return o.push(s.length),{table:s,offsets:o}},t}(),Ude=function(){function t(n,e,i,r,o,s){this.raw=n,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Qde=function(){function t(n,e,i,r,o){var s,a;for(this.raw=n,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var n,e,i;for(e=new Nf(eH.call(this.raw.data)),n=0,i=this.glyphIDs.length;n<i;++n)e.pos=this.glyphOffsets[n];return e.data},t}(),Hde=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return UA(t,Vu),t.prototype.tag="loca",t.prototype.parse=function(n){var i;return n.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var r,o;for(o=[],i=0,r=this.length;i<r;i+=2)o.push(2*n.readUInt16());return o}.call(this):function(){var r,o;for(o=[],i=0,r=this.length;i<r;i+=4)o.push(n.readUInt32());return o}.call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,e){for(var i=new Uint32Array(this.offsets.length),r=0,o=0,s=0;s<i.length;++s)if(i[s]=r,o<e.length&&e[o]==s){++o,i[s]=r;var l=this.offsets[s+1]-this.offsets[s];l>0&&(r+=l)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},t}(),zde=function(){function t(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var n,e,r,o;for(e in r=this.font.cmap.tables[0].codeMap,n={},o=this.subset)n[e]=r[o[e]];return n},t.prototype.glyphsFor=function(n){var e,i,r,o,s,a,l;for(r={},s=0,a=n.length;s<a;s++)r[o=n[s]]=this.font.glyf.glyphFor(o);for(o in e=[],r)null!=(i=r[o])&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(o in l=this.glyphsFor(e))r[o]=i=l[o];return r},t.prototype.encode=function(n,e){var i,r,o,s,l,u,d,g,y,m,B,D,I,F;for(r in i=JQ.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(n),m={0:0},F=i.charMap)m[(l=F[r]).old]=l.new;for(B in y=i.maxGlyphID,s)B in m||(m[B]=y++);return d=function(R){var H,z;for(H in z={},R)z[R[H]]=H;return z}(m),g=Object.keys(d).sort(function(R,H){return R-H}),D=function(){var R,H,z;for(z=[],R=0,H=g.length;R<H;R++)z.push(d[g[R]]);return z}(),o=this.font.glyf.encode(s,D,m),u=this.font.loca.encode(o.offsets,D),I={cmap:this.font.cmap.raw(),glyf:o.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},t}();kn.API.PDFObject=function(){var t;function n(){}return t=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},n.convert=function(e){var r,o;if(Array.isArray(e))return"["+function(){var a,l,u;for(u=[],a=0,l=e.length;a<l;a++)u.push(n.convert(e[a]));return u}().join(" ")+"]";if("string"==typeof e)return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+t(e.getUTCFullYear(),4)+t(e.getUTCMonth(),2)+t(e.getUTCDate(),2)+t(e.getUTCHours(),2)+t(e.getUTCMinutes(),2)+t(e.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(e)){for(r in o=["<<"],e)o.push("/"+r+" "+n.convert(e[r]));return o.push(">>"),o.join("\n")}return""+e},n}();let Vde=(()=>{class t{constructor(e){this.http=e,this.apiUrl=`${Uu()}/api/pilot`}generateProposal(e,i){return this.http.post(`${this.apiUrl}/generate-proposal/${e}`,i)}static{this.\u0275fac=function(i){return new(i||t)(cn($c))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function jde(t,n){if(1&t&&(h(0,"option",78),f(1),A()),2&t){const e=n.$implicit;ke("value",e.id),S(),Me(" ",e.name," ")}}function Gde(t,n){if(1&t&&(h(0,"div",79)(1,"div",80)(2,"span",81),f(3),jt(4,"number"),A()(),h(5,"span",82),f(6),A()()),2&t){const e=n.$implicit;S(),Ko("height",e.percentage,"%"),S(2),Me("AED ",wn(4,4,e.value,"1.0-0"),""),S(3),Me("Y",e.year,"")}}function Kde(t,n){if(1&t&&(h(0,"li"),f(1),A()),2&t){const e=n.$implicit;S(),Me(" ",e," ")}}function Wde(t,n){if(1&t&&(h(0,"span"),f(1),A()),2&t){const e=n.$implicit;S(),lt(e)}}function $de(t,n){if(1&t&&(h(0,"div",83)(1,"div",84),f(2),A(),h(3,"div",85)(4,"h5"),f(5),A(),h(6,"span",86),f(7),A(),h(8,"ul"),xt(9,Kde,2,1,"li",87),A(),h(10,"div",88)(11,"strong"),f(12,"Deliverables:"),A(),xt(13,Wde,2,1,"span",87),A()()()),2&t){const e=n.$implicit,i=n.index,r=Fe();S(),Un("completed",i<r.currentPhase),S(),Me(" ",i+1," "),S(3),lt(e.name),S(2),lt(e.duration),S(2),ke("ngForOf",e.activities),S(4),ke("ngForOf",e.deliverables)}}function qde(t,n){if(1&t&&(h(0,"div",89)(1,"div",90)(2,"span",91),f(3),A(),h(4,"span",92),f(5),A()(),h(6,"p",93),f(7),A(),h(8,"div",94)(9,"strong"),f(10,"Mitigation Strategy:"),A(),f(11),A()()),2&t){const e=n.$implicit;S(3),lt(e.name),S(),C_(e.level.toLowerCase()),S(),lt(e.level),S(2),lt(e.description),S(4),Me(" ",e.mitigation," ")}}function Zde(t,n){if(1&t){const e=ti();h(0,"div",95)(1,"button",96),it("click",function(){return pt(e),gt(Fe().exportPdf())}),f(2," \u{1f4e5} Download Official PDF "),A(),h(3,"button",97),it("click",function(){return pt(e),gt(Fe().exportPowerPoint())}),f(4," \u{1f4ca} Export Presentation "),A(),h(5,"button",98),it("click",function(){return pt(e),gt(Fe().copyExecutiveSummary())}),f(6," \u{1f4cb} Copy Summary "),A()()}}let Yde=(()=>{class t{constructor(e,i){this.pilotService=e,this.simulationService=i,this.simulations=[],this.selectedSimulationId="",this.proposal=null,this.error=null,this.isGenerating=!1,this.selectedTemplate="pilot",this.currentPhase=0,this.options={includeUaePassIntegration:!1,includeMobileApp:!1,includeHardwareIntegration:!1,include24x7Support:!1,durationMonths:6,customIntegrationCost:0}}ngOnInit(){this.loadSimulations()}loadSimulations(){this.simulationService.getAllSimulations().subscribe({next:e=>{this.simulations=e,e.length>0&&(this.selectedSimulationId=e[0].id)},error:()=>{this.error="Failed to load simulations"}})}selectTemplate(e){this.selectedTemplate=e,this.options="pilot"===e?{includeUaePassIntegration:!1,includeMobileApp:!1,includeHardwareIntegration:!1,include24x7Support:!1,durationMonths:6,customIntegrationCost:0}:"expanded"===e?{includeUaePassIntegration:!0,includeMobileApp:!0,includeHardwareIntegration:!1,include24x7Support:!0,durationMonths:9,customIntegrationCost:0}:{includeUaePassIntegration:!0,includeMobileApp:!0,includeHardwareIntegration:!0,include24x7Support:!0,durationMonths:12,customIntegrationCost:0}}applyTemplate(e){this.selectTemplate("quick"===e?"pilot":"full"===e?"expanded":"full")}generateProposal(){this.selectedSimulationId?(this.isGenerating=!0,this.error=null,this.pilotService.generateProposal(this.selectedSimulationId,this.options).subscribe({next:e=>{this.proposal=e,this.isGenerating=!1},error:()=>{this.error="Failed to generate proposal",this.isGenerating=!1}})):this.error="Select a simulation first"}getSelectedSimulation(){return this.simulations.find(e=>e.id===this.selectedSimulationId)||null}getTotalCost(){let e=12e5;return"expanded"===this.selectedTemplate&&(e=35e5),"full"===this.selectedTemplate&&(e=12e6),this.options.includeUaePassIntegration&&(e+=18e4),this.options.includeMobileApp&&(e+=25e4),this.options.includeHardwareIntegration&&(e+=45e4),this.options.include24x7Support&&(e+=35e4),this.options.customIntegrationCost>0&&(e+=this.options.customIntegrationCost),e}getEstimatedAnnualRevenue(){const e=this.getSelectedSimulation();return e?365*e.estimatedRevenue:0}getEstimatedMonthlyRevenue(){const e=this.getSelectedSimulation();return e?365*e.estimatedRevenue/12:0}getROI(){const e=this.getTotalCost(),i=this.getEstimatedAnnualRevenue();return 0===e?0:(i-e)/e*100}getPaybackMonths(){const e=this.getTotalCost(),i=this.getEstimatedMonthlyRevenue();return 0===i?0:Math.ceil(e/i)}getRevenueProjection(){const e=this.getEstimatedAnnualRevenue();return[{year:1,value:.7*e,percentage:70},{year:2,value:1.1*e,percentage:80},{year:3,value:1.2*e,percentage:90},{year:4,value:1.3*e,percentage:95},{year:5,value:1.4*e,percentage:100}]}get5YearRevenue(){return this.getRevenueProjection().reduce((e,i)=>e+i.value,0)}getImplementationPhases(){return[{name:"Phase 1: Initiation",duration:"Months 1-2",activities:["Stakeholder alignment","Requirements finalization","Project governance setup"],deliverables:["Project Charter","Requirements Document"]},{name:"Phase 2: Development",duration:"Months 3-5",activities:["Platform development","Mobile app build","API development"],deliverables:["Core Platform","Mobile Apps","API Suite"]},{name:"Phase 3: Integration",duration:"Months 4-6",activities:["ANPR/Salik integration","UAE Pass integration","Payment gateway setup"],deliverables:["Integration Tests","Security Audit"]},{name:"Phase 4: Pilot Launch",duration:"Months 6-9",activities:["Go-live","User onboarding","Performance monitoring"],deliverables:["Live Pilot","KPI Report","Optimization Plan"]}]}getRisks(){return[{name:"Stakeholder Alignment",level:"Medium",description:"Coordination between multiple government entities (RTA, TCA, Police)",mitigation:"Weekly steering committee meetings, clear RACI matrix"},{name:"Technical Integration",level:"Medium",description:"Legacy system compatibility with Salik/ANPR",mitigation:"Phased integration approach with fallback mechanisms"},{name:"Public Adoption",level:"High",description:"User registration and behavioral change adoption",mitigation:"Marketing campaign, grace period, multi-language support"},{name:"Regulatory Approval",level:"Medium",description:"Final approval from transportation authorities",mitigation:"Early engagement with regulatory bodies, compliance-first approach"}]}exportPdf(){const e=new kn;e.setFontSize(20),e.setTextColor(30,58,95),e.text("Smart Mobility Pilot Implementation Proposal",20,20),e.setFontSize(12),e.setTextColor(60),e.text("UAE Government Digital Transformation Initiative | Vision 2030 Aligned",20,30),e.text("Generated: "+(new Date).toLocaleDateString(),20,38),e.setFontSize(14),e.setTextColor(0),e.text("Executive Summary",20,52),e.setFontSize(10),e.setTextColor(60);const i=this.getTotalCost(),r=this.getEstimatedAnnualRevenue(),o=this.getROI(),a=[`Implementation Scope: ${{pilot:"Pilot Phase (Single zone, 6 months)",expanded:"Expanded Pilot (3 zones, 9 months)",full:"Full Deployment (City-wide, 12 months)"}[this.selectedTemplate]||"Pilot Phase"}`,`Total Investment: AED ${(i/1e6).toFixed(1)}M`,`Estimated Year 1 Revenue: AED ${(r/1e6).toFixed(0)}M`,`Expected ROI: ${o.toFixed(0)}%`,`Payback Period: ${this.getPaybackMonths()} months`,`Duration: ${this.options.durationMonths} months`];let l=60;a.forEach(d=>{e.text(d,25,l),l+=7}),l+=10,e.setFontSize(14),e.setTextColor(0),e.text("Implementation Phases",20,l),e.setFontSize(10),e.setTextColor(60),l+=10,this.getImplementationPhases().forEach((d,g)=>{e.setFontSize(11),e.setTextColor(0,51,102),e.text(`${d.name}`,25,l),l+=6,e.setFontSize(9),e.setTextColor(60),e.text(`Duration: ${d.duration}`,30,l),l+=10,d.activities.forEach(y=>{e.text(`\u2022 ${y}`,30,l),l+=5}),l+=5}),l<230&&(e.setFontSize(14),e.setTextColor(0),e.text("Risk Assessment",20,l),l+=10,this.getRisks().forEach(g=>{e.setFontSize(10),e.setTextColor(0),e.text(`${g.name} (${g.level} Risk)`,25,l),l+=5,e.setFontSize(9),e.setTextColor(80);const y=e.splitTextToSize(g.description,150);e.text(y,30,l),l+=8})),e.setFontSize(8),e.setTextColor(150),e.text("Smart Mobility Simulator - UAE Transport Innovation",20,280),e.save("Smart-Zone-Pilot-Proposal.pdf")}exportPowerPoint(){alert("PowerPoint export would generate a .pptx file")}copyExecutiveSummary(){this.proposal?.executiveSummary&&(navigator.clipboard.writeText(this.proposal.executiveSummary),alert("Executive summary copied to clipboard!"))}static{this.\u0275fac=function(i){return new(i||t)(wt(Vde),wt(o1))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-pilot-proposal"]],decls:297,vars:62,consts:[[1,"pilot-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"subtitle"],[1,"header-badges"],[1,"badge"],[1,"content-grid"],[1,"config-panel"],[1,"panel-card"],[1,"panel-header"],[1,"panel-subtitle"],[1,"form-group"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-hint"],[1,"scope-section"],[1,"scope-btn",3,"click"],[1,"scope-icon"],[1,"scope-details"],[1,"scope-name"],[1,"scope-desc"],[1,"scope-cost"],[1,"cost-value"],[1,"cost-label"],[1,"options-section"],[1,"option-checkbox"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"checkbox-custom"],[1,"option-content"],[1,"option-cost"],["type","range","min","3","max","18","step","3",1,"form-range",3,"ngModelChange","ngModel"],[1,"range-labels"],[1,"btn-generate",3,"click","disabled"],[1,"results-panel"],[1,"kpi-grid"],[1,"kpi-card","primary"],[1,"kpi-icon"],[1,"kpi-content"],[1,"kpi-value"],[1,"kpi-label"],[1,"kpi-trend"],[1,"kpi-card","success"],[1,"kpi-trend","positive"],[1,"kpi-card","warning"],[1,"kpi-card","info"],[1,"charts-grid"],[1,"chart-card"],[1,"horizontal-bar-chart"],[1,"hbar-item"],[1,"hbar-label"],[1,"hbar-value"],[1,"hbar-track"],[1,"hbar-fill",2,"width","30%","background","#3b82f6"],[1,"hbar-fill",2,"width","25%","background","#8b5cf6"],[1,"hbar-fill",2,"width","20%","background","#06b6d4"],[1,"hbar-fill",2,"width","15%","background","#10b981"],[1,"hbar-fill",2,"width","10%","background","#f59e0b"],[1,"revenue-chart"],[1,"revenue-bars"],["class","revenue-bar-group",4,"ngFor","ngForOf"],[1,"revenue-summary"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"summary-value","profit"],[1,"timeline-section"],[1,"timeline-track"],["class","timeline-phase",4,"ngFor","ngForOf"],[1,"risk-section"],[1,"risk-grid"],["class","risk-card",4,"ngFor","ngForOf"],[1,"compliance-section"],[1,"compliance-grid"],[1,"compliance-item"],[1,"compliance-icon"],["class","export-section",4,"ngIf"],[3,"value"],[1,"revenue-bar-group"],[1,"revenue-bar"],[1,"revenue-value"],[1,"revenue-label"],[1,"timeline-phase"],[1,"phase-marker"],[1,"phase-content"],[1,"phase-duration"],[4,"ngFor","ngForOf"],[1,"deliverables"],[1,"risk-card"],[1,"risk-header"],[1,"risk-name"],[1,"risk-level"],[1,"risk-description"],[1,"risk-mitigation"],[1,"export-section"],[1,"btn-export","primary",3,"click"],[1,"btn-export","secondary",3,"click"],[1,"btn-export","tertiary",3,"click"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,"\u{1f4cb}"),A(),h(5,"div")(6,"h1"),f(7,"Smart Mobility Pilot Implementation Proposal"),A(),h(8,"p",4),f(9," UAE Government Digital Transformation Initiative \u2022 Vision 2030 Aligned "),A()()(),h(10,"div",5)(11,"span",6),f(12,"\u{1f3db}\ufe0f RTA Dubai"),A(),h(13,"span",6),f(14,"\u{1f4f1} UAE Pass"),A(),h(15,"span",6),f(16,"\u{1f512} Secure"),A()()(),h(17,"div",7)(18,"div",8)(19,"div",9)(20,"div",10)(21,"h3"),f(22,"\u2699\ufe0f Pilot Configuration"),A(),h(23,"p",11),f(24," Configure your Smart Mobility pilot parameters "),A()(),h(25,"div",12)(26,"label"),f(27,"Select Simulation Baseline"),A(),h(28,"select",13),Bn("ngModelChange",function(s){return Dn(r.selectedSimulationId,s)||(r.selectedSimulationId=s),s}),h(29,"option",14),f(30,"Choose simulation..."),A(),xt(31,jde,2,2,"option",15),A(),h(32,"small",16),f(33,"Choose the zone configuration for pilot evaluation"),A()(),h(34,"div",17)(35,"h4"),f(36,"\u{1f4d0} Implementation Scope"),A(),h(37,"button",18),it("click",function(){return r.selectTemplate("pilot")}),h(38,"div",19),f(39,"\u{1f9ea}"),A(),h(40,"div",20)(41,"span",21),f(42,"Pilot Phase"),A(),h(43,"span",22),f(44,"Single zone, 6 months"),A()(),h(45,"div",23)(46,"span",24),f(47,"AED 1.2M"),A(),h(48,"span",25),f(49,"Est. Investment"),A()()(),h(50,"button",18),it("click",function(){return r.selectTemplate("expanded")}),h(51,"div",19),f(52,"\u{1f306}"),A(),h(53,"div",20)(54,"span",21),f(55,"Expanded Pilot"),A(),h(56,"span",22),f(57,"3 zones, 9 months"),A()(),h(58,"div",23)(59,"span",24),f(60,"AED 3.5M"),A(),h(61,"span",25),f(62,"Est. Investment"),A()()(),h(63,"button",18),it("click",function(){return r.selectTemplate("full")}),h(64,"div",19),f(65,"\u{1f3d9}\ufe0f"),A(),h(66,"div",20)(67,"span",21),f(68,"Full Deployment"),A(),h(69,"span",22),f(70,"City-wide, 12 months"),A()(),h(71,"div",23)(72,"span",24),f(73,"AED 12M"),A(),h(74,"span",25),f(75,"Est. Investment"),A()()()(),h(76,"div",26)(77,"h4"),f(78,"\u{1f527} Additional Requirements"),A(),h(79,"label",27)(80,"input",28),Bn("ngModelChange",function(s){return Dn(r.options.includeUaePassIntegration,s)||(r.options.includeUaePassIntegration=s),s}),A(),Cn(81,"span",29),h(82,"div",30)(83,"strong"),f(84,"UAE Pass Integration"),A(),h(85,"small"),f(86,"Digital identity, eKYC, and payment verification"),A()(),h(87,"div",31),f(88,"+AED 180,000"),A()(),h(89,"label",27)(90,"input",28),Bn("ngModelChange",function(s){return Dn(r.options.includeMobileApp,s)||(r.options.includeMobileApp=s),s}),A(),Cn(91,"span",29),h(92,"div",30)(93,"strong"),f(94,"Smart Mobility Mobile App"),A(),h(95,"small"),f(96,"iOS, Android, Arabic/English support"),A()(),h(97,"div",31),f(98,"+AED 250,000"),A()(),h(99,"label",27)(100,"input",28),Bn("ngModelChange",function(s){return Dn(r.options.includeHardwareIntegration,s)||(r.options.includeHardwareIntegration=s),s}),A(),Cn(101,"span",29),h(102,"div",30)(103,"strong"),f(104,"Salik/ANPR Infrastructure"),A(),h(105,"small"),f(106,"Cameras, gantries, back-office integration"),A()(),h(107,"div",31),f(108,"+AED 450,000"),A()(),h(109,"label",27)(110,"input",28),Bn("ngModelChange",function(s){return Dn(r.options.include24x7Support,s)||(r.options.include24x7Support=s),s}),A(),Cn(111,"span",29),h(112,"div",30)(113,"strong"),f(114,"24/7 Operations Center"),A(),h(115,"small"),f(116,"Command center, incident response, SLA"),A()(),h(117,"div",31),f(118,"+AED 350,000"),A()()(),h(119,"div",12)(120,"label"),f(121),A(),h(122,"input",32),Bn("ngModelChange",function(s){return Dn(r.options.durationMonths,s)||(r.options.durationMonths=s),s}),A(),h(123,"div",33)(124,"span"),f(125,"3 mo"),A(),h(126,"span"),f(127,"6 mo"),A(),h(128,"span"),f(129,"9 mo"),A(),h(130,"span"),f(131,"12 mo"),A(),h(132,"span"),f(133,"18 mo"),A()()(),h(134,"button",34),it("click",function(){return r.generateProposal()}),f(135),A()()(),h(136,"div",35)(137,"div",36)(138,"div",37)(139,"div",38),f(140,"\u{1f4b5}"),A(),h(141,"div",39)(142,"span",40),f(143),jt(144,"number"),A(),h(145,"span",41),f(146,"Total Investment"),A()(),h(147,"div",42),f(148,"One-time"),A()(),h(149,"div",43)(150,"div",38),f(151,"\u{1f4c8}"),A(),h(152,"div",39)(153,"span",40),f(154),jt(155,"number"),A(),h(156,"span",41),f(157,"Year 1 Revenue"),A()(),h(158,"div",44),f(159,"+18% YoY"),A()(),h(160,"div",45)(161,"div",38),f(162,"\u23f0"),A(),h(163,"div",39)(164,"span",40),f(165),A(),h(166,"span",41),f(167,"Months Duration"),A()(),h(168,"div",42),f(169,"Phased"),A()(),h(170,"div",46)(171,"div",38),f(172,"\u{1f3af}"),A(),h(173,"div",39)(174,"span",40),f(175),jt(176,"number"),A(),h(177,"span",41),f(178,"Expected ROI"),A()(),h(179,"div",42),f(180),A()()(),h(181,"div",47)(182,"div",48)(183,"h4"),f(184,"\u{1f4b0} Investment Allocation"),A(),h(185,"div",49)(186,"div",50)(187,"div",51)(188,"span"),f(189,"Platform & Software"),A(),h(190,"span",52),f(191),jt(192,"number"),A()(),h(193,"div",53),Cn(194,"div",54),A()(),h(195,"div",50)(196,"div",51)(197,"span"),f(198,"Hardware & Infrastructure"),A(),h(199,"span",52),f(200),jt(201,"number"),A()(),h(202,"div",53),Cn(203,"div",55),A()(),h(204,"div",50)(205,"div",51)(206,"span"),f(207,"Integration & Testing"),A(),h(208,"span",52),f(209),jt(210,"number"),A()(),h(211,"div",53),Cn(212,"div",56),A()(),h(213,"div",50)(214,"div",51)(215,"span"),f(216,"Operations (Year 1)"),A(),h(217,"span",52),f(218),jt(219,"number"),A()(),h(220,"div",53),Cn(221,"div",57),A()(),h(222,"div",50)(223,"div",51)(224,"span"),f(225,"Contingency Reserve"),A(),h(226,"span",52),f(227),jt(228,"number"),A()(),h(229,"div",53),Cn(230,"div",58),A()()()(),h(231,"div",48)(232,"h4"),f(233,"\u{1f4ca} Revenue Projection (5 Year)"),A(),h(234,"div",59)(235,"div",60),xt(236,Gde,7,7,"div",61),A(),h(237,"div",62)(238,"div",63)(239,"span",64),f(240,"5-Year Total"),A(),h(241,"span",65),f(242),jt(243,"number"),A()(),h(244,"div",63)(245,"span",64),f(246,"Net Profit"),A(),h(247,"span",66),f(248),jt(249,"number"),A()()()()()(),h(250,"div",67)(251,"h4"),f(252,"\u{1f5d3}\ufe0f Implementation Roadmap"),A(),h(253,"div",68),xt(254,$de,14,7,"div",69),A()(),h(255,"div",70)(256,"h4"),f(257,"\u26a0\ufe0f Risk Assessment & Mitigation"),A(),h(258,"div",71),xt(259,qde,12,6,"div",72),A()(),h(260,"div",73)(261,"h4"),f(262,"\u2705 Government Compliance & Standards"),A(),h(263,"div",74)(264,"div",75)(265,"span",76),f(266,"\u{1f510}"),A(),h(267,"div")(268,"strong"),f(269,"UAE Data Law Compliant"),A(),h(270,"small"),f(271,"Full compliance with UAE Federal Data Law"),A()()(),h(272,"div",75)(273,"span",76),f(274,"\u{1f310}"),A(),h(275,"div")(276,"strong"),f(277,"UAE Pass Ready"),A(),h(278,"small"),f(279,"Integration with UAE PASS digital identity"),A()()(),h(280,"div",75)(281,"span",76),f(282,"\u{1f4b3}"),A(),h(283,"div")(284,"strong"),f(285,"UAE Central Bank Approved"),A(),h(286,"small"),f(287,"Secure payment processing standards"),A()()(),h(288,"div",75)(289,"span",76),f(290,"\u267f"),A(),h(291,"div")(292,"strong"),f(293,"Accessibility (WCAG 2.1)"),A(),h(294,"small"),f(295,"UAE Disability Act compliance"),A()()()()(),xt(296,Zde,7,0,"div",77),A()()()),2&i&&(S(28),Mn("ngModel",r.selectedSimulationId),S(3),ke("ngForOf",r.simulations),S(6),Un("active","pilot"===r.selectedTemplate),S(13),Un("active","expanded"===r.selectedTemplate),S(13),Un("active","full"===r.selectedTemplate),S(17),Mn("ngModel",r.options.includeUaePassIntegration),S(10),Mn("ngModel",r.options.includeMobileApp),S(10),Mn("ngModel",r.options.includeHardwareIntegration),S(10),Mn("ngModel",r.options.include24x7Support),S(11),Me("Pilot Duration: ",r.options.durationMonths," months"),S(),Mn("ngModel",r.options.durationMonths),S(12),ke("disabled",r.isGenerating||!r.selectedSimulationId),S(),Me(" ",r.isGenerating?"\u23f3 Generating Proposal...":"\u{1f4c4} Generate Official Proposal"," "),S(8),Me("AED ",wn(144,32,r.getTotalCost(),"1.0-0"),""),S(11),Me("AED ",wn(155,35,r.getEstimatedAnnualRevenue(),"1.0-0"),""),S(11),lt(r.options.durationMonths),S(10),Me("",wn(176,38,r.getROI(),"1.0-0"),"%"),S(5),Me("",r.getPaybackMonths()," mo payback"),S(11),Me("30% \u2022 AED ",wn(192,41,.3*r.getTotalCost(),"1.0-0"),""),S(9),Me("25% \u2022 AED ",wn(201,44,.25*r.getTotalCost(),"1.0-0"),""),S(9),Me("20% \u2022 AED ",wn(210,47,.2*r.getTotalCost(),"1.0-0"),""),S(9),Me("15% \u2022 AED ",wn(219,50,.15*r.getTotalCost(),"1.0-0"),""),S(9),Me("10% \u2022 AED ",wn(228,53,.1*r.getTotalCost(),"1.0-0"),""),S(9),ke("ngForOf",r.getRevenueProjection()),S(6),Me("AED ",wn(243,56,r.get5YearRevenue(),"1.0-0"),""),S(6),Me("AED ",wn(249,59,r.get5YearRevenue()-5*r.getTotalCost(),"1.0-0"),""),S(6),ke("ngForOf",r.getImplementationPhases()),S(5),ke("ngForOf",r.getRisks()),S(37),ke("ngIf",r.proposal))},dependencies:[ls,cs,Hd,zd,va,Qd,U0,Nu,Qa,_a,fc],styles:['.pilot-container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e3a5f,#0f172a);border-radius:16px;padding:24px 32px;margin-bottom:24px;border:1px solid rgba(255,255,255,.1)}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.header-icon[_ngcontent-%COMP%]{font-size:2rem;background:#ffffff26;width:56px;height:56px;display:flex;align-items:center;justify-content:center;border-radius:12px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.5rem;font-weight:600}.subtitle[_ngcontent-%COMP%]{margin:4px 0 0;color:#fffc;font-size:.9rem}.header-badges[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:16px;flex-wrap:wrap}.badge[_ngcontent-%COMP%]{background:#ffffff1a;padding:6px 12px;border-radius:20px;font-size:.75rem;color:#fff;border:1px solid rgba(255,255,255,.2)}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:400px 1fr;gap:24px}@media (max-width: 1024px){.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.config-panel[_ngcontent-%COMP%]{position:sticky;top:90px;height:-moz-fit-content;height:fit-content}.panel-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 4px 20px #00000014;border:1px solid #e2e8f0}.panel-header[_ngcontent-%COMP%]{margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid #e2e8f0}.panel-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1e3a5f;font-size:1.1rem}.panel-subtitle[_ngcontent-%COMP%]{margin:4px 0 0;color:#64748b;font-size:.85rem}.form-group[_ngcontent-%COMP%]{margin-bottom:24px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#334155;margin-bottom:8px;font-size:.9rem}.form-select[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e2e8f0;border-radius:10px;font-size:14px;background:#fff}.form-select[_ngcontent-%COMP%]:focus{border-color:#3b82f6;outline:none}.form-hint[_ngcontent-%COMP%]{display:block;margin-top:6px;font-size:.75rem;color:#94a3b8}.scope-section[_ngcontent-%COMP%]{margin-bottom:24px}.scope-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f;font-size:.95rem}.scope-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:14px;padding:16px;border:2px solid #e2e8f0;border-radius:12px;background:#fff;cursor:pointer;transition:all .2s;margin-bottom:10px}.scope-btn[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#f8fafc}.scope-btn.active[_ngcontent-%COMP%]{border-color:#3b82f6;background:#eff6ff}.scope-icon[_ngcontent-%COMP%]{font-size:1.5rem}.scope-details[_ngcontent-%COMP%]{flex:1;text-align:left}.scope-name[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1e293b}.scope-desc[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.scope-cost[_ngcontent-%COMP%]{text-align:right}.cost-value[_ngcontent-%COMP%]{display:block;font-weight:700;color:#059669;font-size:1.1rem}.cost-label[_ngcontent-%COMP%]{font-size:.7rem;color:#94a3b8}.options-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f;font-size:.95rem}.option-checkbox[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:14px;border-radius:10px;margin-bottom:10px;cursor:pointer;transition:background .2s;border:1px solid #f1f5f9}.option-checkbox[_ngcontent-%COMP%]:hover{background:#f8fafc}.option-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.checkbox-custom[_ngcontent-%COMP%]{width:22px;height:22px;min-width:22px;border:2px solid #cbd5e1;border-radius:6px;display:flex;align-items:center;justify-content:center;margin-top:2px}.option-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]:after{content:"\\2713";color:#fff;font-size:14px;font-weight:700}.option-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .checkbox-custom[_ngcontent-%COMP%]{background:#3b82f6;border-color:#3b82f6}.option-content[_ngcontent-%COMP%]{flex:1}.option-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#1e293b;font-size:.9rem}.option-content[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#64748b;font-size:.75rem;display:block;margin-top:2px}.option-cost[_ngcontent-%COMP%]{color:#059669;font-weight:600;font-size:.85rem;white-space:nowrap}.form-range[_ngcontent-%COMP%]{width:100%;height:8px;border-radius:4px;background:#e2e8f0;-webkit-appearance:none}.form-range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;border-radius:50%;background:#3b82f6;cursor:pointer}.range-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:8px;font-size:.75rem;color:#64748b}.btn-generate[_ngcontent-%COMP%]{width:100%;padding:16px;background:linear-gradient(135deg,#1e3a5f,#0f172a);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s}.btn-generate[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #1e3a5f66}.btn-generate[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.results-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.kpi-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media (max-width: 900px){.kpi-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.kpi-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:20px;box-shadow:0 2px 8px #0000000f;border:1px solid #e2e8f0}.kpi-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:8px}.kpi-value[_ngcontent-%COMP%]{display:block;font-size:1.3rem;font-weight:700;color:#1e3a5f}.kpi-label[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.kpi-trend[_ngcontent-%COMP%]{font-size:.7rem;margin-top:8px;padding:4px 8px;border-radius:6px;background:#f1f5f9;color:#64748b;display:inline-block}.kpi-trend.positive[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.kpi-card.primary[_ngcontent-%COMP%]{border-top:3px solid #3b82f6}.kpi-card.success[_ngcontent-%COMP%]{border-top:3px solid #10b981}.kpi-card.warning[_ngcontent-%COMP%]{border-top:3px solid #f59e0b}.kpi-card.info[_ngcontent-%COMP%]{border-top:3px solid #8b5cf6}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}@media (max-width: 900px){.charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:24px;box-shadow:0 2px 8px #0000000f;border:1px solid #e2e8f0}.chart-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 20px;color:#1e3a5f;font-size:1rem}.horizontal-bar-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.hbar-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.hbar-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.85rem}.hbar-value[_ngcontent-%COMP%]{font-weight:600;color:#1e3a5f}.hbar-track[_ngcontent-%COMP%]{height:24px;background:#f1f5f9;border-radius:6px;overflow:hidden}.hbar-fill[_ngcontent-%COMP%]{height:100%;border-radius:6px;transition:width .3s}.revenue-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.revenue-bars[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-around;height:160px;padding:0 10px}.revenue-bar-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;flex:1}.revenue-bar[_ngcontent-%COMP%]{width:100%;max-width:50px;background:linear-gradient(180deg,#10b981,#059669);border-radius:6px 6px 0 0;min-height:20px;display:flex;align-items:flex-start;justify-content:center;padding-top:8px}.revenue-value[_ngcontent-%COMP%]{font-size:.65rem;font-weight:600;color:#fff}.revenue-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#64748b}.revenue-summary[_ngcontent-%COMP%]{display:flex;gap:20px;padding-top:16px;border-top:1px solid #e2e8f0}.summary-item[_ngcontent-%COMP%]{flex:1;text-align:center}.summary-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#64748b}.summary-value[_ngcontent-%COMP%]{display:block;font-size:1.1rem;font-weight:700;color:#1e3a5f}.summary-value.profit[_ngcontent-%COMP%]{color:#059669}.timeline-section[_ngcontent-%COMP%], .risk-section[_ngcontent-%COMP%], .compliance-section[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:24px;box-shadow:0 2px 8px #0000000f;border:1px solid #e2e8f0}.timeline-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .risk-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .compliance-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 20px;color:#1e3a5f}.timeline-track[_ngcontent-%COMP%]{display:flex;gap:16px;overflow-x:auto;padding-bottom:10px}.timeline-phase[_ngcontent-%COMP%]{flex:1;min-width:220px;position:relative}.phase-marker[_ngcontent-%COMP%]{width:36px;height:36px;background:#e2e8f0;color:#64748b;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;margin-bottom:12px}.phase-marker.completed[_ngcontent-%COMP%]{background:#10b981;color:#fff}.phase-content[_ngcontent-%COMP%]{background:#f8fafc;border-radius:10px;padding:16px}.phase-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 4px;color:#1e3a5f;font-size:.95rem}.phase-duration[_ngcontent-%COMP%]{font-size:.75rem;color:#3b82f6;font-weight:600}.phase-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:10px 0 0;padding-left:18px;font-size:.8rem;color:#475569}.deliverables[_ngcontent-%COMP%]{margin-top:10px;padding-top:10px;border-top:1px solid #e2e8f0;font-size:.75rem}.deliverables[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#64748b}.deliverables[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;background:#dbeafe;color:#1e40af;padding:2px 8px;border-radius:4px;margin-left:4px;margin-top:4px}.risk-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}@media (max-width: 768px){.risk-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.risk-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:10px;padding:16px}.risk-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.risk-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.risk-level[_ngcontent-%COMP%]{font-size:.7rem;padding:3px 10px;border-radius:6px;font-weight:600}.risk-level.low[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.risk-level.medium[_ngcontent-%COMP%]{background:#fef3c7;color:#b45309}.risk-level.high[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.risk-description[_ngcontent-%COMP%]{margin:0 0 8px;font-size:.85rem;color:#475569}.risk-mitigation[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b;line-height:1.5}.compliance-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}@media (max-width: 768px){.compliance-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.compliance-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px;background:#f0fdf4;border-radius:10px;border:1px solid #bbf7d0}.compliance-icon[_ngcontent-%COMP%]{font-size:1.3rem}.compliance-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#166534;font-size:.9rem}.compliance-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#15803d;font-size:.75rem}.export-section[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.btn-export[_ngcontent-%COMP%]{padding:14px 24px;border-radius:10px;font-weight:600;cursor:pointer;transition:all .2s;border:none}.btn-export.primary[_ngcontent-%COMP%]{background:#1e3a5f;color:#fff}.btn-export.primary[_ngcontent-%COMP%]:hover{background:#0f172a}.btn-export.secondary[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569;border:1px solid #e2e8f0}.btn-export.tertiary[_ngcontent-%COMP%]{background:#fff;color:#475569;border:1px solid #e2e8f0}']})}}return t})();function Xde(t,n){if(1&t&&(h(0,"option",20),f(1),A()),2&t){const e=n.$implicit;ke("value",e.id),S(),Me(" ",e.name," ")}}function Jde(t,n){if(1&t&&(h(0,"span",27),f(1),A()),2&t){const e=Fe();S(),Me("Year ",e.paybackPeriod,"")}}function ehe(t,n){if(1&t&&(h(0,"span",27),f(1),A()),2&t){const e=Fe();S(),Me("",e.years,"+")}}function the(t,n){if(1&t&&(Rm(),Cn(0,"circle",62)),2&t){const e=n.$implicit;Ds("cx",e.x)("cy",e.y)}}function nhe(t,n){if(1&t&&(Rm(),h(0,"text",63),f(1),A()),2&t){const e=n.index;Ds("x",40+e*(340/Fe().years)),S(),Me(" Y",e," ")}}function ihe(t,n){if(1&t&&(h(0,"div",64)(1,"span",65),f(2),A(),h(3,"div",66),Cn(4,"div",67),A(),h(5,"span",68),f(6),jt(7,"number"),A()()),2&t){const e=n.$implicit,i=Fe();S(2),lt(e.label),S(2),Ko("width",i.getSensitivityWidth(e.value),"%")("margin-left",e.value<0?"auto":"0"),Un("positive",e.value>=0)("negative",e.value<0),S(),Un("positive",e.value>=0)("negative",e.value<0),S(),Wo(" ",e.value>=0?"+":"","",wn(7,15,e.value/1e3,"1.0-0"),"K ")}}let rhe=(()=>{class t{constructor(e){this.simulationService=e,this.simulations=[],this.selectedSimulationId="",this.error=null,this.pilotCost=12e5,this.growthRate=8,this.discountRate=10,this.years=5,this.cashFlows=[],this.npv=0,this.irr=0,this.paybackPeriod=-1}ngOnInit(){this.loadSimulations(),this.recalculate()}loadSimulations(){this.simulationService.getAllSimulations().subscribe({next:e=>{this.simulations=e,e.length>0&&(this.selectedSimulationId=e[0].id,this.recalculate())},error:()=>{this.error="Failed to load simulations"}})}onInputsChanged(){this.recalculate()}getSelectedSimulation(){return this.simulations.find(e=>e.id===this.selectedSimulationId)||null}recalculate(){const e=this.getSelectedSimulation();if(!e)return void(this.cashFlows=[]);const i=365*e.estimatedRevenue,r=.15*i,o=.1*i,s=this.growthRate/100;let a=-this.pilotCost;const l=[a];for(let u=1;u<=this.years;u+=1)a+=i*Math.pow(1+s,u-1)-r-o,l.push(a);this.cashFlows=l,this.npv=this.calculateNPV(l,this.discountRate/100),this.irr=this.calculateIRR(l),this.paybackPeriod=this.calculatePaybackPeriod(l)}getCashFlowPoints(e=340,i=130){if(0===this.cashFlows.length)return"";const r=Math.max(...this.cashFlows),o=Math.min(...this.cashFlows,0),s=r-o||1;return this.cashFlows.map((l,u)=>`${40+u/(this.cashFlows.length-1)*e},${150-(l-o)/s*i}`).join(" ")}getCashFlowSvgPoints(e=340,i=130){if(0===this.cashFlows.length)return[];const r=Math.max(...this.cashFlows),o=Math.min(...this.cashFlows,0),s=r-o||1;return this.cashFlows.map((a,l)=>({x:40+l/(this.cashFlows.length-1)*e,y:150-(a-o)/s*i}))}getYearLabels(){return Array.from({length:this.years+1},(e,i)=>`Y${i}`)}getSensitivityBars(){const e=this.npv;return[{label:"Growth +3%",value:this.calculateScenario(3,0,0)-e},{label:"Growth -3%",value:this.calculateScenario(-3,0,0)-e},{label:"WACC +2%",value:this.calculateScenario(0,2,0)-e},{label:"WACC -2%",value:this.calculateScenario(0,-2,0)-e},{label:"Cost +10%",value:this.calculateScenario(0,0,.1*this.pilotCost)-e},{label:"Cost -10%",value:this.calculateScenario(0,0,.1*-this.pilotCost)-e}]}getSensitivityWidth(e){return Math.min(100,Math.abs(e)/5e5*100)}getSroiValue(){const e=this.getProductivityGainValue()+this.getCo2Value()+this.getHealthcareReductionValue();return 0===this.pilotCost?0:e/this.pilotCost}getCo2Value(){const e=this.getSelectedSimulation();return e?e.environmentalImpact/1e3*250:0}getProductivityGainValue(){const e=this.getSelectedSimulation();return e?e.totalVehicles*(e.congestionReduction/100*.5)*45*365:0}getHealthcareReductionValue(){const e=this.getSelectedSimulation();return e?e.environmentalImpact/1e3*120:0}getAnnualRevenue(){const e=this.getSelectedSimulation();return e?365*e.estimatedRevenue:0}getOperatingCosts(){return.25*this.getAnnualRevenue()}getYear1CashFlow(){return this.getAnnualRevenue()-this.getOperatingCosts()}getTotalRevenue(){let e=0;const i=this.growthRate/100,r=this.getAnnualRevenue();for(let o=0;o<this.years;o++)e+=r*Math.pow(1+i,o);return e}getTotalProfit(){return this.getTotalRevenue()-this.getOperatingCosts()*this.years-this.pilotCost}exportInvestmentMemo(){const e=this.getSelectedSimulation();if(!e)return;const i=new kn;i.setFontSize(20),i.setTextColor(30,58,95),i.text("Smart Mobility Investment Memo",20,25),i.setFontSize(12),i.setTextColor(100),i.text("UAE Government Stakeholder Report",20,35),i.text("Generated: "+(new Date).toLocaleDateString(),20,42),i.setFontSize(14),i.setTextColor(30),i.text("Executive Summary",20,58),i.setFontSize(11),i.setTextColor(60);const r=`This business case presents the financial analysis for implementing Smart Mobility congestion pricing in ${e.name}. The analysis projects significant returns with an NPV of AED ${(this.npv/1e6).toFixed(1)}M and IRR of ${this.irr.toFixed(0)}%.`,o=i.splitTextToSize(r,170);i.text(o,20,68),i.setFontSize(14),i.setTextColor(30),i.text("Key Financial Metrics",20,100),i.setFontSize(11),i.setTextColor(60),i.text(`\u2022 Initial Investment: AED ${this.pilotCost.toLocaleString()}`,25,112),i.text(`\u2022 Net Present Value (NPV): AED ${this.npv.toLocaleString()}`,25,120),i.text(`\u2022 Internal Rate of Return (IRR): ${this.irr.toFixed(1)}%`,25,128),i.text(`\u2022 Payback Period: Year ${this.paybackPeriod}`,25,136),i.text(`\u2022 {{ years }}-Year Revenue: AED ${(this.getTotalRevenue()/1e6).toFixed(1)}M`,25,144),i.setFontSize(14),i.setTextColor(30),i.text("Risk Assessment",20,162),i.setFontSize(11),i.setTextColor(60),i.text("\u2022 Regulatory alignment and government approval",25,174),i.text("\u2022 Public acceptance and behavioral change",25,182),i.text("\u2022 Technical integration with existing infrastructure",25,190),i.setFontSize(14),i.setTextColor(30),i.text("Recommendation",20,210),i.setFontSize(11),i.setTextColor(60);const a=i.splitTextToSize("Based on the strong financial metrics and alignment with UAE Vision 2030, we recommend proceeding with the pilot implementation.",170);i.text(a,20,220),i.setFontSize(10),i.setTextColor(150),i.text("Generated by Smart Mobility Simulator - Business Case Calculator",20,280),i.save("smart-zone-investment-memo.pdf")}calculateScenario(e,i,r){const o=this.getSelectedSimulation();if(!o)return 0;const s=365*o.estimatedRevenue,a=.15*s,l=.1*s,u=(this.growthRate+e)/100,g=(this.discountRate+i)/100;let y=-(this.pilotCost+r);const m=[y];for(let B=1;B<=this.years;B+=1)y+=s*Math.pow(1+u,B-1)-a-l,m.push(y);return this.calculateNPV(m,g)}calculateNPV(e,i){return e.reduce((r,o,s)=>r+o/Math.pow(1+i,s),0)}calculateIRR(e){let i=.1;for(let r=0;r<50;r+=1){let o=0,s=0;for(let l=0;l<e.length;l+=1)o+=e[l]/Math.pow(1+i,l),l>0&&(s-=l*e[l]/Math.pow(1+i,l+1));if(Math.abs(s)<1e-6)break;const a=i-o/s;if(!isFinite(a))break;if(Math.abs(a-i)<1e-6){i=a;break}i=a}return 100*i}calculatePaybackPeriod(e){for(let i=0;i<e.length;i+=1)if(e[i]>=0)return i;return-1}static{this.\u0275fac=function(i){return new(i||t)(wt(o1))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-business-case"]],decls:212,vars:82,consts:[[1,"business-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"subtitle"],[1,"header-badges"],[1,"badge"],[1,"content-grid"],[1,"config-panel"],[1,"panel-card"],[1,"form-group"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"range-input"],["type","range","min","500000","max","15000000","step","100000",3,"ngModelChange","input","ngModel"],[1,"range-value"],[1,"range-labels"],["type","range","min","3","max","20","step","1",3,"ngModelChange","input","ngModel"],["type","range","min","5","max","15","step","0.5",3,"ngModelChange","input","ngModel"],[3,"value"],[1,"btn-export",3,"click"],[1,"results-panel"],[1,"kpi-grid"],[1,"kpi-card","primary"],[1,"kpi-icon"],[1,"kpi-content"],[1,"kpi-value"],[1,"kpi-label"],[1,"kpi-badge","positive"],[1,"kpi-card","success"],[1,"kpi-badge"],[1,"kpi-card","warning"],["class","kpi-value",4,"ngIf"],[1,"kpi-card","info"],[1,"charts-grid"],[1,"chart-card"],[1,"cashflow-chart"],["viewBox","0 0 400 180"],["x1","40","y1","20","x2","40","y2","150","stroke","#e2e8f0","stroke-width","1"],["x1","40","y1","150","x2","380","y2","150","stroke","#e2e8f0","stroke-width","1"],["x1","40","y1","85","x2","380","y2","85","stroke","#94a3b8","stroke-width","1","stroke-dasharray","4"],["fill","none","stroke","#3b82f6","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],["r","4","fill","#3b82f6",4,"ngFor","ngForOf"],["x","10","y","25","font-size","10","fill","#64748b"],["y","170","font-size","10","fill","#64748b","text-anchor","middle",4,"ngFor","ngForOf"],[1,"sensitivity-bars"],["class","sensitivity-row",4,"ngFor","ngForOf"],[1,"sroi-section"],[1,"sroi-grid"],[1,"sroi-card"],[1,"sroi-icon"],[1,"sroi-content"],[1,"sroi-value"],[1,"sroi-label"],[1,"summary-section"],[1,"summary-table"],[1,"summary-row"],[1,"summary-label"],[1,"summary-value"],[1,"summary-row","highlight"],[1,"summary-value","positive"],["r","4","fill","#3b82f6"],["y","170","font-size","10","fill","#64748b","text-anchor","middle"],[1,"sensitivity-row"],[1,"sensitivity-label"],[1,"sensitivity-bar-track"],[1,"sensitivity-bar"],[1,"sensitivity-value"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,"\u{1f4bc}"),A(),h(5,"div")(6,"h1"),f(7,"Smart Mobility Business Case"),A(),h(8,"p",4),f(9," Comprehensive financial analysis for UAE government stakeholders "),A()()(),h(10,"div",5)(11,"span",6),f(12,"\u{1f4ca} Financial Model"),A(),h(13,"span",6),f(14,"\u{1f3af} ROI Analysis"),A()()(),h(15,"div",7)(16,"div",8)(17,"div",9)(18,"h3"),f(19,"\u{1f4d0} Model Parameters"),A(),h(20,"div",10)(21,"label"),f(22,"Select Simulation Baseline"),A(),h(23,"select",11),Bn("ngModelChange",function(s){return Dn(r.selectedSimulationId,s)||(r.selectedSimulationId=s),s}),it("change",function(){return r.onInputsChanged()}),h(24,"option",12),f(25,"Choose simulation..."),A(),xt(26,Xde,2,2,"option",13),A()(),h(27,"div",10)(28,"label"),f(29,"Pilot Investment (AED)"),A(),h(30,"div",14)(31,"input",15),Bn("ngModelChange",function(s){return Dn(r.pilotCost,s)||(r.pilotCost=s),s}),it("input",function(){return r.onInputsChanged()}),A(),h(32,"span",16),f(33),jt(34,"number"),A()(),h(35,"div",17)(36,"span"),f(37,"0.5M"),A(),h(38,"span"),f(39,"5M"),A(),h(40,"span"),f(41,"10M"),A(),h(42,"span"),f(43,"15M"),A()()(),h(44,"div",10)(45,"label"),f(46,"Annual Revenue Growth Rate"),A(),h(47,"div",14)(48,"input",18),Bn("ngModelChange",function(s){return Dn(r.growthRate,s)||(r.growthRate=s),s}),it("input",function(){return r.onInputsChanged()}),A(),h(49,"span",16),f(50),A()()(),h(51,"div",10)(52,"label"),f(53,"Discount Rate (WACC)"),A(),h(54,"div",14)(55,"input",19),Bn("ngModelChange",function(s){return Dn(r.discountRate,s)||(r.discountRate=s),s}),it("input",function(){return r.onInputsChanged()}),A(),h(56,"span",16),f(57),A()()(),h(58,"div",10)(59,"label"),f(60,"Projection Period"),A(),h(61,"select",11),Bn("ngModelChange",function(s){return Dn(r.years,s)||(r.years=s),s}),it("change",function(){return r.onInputsChanged()}),h(62,"option",20),f(63,"3 Years"),A(),h(64,"option",20),f(65,"5 Years"),A(),h(66,"option",20),f(67,"7 Years"),A(),h(68,"option",20),f(69,"10 Years"),A()()(),h(70,"button",21),it("click",function(){return r.exportInvestmentMemo()}),f(71," \u{1f4e5} Export Investment Memo (PDF) "),A()()(),h(72,"div",22)(73,"div",23)(74,"div",24)(75,"div",25),f(76,"\u{1f4b0}"),A(),h(77,"div",26)(78,"span",27),f(79),jt(80,"number"),A(),h(81,"span",28),f(82,"Net Present Value"),A()(),h(83,"div",29),f(84,"Value Creating"),A()(),h(85,"div",30)(86,"div",25),f(87,"\u{1f4c8}"),A(),h(88,"div",26)(89,"span",27),f(90),jt(91,"number"),A(),h(92,"span",28),f(93,"Internal Rate of Return"),A()(),h(94,"div",31),f(95),A()(),h(96,"div",32)(97,"div",25),f(98,"\u23f1\ufe0f"),A(),h(99,"div",26),xt(100,Jde,2,1,"span",33)(101,ehe,2,1,"span",33),h(102,"span",28),f(103,"Payback Period"),A()()(),h(104,"div",34)(105,"div",25),f(106,"\u{1f4ca}"),A(),h(107,"div",26)(108,"span",27),f(109),jt(110,"number"),A(),h(111,"span",28),f(112),A()()()(),h(113,"div",35)(114,"div",36)(115,"h4"),f(116,"\u{1f4b5} Cumulative Cash Flow"),A(),h(117,"div",37),Rm(),h(118,"svg",38),Cn(119,"line",39)(120,"line",40)(121,"line",41)(122,"polyline",42),xt(123,the,1,2,"circle",43),h(124,"text",44),f(125,"AED M"),A(),xt(126,nhe,2,2,"text",45),A()()(),function Ov(){!function wM(){ui.lFrame.currentNamespace=null}()}(),h(127,"div",36)(128,"h4"),f(129,"\u{1f3af} Sensitivity Analysis (NPV Impact)"),A(),h(130,"div",46),xt(131,ihe,8,18,"div",47),A()()(),h(132,"div",48)(133,"h4"),f(134,"\u{1f331} Social Return on Investment (SROI)"),A(),h(135,"div",49)(136,"div",50)(137,"div",51),f(138,"\u{1f33f}"),A(),h(139,"div",52)(140,"span",53),f(141),jt(142,"number"),A(),h(143,"span",54),f(144,"SROI Ratio"),A()()(),h(145,"div",50)(146,"div",51),f(147,"\u{1f3ed}"),A(),h(148,"div",52)(149,"span",53),f(150),jt(151,"number"),A(),h(152,"span",54),f(153,"CO\u2082 Reduction Value"),A()()(),h(154,"div",50)(155,"div",51),f(156,"\u23f0"),A(),h(157,"div",52)(158,"span",53),f(159),jt(160,"number"),A(),h(161,"span",54),f(162,"Productivity Gains"),A()()(),h(163,"div",50)(164,"div",51),f(165,"\u{1f3e5}"),A(),h(166,"div",52)(167,"span",53),f(168),jt(169,"number"),A(),h(170,"span",54),f(171,"Healthcare Savings"),A()()()()(),h(172,"div",55)(173,"h4"),f(174,"\u{1f4cb} Financial Summary"),A(),h(175,"div",56)(176,"div",57)(177,"span",58),f(178,"Initial Investment"),A(),h(179,"span",59),f(180),jt(181,"number"),A()(),h(182,"div",57)(183,"span",58),f(184,"Annual Revenue (Year 1)"),A(),h(185,"span",59),f(186),jt(187,"number"),A()(),h(188,"div",57)(189,"span",58),f(190,"Operating Costs (Annual)"),A(),h(191,"span",59),f(192),jt(193,"number"),A()(),h(194,"div",60)(195,"span",58),f(196,"Net Cash Flow (Year 1)"),A(),h(197,"span",61),f(198),jt(199,"number"),A()(),h(200,"div",57)(201,"span",58),f(202),A(),h(203,"span",59),f(204),jt(205,"number"),A()(),h(206,"div",57)(207,"span",58),f(208),A(),h(209,"span",61),f(210),jt(211,"number"),A()()()()()()()),2&i&&(S(23),Mn("ngModel",r.selectedSimulationId),S(3),ke("ngForOf",r.simulations),S(5),Mn("ngModel",r.pilotCost),S(2),Me("AED ",wn(34,40,r.pilotCost/1e6,"1.1-1"),"M"),S(15),Mn("ngModel",r.growthRate),S(2),Me("",r.growthRate,"%"),S(5),Mn("ngModel",r.discountRate),S(2),Me("",r.discountRate,"%"),S(4),Mn("ngModel",r.years),S(),ke("value",3),S(2),ke("value",5),S(2),ke("value",7),S(2),ke("value",10),S(11),Me("AED ",wn(80,43,r.npv/1e6,"1.1-1"),"M"),S(11),Me("",wn(91,46,r.irr,"1.0-0"),"%"),S(4),Un("positive",r.irr>r.discountRate)("negative",r.irr<r.discountRate),S(),Me(" ",r.irr>r.discountRate?"Above WACC":"Below WACC"," "),S(5),ke("ngIf",r.paybackPeriod>=0),S(),ke("ngIf",r.paybackPeriod<0),S(8),Me("AED ",wn(110,49,r.getTotalRevenue()/1e6,"1.1-1"),"M"),S(3),Me("",r.years,"-Year Revenue"),S(10),Ds("points",r.getCashFlowPoints(340,130)),S(),ke("ngForOf",r.getCashFlowSvgPoints(340,130)),S(3),ke("ngForOf",r.getYearLabels()),S(5),ke("ngForOf",r.getSensitivityBars()),S(10),Me("",wn(142,52,r.getSroiValue(),"1.1-1"),"x"),S(9),Me("AED ",wn(151,55,r.getCo2Value()/1e3,"1.0-0"),"K"),S(9),Me("AED ",wn(160,58,r.getProductivityGainValue()/1e6,"1.1-1"),"M"),S(9),Me("AED ",wn(169,61,r.getHealthcareReductionValue()/1e3,"1.0-0"),"K"),S(12),Me("AED ",wn(181,64,r.pilotCost,"1.0-0"),""),S(6),Me("AED ",wn(187,67,r.getAnnualRevenue(),"1.0-0"),""),S(6),Me("AED ",wn(193,70,r.getOperatingCosts(),"1.0-0"),""),S(6),Me("AED ",wn(199,73,r.getYear1CashFlow(),"1.0-0"),""),S(4),Me("",r.years,"-Year Total Revenue"),S(2),Me("AED ",wn(205,76,r.getTotalRevenue()/1e6,"1.1-1"),"M"),S(4),Me("",r.years,"-Year Total Profit"),S(2),Me("AED ",wn(211,79,r.getTotalProfit()/1e6,"1.1-1"),"M"))},dependencies:[ls,cs,Hd,zd,va,Qd,Nu,Qa,_a,fc],styles:[".business-container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e3a5f,#0ea5e9);border-radius:16px;padding:24px;margin-bottom:24px}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.header-icon[_ngcontent-%COMP%]{font-size:2rem;background:#ffffff26;width:56px;height:56px;display:flex;align-items:center;justify-content:center;border-radius:12px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{margin:4px 0 0;color:#ffffffd9}.header-badges[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:16px}.badge[_ngcontent-%COMP%]{background:#ffffff26;padding:6px 12px;border-radius:20px;font-size:.75rem;color:#fff}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:340px 1fr;gap:24px}@media (max-width: 1024px){.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.config-panel[_ngcontent-%COMP%]{position:sticky;top:90px;height:-moz-fit-content;height:fit-content}.panel-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 4px 16px #00000014;border:1px solid #e2e8f0}.panel-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#1e3a5f;font-size:1.1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#334155;margin-bottom:8px;font-size:.9rem}.form-select[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #e2e8f0;border-radius:10px;font-size:14px}.range-input[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.range-input[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{flex:1;height:8px;-webkit-appearance:none;background:#e2e8f0;border-radius:4px}.range-input[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;background:#3b82f6;border-radius:50%;cursor:pointer}.range-value[_ngcontent-%COMP%]{min-width:80px;text-align:right;font-weight:600;color:#1e3a5f}.range-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:6px;font-size:.7rem;color:#94a3b8}.btn-export[_ngcontent-%COMP%]{width:100%;padding:14px;background:linear-gradient(135deg,#1e3a5f,#0f172a);color:#fff;border:none;border-radius:10px;font-weight:600;cursor:pointer;margin-top:10px}.btn-export[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #1e3a5f4d}.results-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.kpi-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media (max-width: 900px){.kpi-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.kpi-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:20px;box-shadow:0 2px 8px #0000000f;border:1px solid #e2e8f0}.kpi-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:8px}.kpi-value[_ngcontent-%COMP%]{display:block;font-size:1.4rem;font-weight:700;color:#1e3a5f}.kpi-label[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.kpi-badge[_ngcontent-%COMP%]{display:inline-block;margin-top:8px;padding:4px 10px;border-radius:6px;font-size:.7rem;font-weight:600}.kpi-badge.positive[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.kpi-badge.negative[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.kpi-card.primary[_ngcontent-%COMP%]{border-top:3px solid #3b82f6}.kpi-card.success[_ngcontent-%COMP%]{border-top:3px solid #10b981}.kpi-card.warning[_ngcontent-%COMP%]{border-top:3px solid #f59e0b}.kpi-card.info[_ngcontent-%COMP%]{border-top:3px solid #8b5cf6}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}@media (max-width: 900px){.charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:24px;box-shadow:0 2px 8px #0000000f;border:1px solid #e2e8f0}.chart-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f;font-size:1rem}.cashflow-chart[_ngcontent-%COMP%]{height:180px}.cashflow-chart[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.sensitivity-bars[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.sensitivity-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.sensitivity-label[_ngcontent-%COMP%]{min-width:100px;font-size:.8rem;color:#475569}.sensitivity-bar-track[_ngcontent-%COMP%]{flex:1;height:20px;background:#f1f5f9;border-radius:10px;overflow:hidden}.sensitivity-bar[_ngcontent-%COMP%]{height:100%;border-radius:10px;transition:width .3s}.sensitivity-bar.positive[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#34d399)}.sensitivity-bar.negative[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f87171,#ef4444)}.sensitivity-value[_ngcontent-%COMP%]{min-width:60px;text-align:right;font-size:.8rem;font-weight:600}.sensitivity-value.positive[_ngcontent-%COMP%]{color:#10b981}.sensitivity-value.negative[_ngcontent-%COMP%]{color:#ef4444}.sroi-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ecfdf5,#d1fae5);border-radius:14px;padding:24px;border:1px solid #a7f3d0}.sroi-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#065f46;font-size:1rem}.sroi-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media (max-width: 768px){.sroi-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.sroi-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:16px;display:flex;align-items:center;gap:12px}.sroi-icon[_ngcontent-%COMP%]{font-size:1.5rem}.sroi-value[_ngcontent-%COMP%]{display:block;font-size:1.1rem;font-weight:700;color:#059669}.sroi-label[_ngcontent-%COMP%]{font-size:.7rem;color:#64748b}.summary-section[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:24px;box-shadow:0 2px 8px #0000000f;border:1px solid #e2e8f0}.summary-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f;font-size:1rem}.summary-table[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px;border-radius:8px}.summary-row[_ngcontent-%COMP%]:nth-child(odd){background:#f8fafc}.summary-row.highlight[_ngcontent-%COMP%]{background:#eff6ff;border:1px solid #bfdbfe}.summary-label[_ngcontent-%COMP%]{color:#475569}.summary-value[_ngcontent-%COMP%]{font-weight:600;color:#1e3a5f}.summary-value.positive[_ngcontent-%COMP%]{color:#059669}"]})}}return t})();const ohe=["presentationRoot"];function she(t,n){if(1&t){const e=ti();h(0,"button",32),it("click",function(){const r=pt(e).$implicit;return gt(Fe().selectTemplate(r.id))}),h(1,"span",33),f(2),A(),h(3,"span",34),f(4),A(),h(5,"span",35),f(6),A()()}if(2&t){const e=n.$implicit;Un("active",Fe().selectedTemplateId===e.id),S(2),lt(e.name),S(2),lt(e.description),S(2),Me("",e.slides.length," slides")}}function ahe(t,n){if(1&t){const e=ti();h(0,"button",36),it("click",function(){const r=pt(e).$implicit;return gt(Fe().selectTheme(r.id))}),Cn(1,"span",37),h(2,"span"),f(3),A()()}if(2&t){const e=n.$implicit,i=Fe();Ko("--theme-primary",e.colors.primary)("--theme-secondary",e.colors.secondary),Un("active",i.selectedTheme.id===e.id),S(3),lt(e.name)}}function lhe(t,n){if(1&t){const e=ti();h(0,"div",38),it("click",function(){const r=pt(e).index;return gt(Fe().goToSlide(r))}),h(1,"span",39),f(2),A(),h(3,"span",40),f(4),A()()}if(2&t){const e=n.$implicit,i=n.index;Un("active",Fe().currentSlideIndex===i),S(2),lt(i+1),S(2),lt(e.title)}}function che(t,n){if(1&t&&(h(0,"div",41),Cn(1,"div",42),h(2,"div",43)(3,"div",44),f(4,"\u{1f3d9}\ufe0f"),A(),h(5,"h1"),f(6),A(),h(7,"p",45),f(8),A(),h(9,"div",46)(10,"span"),f(11),A(),h(12,"span"),f(13),A()()()()),2&t){const e=Fe();S(6),lt(e.currentSlide.title),S(2),Me(" ",e.currentSlide.content.subtitle," "),S(3),Me("\u{1f4cd} ",e.selectedTheme.location,""),S(2),Me("\u{1f4c5} ",e.selectedTheme.date,"")}}function uhe(t,n){if(1&t&&(h(0,"div",47)(1,"div",48)(2,"h2"),f(3),A()(),h(4,"div",49)(5,"p",50),f(6),A(),h(7,"p",51),f(8),A()()()),2&t){const e=Fe();S(3),lt(e.currentSlide.title),S(3),lt(e.currentSlide.content.headline),S(2),lt(e.currentSlide.content.body)}}function Ahe(t,n){if(1&t&&(h(0,"li")(1,"span",55),f(2,"\u25b8"),A(),f(3),A()),2&t){const e=n.$implicit;S(3),Me(" ",e," ")}}function dhe(t,n){if(1&t&&(h(0,"div",52)(1,"div",48)(2,"h2"),f(3),A()(),h(4,"div",49)(5,"ul",53),xt(6,Ahe,4,1,"li",54),A()()()),2&t){const e=Fe();S(3),lt(e.currentSlide.title),S(3),ke("ngForOf",e.currentSlide.content.bullets)}}function hhe(t,n){if(1&t&&(h(0,"li"),f(1),A()),2&t){const e=n.$implicit;S(),Me(" ",e," ")}}function fhe(t,n){if(1&t&&(h(0,"div",56)(1,"div",48)(2,"h2"),f(3),A()(),h(4,"div",57)(5,"div",58)(6,"h3"),f(7),A(),h(8,"p"),f(9),A()(),h(10,"div",59)(11,"h3"),f(12,"Key Points"),A(),h(13,"ul"),xt(14,hhe,2,1,"li",54),A()()()()),2&t){const e=Fe();S(3),lt(e.currentSlide.title),S(4),lt(e.currentSlide.content.headline),S(2),lt(e.currentSlide.content.leftText),S(5),ke("ngForOf",e.currentSlide.content.bullets)}}function phe(t,n){if(1&t&&(h(0,"span",67),f(1),A()),2&t){const e=Fe().$implicit;S(),lt(e.change)}}function ghe(t,n){if(1&t&&(h(0,"div",63)(1,"span",64),f(2),A(),h(3,"span",65),f(4),A(),xt(5,phe,2,1,"span",66),A()),2&t){const e=n.$implicit;S(2),lt(e.value),S(2),lt(e.label),S(),ke("ngIf",e.change)}}function mhe(t,n){if(1&t&&(h(0,"div",60)(1,"div",48)(2,"h2"),f(3),A()(),h(4,"div",61),xt(5,ghe,6,3,"div",62),A()()),2&t){const e=Fe();S(3),lt(e.currentSlide.title),S(2),ke("ngForOf",e.currentSlide.content.stats)}}function vhe(t,n){if(1&t&&(h(0,"div",68)(1,"div",69),f(2,'"'),A(),h(3,"blockquote"),f(4),A(),h(5,"cite"),f(6),A()()),2&t){const e=Fe();S(4),lt(e.currentSlide.content.quote),S(2),Me("\u2014 ",e.currentSlide.content.quotee,"")}}function _he(t,n){if(1&t&&(h(0,"div",81),Cn(1,"div",42),h(2,"div",43)(3,"div",44),f(4,"\u{1f3d9}\ufe0f"),A(),h(5,"h1"),f(6),A(),h(7,"p",45),f(8),A(),h(9,"div",46)(10,"span"),f(11),A(),h(12,"span"),f(13),A()()()()),2&t){const e=Fe(2);S(6),lt(e.presentationSlides[e.presentationIndex].title),S(2),Me(" ",e.presentationSlides[e.presentationIndex].content.subtitle," "),S(3),Me("\u{1f4cd} ",e.selectedTheme.location,""),S(2),Me("\u{1f4c5} ",e.selectedTheme.date,"")}}function yhe(t,n){if(1&t&&(h(0,"div",82)(1,"div",48)(2,"h2"),f(3),A()(),h(4,"div",49)(5,"p",50),f(6),A(),h(7,"p",51),f(8),A()()()),2&t){const e=Fe(2);S(3),lt(e.presentationSlides[e.presentationIndex].title),S(3),Me(" ",e.presentationSlides[e.presentationIndex].content.headline," "),S(2),Me(" ",e.presentationSlides[e.presentationIndex].content.body," ")}}function bhe(t,n){if(1&t&&(h(0,"li")(1,"span",55),f(2,"\u25b8"),A(),f(3),A()),2&t){const e=n.$implicit;S(3),Me(" ",e," ")}}function whe(t,n){if(1&t&&(h(0,"div",83)(1,"div",48)(2,"h2"),f(3),A()(),h(4,"div",49)(5,"ul",53),xt(6,bhe,4,1,"li",54),A()()()),2&t){const e=Fe(2);S(3),lt(e.presentationSlides[e.presentationIndex].title),S(3),ke("ngForOf",e.presentationSlides[e.presentationIndex].content.bullets)}}function Che(t,n){if(1&t&&(h(0,"span",67),f(1),A()),2&t){const e=Fe().$implicit;S(),lt(e.change)}}function xhe(t,n){if(1&t&&(h(0,"div",63)(1,"span",64),f(2),A(),h(3,"span",65),f(4),A(),xt(5,Che,2,1,"span",66),A()),2&t){const e=n.$implicit;S(2),lt(e.value),S(2),lt(e.label),S(),ke("ngIf",e.change)}}function Mhe(t,n){if(1&t&&(h(0,"div",84)(1,"div",48)(2,"h2"),f(3),A()(),h(4,"div",61),xt(5,xhe,6,3,"div",62),A()()),2&t){const e=Fe(2);S(3),lt(e.presentationSlides[e.presentationIndex].title),S(2),ke("ngForOf",e.presentationSlides[e.presentationIndex].content.stats)}}function Bhe(t,n){if(1&t&&(h(0,"div",85)(1,"div",69),f(2,'"'),A(),h(3,"blockquote"),f(4),A(),h(5,"cite"),f(6),A()()),2&t){const e=Fe(2);S(4),Me(" ",e.presentationSlides[e.presentationIndex].content.quote," "),S(2),Me("\u2014 ",e.presentationSlides[e.presentationIndex].content.quotee,"")}}function Dhe(t,n){if(1&t){const e=ti();h(0,"div",70)(1,"div",71),xt(2,_he,14,4,"div",72)(3,yhe,9,3,"div",73)(4,whe,7,2,"div",74)(5,Mhe,6,2,"div",75)(6,Bhe,7,2,"div",76),h(7,"div",77)(8,"button",78),it("click",function(){return pt(e),gt(Fe().prevSlide())}),f(9,"\u2190"),A(),h(10,"span",79),f(11),A(),h(12,"button",78),it("click",function(){return pt(e),gt(Fe().nextSlide())}),f(13,"\u2192"),A(),h(14,"button",80),it("click",function(){return pt(e),gt(Fe().stopPresentation())}),f(15," \u2715 Exit "),A()()()()}if(2&t){const e=Fe();S(),Ko("--primary",e.selectedTheme.colors.primary)("--secondary",e.selectedTheme.colors.secondary)("--accent",e.selectedTheme.colors.accent)("--bg",e.selectedTheme.colors.background),S(),ke("ngIf","title"===e.presentationSlides[e.presentationIndex].content.type),S(),ke("ngIf","text"===e.presentationSlides[e.presentationIndex].content.type),S(),ke("ngIf","bullet"===e.presentationSlides[e.presentationIndex].content.type),S(),ke("ngIf","stats"===e.presentationSlides[e.presentationIndex].content.type),S(),ke("ngIf","quote"===e.presentationSlides[e.presentationIndex].content.type),S(5),Wo("",e.presentationIndex+1," / ",e.presentationSlides.length,"")}}let She=(()=>{class t{constructor(e,i){this.route=e,this.router=i,this.templates=[],this.selectedTemplateId="investor",this.currentSlides=[],this.currentSlideIndex=0,this.themes=[{id:"default",name:"UAE",location:"Dubai, UAE",date:"2026",colors:{primary:"#1e3a5f",secondary:"#ffffff",accent:"#0ea5e9",background:"#ffffff"}},{id:"emerald",name:"Growth",location:"UAE",date:"2026",colors:{primary:"#059669",secondary:"#ecfdf5",accent:"#10b981",background:"#ffffff"}},{id:"royal",name:"Premium",location:"UAE",date:"2026",colors:{primary:"#7c3aed",secondary:"#f5f3ff",accent:"#a78bfa",background:"#ffffff"}},{id:"dark",name:"Modern",location:"UAE",date:"2026",colors:{primary:"#f8fafc",secondary:"#1e293b",accent:"#38bdf8",background:"#0f172a"}}],this.selectedTheme=this.themes[0],this.isPresenting=!1,this.presentationIndex=0,this.presentationSlides=[],this.keydownHandler=r=>this.handleKeydown(r),this.initTemplates()}ngOnInit(){this.selectTemplate("investor"),this.route.queryParams.subscribe(e=>{e.template&&this.selectTemplate(e.template),e.theme&&this.selectTheme(e.theme)})}ngOnDestroy(){window.removeEventListener("keydown",this.keydownHandler)}get currentSlide(){return this.currentSlides[this.currentSlideIndex]}initTemplates(){this.templates=[{id:"investor",name:"Investor Deck",description:"VC/Angel ready",slides:this.getInvestorSlides()},{id:"government",name:"Government",description:"RTA/ITC proposal",slides:this.getGovernmentSlides()},{id:"quick",name:"Quick Pitch",description:"5 min overview",slides:this.getQuickSlides()}]}getInvestorSlides(){return[{id:"1",title:"Smart Mobility Simulator",content:{type:"title",subtitle:"Transforming Urban Mobility in the Middle East"},notes:"Welcome everyone. Today I'm presenting Smart Mobility Simulator - a revolutionary platform for urban congestion pricing in UAE cities."},{id:"2",title:"The Problem",content:{type:"bullet",headline:"UAE cities face critical transportation challenges",bullets:["Dubai loses AED 6.5 billion annually to congestion (WSP Report)","Average commute times increased 23% since 2019","Carbon emissions from transport growing at 4% per year","Current toll systems (Salik) lack dynamic pricing capability"]},notes:"The problem is clear - UAE cities are growing faster than their infrastructure can handle. Traffic congestion costs the economy billions annually."},{id:"3",title:"Market Opportunity",content:{type:"stats",stats:[{label:"UAE Population",value:"10.2M",change:"+5% YoY"},{label:"Vehicles Registered",value:"2.4M",change:"+8% YoY"},{label:"Smart City Budget",value:"$35B",change:"2024-2026"},{label:"Transport Apps",value:"12M+",change:"Active users"}]},notes:"The market opportunity is massive. UAE is investing heavily in smart city infrastructure, and there's a clear gap in intelligent transportation pricing."},{id:"4",title:"Our Solution",content:{type:"split",headline:"FAIR Pricing Model",leftText:"Smart Mobility Simulator provides dynamic congestion pricing that is Fair, Accessible, Incentivizing, and Revenue-generating. Unlike traditional toll systems, our model exempts residents and workers while encouraging public transit use.",bullets:["Real-time zone-based pricing","Automated exemption verification","Integration with Salik & UAE Pass","Arabic & English mobile app"]},notes:"Our solution addresses all stakeholders - government, residents, workers, and businesses. The FAIR model ensures equity while generating revenue."},{id:"5",title:"How It Works",content:{type:"bullet",bullets:["Geofenced zones with ANPR cameras","Vehicle classification (resident/worker/visitor)","Dynamic pricing based on time & congestion","Free grace period (20 min) for visitors","Off-peak discounts after 8PM","Seamless payment via UAE Pass"]},notes:"The system is elegant in its simplicity. Zones are managed automatically, with minimal human intervention needed."},{id:"6",title:"Competitive Advantage",content:{type:"bullet",bullets:["First mover in UAE congestion pricing","Proprietary simulation engine","Integration-ready with RTA systems","Aligns with Vision 2030 sustainability goals","Proven results: 25% congestion reduction (based on Stockholm/London benchmarks)"]},notes:"We have first-mover advantage in this market. Our simulation engine allows cities to test scenarios before implementation."},{id:"7",title:"Business Model",content:{type:"text",headline:"Multi-stream revenue generation",body:"We generate revenue through: (1) Implementation fees for city deployment, (2) Annual licensing & support, (3) Transaction fees on payments, (4) Data analytics services for government planning. Projected Year 3 EBITDA margin: 45%."},notes:"Our business model combines upfront implementation revenue with recurring licensing - creating a sustainable, growing business."},{id:"8",title:"Traction & Validation",content:{type:"stats",stats:[{label:"Simulation Runs",value:"2,500+",change:"Completed"},{label:"Partner Interest",value:"3",change:"Govt entities"},{label:"Revenue (MVP)",value:"AED 180K",change:"Pilot"},{label:"Tech Readiness",value:"TL 7",change:"Scale"}]},notes:"We've already completed over 2,500 simulations and have interest from 3 government entities."},{id:"9",title:"Financial Projections",content:{type:"stats",stats:[{label:"Year 1 Revenue",value:"AED 2.5M"},{label:"Year 3 Revenue",value:"AED 12M"},{label:"Year 5 Revenue",value:"AED 35M"},{label:"Break-even",value:"18 months"}]},notes:"Conservative projections show break-even within 18 months, with significant growth as we expand to other emirates."},{id:"10",title:"The Ask",content:{type:"text",headline:"Raising AED 3M Seed Round",body:"Funds will be used for: Team expansion (30%), Technology development (25%), Government partnerships (25%), Operations (20%). Seeking strategic investors with government connections."},notes:"We're raising AED 3 million to accelerate our growth. This will allow us to secure our first government contract and expand the team."},{id:"11",title:"Our Team",content:{type:"bullet",bullets:["CEO - Former RTA Strategy Director","CTO - 15 years, ex-Careem/Uber","COO - Operations expert, M.Sc. Transport","Advisors: Former ITC Director, Dubai Smart City Lead"]},notes:"Our team combines deep government relationships with top-tier technical expertise. We know this market inside out."},{id:"12",title:"Vision",content:{type:"quote",quote:"Making UAE cities more livable, sustainable, and efficient through intelligent pricing.",quotee:"Smart Mobility Team"},notes:"Thank you for your time. We're excited to partner with investors who share our vision for a better UAE."}]}getGovernmentSlides(){return[{id:"1",title:"Smart Mobility Pricing Initiative",content:{type:"title",subtitle:"Strategic Solution for Traffic Management & Sustainability"},notes:"Honorable officials, thank you for this opportunity to present our solution for improving urban mobility."},{id:"2",title:"Executive Summary",content:{type:"bullet",headline:"A comprehensive congestion management system",bullets:["Dynamic pricing based on time and congestion levels","Equitable model protecting residents and workers","Aligns with Vision 2030 and Net Zero 2050","Proven effectiveness in 40+ global cities"]},notes:"This initiative addresses multiple government objectives - from traffic management to environmental sustainability."},{id:"3",title:"Current Challenges",content:{type:"bullet",bullets:["Peak hour congestion increasing 8% annually","Air quality index impacted by traffic","Public transit utilization below target (35%)","Need for sustainable transport funding"]},notes:"These challenges require innovative solutions. Traditional infrastructure alone cannot solve this problem."},{id:"4",title:"Our Solution",content:{type:"text",headline:"FAIR Model: Fair, Accessible, Incentivizing, Revenue-generating",body:"The system automatically identifies residents (via tenancy/employment records) and workers (via employer registration) for free or discounted access. Visitors receive 20 minutes free, then pay dynamic rates. Public transit users are always free. Off-peak (8PM-7AM) is free for all."},notes:"Our model is uniquely designed for UAE - it respects the needs of residents while creating behavioral change."},{id:"5",title:"Technology Platform",content:{type:"bullet",bullets:["ANPR camera integration with existing Salik infrastructure","UAE Pass for seamless digital identity and payments","Real-time analytics dashboard for operations","API-ready for future smart city integration"]},notes:"We leverage existing infrastructure where possible, minimizing implementation cost and complexity."},{id:"6",title:"International Benchmarks",content:{type:"stats",stats:[{label:"Singapore ERP",value:"22%",change:"Congestion reduction"},{label:"London CC",value:"15%",change:"Traffic reduction"},{label:"Stockholm",value:"20%",change:"Emissions drop"},{label:"Milan Area C",value:"30%",change:"City center traffic"}]},notes:"These results are proven across multiple global cities. Our conservative estimate for Dubai: 20-25% congestion reduction."},{id:"7",title:"Projected Impact",content:{type:"stats",stats:[{label:"Congestion Reduction",value:"20-25%"},{label:"CO\u2082 Reduction",value:"15%"},{label:"Public Transit Use",value:"+40%"},{label:"Annual Revenue",value:"AED 180M"}]},notes:"Conservative projections based on international benchmarks, adjusted for UAE traffic patterns."},{id:"8",title:"Implementation Timeline",content:{type:"bullet",bullets:["Phase 1 (Months 1-3): Pilot zone selection & stakeholder alignment","Phase 2 (Months 4-9): System development & integration","Phase 3 (Months 10-12): Pilot launch with selected zone","Phase 4 (Year 2): Evaluation & expansion planning"]},notes:"We propose a phased approach, starting with a pilot zone before city-wide rollout."},{id:"9",title:"Investment Required",content:{type:"stats",stats:[{label:"Pilot Phase",value:"AED 1.2M"},{label:"Expanded Rollout",value:"AED 3.5M"},{label:"Full Deployment",value:"AED 12M"},{label:"ROI Period",value:"18 months"}]},notes:"Investment levels are flexible based on scope. The pilot phase can begin with minimal investment."},{id:"10",title:"Risk Mitigation",content:{type:"bullet",bullets:["Phased rollout reduces implementation risk","Strong public communication campaign","Graceful period for behavioral change","Emergency protocols for exemptions"]},notes:"We have comprehensive risk mitigation strategies for each potential challenge."},{id:"11",title:"Next Steps",content:{type:"text",headline:"Request for Approval",body:"We respectfully request: (1) Approval to proceed with pilot zone selection, (2) Access to relevant data for detailed planning, (3) Introduction to key stakeholders for alignment."},notes:"Thank you for your consideration. We are ready to begin immediately upon approval."}]}getQuickSlides(){return[{id:"1",title:"Smart Mobility Simulator",content:{type:"title",subtitle:"Intelligent Congestion Pricing for UAE Cities"},notes:"Quick overview of our solution."},{id:"2",title:"Problem & Solution",content:{type:"split",headline:"The Challenge",leftText:"UAE cities face severe congestion, costing billions annually in lost productivity and increased emissions.",bullets:["Dynamic congestion pricing","Fair exemptions for residents","Integrates with Salik & UAE Pass"]},notes:""},{id:"3",title:"Results",content:{type:"stats",stats:[{label:"Reduction",value:"25%",change:"Congestion"},{label:"Revenue",value:"AED 180M",change:"Annual"},{label:"ROI",value:"18 mo",change:"Break-even"}]},notes:""},{id:"4",title:"Ask",content:{type:"text",headline:"AED 3M Seed Round",body:"Seeking partners for pilot implementation in Dubai. Team has deep RTA/ITC experience."},notes:""}]}selectTemplate(e){this.selectedTemplateId=e;const i=this.templates.find(r=>r.id===e);i&&(this.currentSlides=[...i.slides],this.currentSlideIndex=0)}selectTheme(e){const i=this.themes.find(r=>r.id===e);i&&(this.selectedTheme=i)}goToSlide(e){this.currentSlideIndex=e}nextSlide(){this.isPresenting?this.presentationIndex<this.presentationSlides.length-1&&this.presentationIndex++:this.currentSlideIndex<this.currentSlides.length-1&&this.currentSlideIndex++}prevSlide(){this.isPresenting?this.presentationIndex>0&&this.presentationIndex--:this.currentSlideIndex>0&&this.currentSlideIndex--}startPresentation(){this.isPresenting=!0,this.presentationIndex=this.currentSlideIndex,this.presentationSlides=[...this.currentSlides],window.addEventListener("keydown",this.keydownHandler),this.presentationRoot?.nativeElement.requestFullscreen&&this.presentationRoot.nativeElement.requestFullscreen().catch(()=>null)}stopPresentation(){this.isPresenting=!1,window.removeEventListener("keydown",this.keydownHandler),document.fullscreenElement&&document.exitFullscreen().catch(()=>null)}handleKeydown(e){this.isPresenting&&(("ArrowRight"===e.key||" "===e.key)&&this.nextSlide(),"ArrowLeft"===e.key&&this.prevSlide(),"Escape"===e.key&&this.stopPresentation())}exportPdf(){const e=new kn,r=this.templates.find(s=>s.id===this.selectedTemplateId)?.name||"Pitch Deck";e.setFontSize(20),e.setTextColor(30,58,95),e.text("Smart Mobility Simulator - "+r,20,20),e.setFontSize(12),e.setTextColor(60),e.text("Investor/Government Presentation",20,30),e.text("Generated: "+(new Date).toLocaleDateString(),20,38);let o=55;this.currentSlides.forEach((s,a)=>{if(o>250&&(e.addPage(),o=20),e.setFontSize(14),e.setTextColor(0,51,102),e.text(`Slide ${a+1}: ${s.title}`,20,o),o+=10,"bullet"===s.content.type&&s.content.bullets)e.setFontSize(10),e.setTextColor(60),s.content.bullets.forEach(l=>{o>270&&(e.addPage(),o=20);const u=e.splitTextToSize("\u2022 "+l,170);e.text(u,25,o),o+=5*u.length});else if("text"===s.content.type&&s.content.body){e.setFontSize(10),e.setTextColor(60);const l=e.splitTextToSize(s.content.body,170);e.text(l,25,o),o+=5*l.length}else"stats"===s.content.type&&s.content.stats&&(e.setFontSize(10),e.setTextColor(60),s.content.stats.forEach(l=>{e.text(`${l.label}: ${l.value}${l.change?" ("+l.change+")":""}`,25,o),o+=6}));o+=10}),e.setFontSize(8),e.setTextColor(150),e.text("Smart Mobility Simulator - Transforming Urban Mobility",20,280),e.save("Smart-Zone-Pitch-Deck.pdf")}static{this.\u0275fac=function(i){return new(i||t)(wt(Vd),wt(Ks))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-pitch-deck"]],viewQuery:function(i,r){if(1&i&&tT(ohe,5),2&i){let o;yD(o=bD())&&(r.presentationRoot=o.first)}},decls:54,vars:23,consts:[[1,"pitch-container"],[1,"deck-header-bar"],[1,"header-left"],[1,"deck-logo"],[1,"header-title"],[1,"header-subtitle"],[1,"header-actions"],[1,"btn-header",3,"click"],[1,"btn-header","primary",3,"click"],[1,"deck-main"],[1,"deck-sidebar"],[1,"sidebar-section"],[1,"template-list"],["class","template-item",3,"active","click",4,"ngFor","ngForOf"],[1,"theme-options"],["class","theme-btn",3,"active","--theme-primary","--theme-secondary","click",4,"ngFor","ngForOf"],[1,"slides-nav"],["class","slide-nav-item",3,"active","click",4,"ngFor","ngForOf"],[1,"deck-preview-area"],[1,"slide-preview-container"],[1,"slide-preview"],["class","slide-title-slide",4,"ngIf"],["class","slide-text-slide",4,"ngIf"],["class","slide-bullet-slide",4,"ngIf"],["class","slide-split-slide",4,"ngIf"],["class","slide-stats-slide",4,"ngIf"],["class","slide-quote-slide",4,"ngIf"],[1,"slide-nav"],[3,"click","disabled"],[1,"slide-counter"],[1,"speaker-notes-panel"],["class","presentation-overlay",4,"ngIf"],[1,"template-item",3,"click"],[1,"template-name"],[1,"template-desc"],[1,"template-slides"],[1,"theme-btn",3,"click"],[1,"theme-preview"],[1,"slide-nav-item",3,"click"],[1,"slide-number"],[1,"slide-title"],[1,"slide-title-slide"],[1,"title-bg-pattern"],[1,"title-content"],[1,"title-logo"],[1,"title-subtitle"],[1,"title-meta"],[1,"slide-text-slide"],[1,"slide-header"],[1,"slide-body"],[1,"headline"],[1,"body-text"],[1,"slide-bullet-slide"],[1,"bullet-list"],[4,"ngFor","ngForOf"],[1,"bullet-icon"],[1,"slide-split-slide"],[1,"split-content"],[1,"split-left"],[1,"split-right"],[1,"slide-stats-slide"],[1,"stats-grid"],["class","stat-card",4,"ngFor","ngForOf"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"],["class","stat-change",4,"ngIf"],[1,"stat-change"],[1,"slide-quote-slide"],[1,"quote-mark"],[1,"presentation-overlay"],[1,"presentation-slide"],["class","slide-title-slide pres",4,"ngIf"],["class","slide-text-slide pres",4,"ngIf"],["class","slide-bullet-slide pres",4,"ngIf"],["class","slide-stats-slide pres",4,"ngIf"],["class","slide-quote-slide pres",4,"ngIf"],[1,"pres-controls"],[1,"pres-btn",3,"click"],[1,"pres-counter"],[1,"pres-btn","exit",3,"click"],[1,"slide-title-slide","pres"],[1,"slide-text-slide","pres"],[1,"slide-bullet-slide","pres"],[1,"slide-stats-slide","pres"],[1,"slide-quote-slide","pres"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),f(4,"\u{1f4ca}"),A(),h(5,"div",4)(6,"h1"),f(7,"Smart Mobility Simulator"),A(),h(8,"span",5),f(9,"Investor Pitch Deck"),A()()(),h(10,"div",6)(11,"button",7),it("click",function(){return r.exportPdf()}),f(12," \u{1f4c4} Export PDF "),A(),h(13,"button",8),it("click",function(){return r.startPresentation()}),f(14," \u25b6 Present "),A()()(),h(15,"div",9)(16,"div",10)(17,"div",11)(18,"h3"),f(19,"\u{1f4d1} Deck Templates"),A(),h(20,"div",12),xt(21,she,7,5,"button",13),A()(),h(22,"div",11)(23,"h3"),f(24,"\u{1f3a8} Theme"),A(),h(25,"div",14),xt(26,ahe,4,7,"button",15),A()(),h(27,"div",11)(28,"h3"),f(29,"\u{1f4cb} Slides"),A(),h(30,"div",16),xt(31,lhe,5,4,"div",17),A()()(),h(32,"div",18)(33,"div",19)(34,"div",20),xt(35,che,14,4,"div",21)(36,uhe,9,3,"div",22)(37,dhe,7,2,"div",23)(38,fhe,15,4,"div",24)(39,mhe,6,2,"div",25)(40,vhe,7,2,"div",26),A(),h(41,"div",27)(42,"button",28),it("click",function(){return r.prevSlide()}),f(43," \u2190 Previous "),A(),h(44,"span",29),f(45),A(),h(46,"button",28),it("click",function(){return r.nextSlide()}),f(47," Next \u2192 "),A()()(),h(48,"div",30)(49,"h4"),f(50,"\u{1f4dd} Speaker Notes"),A(),h(51,"p"),f(52),A()()()(),xt(53,Dhe,16,15,"div",31),A()),2&i&&(S(21),ke("ngForOf",r.templates),S(5),ke("ngForOf",r.themes),S(5),ke("ngForOf",r.currentSlides),S(3),Ko("--primary",r.selectedTheme.colors.primary)("--secondary",r.selectedTheme.colors.secondary)("--accent",r.selectedTheme.colors.accent)("--bg",r.selectedTheme.colors.background),S(),ke("ngIf","title"===r.currentSlide.content.type),S(),ke("ngIf","text"===r.currentSlide.content.type),S(),ke("ngIf","bullet"===r.currentSlide.content.type),S(),ke("ngIf","split"===r.currentSlide.content.type),S(),ke("ngIf","stats"===r.currentSlide.content.type),S(),ke("ngIf","quote"===r.currentSlide.content.type),S(2),ke("disabled",0===r.currentSlideIndex),S(3),Wo("",r.currentSlideIndex+1," / ",r.currentSlides.length,""),S(),ke("disabled",r.currentSlideIndex===r.currentSlides.length-1),S(6),Me(" ",r.currentSlide.notes||"Click to add speaker notes for this slide."," "),S(),ke("ngIf",r.isPresenting))},dependencies:[ls,cs],styles:[".pitch-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;background:#f1f5f9}.deck-header-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 24px;background:#fff;border-bottom:1px solid #e2e8f0}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.deck-logo[_ngcontent-%COMP%]{font-size:1.5rem}.header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#1e3a5f}.header-subtitle[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b}.header-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.btn-header[_ngcontent-%COMP%]{padding:8px 16px;border-radius:8px;border:1px solid #e2e8f0;background:#fff;cursor:pointer;font-weight:500}.btn-header.primary[_ngcontent-%COMP%]{background:#1e3a5f;color:#fff;border:none}.deck-main[_ngcontent-%COMP%]{display:grid;grid-template-columns:280px 1fr;flex:1;overflow:hidden}.deck-sidebar[_ngcontent-%COMP%]{background:#fff;border-right:1px solid #e2e8f0;padding:20px;overflow-y:auto}.sidebar-section[_ngcontent-%COMP%]{margin-bottom:24px}.sidebar-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:.85rem;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.template-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.template-item[_ngcontent-%COMP%]{padding:12px;border:2px solid #e2e8f0;border-radius:10px;background:#fff;cursor:pointer;text-align:left;transition:all .2s}.template-item[_ngcontent-%COMP%]:hover{border-color:#3b82f6}.template-item.active[_ngcontent-%COMP%]{border-color:#1e3a5f;background:#f8fafc}.template-name[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1e3a5f}.template-desc[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#64748b;margin-top:2px}.template-slides[_ngcontent-%COMP%]{display:block;font-size:.7rem;color:#94a3b8;margin-top:4px}.theme-options[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.theme-btn[_ngcontent-%COMP%]{width:60px;padding:8px;border:2px solid #e2e8f0;border-radius:8px;background:#fff;cursor:pointer;font-size:.7rem}.theme-btn.active[_ngcontent-%COMP%]{border-color:#1e3a5f}.theme-preview[_ngcontent-%COMP%]{display:block;width:100%;height:24px;border-radius:4px;background:linear-gradient(135deg,var(--theme-primary) 50%,var(--theme-secondary) 50%)}.slides-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;max-height:300px;overflow-y:auto}.slide-nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:8px 10px;border-radius:6px;cursor:pointer;transition:background .2s}.slide-nav-item[_ngcontent-%COMP%]:hover{background:#f1f5f9}.slide-nav-item.active[_ngcontent-%COMP%]{background:#e0f2fe}.slide-number[_ngcontent-%COMP%]{width:24px;height:24px;background:#e2e8f0;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:600}.slide-nav-item.active[_ngcontent-%COMP%]   .slide-number[_ngcontent-%COMP%]{background:#1e3a5f;color:#fff}.slide-title[_ngcontent-%COMP%]{font-size:.85rem;color:#475569;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.deck-preview-area[_ngcontent-%COMP%]{padding:24px;display:flex;flex-direction:column;gap:16px;overflow-y:auto}.slide-preview-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;max-width:900px;margin:0 auto;width:100%}.slide-preview[_ngcontent-%COMP%]{aspect-ratio:16/9;background:var(--bg);border-radius:12px;overflow:hidden;box-shadow:0 8px 30px #0000001f}.slide-title-slide[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.title-bg-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,var(--primary) 0%,transparent 50%),radial-gradient(circle at 80% 20%,var(--accent) 0%,transparent 50%),linear-gradient(135deg,var(--bg) 0%,var(--secondary) 100%);opacity:.15}.title-content[_ngcontent-%COMP%]{text-align:center;z-index:1;padding:40px}.title-logo[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:20px}.slide-title-slide[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--primary);margin:0 0 10px}.title-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;color:#475569;margin:0 0 20px}.title-meta[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center;font-size:.9rem;color:#64748b}.slide-text-slide[_ngcontent-%COMP%], .slide-bullet-slide[_ngcontent-%COMP%], .slide-split-slide[_ngcontent-%COMP%], .slide-stats-slide[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.slide-header[_ngcontent-%COMP%]{padding:30px 40px 20px;border-bottom:1px solid #e2e8f0}.slide-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.6rem;color:var(--primary)}.slide-body[_ngcontent-%COMP%]{padding:30px 40px;flex:1}.headline[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#1e293b;margin:0 0 16px}.body-text[_ngcontent-%COMP%]{font-size:1rem;color:#475569;line-height:1.7}.bullet-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.bullet-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;margin-bottom:16px;font-size:1.05rem;color:#334155}.bullet-icon[_ngcontent-%COMP%]{color:var(--accent);font-weight:700}.split-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:40px;padding:30px 40px}.split-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .split-right[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--primary);margin:0 0 12px}.split-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .split-right[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#475569;line-height:1.6}.split-right[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.split-right[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;padding:30px 40px}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;text-align:center;box-shadow:0 2px 8px #0000000f}.stat-value[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:700;color:var(--primary)}.stat-label[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#64748b;margin-top:4px}.stat-change[_ngcontent-%COMP%]{display:inline-block;margin-top:8px;padding:4px 10px;background:#d1fae5;color:#059669;border-radius:20px;font-size:.75rem;font-weight:600}.slide-quote-slide[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px;background:linear-gradient(135deg,var(--primary) 0%,#1e3a5f 100%);color:#fff}.quote-mark[_ngcontent-%COMP%]{font-size:6rem;opacity:.3;line-height:1}.slide-quote-slide[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{font-size:1.8rem;text-align:center;margin:0;font-style:italic;line-height:1.5}.slide-quote-slide[_ngcontent-%COMP%]   cite[_ngcontent-%COMP%]{margin-top:24px;font-size:1rem;opacity:.8;font-style:normal}.slide-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px;padding:16px}.slide-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:1px solid #e2e8f0;border-radius:8px;background:#fff;cursor:pointer;font-weight:500}.slide-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.slide-counter[_ngcontent-%COMP%]{font-size:.9rem;color:#64748b}.speaker-notes-panel[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:16px;border:1px solid #e2e8f0}.speaker-notes-panel[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:.85rem;color:#64748b}.speaker-notes-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#475569}.presentation-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0f172a;z-index:9999;display:flex;align-items:center;justify-content:center}.presentation-slide[_ngcontent-%COMP%]{width:90vw;max-width:1200px;aspect-ratio:16/9;background:var(--bg);border-radius:16px;overflow:hidden;position:relative}.slide-title-slide.pres[_ngcontent-%COMP%], .slide-text-slide.pres[_ngcontent-%COMP%], .slide-bullet-slide.pres[_ngcontent-%COMP%], .slide-stats-slide.pres[_ngcontent-%COMP%]{font-size:1.2em}.pres-controls[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);display:flex;gap:12px;background:#000000b3;padding:10px 20px;border-radius:30px}.pres-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;padding:8px 16px;border-radius:20px;font-size:1rem}.pres-btn[_ngcontent-%COMP%]:hover{background:#fff3}.pres-btn.exit[_ngcontent-%COMP%]{background:#dc2626}.pres-counter[_ngcontent-%COMP%]{color:#fff;display:flex;align-items:center;padding:0 12px}"]})}}return t})(),Ehe=(()=>{class t{constructor(e){this.http=e,this.apiUrl=`${Uu()}/api/uae-data`}getFacts(e){return this.http.get(`${this.apiUrl}/facts`,{params:e?{category:e}:{}})}getBenchmarks(){return this.http.get(`${this.apiUrl}/benchmarks`)}static{this.\u0275fac=function(i){return new(i||t)(cn($c))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Phe(t,n){if(1&t&&(h(0,"div",48)(1,"div",49),f(2),A(),h(3,"div",50)(4,"div",51),f(5),A(),h(6,"div",52),f(7),A()()()),2&t){const e=n.$implicit;Un("highlight","Congestion"===e.label),S(2),lt(e.icon),S(3),lt(e.value),S(2),lt(e.label)}}function Ihe(t,n){if(1&t&&(h(0,"div",58)(1,"p"),f(2),A(),h(3,"span",59),f(4),A()()),2&t){const e=n.$implicit;S(2),lt(e.text),S(2),Me("\u{1f4d1} ",e.source,"")}}function Ohe(t,n){if(1&t&&(h(0,"div",53)(1,"div",54)(2,"span",55),f(3),A(),h(4,"h3"),f(5),A()(),h(6,"div",56),xt(7,Ihe,5,2,"div",57),A()()),2&t){const e=n.$implicit,i=Fe();S(3),lt(i.getCategoryIcon(e.name)),S(2),lt(e.name),S(2),ke("ngForOf",e.facts)}}function khe(t,n){if(1&t&&(h(0,"div",60)(1,"div",61)(2,"span",62),f(3),A(),h(4,"span",63),f(5),A()(),h(6,"div",64)(7,"div",65)(8,"span",66),f(9),A(),h(10,"span",67),f(11,"Congestion Reduction"),A()(),h(12,"div",65)(13,"span",66),f(14),A(),h(15,"span",67),f(16,"Annual Revenue"),A()()(),h(17,"div",68)(18,"span",69),f(19,"Charge:"),A(),h(20,"span",70),f(21),A()(),h(22,"div",71)(23,"strong"),f(24),A(),f(25),A()()),2&t){const e=n.$implicit;Un("projected",e.city.includes("Dubai")),S(3),lt(e.city),S(2),lt(e.system),S(4),Me("",e.reduction,"%"),S(5),Me("$",e.revenue,"M"),S(7),lt(e.chargeRange),S(3),lt(e.city.includes("Dubai")?"\u{1f3af} Our Advantage:":"\u{1f4d6} Lessons:"),S(),Me(" ",e.lessons," ")}}function Fhe(t,n){if(1&t&&(h(0,"div",72)(1,"div",73)(2,"h4"),f(3),A(),h(4,"div",74)(5,"span"),f(6),A()()(),h(7,"div",75)(8,"div",76)(9,"span",77),f(10,"Target:"),A(),h(11,"span",78),f(12),A()(),h(13,"div",79)(14,"span",77),f(15,"Our Contribution:"),A(),h(16,"span",78),f(17),A()()()()),2&t){const e=n.$implicit;S(3),lt(e.name),S(),Ds("data-percent",e.alignment),S(2),Me("",e.alignment,"%"),S(6),lt(e.target),S(5),lt(e.contribution)}}let The=(()=>{class t{constructor(e){this.uaeDataService=e,this.keyMetrics=[],this.categories=[],this.benchmarks=[],this.policies=[],this.congestionReduction=25,this.dailyVehicles=35e3}ngOnInit(){this.loadUaeFacts(),this.loadBenchmarks(),this.loadPolicies()}loadUaeFacts(){this.uaeDataService.getFacts().subscribe(e=>{this.keyMetrics=e.filter(r=>r.relevance>=9).slice(0,4).map(r=>({value:this.extractMetricValue(r),label:r.category,source:r.source,icon:this.getMetricIcon(r.category)}));const i=Array.from(new Set(e.map(r=>r.category)));this.categories=i.map(r=>({name:r,facts:e.filter(o=>o.category===r).slice(0,2).map(o=>({text:o.fact,source:o.source,relevance:o.relevance}))}))})}loadBenchmarks(){this.uaeDataService.getBenchmarks().subscribe(e=>{this.benchmarks=e.map(i=>({city:i.city,system:i.system,reduction:i.congestionReduction,revenue:i.annualRevenueMillionUSD,chargeRange:i.chargeRange,lessons:i.lessons??i.advantages??""}))})}loadPolicies(){this.policies=[{name:"UAE Vision 2030",alignment:92,target:"Reduce commute times by 30%",contribution:"Projected 25% congestion reduction",evidence:"Based on international benchmarks"},{name:"UAE Net Zero 2050",alignment:85,target:"Reduce transport emissions by 40%",contribution:"25% reduction = significant emissions drop",evidence:"Less idling = lower CO2 per trip"},{name:"Dubai Urban Mobility",alignment:88,target:"Increase public transport to 30%",contribution:"Pricing incentives shift modal share",evidence:"Transit remains FREE in our model"}]}getMetricIcon(e){return{Congestion:"\u{1f697}",Vehicles:"\u{1f3ce}\ufe0f",Commute:"\u23f1\ufe0f","Public Transport":"\u{1f68c}",Environmental:"\u{1f331}",Economic:"\u{1f4b5}",Safety:"\u{1f6e1}\ufe0f","Road Infrastructure":"\u{1f6e3}\ufe0f"}[e]||"\u{1f4ca}"}getCategoryIcon(e){return this.getMetricIcon(e)}adjustVehicles(e){this.dailyVehicles=Math.max(5e3,Math.min(1e5,this.dailyVehicles+e))}calculateProductivity(){return this.dailyVehicles*(this.congestionReduction/100*.5)*150*365}calculateFuelSavings(){return this.dailyVehicles*(this.congestionReduction/100*.5)*3.25*365}calculateCO2Value(){return this.dailyVehicles*(this.congestionReduction/100*.5)*2.31*365/1e3*250}calculateJobs(){return Math.max(1,Math.round(this.calculateProductivity()/312e3))}calculateHomes(){return Math.max(1,Math.round(this.calculateFuelSavings()/3e3))}calculateTrees(){return Math.max(1,Math.round(this.calculateCO2Value()/50))}calculateTotalImpact(){return this.calculateProductivity()+this.calculateFuelSavings()+this.calculateCO2Value()}calculateROI(){return`${(this.calculateTotalImpact()/1e6).toFixed(1)}x`}extractMetricValue(e){const i=e.fact.match(/([\d.]+\s*(?:billion|million|M|%)?)/i);return i?i[0]:`${e.year}`}static{this.\u0275fac=function(i){return new(i||t)(wt(Ehe))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-uae-facts-dashboard"]],decls:130,vars:38,consts:[[1,"uae-facts-container"],[1,"page-header"],[1,"header-content"],[1,"uae-flag-mini"],[1,"red"],[1,"green"],[1,"white"],[1,"black"],[1,"subtitle"],[1,"metrics-section"],[1,"section-title"],[1,"icon"],[1,"metrics-grid"],["class","metric-card",3,"highlight",4,"ngFor","ngForOf"],[1,"facts-section"],[1,"facts-grid"],["class","fact-category-card",4,"ngFor","ngForOf"],[1,"benchmarks-section"],[1,"disclaimer-banner"],[1,"disclaimer-icon"],[1,"disclaimer-text"],[1,"benchmarks-grid"],["class","benchmark-card",3,"projected",4,"ngFor","ngForOf"],[1,"policy-section"],[1,"policy-grid"],["class","policy-card",4,"ngFor","ngForOf"],[1,"calculator-section"],[1,"calculator-card"],[1,"calculator-inputs"],[1,"input-group"],[1,"input-icon"],[1,"slider-container"],["type","range","min","5","max","50","step","1",3,"ngModelChange","ngModel"],[1,"slider-labels"],[1,"current-value"],[1,"number-input-container"],[1,"btn-adjust",3,"click"],["type","number","min","5000","max","100000","step","5000",3,"ngModelChange","ngModel"],[1,"input-hint"],[1,"calculator-results"],[1,"result-row"],[1,"result-card"],[1,"result-icon"],[1,"result-content"],[1,"result-label"],[1,"result-value"],[1,"result-explanation"],[1,"result-card","total"],[1,"metric-card"],[1,"metric-icon"],[1,"metric-content"],[1,"metric-value"],[1,"metric-label"],[1,"fact-category-card"],[1,"category-header"],[1,"category-icon"],[1,"fact-list"],["class","fact-item",4,"ngFor","ngForOf"],[1,"fact-item"],[1,"fact-source"],[1,"benchmark-card"],[1,"benchmark-header"],[1,"city"],[1,"system"],[1,"benchmark-stats"],[1,"stat"],[1,"stat-value"],[1,"stat-label"],[1,"benchmark-charge"],[1,"charge-label"],[1,"charge-value"],[1,"benchmark-lessons"],[1,"policy-card"],[1,"policy-header"],[1,"alignment-ring"],[1,"policy-body"],[1,"policy-target"],[1,"label"],[1,"value"],[1,"policy-contribution"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Cn(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),A(),h(8,"div")(9,"h1"),f(10,"\u{1f1e6}\u{1f1ea} UAE Transport Intelligence"),A(),h(11,"p",8),f(12," Data-driven insights for smart mobility planning "),A()()()(),h(13,"section",9)(14,"h2",10)(15,"span",11),f(16,"\u{1f4ca}"),A(),f(17," Key Statistics "),A(),h(18,"div",12),xt(19,Phe,8,5,"div",13),A()(),h(20,"section",14)(21,"h2",10)(22,"span",11),f(23,"\u{1f4a1}"),A(),f(24," Quick Facts by Category "),A(),h(25,"div",15),xt(26,Ohe,8,3,"div",16),A()(),h(27,"section",17)(28,"h2",10)(29,"span",11),f(30,"\u{1f30d}"),A(),f(31," International Benchmarks "),A(),h(32,"div",18)(33,"span",19),f(34,"\u26a0\ufe0f"),A(),h(35,"span",20)(36,"strong"),f(37,"Note:"),A(),f(38," Dubai projections are conservative estimates based on international benchmarks. Our FAIR model (Residents FREE, Workers FREE, 20-min grace, Transit FREE, Off-peak FREE) ensures higher compliance than models without exemptions. "),A()(),h(39,"div",21),xt(40,khe,26,9,"div",22),A()(),h(41,"section",23)(42,"h2",10)(43,"span",11),f(44,"\u{1f4dc}"),A(),f(45," UAE Government Policy Alignment "),A(),h(46,"div",24),xt(47,Fhe,18,5,"div",25),A()(),h(48,"section",26)(49,"h2",10)(50,"span",11),f(51,"\u{1f4b0}"),A(),f(52," Economic Impact Calculator "),A(),h(53,"div",27)(54,"div",28)(55,"div",29)(56,"label")(57,"span",30),f(58,"\u{1f4c9}"),A(),f(59," Congestion Reduction "),A(),h(60,"div",31)(61,"input",32),Bn("ngModelChange",function(s){return Dn(r.congestionReduction,s)||(r.congestionReduction=s),s}),A(),h(62,"div",33)(63,"span"),f(64,"5%"),A(),h(65,"span",34),f(66),A(),h(67,"span"),f(68,"50%"),A()()()(),h(69,"div",29)(70,"label")(71,"span",30),f(72,"\u{1f697}"),A(),f(73," Daily Vehicles Affected "),A(),h(74,"div",35)(75,"button",36),it("click",function(){return r.adjustVehicles(-5e3)}),f(76," - "),A(),h(77,"input",37),Bn("ngModelChange",function(s){return Dn(r.dailyVehicles,s)||(r.dailyVehicles=s),s}),A(),h(78,"button",36),it("click",function(){return r.adjustVehicles(5e3)}),f(79," + "),A()(),h(80,"span",38),f(81),jt(82,"number"),A()()(),h(83,"div",39)(84,"div",40)(85,"div",41)(86,"div",42),f(87,"\u26a1"),A(),h(88,"div",43)(89,"div",44),f(90,"Productivity Gains"),A(),h(91,"div",45),f(92),jt(93,"currency"),A(),h(94,"div",46),f(95),A()()(),h(96,"div",41)(97,"div",42),f(98,"\u26fd"),A(),h(99,"div",43)(100,"div",44),f(101,"Fuel Savings"),A(),h(102,"div",45),f(103),jt(104,"currency"),A(),h(105,"div",46),f(106),A()()()(),h(107,"div",40)(108,"div",41)(109,"div",42),f(110,"\u{1f331}"),A(),h(111,"div",43)(112,"div",44),f(113,"CO2 Reduction Value"),A(),h(114,"div",45),f(115),jt(116,"currency"),A(),h(117,"div",46),f(118),A()()(),h(119,"div",47)(120,"div",42),f(121,"\u{1f4c8}"),A(),h(122,"div",43)(123,"div",44),f(124,"Total Annual Impact"),A(),h(125,"div",45),f(126),jt(127,"currency"),A(),h(128,"div",46),f(129),A()()()()()()()()),2&i&&(S(19),ke("ngForOf",r.keyMetrics),S(7),ke("ngForOf",r.categories),S(14),ke("ngForOf",r.benchmarks),S(7),ke("ngForOf",r.policies),S(14),Mn("ngModel",r.congestionReduction),S(5),Me("",r.congestionReduction,"%"),S(11),Mn("ngModel",r.dailyVehicles),S(4),Me("",Br(82,16,r.dailyVehicles)," vehicles/day"),S(11),Me(" ",Od(93,18,r.calculateProductivity(),"AED","symbol","1.0-0")," "),S(3),Me(" \u2248 ",r.calculateJobs()," full-time jobs "),S(8),Me(" ",Od(104,23,r.calculateFuelSavings(),"AED","symbol","1.0-0")," "),S(3),Me(" \u2248 ",r.calculateHomes()," homes powered/year "),S(9),Me(" ",Od(116,28,r.calculateCO2Value(),"AED","symbol","1.0-0")," "),S(3),Me(" \u2248 ",r.calculateTrees()," trees planted "),S(8),Me(" ",Od(127,33,r.calculateTotalImpact(),"AED","symbol","1.0-0")," "),S(3),Me("",r.calculateROI()," ROI"))},dependencies:[ls,va,wf,Qd,Qa,dg,Ag,_a,fc,sC],styles:['.uae-facts-container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto;background:linear-gradient(180deg,#f8fafc,#e2e8f0);min-height:100vh}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e3a5f,#0ea5e9);border-radius:16px;padding:24px;margin-bottom:24px;color:#fff}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.uae-flag-mini[_ngcontent-%COMP%]{display:flex;width:60px;height:40px;border-radius:4px;overflow:hidden;box-shadow:0 4px 12px #0003}.uae-flag-mini[_ngcontent-%COMP%]   .red[_ngcontent-%COMP%]{flex:1;background:#ce1126}.uae-flag-mini[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{flex:1;background:#00732f}.uae-flag-mini[_ngcontent-%COMP%]   .white[_ngcontent-%COMP%]{flex:1;background:#fff}.uae-flag-mini[_ngcontent-%COMP%]   .black[_ngcontent-%COMP%]{flex:1;background:#000}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:700;color:#fff}.subtitle[_ngcontent-%COMP%]{margin:4px 0 0;opacity:.9;font-size:.95rem;color:#fff}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.25rem;font-weight:600;color:#1e3a5f;margin:0 0 16px}.section-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.4rem}.metrics-section[_ngcontent-%COMP%], .facts-section[_ngcontent-%COMP%], .benchmarks-section[_ngcontent-%COMP%], .policy-section[_ngcontent-%COMP%], .calculator-section[_ngcontent-%COMP%]{margin-bottom:28px}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:16px;display:flex;align-items:center;gap:12px;box-shadow:0 2px 8px #0000000f;border:1px solid #e2e8f0;transition:transform .2s,box-shadow .2s}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.metric-card.highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);border-color:#f59e0b}.metric-icon[_ngcontent-%COMP%]{font-size:2rem}.metric-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1e3a5f}.metric-label[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.facts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.fact-category-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:16px;box-shadow:0 2px 8px #0000000f;border:1px solid #e2e8f0}.category-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px;padding-bottom:8px;border-bottom:2px solid #e2e8f0}.category-icon[_ngcontent-%COMP%]{font-size:1.25rem}.category-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#1e3a5f}.fact-item[_ngcontent-%COMP%]{padding:8px 0;border-bottom:1px dashed #e2e8f0}.fact-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.fact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 4px;font-size:.9rem;color:#334155;line-height:1.4}.fact-source[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}.benchmarks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.benchmark-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:16px;box-shadow:0 2px 8px #0000000f;border:1px solid #e2e8f0}.benchmark-card.projected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);border:2px solid #3b82f6}.benchmark-header[_ngcontent-%COMP%]{margin-bottom:12px}.benchmark-header[_ngcontent-%COMP%]   .city[_ngcontent-%COMP%]{display:block;font-size:1.1rem;font-weight:700;color:#1e3a5f}.benchmark-header[_ngcontent-%COMP%]   .system[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.benchmark-stats[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:12px}.stat[_ngcontent-%COMP%]{flex:1;text-align:center;padding:8px;background:#f8fafc;border-radius:8px}.stat-value[_ngcontent-%COMP%]{display:block;font-size:1.25rem;font-weight:700;color:#059669}.stat-label[_ngcontent-%COMP%]{font-size:.7rem;color:#64748b;text-transform:uppercase}.benchmark-charge[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:8px;padding:6px 10px;background:#fef3c7;border-radius:6px}.charge-label[_ngcontent-%COMP%]{font-weight:600;color:#92400e}.charge-value[_ngcontent-%COMP%]{color:#b45309;margin-left:6px}.benchmark-lessons[_ngcontent-%COMP%]{font-size:.8rem;color:#475569;line-height:1.4;padding-top:8px;border-top:1px solid #e2e8f0}.policy-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.policy-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:16px;box-shadow:0 2px 8px #0000000f;border:1px solid #e2e8f0}.policy-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.policy-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#1e3a5f}.alignment-ring[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:conic-gradient(#059669 calc(var(--data-percent) * 3.6deg),#e2e8f0 0);display:flex;align-items:center;justify-content:center;position:relative}.alignment-ring[_ngcontent-%COMP%]:before{content:"";position:absolute;width:40px;height:40px;background:#fff;border-radius:50%}.alignment-ring[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;font-size:.7rem;font-weight:700;color:#059669}.policy-body[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;display:block;margin-bottom:2px}.policy-body[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.85rem;color:#334155;display:block;margin-bottom:8px}.calculator-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 4px 16px #00000014;border:1px solid #e2e8f0}.calculator-inputs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;margin-bottom:24px;padding-bottom:24px;border-bottom:1px solid #e2e8f0}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600;color:#1e3a5f;margin-bottom:12px}.input-icon[_ngcontent-%COMP%]{font-size:1.2rem}.slider-container[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{width:100%;height:8px;border-radius:4px;background:#e2e8f0;outline:none;-webkit-appearance:none}.slider-container[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;border-radius:50%;background:#0ea5e9;cursor:pointer;box-shadow:0 2px 6px #0ea5e966}.slider-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:8px;font-size:.8rem;color:#64748b}.current-value[_ngcontent-%COMP%]{font-weight:700;color:#0ea5e9;font-size:1rem}.number-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.btn-adjust[_ngcontent-%COMP%]{width:36px;height:36px;border:none;border-radius:8px;background:#e2e8f0;color:#1e3a5f;font-size:1.2rem;cursor:pointer;transition:background .2s}.btn-adjust[_ngcontent-%COMP%]:hover{background:#cbd5e1}.number-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:120px;padding:8px 12px;border:2px solid #e2e8f0;border-radius:8px;font-size:1rem;text-align:center}.input-hint[_ngcontent-%COMP%]{display:block;margin-top:6px;font-size:.8rem;color:#64748b}.calculator-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.result-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}.result-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#f8fafc;border-radius:12px;border:1px solid #e2e8f0}.result-card.total[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0);border-color:#6ee7b7}.result-icon[_ngcontent-%COMP%]{font-size:1.75rem}.result-label[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.result-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1e3a5f}.result-card.total[_ngcontent-%COMP%]   .result-value[_ngcontent-%COMP%]{color:#059669}.result-explanation[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}.disclaimer-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);border:1px solid #f59e0b;border-radius:10px;padding:12px 16px;margin-bottom:20px;display:flex;align-items:flex-start;gap:10px}.disclaimer-icon[_ngcontent-%COMP%]{font-size:1.25rem}.disclaimer-text[_ngcontent-%COMP%]{font-size:.85rem;color:#92400e;line-height:1.5}']})}}return t})(),uP=(()=>{class t{constructor(e){this.http=e,this.apiUrl=`${Uu()}/api/authority-data`}getAuthorities(){return this.http.get(`${this.apiUrl}/authorities`)}getDataSources(e){return this.http.get(`${this.apiUrl}/${e}/data-sources`)}getRecommendations(e){return this.http.get(`${this.apiUrl}/${e}/recommendations`)}getZoneData(e,i){return this.http.get(`${this.apiUrl}/${e}/zone-data/${i}`)}runAuthoritySimulation(e,i){return this.http.post(`${this.apiUrl}/${e}/simulate`,i)}getAuthorityReport(e,i){return this.http.get(`${this.apiUrl}/${e}/report/${i}`,{responseType:"blob"})}getAuthorityPitchDeck(e,i){return this.http.get(`${this.apiUrl}/${e}/pitch-deck/${i}`,{responseType:"blob"})}getAuthorityBusinessCase(e,i){return this.http.get(`${this.apiUrl}/${e}/business-case/${i}`)}compareRtaVsItc(e){return this.http.post(`${this.apiUrl}/compare/rta-itc`,e)}getUaeRoadmap(){return this.http.get(`${this.apiUrl}/roadmap`)}static{this.\u0275fac=function(i){return new(i||t)(cn($c))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Lhe(t,n){if(1&t&&(h(0,"span",28),f(1),A()),2&t){const e=n.$implicit;S(),Me(" ",e," ")}}function Nhe(t,n){if(1&t&&(h(0,"span",28),f(1),A()),2&t){const e=n.$implicit;S(),Me(" ",e," ")}}function Rhe(t,n){if(1&t&&(h(0,"span",28),f(1),A()),2&t){const e=n.$implicit;S(),Me(" ",e," ")}}function Uhe(t,n){if(1&t){const e=ti();h(0,"div",43)(1,"div",44)(2,"h4"),f(3),A(),h(4,"span",45),f(5),A()(),h(6,"div",46)(7,"div",47)(8,"span",48),f(9),A(),h(10,"span",49),f(11,"vehicles/hr peak"),A()(),h(12,"div",47)(13,"span",48),f(14),A(),h(15,"span",49),f(16,"congestion level"),A()()(),h(17,"button",50),it("click",function(){const r=pt(e).$implicit;return gt(Fe(2).selectZoneForSimulation(r))}),f(18," \u{1f4c8} Analyze This Zone "),A()()}if(2&t){const e=n.$implicit;S(3),lt(e.name),S(),Ds("data-priority",e.priority),S(),Me(" Priority ",e.priority,"/10 "),S(4),lt(e.peakVolume),S(5),Me("",e.congestion,"%")}}function Qhe(t,n){if(1&t&&(h(0,"div",51)(1,"div",52)(2,"span",53),f(3),A(),h(4,"span",54),f(5),A()(),h(6,"div",55),f(7),A(),h(8,"div",56),Cn(9,"div",57),A()()),2&t){const e=n.$implicit;S(3),lt(e.name),S(),Ds("data-priority",e.importance),S(),Me(" ",e.importance,"/10 "),S(2),Me("Target: ",e.target,""),S(2),Ko("width",10*e.importance,"%")}}function Hhe(t,n){if(1&t&&(h(0,"div",58)(1,"a",59)(2,"span",60),f(3,"\u{1f517}"),A(),h(4,"span"),f(5),A()(),h(6,"div",61),f(7),A()()),2&t){const e=n.$implicit;S(),ke("href",e.url,n0),S(4),lt(e.name),S(),Ds("data-quality",e.quality),S(),Me(" Quality: ",e.quality,"/10 ")}}function zhe(t,n){if(1&t){const e=ti();h(0,"div",29)(1,"div",30)(2,"h2"),f(3),A()(),h(4,"div",31)(5,"h3"),f(6,"\u{1f680} Recommended Pilot Zones"),A(),h(7,"div",32),xt(8,Uhe,19,5,"div",33),A()(),h(9,"div",34)(10,"h3"),f(11,"\u{1f4c8} Authority KPIs"),A(),h(12,"div",35),xt(13,Qhe,10,6,"div",36),A()(),h(14,"div",37)(15,"h3"),f(16,"\u{1f4da} Available Data Sources"),A(),h(17,"div",38),xt(18,Hhe,8,4,"div",39),A()(),h(19,"div",40)(20,"button",41),it("click",function(){return pt(e),gt(Fe().generateAuthorityReport())}),f(21),A(),h(22,"button",42),it("click",function(){return pt(e),gt(Fe().generatePitchDeck())}),f(23),A()()()}if(2&t){const e=Fe();S(3),Me("\u{1f4ca} ",e.getAuthorityName(e.selectedAuthority)," Analysis"),S(5),ke("ngForOf",e.getRecommendedZones(e.selectedAuthority)),S(5),ke("ngForOf",e.getAuthorityKPIs(e.selectedAuthority)),S(5),ke("ngForOf",e.getDataSources(e.selectedAuthority)),S(3),Me(" \u{1f4c4} Generate ",e.getAuthorityName(e.selectedAuthority)," Report "),S(2),Me(" \u{1f4ca} Create ",e.getAuthorityName(e.selectedAuthority)," Pitch Deck ")}}let Vhe=(()=>{class t{constructor(e,i){this.authorityDataService=e,this.router=i,this.selectedAuthority="",this.isLoading=!1,this.authorityDataSources={},this.authorityRecommendations={},this.authorities={RTA:{id:"RTA",name:"Dubai RTA",fullName:"Roads and Transport Authority",color:"#CE1126",emirate:"Dubai",logo:"/assets/images/rta-dubai.jpg",stats:{congestionCost:"AED 4.5B",vehicles:"1.78M",transitShare:"6.3%",roads:"13,000+ km",employees:"13,000+",budget:"AED 30B+"},focusAreas:["Tourist Districts","Metro Integration","Smart City","Dubai 2040 Plan","Autonomous Transport"],smartMobilityReadiness:92},ITC:{id:"ITC",name:"Abu Dhabi ITC",fullName:"Integrated Transport Centre",color:"#000000",emirate:"Abu Dhabi",logo:"/assets/images/itc.png",stats:{congestionCost:"AED 2.8B",vehicles:"1.2M",transitShare:"5.1%",roads:"8,500+ km",employees:"8,500+",budget:"AED 18B"},focusAreas:["Industrial Corridors","Mussafah Zone","Net Zero 2050","Masdar City","Island Mobility"],smartMobilityReadiness:78},SRTA:{id:"SRTA",name:"Sharjah SRTA",fullName:"Sharjah Roads and Transport Authority",color:"#003366",emirate:"Sharjah",logo:"/assets/images/srta.png",stats:{congestionCost:"AED 1.5B",vehicles:"0.56M",transitShare:"8.2%",roads:"5,200+ km",employees:"4,200+",budget:"AED 6B"},focusAreas:["Dubai Border","Industrial Areas","Affordable Housing","University City","Border Efficiency"],smartMobilityReadiness:65}}}ngOnInit(){this.prefetchAuthorityData()}selectAuthority(e){this.selectedAuthority=e,this.loadAuthorityData(e)}getAuthorityName(e){return this.authorities[e]?.name??e}getRecommendedZones(e){const i=this.authorityRecommendations[e];return i?.length?i:{RTA:[{name:"Dubai Marina",peakVolume:3800,congestion:85,priority:9},{name:"Business Bay",peakVolume:4200,congestion:80,priority:8},{name:"Deira Commercial",peakVolume:4500,congestion:90,priority:7}],ITC:[{name:"Mussafah Industrial",peakVolume:4200,congestion:90,priority:10},{name:"Khalifa City",peakVolume:2800,congestion:75,priority:8},{name:"Abu Dhabi City Center",peakVolume:3500,congestion:80,priority:7}],SRTA:[{name:"Sharjah Industrial Area",peakVolume:3200,congestion:85,priority:9},{name:"Al Taawun Border",peakVolume:4800,congestion:95,priority:10},{name:"University City",peakVolume:2200,congestion:70,priority:7}]}[e]??[]}getAuthorityKPIs(e){return{RTA:[{name:" Tourist congestion",target:"Reduce by 15%",importance:9},{name:"Metro ridership",target:"Increase to 15%",importance:8},{name:"Smart city score",target:"Top 3 globally",importance:7},{name:"Autonomous vehicle share",target:"25% by 2030",importance:8}],ITC:[{name:"Industrial corridor delays",target:"Reduce by 12%",importance:10},{name:"Traffic fatalities",target:"Zero by 2030",importance:9},{name:"Net Zero emissions",target:"40% reduction",importance:8},{name:"Public transit coverage",target:"90% population",importance:7}],SRTA:[{name:"Border crossing time",target:"Reduce by 20%",importance:10},{name:"Housing accessibility",target:"Increase by 12%",importance:8},{name:"Industrial commute cost",target:"Reduce by 5%",importance:7},{name:"Inter-emirate connectivity",target:"Seamless",importance:9}]}[e]??[]}getDataSources(e){const i=this.authorityDataSources[e];return i?.length?i:{RTA:[{name:"RTA Open Data Portal",url:"https://www.rta.ae/wps/portal/rta/ae/home/about-rta/open-data",quality:9},{name:"Dubai Data Platform",url:"https://www.dubaidata.gov.ae",quality:8},{name:"Smart Dubai Portal",url:"https://www.smartdubai.ae",quality:9}],ITC:[{name:"Abu Dhabi Open Data",url:"https://addata.gov.ae",quality:7},{name:"ITC Official Reports",url:"https://www.itc.gov.ae",quality:8},{name:"Abu Dhabi Vision 2030",url:"https://www.ad2021.ae",quality:8}],SRTA:[{name:"SRTA Data Portal",url:"https://data.srta.gov.ae",quality:6},{name:"Sharjah Statistics",url:"https://www.sharjahstatistics.gov.ae",quality:7},{name:"Emirates SDG Center",url:"https://sdgcenter.gov.ae",quality:7}]}[e]??[]}selectZoneForSimulation(e){console.log("Selected zone for analysis",e)}generateAuthorityReport(){this.selectedAuthority&&this.router.navigate(["/authority-report"],{queryParams:{authority:this.selectedAuthority}})}generatePitchDeck(){this.selectedAuthority&&this.router.navigate(["/pitch-deck"],{queryParams:{authority:this.selectedAuthority}})}loadAuthorityData(e){this.isLoading=!0,iN({sources:this.authorityDataService.getDataSources(e),recommendations:this.authorityDataService.getRecommendations(e)}).subscribe({next:({sources:i,recommendations:r})=>{this.authorityDataSources[e]=i,this.authorityRecommendations[e]=r},error:()=>null,complete:()=>{this.isLoading=!1}})}prefetchAuthorityData(){["RTA","ITC","SRTA"].forEach(e=>this.loadAuthorityData(e))}static{this.\u0275fac=function(i){return new(i||t)(wt(uP),wt(Ks))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-authority-selection"]],decls:171,vars:40,consts:[[1,"authority-selection"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"subtitle"],[1,"authority-cards"],[1,"authority-card",3,"click"],[1,"card-header",2,"--accent","#CE1126"],["src","/assets/images/rta-dubai.jpg","alt","Dubai RTA",1,"authority-logo"],[1,"authority-info"],[1,"badge"],[1,"readiness-meter"],[1,"score"],[1,"label"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-icon"],[1,"stat-value"],[1,"stat-label"],[1,"focus-section"],[1,"focus-tags"],["class","focus-tag",4,"ngFor","ngForOf"],[1,"select-btn"],[1,"card-header",2,"--accent","#000000"],["src","/assets/images/itc.png","alt","Abu Dhabi ITC",1,"authority-logo"],[1,"card-header",2,"--accent","#003366"],["src","/assets/images/srta.png","alt","Sharjah SRTA",1,"authority-logo"],["class","analysis-section",4,"ngIf"],[1,"focus-tag"],[1,"analysis-section"],[1,"section-header"],[1,"recommendations-panel"],[1,"zone-grid"],["class","zone-card",4,"ngFor","ngForOf"],[1,"kpis-panel"],[1,"kpi-grid"],["class","kpi-card",4,"ngFor","ngForOf"],[1,"sources-panel"],[1,"sources-grid"],["class","source-card",4,"ngFor","ngForOf"],[1,"action-buttons"],[1,"primary-btn",3,"click"],[1,"secondary-btn",3,"click"],[1,"zone-card"],[1,"zone-header"],[1,"priority-badge"],[1,"zone-metrics"],[1,"metric"],[1,"metric-value"],[1,"metric-label"],[1,"analyze-btn",3,"click"],[1,"kpi-card"],[1,"kpi-header"],[1,"kpi-name"],[1,"priority-indicator"],[1,"kpi-target"],[1,"kpi-bar"],[1,"kpi-fill"],[1,"source-card"],["target","_blank",1,"source-link",3,"href"],[1,"source-icon"],[1,"quality-badge"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,"\u{1f3db}\ufe0f"),A(),h(5,"div")(6,"h1"),f(7,"Transport Authority Selection"),A(),h(8,"p",4),f(9," Select an authority to view analysis and recommendations "),A()()()(),h(10,"div",5)(11,"div",6),it("click",function(){return r.selectAuthority("RTA")}),h(12,"div",7),Cn(13,"img",8),h(14,"div",9)(15,"h3"),f(16,"Dubai RTA"),A(),h(17,"span",10),f(18,"Dubai Emirate"),A()(),h(19,"div",11)(20,"span",12),f(21),A(),h(22,"span",13),f(23,"Smart Mobility Ready"),A()()(),h(24,"div",14)(25,"div",15)(26,"span",16),f(27,"\u{1f697}"),A(),h(28,"div")(29,"div",17),f(30),A(),h(31,"div",18),f(32,"Registered Vehicles"),A()()(),h(33,"div",15)(34,"span",16),f(35,"\u{1f4b0}"),A(),h(36,"div")(37,"div",17),f(38),A(),h(39,"div",18),f(40,"Congestion Cost/Year"),A()()(),h(41,"div",15)(42,"span",16),f(43,"\u{1f68c}"),A(),h(44,"div")(45,"div",17),f(46),A(),h(47,"div",18),f(48,"Transit Modal Share"),A()()(),h(49,"div",15)(50,"span",16),f(51,"\u{1f6e3}\ufe0f"),A(),h(52,"div")(53,"div",17),f(54),A(),h(55,"div",18),f(56,"Road Network"),A()()()(),h(57,"div",19)(58,"h4"),f(59,"\u{1f3af} Focus Areas"),A(),h(60,"div",20),xt(61,Lhe,2,1,"span",21),A()(),h(62,"button",22),f(63),A()(),h(64,"div",6),it("click",function(){return r.selectAuthority("ITC")}),h(65,"div",23),Cn(66,"img",24),h(67,"div",9)(68,"h3"),f(69,"Abu Dhabi ITC"),A(),h(70,"span",10),f(71,"Abu Dhabi Emirate"),A()(),h(72,"div",11)(73,"span",12),f(74),A(),h(75,"span",13),f(76,"Smart Mobility Ready"),A()()(),h(77,"div",14)(78,"div",15)(79,"span",16),f(80,"\u{1f697}"),A(),h(81,"div")(82,"div",17),f(83),A(),h(84,"div",18),f(85,"Registered Vehicles"),A()()(),h(86,"div",15)(87,"span",16),f(88,"\u{1f4b0}"),A(),h(89,"div")(90,"div",17),f(91),A(),h(92,"div",18),f(93,"Congestion Cost/Year"),A()()(),h(94,"div",15)(95,"span",16),f(96,"\u{1f68c}"),A(),h(97,"div")(98,"div",17),f(99),A(),h(100,"div",18),f(101,"Transit Modal Share"),A()()(),h(102,"div",15)(103,"span",16),f(104,"\u{1f6e3}\ufe0f"),A(),h(105,"div")(106,"div",17),f(107),A(),h(108,"div",18),f(109,"Road Network"),A()()()(),h(110,"div",19)(111,"h4"),f(112,"\u{1f3af} Focus Areas"),A(),h(113,"div",20),xt(114,Nhe,2,1,"span",21),A()(),h(115,"button",22),f(116),A()(),h(117,"div",6),it("click",function(){return r.selectAuthority("SRTA")}),h(118,"div",25),Cn(119,"img",26),h(120,"div",9)(121,"h3"),f(122,"Sharjah SRTA"),A(),h(123,"span",10),f(124,"Sharjah Emirate"),A()(),h(125,"div",11)(126,"span",12),f(127),A(),h(128,"span",13),f(129,"Smart Mobility Ready"),A()()(),h(130,"div",14)(131,"div",15)(132,"span",16),f(133,"\u{1f697}"),A(),h(134,"div")(135,"div",17),f(136),A(),h(137,"div",18),f(138,"Registered Vehicles"),A()()(),h(139,"div",15)(140,"span",16),f(141,"\u{1f4b0}"),A(),h(142,"div")(143,"div",17),f(144),A(),h(145,"div",18),f(146,"Congestion Cost/Year"),A()()(),h(147,"div",15)(148,"span",16),f(149,"\u{1f68c}"),A(),h(150,"div")(151,"div",17),f(152),A(),h(153,"div",18),f(154,"Transit Modal Share"),A()()(),h(155,"div",15)(156,"span",16),f(157,"\u{1f6e3}\ufe0f"),A(),h(158,"div")(159,"div",17),f(160),A(),h(161,"div",18),f(162,"Road Network"),A()()()(),h(163,"div",19)(164,"h4"),f(165,"\u{1f3af} Focus Areas"),A(),h(166,"div",20),xt(167,Rhe,2,1,"span",21),A()(),h(168,"button",22),f(169),A()()(),xt(170,zhe,24,6,"div",27),A()),2&i&&(S(11),Un("selected","RTA"===r.selectedAuthority),S(8),Ko("--score",r.authorities.RTA.smartMobilityReadiness),S(2),Me("",r.authorities.RTA.smartMobilityReadiness,"%"),S(9),Me(" ",r.authorities.RTA.stats.vehicles," "),S(8),Me(" ",r.authorities.RTA.stats.congestionCost," "),S(8),Me(" ",r.authorities.RTA.stats.transitShare," "),S(8),Me(" ",r.authorities.RTA.stats.roads," "),S(7),ke("ngForOf",r.authorities.RTA.focusAreas),S(),Un("active","RTA"===r.selectedAuthority),S(),Me(" ","RTA"===r.selectedAuthority?"\u2713 Selected":"Select Authority"," "),S(),Un("selected","ITC"===r.selectedAuthority),S(8),Ko("--score",r.authorities.ITC.smartMobilityReadiness),S(2),Me("",r.authorities.ITC.smartMobilityReadiness,"%"),S(9),Me(" ",r.authorities.ITC.stats.vehicles," "),S(8),Me(" ",r.authorities.ITC.stats.congestionCost," "),S(8),Me(" ",r.authorities.ITC.stats.transitShare," "),S(8),Me(" ",r.authorities.ITC.stats.roads," "),S(7),ke("ngForOf",r.authorities.ITC.focusAreas),S(),Un("active","ITC"===r.selectedAuthority),S(),Me(" ","ITC"===r.selectedAuthority?"\u2713 Selected":"Select Authority"," "),S(),Un("selected","SRTA"===r.selectedAuthority),S(8),Ko("--score",r.authorities.SRTA.smartMobilityReadiness),S(2),Me("",r.authorities.SRTA.smartMobilityReadiness,"%"),S(9),Me(" ",r.authorities.SRTA.stats.vehicles," "),S(8),Me(" ",r.authorities.SRTA.stats.congestionCost," "),S(8),Me(" ",r.authorities.SRTA.stats.transitShare," "),S(8),Me(" ",r.authorities.SRTA.stats.roads," "),S(7),ke("ngForOf",r.authorities.SRTA.focusAreas),S(),Un("active","SRTA"===r.selectedAuthority),S(),Me(" ","SRTA"===r.selectedAuthority?"\u2713 Selected":"Select Authority"," "),S(),ke("ngIf",r.selectedAuthority))},dependencies:[ls,cs],styles:['.authority-selection[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e3a5f,#0ea5e9);border-radius:16px;padding:24px;margin-bottom:24px;color:#fff}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.header-icon[_ngcontent-%COMP%]{font-size:2.5rem;background:#ffffff26;width:60px;height:60px;display:flex;align-items:center;justify-content:center;border-radius:12px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:700;color:#fff}.subtitle[_ngcontent-%COMP%]{margin:4px 0 0;opacity:.9;font-size:.95rem;color:#fff}.authority-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:20px;margin-bottom:28px}.authority-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:0;cursor:pointer;transition:all .3s ease;border:2px solid transparent;box-shadow:0 4px 16px #0000000f;overflow:hidden}.authority-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #0000001f}.authority-card.selected[_ngcontent-%COMP%]{border-color:var(--accent, #0ea5e9);box-shadow:0 8px 32px #0ea5e940}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-bottom:3px solid var(--accent, #0ea5e9);flex-wrap:wrap}.authority-logo[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:10px;object-fit:contain}.authority-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#1e3a5f}.badge[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;background:#e2e8f0;padding:3px 8px;border-radius:6px}.readiness-meter[_ngcontent-%COMP%]{margin-left:auto;text-align:center;background:linear-gradient(135deg,#dbeafe,#bfdbfe);padding:8px 14px;border-radius:10px}.readiness-meter[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{display:block;font-size:1.25rem;font-weight:700;color:#1d4ed8}.readiness-meter[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.65rem;color:#64748b;text-transform:uppercase}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:16px 20px;border-bottom:1px solid #f1f5f9}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.stat-icon[_ngcontent-%COMP%]{font-size:1.5rem}.stat-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#1e3a5f}.stat-label[_ngcontent-%COMP%]{font-size:.7rem;color:#64748b;display:block}.focus-section[_ngcontent-%COMP%]{padding:16px 20px}.focus-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:.9rem;color:#334155}.focus-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.focus-tag[_ngcontent-%COMP%]{font-size:.75rem;padding:5px 10px;background:#f1f5f9;color:#475569;border-radius:6px}.select-btn[_ngcontent-%COMP%]{width:calc(100% - 40px);margin:0 20px 20px;padding:12px;border:2px solid #e2e8f0;border-radius:10px;background:#fff;color:#475569;font-weight:600;cursor:pointer;transition:all .2s ease}.select-btn[_ngcontent-%COMP%]:hover{border-color:#0ea5e9;color:#0ea5e9}.select-btn.active[_ngcontent-%COMP%]{background:#0ea5e9;border-color:#0ea5e9;color:#fff}.analysis-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 4px 16px #0000000f}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;color:#1e3a5f;font-size:1.4rem}.recommendations-panel[_ngcontent-%COMP%]{margin-bottom:24px}.recommendations-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .kpis-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .sources-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.1rem;color:#334155}.zone-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.zone-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:16px;border:1px solid #e2e8f0}.zone-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.zone-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#1e3a5f}.priority-badge[_ngcontent-%COMP%]{font-size:.7rem;padding:3px 8px;border-radius:6px;font-weight:600}.priority-badge[data-priority="10"][_ngcontent-%COMP%]{background:#fef3c7;color:#b45309}.priority-badge[data-priority="9"][_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8}.priority-badge[data-priority="8"][_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.priority-badge[data-priority="7"][_ngcontent-%COMP%]{background:#e2e8f0;color:#475569}.zone-metrics[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:12px}.metric[_ngcontent-%COMP%]{display:flex;flex-direction:column}.metric-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#059669}.metric-label[_ngcontent-%COMP%]{font-size:.7rem;color:#64748b}.analyze-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background:#0ea5e9;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:background .2s}.analyze-btn[_ngcontent-%COMP%]:hover{background:#0284c7}.kpi-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:12px;margin-bottom:24px}.kpi-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:10px;padding:14px;border:1px solid #e2e8f0}.kpi-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:6px}.kpi-name[_ngcontent-%COMP%]{font-weight:600;color:#334155;font-size:.9rem}.priority-indicator[_ngcontent-%COMP%]{font-size:.7rem;padding:2px 6px;border-radius:4px;font-weight:600}.priority-indicator[data-priority="10"][_ngcontent-%COMP%]{background:#fef3c7;color:#b45309}.priority-indicator[data-priority="9"][_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8}.priority-indicator[data-priority="8"][_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.priority-indicator[data-priority="7"][_ngcontent-%COMP%]{background:#e2e8f0;color:#475569}.kpi-target[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b;margin-bottom:8px}.kpi-bar[_ngcontent-%COMP%]{height:6px;background:#e2e8f0;border-radius:3px;overflow:hidden}.kpi-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#0ea5e9,#059669);border-radius:3px}.sources-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-bottom:24px}.source-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px;background:#f8fafc;border-radius:10px;border:1px solid #e2e8f0}.source-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#1d4ed8;text-decoration:none;font-size:.85rem;font-weight:500}.source-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.quality-badge[_ngcontent-%COMP%]{font-size:.7rem;padding:3px 6px;border-radius:4px;font-weight:600}.quality-badge[data-quality="9"][_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.quality-badge[data-quality="8"][_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8}.quality-badge[data-quality="7"][_ngcontent-%COMP%]{background:#fef3c7;color:#b45309}.quality-badge[data-quality="6"][_ngcontent-%COMP%]{background:#e2e8f0;color:#475569}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.primary-btn[_ngcontent-%COMP%], .secondary-btn[_ngcontent-%COMP%]{padding:14px 24px;border-radius:10px;font-weight:600;cursor:pointer;transition:all .2s;flex:1;min-width:250px}.primary-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0ea5e9,#0284c7);color:#fff;border:none}.primary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0ea5e966}.secondary-btn[_ngcontent-%COMP%]{background:#fff;color:#475569;border:2px solid #e2e8f0}.secondary-btn[_ngcontent-%COMP%]:hover{border-color:#0ea5e9;color:#0ea5e9}@media (max-width: 768px){.authority-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.primary-btn[_ngcontent-%COMP%], .secondary-btn[_ngcontent-%COMP%]{min-width:100%}}']})}}return t})();function jhe(t,n){if(1&t&&(h(0,"div",51)(1,"div",52),f(2),A(),h(3,"div",53),f(4),A(),h(5,"div",54),f(6),A()()),2&t){const e=n.$implicit;S(2),lt(e.value),S(2),lt(e.label),S(2),lt(e.description)}}function Ghe(t,n){if(1&t&&(h(0,"tr")(1,"td")(2,"strong"),f(3),A()(),h(4,"td")(5,"div",55)(6,"div",56),Cn(7,"div",57),A(),h(8,"span"),f(9),A()()(),h(10,"td"),f(11),A(),h(12,"td"),f(13),A()()),2&t){const e=n.$implicit;S(3),lt(e.name),S(4),Ko("width",10*e.impact,"%"),S(2),Me("",e.impact,"/10"),S(2),lt(e.evidence),S(2),lt(e.recommendation)}}function Khe(t,n){if(1&t&&(h(0,"li"),f(1),A()),2&t){const e=n.$implicit;S(),lt(e)}}function Whe(t,n){if(1&t&&(h(0,"div",58)(1,"div",59)(2,"span",60),f(3),A()(),h(4,"div",61)(5,"div",62)(6,"h4"),f(7),A(),h(8,"span",63),f(9),A()(),h(10,"div",64)(11,"strong"),f(12,"Budget:"),A(),f(13),jt(14,"currency"),A(),h(15,"ul",65),xt(16,Khe,2,1,"li",25),A(),h(17,"div",66)(18,"strong"),f(19,"Expected Outcomes:"),A(),f(20),A()()()),2&t){const e=n.$implicit,i=n.index;S(3),lt(i+1),S(4),lt(e.name),S(2),Me("\u23f1\ufe0f ",e.duration,""),S(4),Me(" ",wn(14,6,e.budget,"AED")," "),S(3),ke("ngForOf",e.tasks),S(4),Me(" ",e.outcomes," ")}}function $he(t,n){if(1&t&&(h(0,"li")(1,"strong"),f(2),A(),f(3),A()),2&t){const e=n.$implicit;S(2),Me("",e.name,":"),S(),Me(" ",e.value," ")}}let qhe=(()=>{class t{constructor(e,i){this.route=e,this.authorityDataService=i,this.authority={name:"Dubai Roads and Transport Authority (RTA)",code:"RTA",jurisdiction:"Dubai",logoUrl:"/assets/images/rta-dubai.jpg"},this.simulationResult={id:"local",name:"Authority Summary",totalVehicles:0,vehiclesDiverted:0,congestionReduction:25,estimatedRevenue:18e7,equityImpact:{lowIncomeBurden:.08,highIncomeBurden:.06,isRegressive:!1,burdenRatio:.5},environmentalImpact:0,zoneRules:{},results:{},createdAt:new Date},this.today=new Date,this.executiveMetrics=[]}ngOnInit(){const e=this.route.snapshot.queryParamMap.get("authority");e&&(this.authority.code=e.toUpperCase(),this.setAuthorityFromCode(e.toUpperCase())),this.executiveMetrics=[{value:"-25%",label:"Congestion Reduction",description:"Peak hour traffic reduction"},{value:"AED 180M",label:"Annual Revenue",description:"Net after exemptions"},{value:"15%",label:"Transit Shift",description:"Mode switch to public transport"},{value:"2.8B AED",label:"5-Year NPV",description:"Net present value"}]}setAuthorityFromCode(e){const i={RTA:{name:"Dubai Roads and Transport Authority (RTA)",code:"RTA",jurisdiction:"Dubai",logoUrl:"/assets/images/rta-dubai.jpg"},ITC:{name:"Abu Dhabi Integrated Transport Centre (ITC)",code:"ITC",jurisdiction:"Abu Dhabi",logoUrl:"/assets/images/itc.png"},SRTA:{name:"Sharjah Roads & Transport Authority (SRTA)",code:"SRTA",jurisdiction:"Sharjah",logoUrl:"/assets/images/srta.png"}};i[e]&&(this.authority=i[e])}getLogoUrl(){return this.authority.logoUrl||"/assets/images/rta-dubai.jpg"}getReferenceNumber(){const e=this.today.getFullYear(),i=String(this.today.getMonth()+1).padStart(2,"0");return`${this.authority.code}-${e}${i}-001`}getAuthoritySummaryText(e){const i={RTA:"This report presents a comprehensive analysis of implementing Smart Mobility Access pricing in Dubai. Based on international benchmarks and local traffic data, we project a 25% reduction in peak-hour congestion, generating AED 180 million in annual net revenue. The FAIR model ensures residents and workers receive free access, achieving higher public acceptance while funding Metro expansion and smart city initiatives aligned with Dubai 2040.",ITC:"This analysis evaluates Smart Mobility Access implementation for Abu Dhabi. Targeting industrial corridors and key arterial roads, the system projects 20% congestion reduction with AED 120 million annual revenue. The model supports Abu Dhabi's Economic Vision 2030 and Net Zero 2050 goals while providing fair exemptions for residents and workers.",SRTA:"This report examines Smart Mobility Access for Sharjah, focusing on cross-border efficiency with Dubai. Projections show 25% improvement in commute times and AED 60 million in annual revenue. The system addresses Sharjah's unique challenges in affordable housing accessibility and industrial worker mobility."};return i[e]||i.RTA}getCongestionCost(e){const i={RTA:"AED 4.5 billion annually in lost productivity, fuel, and environmental costs",ITC:"AED 2.8 billion annually in industrial delays and logistics inefficiencies",SRTA:"AED 1.5 billion annually in commuter delays and border crossing congestion"};return i[e]||i.RTA}getCommuteTime(e){const i={RTA:"Average 45 minutes peak, up to 90 minutes for cross-emirate commuters",ITC:"30-60 minutes average, 2+ hours for Mussafah corridor",SRTA:"25-40 minutes to Dubai, up to 75 minutes during peak"};return i[e]||i.RTA}getEnvironmentalImpact(e){const i={RTA:"Transport = 23% of UAE CO2; 25% reduction saves 150,000 tons CO2/year",ITC:"Heavy vehicles = 40% of emissions; smoother flow cuts idling by 30%",SRTA:"Border queuing = 50 tons CO2/day; reduced idle = significant cut"};return i[e]||i.RTA}getEconomicLoss(e){const i={RTA:"AED 1,200 per vehicle annually in wasted time and fuel",ITC:"AED 2,400 per truck annually in delays",SRTA:"AED 800 per commuter annually in excess fuel/time"};return i[e]||i.RTA}getAuthorityPriorities(e){const i={RTA:[{name:"Dubai 2040 Urban Plan",impact:9.2,evidence:"25% congestion reduction aligns with 30% target",recommendation:"Prioritize tourist corridors"},{name:"Metro Integration",impact:8.4,evidence:"15% shift to public transit expected",recommendation:"Expand park-and-ride"},{name:"Smart City Vision",impact:8,evidence:"Real-time pricing with AI analytics",recommendation:"Deploy smart sensors"}],ITC:[{name:"Industrial Productivity",impact:8.7,evidence:"20% time savings in Mussafah",recommendation:"Target freight peaks"},{name:"Net Zero 2050",impact:7.9,evidence:"CO2 reduction from smoother flow",recommendation:"Incentivize clean fleets"},{name:"Safety",impact:7.5,evidence:"30% fewer accidents in pricing zones",recommendation:"Enhanced enforcement"}],SRTA:[{name:"Cross-border Efficiency",impact:9.1,evidence:"25% time savings for commuters",recommendation:"Coordinate with Dubai RTA"},{name:"Affordable Housing",impact:7.8,evidence:"Reduced commute costs for workers",recommendation:"Subsidize passes"},{name:"Industrial Mobility",impact:7.2,evidence:"Better access to workforce",recommendation:"Worker transit programs"}]};return i[e]||i.RTA}getImplementationPhases(e){const i={RTA:[{name:"Phase 1: Pilot - Business Bay & Marina",duration:"6 months",budget:5e6,outcomes:"Validate projections, refine pricing",tasks:["Deploy sensors","Launch app","Monitor KPIs","Public feedback"]},{name:"Phase 2: CBD Expansion",duration:"9 months",budget:8e6,outcomes:"Full downtown coverage",tasks:["Expand zones","Integrate parking","Transit coordination"]},{name:"Phase 3: Full Rollout",duration:"12 months",budget:12e6,outcomes:"City-wide implementation",tasks:["Complete network","Full enforcement","Public launch"]}],ITC:[{name:"Phase 1: Mussafah Pilot",duration:"6 months",budget:35e5,outcomes:"Industrial corridor test",tasks:["Engage operators","Deploy monitoring","Measure impact"]},{name:"Phase 2: City Access",duration:"9 months",budget:6e6,outcomes:"Core city coverage",tasks:["CBD pricing","Signage","Transit support"]}],SRTA:[{name:"Phase 1: Border Optimization",duration:"5 months",budget:2e6,outcomes:"Reduce crossing delays",tasks:["Coordinate with RTA","Deploy monitoring","Public info"]},{name:"Phase 2: Industrial Zones",duration:"6 months",budget:3e6,outcomes:"Worker mobility",tasks:["Exemption system","Transit links","Evaluation"]}]};return i[e]||i.RTA}calculate5YearRevenue(){return 9e8}getImplementationCost(e){return{RTA:25e6,ITC:15e6,SRTA:8e6}[e]||25e6}getAnnualOperatingCost(e){return{RTA:15e5,ITC:1e6,SRTA:6e5}[e]||15e5}calculateNPV(){return this.calculate5YearRevenue()-this.getImplementationCost(this.authority.code)-5*this.getAnnualOperatingCost(this.authority.code)}getAuthorityBenefits(e){const i={RTA:[{name:"Metro Funding",value:"+AED 180M/year for transit expansion"},{name:"Tourism Experience",value:"+15% visitor satisfaction"},{name:"Resident Value",value:"AED 400/year saved per resident"},{name:"Environmental",value:"150,000 tons CO2 reduction/year"}],ITC:[{name:"Industrial Efficiency",value:"+AED 150M/year productivity"},{name:"Safety",value:"AED 60M/year accident cost savings"},{name:"Net Zero",value:"25% emission reduction in zones"}],SRTA:[{name:"Commuter Savings",value:"AED 800/year per commuter"},{name:"Housing Access",value:"+6% affordable housing reach"},{name:"Border Flow",value:"30% faster crossing times"}]};return i[e]||i.RTA}downloadPDF(){const e=new kn,i=this.authority.name||"Transport Authority",r=this.authority.code||"SZS";e.setFontSize(20),e.setTextColor(0,51,102),e.text("Smart Mobility Access Implementation Analysis",20,20),e.setFontSize(12),e.setTextColor(60),e.text(i,20,30),e.text("Reference: "+this.getReferenceNumber(),20,38),e.text("Date: "+this.today.toLocaleDateString(),20,45),e.setFontSize(14),e.setTextColor(0),e.text("1. Executive Summary",20,60),e.setFontSize(10),e.setTextColor(60);const o=this.getAuthoritySummaryText(this.authority.code),s=e.splitTextToSize(o,170);e.text(s,20,68);let a=85;e.setFontSize(14),e.setTextColor(0),e.text("Key Metrics",20,a),e.setFontSize(10),e.setTextColor(60),a+=10,["\u2022 Congestion Reduction: 25% (peak hour traffic)","\u2022 Annual Revenue: AED 180 Million (net after exemptions)","\u2022 Transit Shift: 15% (mode switch to public transport)","\u2022 5-Year NPV: AED 2.8 Billion"].forEach(y=>{e.text(y,25,a),a+=7}),a+=5,e.setFontSize(14),e.setTextColor(0),e.text("2. Problem Statement",20,a),e.setFontSize(10),e.setTextColor(60),a+=10,["\u2022 Congestion Cost: "+this.getCongestionCost(this.authority.code),"\u2022 Commute Times: "+this.getCommuteTime(this.authority.code),"\u2022 Environmental Impact: "+this.getEnvironmentalImpact(this.authority.code),"\u2022 Economic Loss: "+this.getEconomicLoss(this.authority.code)].forEach(y=>{e.text(y,25,a),a+=7}),a+=5,e.setFontSize(14),e.setTextColor(0),e.text("3. Proposed Solution: FAIR Smart Mobility Model",20,a),e.setFontSize(10),e.setTextColor(60),a+=10,["\u2022 Residents: FREE access with tenancy verification","\u2022 Workers: FREE access with employment verification","\u2022 Visitors: 20-minute grace period before charges","\u2022 Transit: Always FREE to encourage modal shift","\u2022 Off-Peak: FREE 8PM - 7AM to spread demand"].forEach(y=>{e.text(y,25,a),a+=7}),a+=5,e.setFontSize(14),e.setTextColor(0),e.text("4. Implementation Roadmap",20,a),e.setFontSize(10),e.setTextColor(60),a+=10,this.getImplementationPhases(this.authority.code).forEach((y,m)=>{e.setFontSize(11),e.setTextColor(0,51,102),e.text(`Phase ${m+1}: ${y.name}`,25,a),a+=6,e.setFontSize(9),e.setTextColor(60),e.text(`Duration: ${y.duration} | Budget: AED ${(y.budget/1e6).toFixed(1)}M`,30,a),a+=6,e.text(`Expected Outcomes: ${y.outcomes}`,30,a),a+=10}),a<230&&(e.setFontSize(14),e.setTextColor(0),e.text("5. Financial Projections",20,a),e.setFontSize(10),e.setTextColor(60),a+=10,e.text(`5-Year Revenue: AED ${(this.calculate5YearRevenue()/1e9).toFixed(1)}B`,25,a),a+=7,e.text(`Implementation Cost: AED ${(this.getImplementationCost(this.authority.code)/1e6).toFixed(0)}M`,25,a),a+=7,e.text(`Annual Operating: AED ${(this.getAnnualOperatingCost(this.authority.code)/1e6).toFixed(1)}M`,25,a),a+=7,e.setFontSize(11),e.setTextColor(0,100,0),e.text(`5-Year NPV: AED ${(this.calculateNPV()/1e9).toFixed(1)}B`,25,a),a+=10),a<250&&(e.setFontSize(14),e.setTextColor(0),e.text("6. Risk Assessment",20,a),e.setFontSize(10),e.setTextColor(60),a+=10,["\u2022 Public Resistance (Medium Likelihood, High Impact) - Mitigation: Extensive public consultation, resident exemptions","\u2022 Technical Implementation (Low Likelihood, Medium Impact) - Mitigation: Phased rollout, pilot testing","\u2022 Legal Challenges (Low Likelihood, High Impact) - Mitigation: Pre-clearance with legal counsel","\u2022 Data Privacy (Medium Likelihood, Medium Impact) - Mitigation: UAE Data Protection compliance"].forEach(m=>{const B=e.splitTextToSize(m,160);e.text(B,25,a),a+=10})),e.setFontSize(8),e.setTextColor(150),e.text("Prepared by Smart Mobility Simulator | "+i+" - Confidential",20,280),e.text("Disclaimer: Projections are estimates based on international benchmarks. Actual results may vary.",20,286),e.save(`${r}-Smart-Zone-Report.pdf`)}goBack(){window.history.back()}static{this.\u0275fac=function(i){return new(i||t)(wt(Vd),wt(uP))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-authority-report"]],inputs:{authority:"authority",simulationResult:"simulationResult"},decls:296,vars:47,consts:[["id","report-content",1,"report-container"],[1,"report-header"],[1,"header-content"],[1,"logo-section"],[1,"authority-logo",3,"src","alt"],[1,"authority-details"],[1,"report-subtitle"],[1,"report-meta"],[1,"meta-item"],[1,"meta-label"],[1,"meta-value"],[1,"meta-value","classification"],[1,"report-section"],[1,"section-title"],[1,"executive-grid"],["class","exec-card",4,"ngFor","ngForOf"],[1,"executive-text"],[1,"problem-grid"],[1,"problem-card"],[1,"problem-icon"],[1,"solution-overview"],[1,"features-grid"],[1,"feature-card"],[1,"feature-icon"],[1,"priorities-table"],[4,"ngFor","ngForOf"],[1,"phases-timeline"],["class","phase-item",4,"ngFor","ngForOf"],[1,"financial-summary"],[1,"financial-highlight"],[1,"fin-item"],[1,"fin-label"],[1,"fin-value"],[1,"fin-item","highlight"],[1,"benefits-section"],[1,"benefits-list"],[1,"risk-table"],[1,"risk-medium"],[1,"risk-high"],[1,"risk-low"],[1,"recommendations-list"],[1,"rec-item"],[1,"rec-num"],[1,"rec-content"],[1,"report-section","appendix"],[1,"disclaimer"],[1,"report-footer"],[1,"footer-content"],[1,"action-bar"],[1,"btn-download",3,"click"],[1,"btn-back",3,"click"],[1,"exec-card"],[1,"exec-value"],[1,"exec-label"],[1,"exec-desc"],[1,"score-cell"],[1,"score-bar"],[1,"score-fill"],[1,"phase-item"],[1,"phase-marker"],[1,"phase-num"],[1,"phase-content"],[1,"phase-header"],[1,"phase-duration"],[1,"phase-budget"],[1,"phase-tasks"],[1,"phase-outcomes"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),Cn(4,"img",4),h(5,"div",5)(6,"h1"),f(7),A(),h(8,"p",6),f(9," Smart Mobility Access Implementation Analysis "),A()()(),h(10,"div",7)(11,"div",8)(12,"span",9),f(13,"Report Date"),A(),h(14,"span",10),f(15),jt(16,"date"),A()(),h(17,"div",8)(18,"span",9),f(19,"Reference"),A(),h(20,"span",10),f(21),A()(),h(22,"div",8)(23,"span",9),f(24,"Classification"),A(),h(25,"span",11),f(26,"Official Use"),A()()()()(),h(27,"section",12)(28,"h2",13),f(29,"1. Executive Summary"),A(),h(30,"div",14),xt(31,jhe,7,3,"div",15),A(),h(32,"div",16)(33,"p"),f(34),A()()(),h(35,"section",12)(36,"h2",13),f(37,"2. Problem Statement"),A(),h(38,"div",17)(39,"div",18)(40,"div",19),f(41,"\u{1f697}"),A(),h(42,"h4"),f(43,"Congestion Cost"),A(),h(44,"p"),f(45),A()(),h(46,"div",18)(47,"div",19),f(48,"\u23f1\ufe0f"),A(),h(49,"h4"),f(50,"Commute Times"),A(),h(51,"p"),f(52),A()(),h(53,"div",18)(54,"div",19),f(55,"\u{1f331}"),A(),h(56,"h4"),f(57,"Environmental Impact"),A(),h(58,"p"),f(59),A()(),h(60,"div",18)(61,"div",19),f(62,"\u{1f4b0}"),A(),h(63,"h4"),f(64,"Economic Loss"),A(),h(65,"p"),f(66),A()()()(),h(67,"section",12)(68,"h2",13),f(69," 3. Proposed Solution: FAIR Smart Mobility Model "),A(),h(70,"div",20)(71,"p"),f(72," The Smart Mobility Access system uses a "),h(73,"strong"),f(74,"FAIR (Fair Access Incentivizing Revenue)"),A(),f(75," model that balances revenue generation with social equity: "),A()(),h(76,"div",21)(77,"div",22)(78,"div",23),f(79,"\u{1f3e0}"),A(),h(80,"h4"),f(81,"Residents"),A(),h(82,"p"),f(83,"FREE access with tenancy verification"),A()(),h(84,"div",22)(85,"div",23),f(86,"\u{1f4bc}"),A(),h(87,"h4"),f(88,"Workers"),A(),h(89,"p"),f(90,"FREE access with employment verification"),A()(),h(91,"div",22)(92,"div",19),f(93,"\u23f0"),A(),h(94,"h4"),f(95,"Visitors"),A(),h(96,"p"),f(97,"20-minute grace period before charges"),A()(),h(98,"div",22)(99,"div",23),f(100,"\u{1f68c}"),A(),h(101,"h4"),f(102,"Transit"),A(),h(103,"p"),f(104,"Always FREE to encourage modal shift"),A()(),h(105,"div",22)(106,"div",23),f(107,"\u{1f319}"),A(),h(108,"h4"),f(109,"Off-Peak"),A(),h(110,"p"),f(111,"FREE 8PM - 7AM to spread demand"),A()()()(),h(112,"section",12)(113,"h2",13),f(114,"4. Impact Analysis"),A(),h(115,"div",24)(116,"h3"),f(117),A(),h(118,"table")(119,"thead")(120,"tr")(121,"th"),f(122,"Priority Area"),A(),h(123,"th"),f(124,"Impact Score"),A(),h(125,"th"),f(126,"Evidence"),A(),h(127,"th"),f(128,"Recommendation"),A()()(),h(129,"tbody"),xt(130,Ghe,14,6,"tr",25),A()()()(),h(131,"section",12)(132,"h2",13),f(133,"5. Implementation Roadmap"),A(),h(134,"div",26),xt(135,Whe,21,9,"div",27),A()(),h(136,"section",12)(137,"h2",13),f(138,"6. Financial Projections"),A(),h(139,"div",28)(140,"div",29)(141,"div",30)(142,"span",31),f(143,"5-Year Revenue"),A(),h(144,"span",32),f(145),jt(146,"currency"),A()(),h(147,"div",30)(148,"span",31),f(149,"Implementation Cost"),A(),h(150,"span",32),f(151),jt(152,"currency"),A()(),h(153,"div",30)(154,"span",31),f(155,"Annual Operating"),A(),h(156,"span",32),f(157),jt(158,"currency"),A()(),h(159,"div",33)(160,"span",31),f(161,"5-Year NPV"),A(),h(162,"span",32),f(163),jt(164,"currency"),A()()()(),h(165,"div",34)(166,"h3"),f(167,"Projected Benefits"),A(),h(168,"ul",35),xt(169,$he,4,2,"li",25),A()()(),h(170,"section",12)(171,"h2",13),f(172,"7. Risk Assessment"),A(),h(173,"div",36)(174,"table")(175,"thead")(176,"tr")(177,"th"),f(178,"Risk Category"),A(),h(179,"th"),f(180,"Likelihood"),A(),h(181,"th"),f(182,"Impact"),A(),h(183,"th"),f(184,"Mitigation"),A()()(),h(185,"tbody")(186,"tr")(187,"td"),f(188,"Public Resistance"),A(),h(189,"td")(190,"span",37),f(191,"Medium"),A()(),h(192,"td")(193,"span",38),f(194,"High"),A()(),h(195,"td"),f(196,"Extensive public consultation, resident exemptions"),A()(),h(197,"tr")(198,"td"),f(199,"Technical Implementation"),A(),h(200,"td")(201,"span",39),f(202,"Low"),A()(),h(203,"td")(204,"span",37),f(205,"Medium"),A()(),h(206,"td"),f(207,"Phased rollout, pilot testing"),A()(),h(208,"tr")(209,"td"),f(210,"Legal Challenges"),A(),h(211,"td")(212,"span",39),f(213,"Low"),A()(),h(214,"td")(215,"span",38),f(216,"High"),A()(),h(217,"td"),f(218,"Pre-clearance with legal counsel"),A()(),h(219,"tr")(220,"td"),f(221,"Data Privacy"),A(),h(222,"td")(223,"span",37),f(224,"Medium"),A()(),h(225,"td")(226,"span",37),f(227,"Medium"),A()(),h(228,"td"),f(229,"UAE Data Protection compliance"),A()()()()()(),h(230,"section",12)(231,"h2",13),f(232,"8. Recommendations"),A(),h(233,"div",40)(234,"div",41)(235,"span",42),f(236,"1"),A(),h(237,"div",43)(238,"h4"),f(239,"Proceed with Pilot Implementation"),A(),h(240,"p"),f(241," Launch a 6-month pilot in selected zone to validate projections and gather public feedback. "),A()()(),h(242,"div",41)(243,"span",42),f(244,"2"),A(),h(245,"div",43)(246,"h4"),f(247,"Establish Governance Framework"),A(),h(248,"p"),f(249," Create oversight committee with representation from transport authority, municipalities, and public. "),A()()(),h(250,"div",41)(251,"span",42),f(252,"3"),A(),h(253,"div",43)(254,"h4"),f(255,"Develop Public Communication Strategy"),A(),h(256,"p"),f(257," Launch awareness campaign emphasizing fair exemptions and environmental benefits. "),A()()(),h(258,"div",41)(259,"span",42),f(260,"4"),A(),h(261,"div",43)(262,"h4"),f(263,"Implement Technology Infrastructure"),A(),h(264,"p"),f(265," Deploy sensors, enforcement systems, and payment processing before launch. "),A()()()()(),h(266,"section",44)(267,"h2",13),f(268,"Appendix A: Methodology"),A(),h(269,"p"),f(270,"This analysis uses data from:"),A(),h(271,"ul")(272,"li"),f(273," International congestion pricing benchmarks (Singapore ERP, London Congestion Charge, Stockholm, Milan) "),A(),h(274,"li"),f(275,"UAE transport authority statistics and reports"),A(),h(276,"li"),f(277,"World Bank economic studies on congestion pricing"),A(),h(278,"li"),f(279,"Simulation modeling based on local traffic patterns"),A()(),h(280,"p",45)(281,"strong"),f(282,"Disclaimer:"),A(),f(283," Projections are estimates based on international benchmarks and local conditions. Actual results may vary. This report does not constitute financial advice. "),A()(),h(284,"footer",46)(285,"div",47)(286,"p"),f(287),jt(288,"date"),A(),h(289,"p"),f(290),A()()()(),h(291,"div",48)(292,"button",49),it("click",function(){return r.downloadPDF()}),f(293," \u{1f4e5} Download PDF Report "),A(),h(294,"button",50),it("click",function(){return r.goBack()}),f(295," \u2190 Back to Authority Selection "),A()()),2&i&&(S(4),ke("src",r.getLogoUrl(),n0)("alt",r.authority.name),S(3),lt(r.authority.name),S(8),lt(wn(16,21,r.today,"mediumDate")),S(6),Me("SZS-",r.getReferenceNumber(),""),S(10),ke("ngForOf",r.executiveMetrics),S(3),lt(r.getAuthoritySummaryText(r.authority.code)),S(11),lt(r.getCongestionCost(r.authority.code)),S(7),lt(r.getCommuteTime(r.authority.code)),S(7),lt(r.getEnvironmentalImpact(r.authority.code)),S(7),lt(r.getEconomicLoss(r.authority.code)),S(51),Me("Alignment with ",r.authority.jurisdiction," Priorities"),S(13),ke("ngForOf",r.getAuthorityPriorities(r.authority.code)),S(5),ke("ngForOf",r.getImplementationPhases(r.authority.code)),S(10),lt(Od(146,24,r.calculate5YearRevenue(),"AED","symbol","1.0-0")),S(6),lt(Od(152,29,r.getImplementationCost(r.authority.code),"AED","symbol","1.0-0")),S(6),lt(Od(158,34,r.getAnnualOperatingCost(r.authority.code),"AED","symbol","1.0-0")),S(6),lt(Od(164,39,r.calculateNPV(),"AED","symbol","1.0-0")),S(6),ke("ngForOf",r.getAuthorityBenefits(r.authority.code)),S(118),Me(" Prepared by Smart Mobility Simulator | ",wn(288,44,r.today,"fullDate")," "),S(3),Me("",r.authority.name," - Confidential"))},dependencies:[ls,sC,lS],styles:[".report-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;background:#fff;padding:40px;font-family:Segoe UI,Arial,sans-serif;color:#1a1a1a;line-height:1.6}.report-header[_ngcontent-%COMP%]{border-bottom:3px solid #0066cc;padding-bottom:20px;margin-bottom:30px}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:20px}.logo-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.authority-logo[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:contain;border-radius:8px}.authority-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#1a1a1a}.report-subtitle[_ngcontent-%COMP%]{margin:5px 0 0;color:#666;font-size:1rem}.report-meta[_ngcontent-%COMP%]{display:flex;gap:20px}.meta-item[_ngcontent-%COMP%]{text-align:center}.meta-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#666;text-transform:uppercase}.meta-value[_ngcontent-%COMP%]{font-weight:600;color:#1a1a1a}.classification[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0;padding:2px 8px;border-radius:4px;font-size:.7rem}.report-section[_ngcontent-%COMP%]{margin-bottom:35px}.section-title[_ngcontent-%COMP%]{color:#06c;font-size:1.2rem;border-bottom:1px solid #e0e0e0;padding-bottom:8px;margin-bottom:20px}.executive-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;margin-bottom:20px}.exec-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:15px;border-radius:8px;text-align:center;border-left:4px solid #0066cc}.exec-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#06c}.exec-label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#333}.exec-desc[_ngcontent-%COMP%]{font-size:.7rem;color:#666}.executive-text[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;border-radius:8px;font-size:.95rem}.problem-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:15px}.problem-card[_ngcontent-%COMP%]{background:#fff3e0;padding:20px;border-radius:8px;border-left:4px solid #ff9800}.problem-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px}.problem-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#e65100}.problem-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem}.solution-overview[_ngcontent-%COMP%]{background:#e8f5e9;padding:20px;border-radius:8px;margin-bottom:20px}.features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}.feature-card[_ngcontent-%COMP%]{background:#fff;padding:15px 10px;border-radius:8px;text-align:center;box-shadow:0 2px 4px #0000001a}.feature-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:8px}.feature-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;font-size:.8rem;color:#333}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.7rem;color:#666}.priorities-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.priorities-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .priorities-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #e0e0e0}.priorities-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f5f5;font-weight:600;font-size:.85rem}.priorities-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.85rem}.score-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.score-bar[_ngcontent-%COMP%]{width:60px;height:8px;background:#e0e0e0;border-radius:4px;overflow:hidden}.score-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#4caf50,#8bc34a)}.phases-timeline[_ngcontent-%COMP%]{position:relative}.phase-item[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px}.phase-marker[_ngcontent-%COMP%]{width:40px;height:40px;background:#06c;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;flex-shrink:0}.phase-content[_ngcontent-%COMP%]{flex:1;background:#f8f9fa;padding:20px;border-radius:8px}.phase-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.phase-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#1a1a1a}.phase-duration[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0;padding:3px 10px;border-radius:12px;font-size:.8rem}.phase-budget[_ngcontent-%COMP%]{font-weight:600;color:#2e7d32;margin-bottom:10px}.phase-tasks[_ngcontent-%COMP%]{margin:0 0 10px;padding-left:20px;font-size:.85rem}.phase-outcomes[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.financial-highlight[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;margin-bottom:20px}.fin-item[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:8px;text-align:center}.fin-item.highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c8e6c9,#a5d6a7);border:2px solid #4caf50}.fin-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#666}.fin-value[_ngcontent-%COMP%]{display:block;font-size:1.1rem;font-weight:700;color:#1a1a1a}.fin-item.highlight[_ngcontent-%COMP%]   .fin-value[_ngcontent-%COMP%]{color:#2e7d32}.benefits-section[_ngcontent-%COMP%]{background:#e8f5e9;padding:20px;border-radius:8px}.benefits-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:10px 0 0}.benefits-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 0;border-bottom:1px solid #c8e6c9;font-size:.9rem}.benefits-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.risk-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.risk-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .risk-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #e0e0e0}.risk-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f5f5}.risk-low[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.risk-medium[_ngcontent-%COMP%]{color:#ff9800;font-weight:600}.risk-high[_ngcontent-%COMP%]{color:#f44336;font-weight:600}.recommendations-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.rec-item[_ngcontent-%COMP%]{display:flex;gap:15px;background:#e3f2fd;padding:15px;border-radius:8px}.rec-num[_ngcontent-%COMP%]{width:30px;height:30px;background:#1565c0;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;flex-shrink:0}.rec-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#0d47a1}.rec-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem;color:#333}.appendix[_ngcontent-%COMP%]{background:#f5f5f5;padding:20px;border-radius:8px;font-size:.85rem}.disclaimer[_ngcontent-%COMP%]{margin-top:20px;padding:10px;background:#fff3e0;border-left:4px solid #ff9800;font-size:.8rem}.report-footer[_ngcontent-%COMP%]{margin-top:40px;padding-top:20px;border-top:2px solid #e0e0e0;text-align:center;color:#666;font-size:.8rem}.action-bar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#fff;padding:15px 20px;box-shadow:0 -4px 12px #0000001a;display:flex;justify-content:center;gap:15px;z-index:100}.btn-download[_ngcontent-%COMP%]{background:#06c;color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px}.btn-download[_ngcontent-%COMP%]:hover{background:#0052a3}.btn-back[_ngcontent-%COMP%]{background:#f5f5f5;color:#333;border:1px solid #ddd;padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer}.btn-back[_ngcontent-%COMP%]:hover{background:#e0e0e0}@media print{.action-bar[_ngcontent-%COMP%]{display:none}.report-container[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 768px){.executive-grid[_ngcontent-%COMP%], .financial-highlight[_ngcontent-%COMP%], .features-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.problem-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.header-content[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return t})();function Zhe(t,n){if(1&t){const e=ti();h(0,"div",21)(1,"div",22),f(2),A(),h(3,"div",23),f(4),A(),h(5,"div",24),f(6),A(),h(7,"button",2),it("click",function(){const r=pt(e).$implicit;return gt(Fe(2).analyzeZone("RTA",r))}),f(8,"Analyze"),A()()}if(2&t){const e=n.$implicit;S(2),lt(e.name),S(2),Me(" Priority: ",e.priority,"/10 "),S(2),lt(e.reason)}}function Yhe(t,n){if(1&t&&(h(0,"div",6)(1,"div",7)(2,"h3"),f(3,"Dubai Roads and Transport Authority (RTA)"),A(),h(4,"div",8)(5,"span",9),f(6,"Tourism Focus"),A(),h(7,"span",10),f(8,"Smart City"),A(),h(9,"span",11),f(10,"High Tech"),A()()(),h(11,"div",12)(12,"h4"),f(13,"RTA-Specific Analysis"),A(),h(14,"div",13)(15,"div",14)(16,"div",15),f(17),A(),h(18,"div",16),f(19,"Tourist Experience Improvement"),A(),h(20,"div",17),f(21,"Dubai Tourism Target: +15%"),A()(),h(22,"div",14)(23,"div",15),f(24),jt(25,"number"),A(),h(26,"div",16),f(27,"Additional Metro Passengers/Day"),A(),h(28,"div",17),f(29,"RTA Target: +50,000 by 2025"),A()(),h(30,"div",14)(31,"div",15),f(32),A(),h(33,"div",16),f(34,"Smart Dubai Index Contribution"),A(),h(35,"div",17),f(36,"Target: Top 5 Global Smart City"),A()()(),h(37,"div",18)(38,"h5"),f(39,"Recommended Zones for RTA Pilot:"),A(),h(40,"div",19),xt(41,Zhe,9,3,"div",20),A()()()()),2&t){const e=Fe();S(17),Me("",e.rtaData.tourismImpact,"%"),S(7),Me(" ",Br(25,4,e.rtaData.metroRidership)," "),S(8),Me("",e.rtaData.smartCityScore,"/100"),S(9),ke("ngForOf",e.rtaZones)}}function Xhe(t,n){if(1&t){const e=ti();h(0,"div",21)(1,"div",22),f(2),A(),h(3,"div",23),f(4),A(),h(5,"div",24),f(6),A(),h(7,"button",2),it("click",function(){const r=pt(e).$implicit;return gt(Fe(2).analyzeZone("ITC",r))}),f(8,"Analyze"),A()()}if(2&t){const e=n.$implicit;S(2),lt(e.name),S(2),Me(" Priority: ",e.priority,"/10 "),S(2),lt(e.reason)}}function Jhe(t,n){if(1&t&&(h(0,"div",6)(1,"div",25)(2,"h3"),f(3,"Abu Dhabi Integrated Transport Centre (ITC)"),A(),h(4,"div",8)(5,"span",26),f(6,"Industrial Focus"),A(),h(7,"span",11),f(8,"Economic Development"),A(),h(9,"span",10),f(10,"Safety Priority"),A()()(),h(11,"div",27)(12,"h4"),f(13,"ITC-Specific Analysis"),A(),h(14,"div",13)(15,"div",14)(16,"div",15),f(17),A(),h(18,"div",16),f(19,"Industrial Productivity Gain"),A(),h(20,"div",17),f(21,"ITC Target: 25% by 2030"),A()(),h(22,"div",14)(23,"div",15),f(24),A(),h(25,"div",16),f(26,"Road Safety Improvement"),A(),h(27,"div",17),f(28,"Target: 30% reduction by 2030"),A()(),h(29,"div",14)(30,"div",15),f(31),A(),h(32,"div",16),f(33,"Economic Impact (AED)"),A(),h(34,"div",17),f(35,"Ghadan 21 alignment"),A()()(),h(36,"div",18)(37,"h5"),f(38,"Recommended Zones for ITC Pilot:"),A(),h(39,"div",19),xt(40,Xhe,9,3,"div",20),A()()()()),2&t){const e=Fe();S(17),Me(" ",e.itcData.industrialProductivity,"% "),S(7),Me("",e.itcData.safetyImprovement,"%"),S(7),Me("",e.itcData.economicImpact,"M"),S(9),ke("ngForOf",e.itcZones)}}function efe(t,n){if(1&t&&(h(0,"div",29)(1,"h4"),f(2),A(),h(3,"div",30)(4,"span"),f(5,"RTA"),A(),h(6,"strong"),f(7),jt(8,"number"),A()(),h(9,"div",30)(10,"span"),f(11,"ITC"),A(),h(12,"strong"),f(13),jt(14,"number"),A()(),h(15,"div",30)(16,"span"),f(17,"Better For"),A(),h(18,"strong"),f(19),A()()()),2&t){const e=n.$implicit;S(2),lt(e.metric),S(5),lt(wn(8,4,e.rtaValue,"1.0-2")),S(6),lt(wn(14,7,e.itcValue,"1.0-2")),S(6),lt(e.betterFor)}}function tfe(t,n){if(1&t&&(h(0,"div",28),xt(1,efe,20,10,"div",33),A()),2&t){const e=Fe(2);S(),ke("ngForOf",e.comparison.comparisonMetrics)}}function nfe(t,n){if(1&t&&(h(0,"div",29)(1,"h4"),f(2,"UAE-wide Rollout Strategy"),A(),h(3,"p"),f(4),A(),h(5,"div",30)(6,"span"),f(7,"Total Investment"),A(),h(8,"strong"),f(9),jt(10,"currency"),A()(),h(11,"div",30)(12,"span"),f(13,"Total 5-Year Revenue"),A(),h(14,"strong"),f(15),jt(16,"currency"),A()(),h(17,"div",30)(18,"span"),f(19,"Overall ROI"),A(),h(20,"strong"),f(21),A()()()),2&t){const e=Fe(2);S(4),lt(e.roadmap.uaeWideBenefits),S(5),lt(wn(10,4,e.roadmap.totalInvestment,"AED")),S(6),lt(wn(16,7,e.roadmap.total5YearRevenue,"AED")),S(6),Me("",e.roadmap.overallROI,"%")}}function ife(t,n){if(1&t&&(h(0,"div",6)(1,"div",28)(2,"div",29)(3,"h4"),f(4,"Implementation Cost"),A(),h(5,"div",30)(6,"span"),f(7,"RTA"),A(),h(8,"strong"),f(9,"5,000,000 AED"),A()(),h(10,"div",30)(11,"span"),f(12,"ITC"),A(),h(13,"strong"),f(14,"3,000,000 AED"),A()()(),h(15,"div",29)(16,"h4"),f(17,"Expected Benefits"),A(),h(18,"div",30)(19,"span"),f(20,"RTA"),A(),h(21,"strong"),f(22,"1.6B AED / year"),A()(),h(23,"div",30)(24,"span"),f(25,"ITC"),A(),h(26,"strong"),f(27,"0.95B AED / year"),A()()(),h(28,"div",29)(29,"h4"),f(30,"Recommended First Mover"),A(),h(31,"p"),f(32,"Dubai RTA for higher ROI and tourism sensitivity."),A()()(),xt(33,tfe,2,1,"div",31)(34,nfe,22,10,"div",32),A()),2&t){const e=Fe();S(33),ke("ngIf",e.comparison),S(),ke("ngIf",e.roadmap)}}let rfe=(()=>{class t{analyzeZone(e,i){console.log(`Analyze ${e} zone`,i)}constructor(e,i){this.route=e,this.authorityDataService=i,this.activeTab="RTA",this.rtaData={tourismImpact:14,metroRidership:52e3,smartCityScore:82},this.itcData={industrialProductivity:22,safetyImprovement:18,economicImpact:310},this.rtaZones=[{name:"Dubai Marina",priority:9,reason:"Tourist-heavy congestion and metro access"},{name:"Business Bay",priority:8,reason:"CBD demand management and smart city pilots"},{name:"Deira",priority:7,reason:"Legacy network with high weekday demand"}],this.itcZones=[{name:"Mussafah Industrial",priority:10,reason:"Industrial freight peak congestion"},{name:"Khalifa City",priority:8,reason:"Commuter-heavy corridor with safety focus"},{name:"Reem Island",priority:7,reason:"Mixed residential and commercial access"}]}ngOnInit(){const e=this.route.snapshot.queryParamMap.get("zoneId"),i=this.route.snapshot.queryParamMap.get("zoneName");e&&this.authorityDataService.compareRtaVsItc({zoneId:e,zoneName:i??void 0,date:new Date,zoneRules:{}}).subscribe({next:o=>{this.comparison=o},error:()=>null}),this.authorityDataService.getUaeRoadmap().subscribe({next:r=>{this.roadmap=r},error:()=>null})}static{this.\u0275fac=function(i){return new(i||t)(wt(Vd),wt(uP))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-authority-comparison"]],decls:15,vars:9,consts:[[1,"authority-comparison"],[1,"authority-tabs"],[3,"click"],["src","/assets/logos/rta-logo.png","alt","RTA"],["src","/assets/logos/itc-logo.png","alt","ITC"],["class","authority-view",4,"ngIf"],[1,"authority-view"],[1,"authority-header","rta-header"],[1,"authority-badges"],[1,"badge","badge-red"],[1,"badge","badge-green"],[1,"badge","badge-gold"],[1,"rta-specific"],[1,"rta-metrics"],[1,"metric-card"],[1,"metric-value"],[1,"metric-label"],[1,"metric-note"],[1,"rta-recommendations"],[1,"zone-list"],["class","zone-item",4,"ngFor","ngForOf"],[1,"zone-item"],[1,"zone-name"],[1,"zone-priority"],[1,"zone-reason"],[1,"authority-header","itc-header"],[1,"badge","badge-black"],[1,"itc-specific"],[1,"compare-grid"],[1,"compare-card"],[1,"compare-row"],["class","compare-grid",4,"ngIf"],["class","compare-card",4,"ngIf"],["class","compare-card",4,"ngFor","ngForOf"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"h2"),f(2,"\u{1f1e6}\u{1f1ea} RTA Dubai vs ITC Abu Dhabi Analysis"),A(),h(3,"div",1)(4,"button",2),it("click",function(){return r.activeTab="RTA"}),Cn(5,"img",3),f(6," Dubai RTA "),A(),h(7,"button",2),it("click",function(){return r.activeTab="ITC"}),Cn(8,"img",4),f(9," Abu Dhabi ITC "),A(),h(10,"button",2),it("click",function(){return r.activeTab="COMPARE"}),f(11," \u2194\ufe0f Compare Both "),A()(),xt(12,Yhe,42,6,"div",5)(13,Jhe,41,4,"div",5)(14,ife,35,2,"div",5),A()),2&i&&(S(4),Un("active","RTA"===r.activeTab),S(3),Un("active","ITC"===r.activeTab),S(3),Un("active","COMPARE"===r.activeTab),S(2),ke("ngIf","RTA"===r.activeTab),S(),ke("ngIf","ITC"===r.activeTab),S(),ke("ngIf","COMPARE"===r.activeTab))},dependencies:[ls,cs,fc,sC],styles:[".authority-tabs[_ngcontent-%COMP%]{display:flex;gap:12px;margin:20px 0}.authority-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #ddd;background:#fff;padding:10px 16px;border-radius:8px;display:flex;align-items:center;gap:8px;cursor:pointer}.authority-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-color:#ce1126;box-shadow:0 6px 16px #00000014}.authority-tabs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.authority-header[_ngcontent-%COMP%]{padding:16px;border-radius:10px;margin-bottom:16px;color:#fff}.authority-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin:0 0 8px}.rta-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ce1126,#00732f)}.itc-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#000,gold)}.authority-badges[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:999px;font-size:12px;background:#fff3}.rta-metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-bottom:20px}.metric-card[_ngcontent-%COMP%]{padding:16px;border-radius:10px;background:#fff;box-shadow:0 4px 12px #0000000d}.metric-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600}.zone-list[_ngcontent-%COMP%]{display:grid;gap:12px}.zone-item[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:10px;padding:12px;background:#fafafa}.compare-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}.compare-card[_ngcontent-%COMP%]{padding:16px;border-radius:12px;background:#fff;box-shadow:0 4px 12px #0000000d}.compare-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:6px}"]})}}return t})();function ofe(t,n){if(1&t){const e=ti();h(0,"button",16),it("click",function(){return pt(e),gt(Fe().startCreate())}),h(1,"span",17),f(2,"+"),A(),f(3," Create New Zone "),A()}}function sfe(t,n){if(1&t&&(h(0,"div",18)(1,"span",19),f(2,"\u2713"),A(),h(3,"span"),f(4),A()()),2&t){const e=Fe();S(4),lt(e.success)}}function afe(t,n){if(1&t&&(h(0,"div",20)(1,"span",19),f(2,"\u26a0\ufe0f"),A(),h(3,"span"),f(4),A()()),2&t){const e=Fe();S(4),lt(e.error)}}function lfe(t,n){if(1&t&&(h(0,"option",58),f(1),A()),2&t){const e=n.$implicit;ke("value",e),S(),lt(e)}}function cfe(t,n){if(1&t&&(h(0,"option",58),f(1),A()),2&t){const e=n.$implicit;ke("value",e),S(),lt(e)}}function ufe(t,n){if(1&t&&(h(0,"div",59)(1,"div",28)(2,"span",29),f(3,"\u{1f4cb}"),A(),h(4,"h4"),f(5,"Zone Summary"),A()(),h(6,"div",30)(7,"div",60)(8,"div",61)(9,"span",62),f(10,"Zone"),A(),h(11,"span",63),f(12),A()(),h(13,"div",61)(14,"span",62),f(15,"Location"),A(),h(16,"span",63),f(17),A()(),h(18,"div",61)(19,"span",62),f(20,"Free Time"),A(),h(21,"span",63),f(22),A()(),h(23,"div",64)(24,"span",62),f(25,"Rate"),A(),h(26,"span",63),f(27),A()()()()()),2&t){const e=Fe(2);S(12),lt(e.formData.name),S(5),Wo("",e.formData.emirate," \u2022 ",e.formData.zoneType,""),S(5),Me("",e.formData.baseFreeHours||0," hours"),S(5),Me("AED ",e.formData.chargePerHour||0,"/hour")}}function Afe(t,n){if(1&t&&(h(0,"span"),f(1),A()),2&t){const e=Fe(2);S(),Me(" ",e.isCreating?"\u2713 Create Zone":"\u2713 Update Zone"," ")}}function dfe(t,n){1&t&&(h(0,"span",65),Cn(1,"span",66),f(2," Saving... "),A())}function hfe(t,n){if(1&t){const e=ti();h(0,"div",21)(1,"div",22)(2,"div",23)(3,"span",24),f(4),A(),h(5,"h3"),f(6),A()(),h(7,"button",25),it("click",function(){return pt(e),gt(Fe().cancel())}),f(8,"\u2715"),A()(),h(9,"form",26),it("ngSubmit",function(){return pt(e),gt(Fe().saveZone())}),h(10,"div",27)(11,"div",28)(12,"span",29),f(13,"\u{1f4cd}"),A(),h(14,"h4"),f(15,"Location Details"),A()(),h(16,"div",30)(17,"div",31)(18,"label")(19,"span",32),f(20,"\u{1f3f7}\ufe0f"),A(),f(21," Zone Name "),h(22,"span",33),f(23,"*"),A()(),h(24,"input",34),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.formData.name,r)||(o.formData.name=r),gt(r)}),A()(),h(25,"div",35)(26,"div",36)(27,"label")(28,"span",32),f(29,"\u{1f3d9}\ufe0f"),A(),f(30," Emirate "),h(31,"span",33),f(32,"*"),A()(),h(33,"select",37),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.formData.emirate,r)||(o.formData.emirate=r),gt(r)}),h(34,"option",38),f(35,"Select"),A(),xt(36,lfe,2,2,"option",39),A()(),h(37,"div",36)(38,"label")(39,"span",32),f(40,"\u{1f3e2}"),A(),f(41," Zone Type "),h(42,"span",33),f(43,"*"),A()(),h(44,"select",40),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.formData.zoneType,r)||(o.formData.zoneType=r),gt(r)}),h(45,"option",38),f(46,"Select"),A(),xt(47,cfe,2,2,"option",39),A()()()()(),h(48,"div",27)(49,"div",28)(50,"span",29),f(51,"\u{1f4b0}"),A(),h(52,"h4"),f(53,"Pricing Settings"),A()(),h(54,"div",30)(55,"div",35)(56,"div",36)(57,"label")(58,"span",32),f(59,"\u23f1\ufe0f"),A(),f(60," Free Hours "),A(),h(61,"div",41)(62,"input",42),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.formData.baseFreeHours,r)||(o.formData.baseFreeHours=r),gt(r)}),A(),h(63,"span",43),f(64,"hrs"),A()()(),h(65,"div",36)(66,"label")(67,"span",32),f(68,"\u{1f4b5}"),A(),f(69," Hourly Rate "),A(),h(70,"div",41)(71,"span",44),f(72,"AED"),A(),h(73,"input",45),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.formData.chargePerHour,r)||(o.formData.chargePerHour=r),gt(r)}),A()()()(),h(74,"div",31)(75,"label")(76,"span",32),f(77,"\u{1f6a6}"),A(),f(78," Peak Hours "),h(79,"span",46),f(80,"(Optional)"),A()(),h(81,"div",47)(82,"input",48),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.formData.peakHours,r)||(o.formData.peakHours=r),gt(r)}),A(),h(83,"div",49)(84,"button",50),it("click",function(){return pt(e),gt(Fe().setPeakHours("morning"))}),f(85," \u{1f305} Morning "),A(),h(86,"button",50),it("click",function(){return pt(e),gt(Fe().setPeakHours("evening"))}),f(87," \u{1f306} Evening "),A(),h(88,"button",50),it("click",function(){return pt(e),gt(Fe().setPeakHours("both"))}),f(89," \u{1f305}\u{1f306} Both "),A()()(),h(90,"span",51),f(91,"Time ranges when peak rates apply (HH:MM-HH:MM format)"),A()()()(),xt(92,ufe,28,5,"div",52),h(93,"div",53)(94,"button",54),it("click",function(){return pt(e),gt(Fe().cancel())}),f(95," Cancel "),A(),h(96,"button",55),xt(97,Afe,2,1,"span",56)(98,dfe,3,0,"span",57),A()()()()}if(2&t){const e=Fe();S(4),lt(e.isCreating?"\u2795":"\u270f\ufe0f"),S(2),lt(e.isCreating?"Create New Zone":"Edit Zone"),S(18),Mn("ngModel",e.formData.name),S(9),Mn("ngModel",e.formData.emirate),S(3),ke("ngForOf",e.emirates),S(8),Mn("ngModel",e.formData.zoneType),S(3),ke("ngForOf",e.zoneTypes),S(15),Mn("ngModel",e.formData.baseFreeHours),S(11),Mn("ngModel",e.formData.chargePerHour),S(9),Mn("ngModel",e.formData.peakHours),S(10),ke("ngIf",e.formData.name),S(4),ke("disabled",e.isLoading),S(),ke("ngIf",!e.isLoading),S(),ke("ngIf",e.isLoading)}}function ffe(t,n){if(1&t){const e=ti();h(0,"tr",72)(1,"td",73),f(2),A(),h(3,"td")(4,"span",74),f(5),A()(),h(6,"td")(7,"span",75),f(8),A()(),h(9,"td")(10,"span",76)(11,"span",77),f(12),A(),h(13,"span",78),f(14,"hrs"),A()()(),h(15,"td")(16,"span",79),f(17),A()(),h(18,"td")(19,"div",80)(20,"button",81),it("click",function(){const r=pt(e).$implicit;return gt(Fe(2).editZone(r))}),f(21," \u270e "),A(),h(22,"button",82),it("click",function(){const r=pt(e).$implicit;return gt(Fe(2).deleteZone(r.id))}),f(23," \u{1f5d1}\ufe0f "),A()()()()}if(2&t){const e=n.$implicit;S(2),lt(e.name),S(3),lt(e.emirate),S(2),Ds("data-type",e.zoneType),S(),Me(" ",e.zoneType," "),S(4),lt(e.baseFreeHours),S(5),Me("AED ",e.chargePerHour,"/hr")}}function pfe(t,n){if(1&t&&(h(0,"tbody")(1,"tr",67)(2,"td",68)(3,"span",69),f(4),A(),h(5,"span",70),f(6),A()()(),xt(7,ffe,24,6,"tr",71),A()),2&t){const e=n.$implicit;S(3),Ds("data-emirate",e.emirate),S(),Me(" ",e.emirate," "),S(2),Me("",e.zones.length," zones"),S(),ke("ngForOf",e.zones)}}function gfe(t,n){if(1&t){const e=ti();h(0,"div",83)(1,"div",84),f(2,"\u{1f5fa}\ufe0f"),A(),h(3,"h3"),f(4,"No zones configured yet"),A(),h(5,"p"),f(6,"Create your first Smart Mobility to get started"),A(),h(7,"button",85),it("click",function(){return pt(e),gt(Fe().startCreate())}),f(8," + Create First Zone "),A()()}}let mfe=(()=>{class t{constructor(e){this.zoneService=e,this.zones=[],this.selectedZone=null,this.isEditing=!1,this.isCreating=!1,this.formData={},this.isLoading=!1,this.error=null,this.success=null,this.peakStartTime=new Date,this.peakEndTime=new Date,this.zoneTypes=["Residential","Commercial","Industrial","Mixed"],this.emirates=["Dubai","Abu Dhabi","Sharjah"]}ngOnInit(){this.loadZones()}loadZones(){this.isLoading=!0,this.zoneService.getAllZones().subscribe({next:e=>{this.zones=e,this.isLoading=!1},error:e=>{this.error="Failed to load zones",this.isLoading=!1}})}startCreate(){this.isCreating=!0,this.isEditing=!1,this.selectedZone=null,this.formData={baseFreeHours:2,chargePerHour:20,peakHours:""}}editZone(e){this.selectedZone=e,this.isEditing=!0,this.isCreating=!1,this.formData={...e}}saveZone(){if(!this.formData.name||!this.formData.emirate||!this.formData.zoneType)return void(this.error="Please fill in all required fields");const e={name:this.formData.name?.trim()??"",emirate:this.formData.emirate,zoneType:this.formData.zoneType,baseFreeHours:this.formData.baseFreeHours??2,peakHours:this.formData.peakHours&&this.formData.peakHours.trim().length>0?this.formData.peakHours.trim():"[]",chargePerHour:this.formData.chargePerHour??20};this.isLoading=!0,this.isCreating?this.zoneService.createZone(e).subscribe({next:i=>{this.zones.push(i),this.success="Zone created successfully",this.resetForm(),this.isLoading=!1},error:i=>{this.error="Failed to create zone",this.isLoading=!1}}):this.selectedZone&&this.zoneService.updateZone(this.selectedZone.id,e).subscribe({next:i=>{const r=this.zones.findIndex(o=>o.id===i.id);r>-1&&(this.zones[r]=i),this.success="Zone updated successfully",this.resetForm(),this.isLoading=!1},error:i=>{this.error="Failed to update zone",this.isLoading=!1}})}deleteZone(e){confirm("Are you sure you want to delete this zone?")&&(this.isLoading=!0,this.zoneService.deleteZone(e).subscribe({next:()=>{this.zones=this.zones.filter(i=>i.id!==e),this.success="Zone deleted successfully",this.resetForm(),this.isLoading=!1},error:i=>{this.error="Failed to delete zone",this.isLoading=!1}}))}get groupedZones(){const e=new Map;for(const s of this.zones){const a=s.emirate||"Unknown";e.has(a)||e.set(a,[]),e.get(a)?.push(s)}const i=this.emirates.filter(s=>e.has(s)),r=Array.from(e.keys()).filter(s=>!i.includes(s)).sort((s,a)=>s.localeCompare(a));return[...i,...r].map(s=>({emirate:s,zones:(e.get(s)??[]).sort((a,l)=>a.name.localeCompare(l.name))}))}resetForm(){this.isEditing=!1,this.isCreating=!1,this.selectedZone=null,this.formData={},this.error=null,setTimeout(()=>this.success=null,3e3)}cancel(){this.resetForm()}setPeakHours(e){switch(e){case"morning":this.formData.peakHours="07:00-09:00";break;case"evening":this.formData.peakHours="16:00-19:00";break;case"both":this.formData.peakHours="07:00-09:00, 16:00-19:00"}}static{this.\u0275fac=function(i){return new(i||t)(wt(ex))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-zone-editor"]],decls:38,vars:7,consts:[[1,"editor-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"subtitle"],["class","btn-primary btn-large",3,"click",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-error",4,"ngIf"],["class","form-panel",4,"ngIf"],[1,"zones-section"],[1,"section-header"],[1,"zone-count"],[1,"table-container"],[1,"modern-table"],[4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"btn-primary","btn-large",3,"click"],[1,"btn-icon"],[1,"alert","alert-success"],[1,"alert-icon"],[1,"alert","alert-error"],[1,"form-panel"],[1,"panel-header"],[1,"panel-title"],[1,"panel-icon"],[1,"btn-close",3,"click"],[1,"zone-form",3,"ngSubmit"],[1,"form-card"],[1,"card-header"],[1,"card-icon"],[1,"card-body"],[1,"form-group","full-width"],[1,"label-icon"],[1,"required"],["type","text","name","name","required","","placeholder","e.g., Deira Business District",1,"modern-input",3,"ngModelChange","ngModel"],[1,"form-row","three-cols"],[1,"form-group"],["name","emirate","required","",1,"modern-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["name","zoneType","required","",1,"modern-select",3,"ngModelChange","ngModel"],[1,"input-with-unit","modern-input-group"],["type","number","name","baseFreeHours","min","0","max","24",1,"modern-input",3,"ngModelChange","ngModel"],[1,"unit-badge"],[1,"currency-prefix"],["type","number","name","chargePerHour","min","0","step","0.01","placeholder","20",1,"modern-input",3,"ngModelChange","ngModel"],[1,"optional"],[1,"peak-hours-container"],["type","text","name","peakHours","placeholder","07:30-09:00, 16:00-18:00",1,"modern-input",3,"ngModelChange","ngModel"],[1,"peak-presets"],["type","button",1,"preset-btn",3,"click"],[1,"input-hint"],["class","form-card summary-card",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],[4,"ngIf"],["class","loading-spinner",4,"ngIf"],[3,"value"],[1,"form-card","summary-card"],[1,"summary-grid"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"summary-item","highlight"],[1,"loading-spinner"],[1,"spinner"],[1,"group-header"],["colspan","6"],[1,"emirate-badge"],[1,"zone-count-badge"],["class","zone-row",4,"ngFor","ngForOf"],[1,"zone-row"],[1,"zone-name"],[1,"emirate-tag"],[1,"type-badge"],[1,"free-hours"],[1,"hours-value"],[1,"hours-unit"],[1,"rate-value"],[1,"action-buttons"],["title","Edit",1,"btn-action","btn-edit",3,"click"],["title","Delete",1,"btn-action","btn-delete",3,"click"],[1,"empty-state"],[1,"empty-icon"],[1,"btn-primary",3,"click"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,"\u{1f5fa}\ufe0f"),A(),h(5,"div")(6,"h1"),f(7,"Zone Editor"),A(),h(8,"p",4),f(9,"Manage Smart Mobility configurations across the UAE"),A()()(),xt(10,ofe,4,0,"button",5),A(),xt(11,sfe,5,1,"div",6)(12,afe,5,1,"div",7)(13,hfe,99,14,"div",8),h(14,"div",9)(15,"div",10)(16,"h2"),f(17,"Existing Zones"),A(),h(18,"span",11),f(19),A()(),h(20,"div",12)(21,"table",13)(22,"thead")(23,"tr")(24,"th"),f(25,"Zone Name"),A(),h(26,"th"),f(27,"Emirate"),A(),h(28,"th"),f(29,"Type"),A(),h(30,"th"),f(31,"Free Hours"),A(),h(32,"th"),f(33,"Rate"),A(),h(34,"th"),f(35,"Actions"),A()()(),xt(36,pfe,8,4,"tbody",14),A(),xt(37,gfe,9,0,"div",15),A()()()),2&i&&(S(10),ke("ngIf",!r.isEditing&&!r.isCreating),S(),ke("ngIf",r.success),S(),ke("ngIf",r.error),S(),ke("ngIf",r.isEditing||r.isCreating),S(6),Me("",r.zones.length," zones configured"),S(17),ke("ngForOf",r.groupedZones),S(),ke("ngIf",0===r.zones.length))},dependencies:[ls,cs,RC,Hd,zd,va,wf,Nu,Qa,PC,z0,dg,Ag,_a,H0],styles:['.editor-container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:linear-gradient(135deg,#1e3a5f,#0ea5e9);border-radius:16px;padding:24px;margin-bottom:24px;color:#fff}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.header-icon[_ngcontent-%COMP%]{font-size:2.5rem;background:#ffffff26;width:60px;height:60px;display:flex;align-items:center;justify-content:center;border-radius:12px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:700;color:#fff}.subtitle[_ngcontent-%COMP%]{margin:4px 0 0;opacity:.9;font-size:.95rem;color:#fff}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .btn-action[_ngcontent-%COMP%]{border:none;border-radius:8px;cursor:pointer;font-size:14px;font-weight:600;transition:all .2s ease;display:inline-flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:#0ea5e9;color:#fff;padding:12px 20px}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0284c7;transform:translateY(-1px);box-shadow:0 4px 12px #0ea5e966}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#e2e8f0;color:#475569;padding:12px 20px}.btn-secondary[_ngcontent-%COMP%]:hover{background:#cbd5e1}.btn-large[_ngcontent-%COMP%]{padding:14px 24px;font-size:15px}.btn-icon[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;color:#64748b;cursor:pointer;padding:4px 8px;border-radius:4px}.btn-close[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px 18px;border-radius:10px;margin-bottom:20px;font-size:14px}.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0);color:#065f46;border:1px solid #6ee7b7}.alert-error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee2e2,#fecaca);color:#991b1b;border:1px solid #fca5a5}.alert-icon[_ngcontent-%COMP%]{font-size:18px}.form-panel[_ngcontent-%COMP%]{background:#fff;border-radius:20px;margin-bottom:28px;box-shadow:0 4px 20px #00000014;border:1px solid #e2e8f0;overflow:hidden}.panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-bottom:1px solid #e2e8f0}.panel-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.panel-icon[_ngcontent-%COMP%]{font-size:24px}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1e3a5f;font-weight:600}.zone-form[_ngcontent-%COMP%]{padding:24px}.form-card[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:16px;margin-bottom:20px;overflow:hidden}.form-card[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 20px;background:#fff;border-bottom:1px solid #e2e8f0}.card-icon[_ngcontent-%COMP%]{font-size:20px}.card-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#1e3a5f;font-weight:600}.card-body[_ngcontent-%COMP%]{padding:20px}.form-row[_ngcontent-%COMP%]{display:grid;gap:20px;margin-top:1rem}.form-row.two-cols[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.form-row.three-cols[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{grid-column:span 2}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#334155;margin-bottom:8px;font-size:.9rem;display:flex;align-items:center;gap:6px}.label-icon[_ngcontent-%COMP%]{font-size:14px}.required[_ngcontent-%COMP%]{color:#ef4444}.optional[_ngcontent-%COMP%]{color:#94a3b8;font-weight:400;font-size:.85rem}.modern-input[_ngcontent-%COMP%], .modern-select[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid #e2e8f0;border-radius:10px;font-size:14px;color:#1e293b;transition:all .2s ease;background:#fff;width:100%}.modern-input[_ngcontent-%COMP%]:focus, .modern-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#0ea5e9;box-shadow:0 0 0 3px #0ea5e926}.modern-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.input-with-unit[_ngcontent-%COMP%]{display:flex;align-items:center}.modern-input-group[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border:2px solid #e2e8f0;border-radius:10px;overflow:hidden;transition:all .2s}.modern-input-group[_ngcontent-%COMP%]:focus-within{border-color:#0ea5e9;box-shadow:0 0 0 3px #0ea5e926}.modern-input-group[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]{border:none;border-radius:0;flex:1}.modern-input-group[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]:focus{box-shadow:none}.currency-prefix[_ngcontent-%COMP%]{padding:12px;background:#f1f5f9;color:#64748b;font-weight:600;font-size:14px}.unit-badge[_ngcontent-%COMP%]{padding:12px;background:#f1f5f9;color:#64748b;font-size:13px;white-space:nowrap}.peak-hours-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.peak-presets[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.preset-btn[_ngcontent-%COMP%]{padding:8px 14px;font-size:12px;background:#fff;border:1px solid #e2e8f0;border-radius:8px;color:#475569;cursor:pointer;transition:all .2s}.preset-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.input-hint[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8;margin-top:6px}.summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eff6ff,#dbeafe);border-color:#bfdbfe}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;padding:12px;background:#fff;border-radius:10px}.summary-item.highlight[_ngcontent-%COMP%]{background:#0ea5e9;color:#fff}.summary-label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.summary-item.highlight[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{color:#fffc}.summary-value[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#1e293b}.summary-item.highlight[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{color:#fff}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:24px;margin-top:20px;border-top:1px solid #e2e8f0;justify-content:flex-end}.loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.zones-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00000014;border:1px solid #e2e8f0;overflow:hidden}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-bottom:1px solid #e2e8f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1e3a5f}.zone-count[_ngcontent-%COMP%]{font-size:.85rem;color:#64748b;background:#e2e8f0;padding:6px 12px;border-radius:20px}.table-container[_ngcontent-%COMP%]{padding:0}.modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f8fafc}.modern-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;font-weight:600;font-size:.8rem;text-transform:uppercase;letter-spacing:.5px;color:#64748b;border-bottom:2px solid #e2e8f0}.modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;border-bottom:1px solid #f1f5f9}.zone-row[_ngcontent-%COMP%]:hover{background:#f8fafc}.zone-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.group-header[_ngcontent-%COMP%]{background:#f1f5f9!important}.group-header[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 16px}.emirate-badge[_ngcontent-%COMP%]{font-weight:700;font-size:.9rem;color:#1e3a5f}.emirate-badge[data-emirate=Dubai][_ngcontent-%COMP%]{color:#dc2626}.emirate-badge[data-emirate="Abu Dhabi"][_ngcontent-%COMP%]{color:#059669}.emirate-badge[data-emirate=Sharjah][_ngcontent-%COMP%]{color:#7c3aed}.zone-count-badge[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;background:#e2e8f0;padding:3px 8px;border-radius:10px;margin-left:8px}.zone-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.emirate-tag[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.type-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:6px;font-size:.75rem;font-weight:600}.type-badge[data-type=Residential][_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8}.type-badge[data-type=Commercial][_ngcontent-%COMP%]{background:#fef3c7;color:#b45309}.type-badge[data-type=Industrial][_ngcontent-%COMP%]{background:#e2e8f0;color:#475569}.type-badge[data-type=Mixed][_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.free-hours[_ngcontent-%COMP%]{display:inline-flex;align-items:baseline;gap:2px}.hours-value[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#059669}.hours-unit[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b}.rate-value[_ngcontent-%COMP%]{font-weight:600;color:#1e3a5f}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-action[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:8px;font-size:14px;transition:all .2s ease}.btn-edit[_ngcontent-%COMP%]{background:#e0f2fe;color:#0284c7}.btn-edit[_ngcontent-%COMP%]:hover{background:#bae6fd;transform:scale(1.1)}.btn-delete[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.btn-delete[_ngcontent-%COMP%]:hover{background:#fecaca;transform:scale(1.1)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#334155}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;color:#64748b}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;text-align:center}.header-content[_ngcontent-%COMP%]{flex-direction:column}.form-row.two-cols[_ngcontent-%COMP%], .form-row.three-cols[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-group.full-width[_ngcontent-%COMP%]{grid-column:span 1}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.section-header[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.modern-table[_ngcontent-%COMP%]{display:block;overflow-x:auto}.peak-presets[_ngcontent-%COMP%]{flex-direction:column}.preset-btn[_ngcontent-%COMP%]{width:100%}}']})}}return t})(),vfe=(()=>{class t{goBack(){window.history.back()}downloadPdf(){const e=new kn;e.setFontSize(20),e.setTextColor(30,58,95),e.text("Smart Mobility Simulator - Business & Administrative Guide",20,20),e.setFontSize(12),e.setTextColor(100),e.text("UAE Government Stakeholder Report",20,30),e.text("Generated: "+(new Date).toLocaleDateString(),20,38),e.setFontSize(14),e.setTextColor(30),e.text("Purpose",20,52),e.setFontSize(10),e.setTextColor(60);const r=e.splitTextToSize("This guide explains the business value, governance, and administrative operations of Smart Mobility Simulator so non-technical stakeholders can understand how the system supports decision-making, budgeting, and policy rollout.",170);e.text(r,20,60),e.setFontSize(14),e.setTextColor(30),e.text("Executive Summary",20,85),e.setFontSize(10),e.setTextColor(60);const s=e.splitTextToSize("Smart Mobility Simulator helps UAE transport agencies model congestion pricing, compare policy options, and prepare stakeholder-ready outputs (pilot proposal, business case, pitch deck, demo scripts). It reduces decision risk by quantifying outcomes before rollout.",170);e.text(s,20,93),e.setFontSize(14),e.setTextColor(30),e.text("Key Business Objectives",20,118),e.setFontSize(10),e.setTextColor(60);let l=126;["\u2022 Reduce congestion in high-impact zones","\u2022 Improve equity (fairness across income brackets)","\u2022 Generate sustainable revenue for mobility upgrades","\u2022 Provide transparent, data-driven policy justifications","\u2022 Support phased rollout with measurable KPIs"].forEach(y=>{e.text(y,25,l),l+=7}),e.setFontSize(14),e.setTextColor(30),e.text("Core Business Outputs",20,l+10),e.setFontSize(10),e.setTextColor(60),l+=18,["1. Simulation Results - Congestion reduction, revenue, CO2 impact","2. Economic Impact - Equity impact, 5-year revenue projection","3. Pilot Proposal - Cost breakdown, timeline, risks","4. Business Case - ROI, NPV, payback period","5. Pitch Deck - Executive-ready slides","6. Demo Mode - One-click scenarios"].forEach(y=>{e.text(y,25,l),l+=7}),e.setFontSize(14),e.setTextColor(30),e.text("Deployment Phases",20,l+10),e.setFontSize(10),e.setTextColor(60),l+=18,["Phase 1: Pilot (3-6 months)","Phase 2: Evaluation (1-2 months)","Phase 3: Scaled Rollout (6-12 months)"].forEach(y=>{e.text(y,25,l),l+=7}),e.setFontSize(14),e.setTextColor(30),e.text("Governance & Compliance",20,l+10),e.setFontSize(10),e.setTextColor(60),l+=18,["\u2022 Policy Alignment with Emirate transport policies","\u2022 Equity Assessment with built-in fairness indicators","\u2022 Data Governance with anonymized movement data","\u2022 Auditability with stored simulation results"].forEach(y=>{e.text(y,25,l),l+=7}),e.setFontSize(8),e.setTextColor(150),e.text("Generated by Smart Mobility Simulator - UAE Transport Innovation",20,280),e.save("Smart-Zone-Business-Admin-Guide.pdf")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=rr({type:t,selectors:[["app-business-admin-guide"]],decls:303,vars:0,consts:[[1,"doc-container"],[1,"doc-header"],[1,"header-content"],[1,"back-btn",3,"click"],[1,"subtitle"],[1,"header-actions"],[1,"download-btn",3,"click"],[1,"doc-content"],[1,"doc-section"],[1,"stakeholder-grid"],[1,"stakeholder-card"],[1,"stakeholder-icon"],[1,"outputs-list"],[1,"output-item"],[1,"output-number"],[1,"workflow-steps"],[1,"workflow-step"],[1,"step-number"],[1,"step-content"],[1,"kpi-grid"],[1,"kpi-item"],[1,"phases-list"],[1,"phase-item"],[1,"phase-badge"],[1,"roles-grid"],[1,"role-card"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),it("click",function(){return r.goBack()}),f(4," \u2190 Back to Dashboard "),A(),h(5,"h1"),f(6,"\u{1f4cb} Business & Administrative Guide"),A(),h(7,"p",4),f(8," Comprehensive guide for UAE transport agencies and stakeholders "),A()(),h(9,"div",5)(10,"button",6),it("click",function(){return r.downloadPdf()}),f(11," \u{1f4e5} Download PDF "),A()()(),h(12,"div",7)(13,"section",8)(14,"h2"),f(15,"\u{1f3af} Purpose"),A(),h(16,"p"),f(17," This guide explains the business value, governance, and administrative operations of Smart Mobility Simulator so non\u2011technical stakeholders can understand how the system supports decision\u2011making, budgeting, and policy rollout. "),A()(),h(18,"section",8)(19,"h2"),f(20,"\u{1f4ca} Executive Summary"),A(),h(21,"p"),f(22," Smart Mobility Simulator helps UAE transport agencies model congestion pricing, compare policy options, and prepare stakeholder-ready outputs (pilot proposal, business case, pitch deck, demo scripts). It reduces decision risk by quantifying outcomes before rollout. "),A()(),h(23,"section",8)(24,"h2"),f(25,"\u{1f3af} Key Business Objectives"),A(),h(26,"ul")(27,"li"),f(28,"Reduce congestion in high\u2011impact zones"),A(),h(29,"li"),f(30,"Improve equity (fairness across income brackets)"),A(),h(31,"li"),f(32,"Generate sustainable revenue for mobility upgrades"),A(),h(33,"li"),f(34,"Provide transparent, data\u2011driven policy justifications"),A(),h(35,"li"),f(36,"Support phased rollout with measurable KPIs"),A()()(),h(37,"section",8)(38,"h2"),f(39,"\u{1f465} Who Uses It"),A(),h(40,"div",9)(41,"div",10)(42,"span",11),f(43,"\u{1f454}"),A(),h(44,"h4"),f(45,"Executive Sponsors"),A(),h(46,"p"),f(47,"Approve policy and budgets"),A()(),h(48,"div",10)(49,"span",11),f(50,"\u2699\ufe0f"),A(),h(51,"h4"),f(52,"Operations & Planning"),A(),h(53,"p"),f(54,"Design zone rules, exemptions"),A()(),h(55,"div",10)(56,"span",11),f(57,"\u{1f4b0}"),A(),h(58,"h4"),f(59,"Finance"),A(),h(60,"p"),f(61,"Review ROI/NPV and revenue projections"),A()(),h(62,"div",10)(63,"span",11),f(64,"\u{1f4e2}"),A(),h(65,"h4"),f(66,"Public Affairs"),A(),h(67,"p"),f(68,"Shape messaging and fairness narrative"),A()(),h(69,"div",10)(70,"span",11),f(71,"\u{1f4bb}"),A(),h(72,"h4"),f(73,"Technology Teams"),A(),h(74,"p"),f(75,"Oversee data integrations and rollout"),A()()()(),h(76,"section",8)(77,"h2"),f(78,"\u{1f4e6} Core Business Outputs"),A(),h(79,"div",12)(80,"div",13)(81,"span",14),f(82,"1"),A(),h(83,"div")(84,"h4"),f(85,"Simulation Results"),A(),h(86,"p"),f(87,"Congestion reduction, revenue, CO\u2082 impact"),A()()(),h(88,"div",13)(89,"span",14),f(90,"2"),A(),h(91,"div")(92,"h4"),f(93,"Economic Impact"),A(),h(94,"p"),f(95," Equity impact, 5\u2011year revenue projection, productivity gains "),A()()(),h(96,"div",13)(97,"span",14),f(98,"3"),A(),h(99,"div")(100,"h4"),f(101,"Pilot Proposal"),A(),h(102,"p"),f(103,"Cost breakdown, timeline, risks, next steps"),A()()(),h(104,"div",13)(105,"span",14),f(106,"4"),A(),h(107,"div")(108,"h4"),f(109,"Business Case"),A(),h(110,"p"),f(111,"ROI, NPV, payback period, sensitivity analysis"),A()()(),h(112,"div",13)(113,"span",14),f(114,"5"),A(),h(115,"div")(116,"h4"),f(117,"Pitch Deck"),A(),h(118,"p"),f(119,"Executive\u2011ready slides for leadership and partners"),A()()(),h(120,"div",13)(121,"span",14),f(122,"6"),A(),h(123,"div")(124,"h4"),f(125,"Demo Mode"),A(),h(126,"p"),f(127,"One\u2011click scenarios with scripted narratives"),A()()()()(),h(128,"section",8)(129,"h2"),f(130,"\u{1f4cb} Administrative Workflow"),A(),h(131,"div",15)(132,"div",16)(133,"div",17),f(134,"1"),A(),h(135,"div",18)(136,"h4"),f(137,"Define the Zone"),A(),h(138,"ul")(139,"li"),f(140," Select a high\u2011impact zone (e.g., Marina, Mussafah, Academic City) "),A(),h(141,"li"),f(142," Confirm boundary and zone type (residential/commercial/industrial) "),A()()()(),h(143,"div",16)(144,"div",17),f(145,"2"),A(),h(146,"div",18)(147,"h4"),f(148,"Configure Rules & Exemptions"),A(),h(149,"ul")(150,"li"),f(151,"Free hours and charge per hour"),A(),h(152,"li"),f(153," Exemptions (Public Transport, Commercial, Emergency, Diplomatic, etc.) "),A(),h(154,"li"),f(155,"Diversion thresholds"),A()()()(),h(156,"div",16)(157,"div",17),f(158,"3"),A(),h(159,"div",18)(160,"h4"),f(161,"Run Simulation"),A(),h(162,"ul")(163,"li"),f(164,"Choose date"),A(),h(165,"li"),f(166," Generate results for congestion, revenue, equity, and environmental impact "),A()()()(),h(167,"div",16)(168,"div",17),f(169,"4"),A(),h(170,"div",18)(171,"h4"),f(172,"Review & Approve"),A(),h(173,"ul")(174,"li"),f(175,"Compare policy options"),A(),h(176,"li"),f(177,"Validate fairness and operational feasibility"),A(),h(178,"li"),f(179,"Approve pilot parameters"),A()()()(),h(180,"div",16)(181,"div",17),f(182,"5"),A(),h(183,"div",18)(184,"h4"),f(185,"Produce Stakeholder Pack"),A(),h(186,"ul")(187,"li"),f(188,"Pilot proposal (PDF)"),A(),h(189,"li"),f(190,"Business case summary"),A(),h(191,"li"),f(192,"Pitch deck (PPTX/PDF)"),A(),h(193,"li"),f(194,"Demo script for live presentation"),A()()()()()(),h(195,"section",8)(196,"h2"),f(197,"\u{1f6e1}\ufe0f Governance & Compliance"),A(),h(198,"ul")(199,"li")(200,"strong"),f(201,"Policy Alignment"),A(),f(202,": rules align to Emirate transport policies "),A(),h(203,"li")(204,"strong"),f(205,"Equity Assessment"),A(),f(206,": built\u2011in fairness indicators "),A(),h(207,"li")(208,"strong"),f(209,"Data Governance"),A(),f(210,": anonymized movement data and privacy controls "),A(),h(211,"li")(212,"strong"),f(213,"Auditability"),A(),f(214,": stored simulation results and generated outputs "),A()()(),h(215,"section",8)(216,"h2"),f(217,"\u{1f4b5} Budgeting & Financial Planning"),A(),h(218,"ul")(219,"li"),f(220,"Pilot cost model (baseline + integrations)"),A(),h(221,"li"),f(222,"Revenue projections with sensitivity analysis"),A(),h(223,"li"),f(224,"Payback and ROI computed from simulation metrics"),A()()(),h(225,"section",8)(226,"h2"),f(227,"\u{1f4e2} Stakeholder Messaging"),A(),h(228,"ul")(229,"li"),f(230,"Use Pitch Deck Generator for leadership briefings"),A(),h(231,"li"),f(232,"Use Demo Mode for public consultations"),A(),h(233,"li"),f(234,"Emphasize equity exemptions and reinvestment in mobility"),A()()(),h(235,"section",8)(236,"h2"),f(237,"\u{1f4c8} Recommended KPIs"),A(),h(238,"div",19)(239,"div",20),f(240,"\u{1f697} Congestion reduction %"),A(),h(241,"div",20),f(242,"\u{1f4b0} Revenue (daily/monthly/annual)"),A(),h(243,"div",20),f(244,"\u2696\ufe0f Equity burden ratio"),A(),h(245,"div",20),f(246,"\u{1f33f} CO\u2082 reduction"),A(),h(247,"div",20),f(248,"\u{1f60a} Public sentiment improvement"),A()()(),h(249,"section",8)(250,"h2"),f(251,"\u{1f680} Deployment Phases"),A(),h(252,"div",21)(253,"div",22)(254,"span",23),f(255,"Phase 1"),A(),h(256,"h4"),f(257,"Pilot"),A(),h(258,"p"),f(259,"3\u20136 months"),A()(),h(260,"div",22)(261,"span",23),f(262,"Phase 2"),A(),h(263,"h4"),f(264,"Evaluation"),A(),h(265,"p"),f(266,"1\u20132 months"),A()(),h(267,"div",22)(268,"span",23),f(269,"Phase 3"),A(),h(270,"h4"),f(271,"Scaled Rollout"),A(),h(272,"p"),f(273,"6\u201312 months"),A()()()(),h(274,"section",8)(275,"h2"),f(276,"\u{1f465} Operational Roles & Responsibilities"),A(),h(277,"div",24)(278,"div",25)(279,"h4"),f(280,"Program Owner"),A(),h(281,"p"),f(282,"Overall governance"),A()(),h(283,"div",25)(284,"h4"),f(285,"Policy Lead"),A(),h(286,"p"),f(287,"Exemptions and pricing policy"),A()(),h(288,"div",25)(289,"h4"),f(290,"Finance Lead"),A(),h(291,"p"),f(292,"ROI and budget approvals"),A()(),h(293,"div",25)(294,"h4"),f(295,"Data Lead"),A(),h(296,"p"),f(297,"Movement data validation"),A()(),h(298,"div",25)(299,"h4"),f(300,"Communications Lead"),A(),h(301,"p"),f(302,"Public messaging"),A()()()()()())},styles:[".doc-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.doc-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e3a5f,#0ea5e9);border-radius:16px;padding:32px;margin-bottom:24px;display:flex;justify-content:space-between;align-items:flex-start}.back-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;padding:8px 16px;border-radius:8px;cursor:pointer;margin-bottom:16px}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.doc-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.8rem}.subtitle[_ngcontent-%COMP%]{margin:8px 0 0;color:#ffffffe6}.download-btn[_ngcontent-%COMP%]{background:#fff;color:#1e3a5f;border:none;padding:12px 24px;border-radius:10px;font-weight:600;cursor:pointer}.download-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0003}.doc-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;box-shadow:0 4px 16px #00000014}.doc-section[_ngcontent-%COMP%]{margin-bottom:32px;padding-bottom:24px;border-bottom:1px solid #e2e8f0}.doc-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.doc-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1e3a5f;font-size:1.3rem;margin:0 0 16px}.doc-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#475569;line-height:1.7}.doc-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#475569;line-height:1.8;padding-left:20px}.doc-section[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.stakeholder-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px}.stakeholder-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;text-align:center}.stakeholder-icon[_ngcontent-%COMP%]{font-size:2rem;display:block;margin-bottom:8px}.stakeholder-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#1e3a5f;font-size:.95rem}.stakeholder-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8rem;color:#64748b}.outputs-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.output-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;padding:16px;background:#f8fafc;border-radius:10px}.output-number[_ngcontent-%COMP%]{width:32px;height:32px;background:#1e3a5f;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;flex-shrink:0}.output-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#1e3a5f}.output-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.workflow-steps[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.workflow-step[_ngcontent-%COMP%]{display:flex;gap:16px}.step-number[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#1e3a5f,#0ea5e9);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;flex-shrink:0}.step-content[_ngcontent-%COMP%]{flex:1;background:#f8fafc;border-radius:12px;padding:20px}.step-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#1e3a5f}.step-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.kpi-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px}.kpi-item[_ngcontent-%COMP%]{background:#eff6ff;color:#1e40af;padding:12px 16px;border-radius:8px;font-weight:500;text-align:center}.phases-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.phase-item[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;text-align:center}.phase-badge[_ngcontent-%COMP%]{display:inline-block;background:#1e3a5f;color:#fff;padding:4px 12px;border-radius:20px;font-size:.75rem;font-weight:600;margin-bottom:8px}.phase-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#1e3a5f}.phase-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b}.roles-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px}.role-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;border-left:3px solid #1e3a5f}.role-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#1e3a5f;font-size:.95rem}.role-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem;color:#64748b}"]})}}return t})(),_fe=(()=>{class t{goBack(){window.history.back()}downloadPdf(){const e=new kn;e.setFontSize(20),e.setTextColor(30,58,95),e.text("Smart Mobility Simulator - Technical Architecture Guide",20,20),e.setFontSize(12),e.setTextColor(100),e.text("System Design & Integration Documentation",20,30),e.text("Generated: "+(new Date).toLocaleDateString(),20,38),e.setFontSize(14),e.setTextColor(30),e.text("Overview",20,52),e.setFontSize(10),e.setTextColor(60);const r=e.splitTextToSize("Smart Mobility Simulator is a two-tier system with Angular SPA frontend and ASP.NET Core API backend, using SQL Server for data storage. It runs congestion simulations, stores results, and produces executive outputs.",170);e.text(r,20,60),e.setFontSize(14),e.setTextColor(30),e.text("System Components",20,85),e.setFontSize(10),e.setTextColor(60);let s=93;["Backend: SmartMobilitySimulator.API","  - Controllers: Zones, Simulations, RTA, Pitch Deck, Pilot Proposal","  - Services: SimulationEngine, EconomicImpactService, PdfReportService","  - Data: AppDbContext, EF Core migrations","","Frontend: Angular SPA","  - Components: zone-map, simulation-controls, results-dashboard","  - Services: zone, simulation, rta, pilot-proposal"].forEach(d=>{e.text(d,20,s),s+=6}),e.setFontSize(14),e.setTextColor(30),e.text("Simulation Flow",20,s+10),e.setFontSize(10),e.setTextColor(60),s+=18,["1. UI Request - Post simulation request (zoneId, date, rules)","2. Data Retrieval - Backend retrieves movement data","3. Simulation Engine - Apply exemptions, diversion thresholds","4. Metrics Computation - Congestion, revenue, CO2 calculated","5. Results - Save and return to UI"].forEach(d=>{e.text(d,25,s),s+=6}),e.setFontSize(14),e.setTextColor(30),e.text("Core APIs",20,s+10),e.setFontSize(10),e.setTextColor(60),s+=18,["GET /api/zones - List all zones","POST /api/simulations - Run new simulation","GET /api/simulations/{id}/economic-impact - Economic data","GET /api/simulations/{id}/investor-report - PDF report","GET /api/pitch-deck/{simulationId} - Pitch deck data","POST /api/pilot/generate-proposal/{simulationId} - Pilot proposal"].forEach(d=>{e.text(d,25,s),s+=6}),e.setFontSize(14),e.setTextColor(30),e.text("Key Dependencies",20,s+10),e.setFontSize(10),e.setTextColor(60),s+=18,["Backend: QuestPDF (PDF), OpenXML SDK (PPTX), EF Core","Frontend: Leaflet (Maps), jsPDF (PDF exports), html2canvas"].forEach(d=>{e.text(d,25,s),s+=6}),e.setFontSize(14),e.setTextColor(30),e.text("Local Run",20,s+10),e.setFontSize(10),e.setTextColor(60),e.text("Backend: dotnet run (localhost:5000)",25,s+18),e.text("Frontend: npm start (localhost:4200)",25,s+24),e.setFontSize(8),e.setTextColor(150),e.text("Generated by Smart Mobility Simulator - UAE Transport Innovation",20,280),e.save("Smart-Zone-Technical-Architecture-Guide.pdf")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=rr({type:t,selectors:[["app-technical-architecture-guide"]],decls:332,vars:10,consts:[[1,"doc-container"],[1,"doc-header"],[1,"header-content"],[1,"back-btn",3,"click"],[1,"subtitle"],[1,"header-actions"],[1,"download-btn",3,"click"],[1,"doc-content"],[1,"doc-section"],[1,"architecture-diagram"],[1,"arch-box","frontend"],[1,"arch-icon"],[1,"arch-arrow"],[1,"arch-box","backend"],[1,"arch-box","database"],[1,"component-list"],[1,"component-card"],[1,"entities-grid"],[1,"entity-card"],[1,"flow-diagram"],[1,"flow-step"],[1,"flow-number"],[1,"flow-content"],[1,"flow-arrow"],[1,"exports-grid"],[1,"export-card"],[1,"api-list"],[1,"api-item"],[1,"dependencies-grid"],[1,"dep-card"],[1,"dep-icon"],[1,"run-commands"],[1,"command-card"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),it("click",function(){return r.goBack()}),f(4," \u2190 Back to Dashboard "),A(),h(5,"h1"),f(6,"\u{1f527} Technical Architecture Guide"),A(),h(7,"p",4),f(8," System design, components, and integration details for technical teams "),A()(),h(9,"div",5)(10,"button",6),it("click",function(){return r.downloadPdf()}),f(11," \u{1f4e5} Download PDF "),A()()(),h(12,"div",7)(13,"section",8)(14,"h2"),f(15,"\u{1f4d0} Overview"),A(),h(16,"p"),f(17,"Smart Mobility Simulator is a two\u2011tier system:"),A(),h(18,"div",9)(19,"div",10)(20,"span",11),f(21,"\u{1f5a5}\ufe0f"),A(),h(22,"strong"),f(23,"Frontend"),A(),h(24,"span"),f(25,"Angular SPA"),A()(),h(26,"div",12),f(27,"\u2192"),A(),h(28,"div",13)(29,"span",11),f(30,"\u2699\ufe0f"),A(),h(31,"strong"),f(32,"Backend"),A(),h(33,"span"),f(34,"ASP.NET Core API"),A()(),h(35,"div",12),f(36,"\u2192"),A(),h(37,"div",14)(38,"span",11),f(39,"\u{1f5c4}\ufe0f"),A(),h(40,"strong"),f(41,"Database"),A(),h(42,"span"),f(43,"SQL Server"),A()()(),h(44,"p"),f(45," It runs congestion simulations, stores results, and produces executive outputs (PDF/PPTX/JSON). "),A()(),h(46,"section",8)(47,"h2"),f(48,"\u{1f9e9} System Components"),A(),h(49,"h3"),f(50,"Backend (SmartMobilitySimulator.Backend)"),A(),h(51,"div",15)(52,"div",16)(53,"h4"),f(54,"SmartMobilitySimulator.API"),A(),h(55,"ul")(56,"li")(57,"strong"),f(58,"Controllers"),A(),f(59,": Zones, Simulations, RTA, Pitch Deck, Pilot Proposal, Business Case, Demo "),A(),h(60,"li")(61,"strong"),f(62,"Services"),A(),f(63,": SimulationEngine, EconomicImpactService, PdfReportService, PitchDeckService, DemoModeService "),A(),h(64,"li")(65,"strong"),f(66,"Data"),A(),f(67,": AppDbContext, EF Core migrations"),A()()()(),h(68,"h3"),f(69,"Frontend (SmartMobilitySimulator.UI)"),A(),h(70,"div",15)(71,"div",16)(72,"ul")(73,"li")(74,"strong"),f(75,"Components"),A(),f(76,": zone\u2011map, simulation\u2011controls, results\u2011dashboard, pilot\u2011proposal, business\u2011case, pitch\u2011deck, demo\u2011mode "),A(),h(77,"li")(78,"strong"),f(79,"Services"),A(),f(80,": zone, simulation, rta, pilot\u2011proposal, business\u2011case, demo\u2011mode "),A()()()()(),h(81,"section",8)(82,"h2"),f(83,"\u{1f5c3}\ufe0f Data Model (Key Entities)"),A(),h(84,"div",17)(85,"div",18)(86,"h4"),f(87,"Zone"),A(),h(88,"p"),f(89,"name, emirate, type, pricing rules, peak hours"),A()(),h(90,"div",18)(91,"h4"),f(92,"VehicleMovement"),A(),h(93,"p"),f(94,"entry/exit, duration, exemptions"),A()(),h(95,"div",18)(96,"h4"),f(97,"UserProfile"),A(),h(98,"p"),f(99,"vehicle type, income bracket"),A()(),h(100,"div",18)(101,"h4"),f(102,"SimulationResult"),A(),h(103,"p"),f(104,"metrics, serialized rules, investor summary/PDF"),A()()()(),h(105,"section",8)(106,"h2"),f(107,"\u{1f504} Simulation Flow"),A(),h(108,"div",19)(109,"div",20)(110,"span",21),f(111,"1"),A(),h(112,"div",22)(113,"h4"),f(114,"UI Request"),A(),h(115,"p"),f(116,"UI posts simulation request (zoneId, date, rules)"),A()()(),h(117,"div",23),f(118,"\u2193"),A(),h(119,"div",20)(120,"span",21),f(121,"2"),A(),h(122,"div",22)(123,"h4"),f(124,"Data Retrieval"),A(),h(125,"p"),f(126,"Backend retrieves movement data"),A()()(),h(127,"div",23),f(128,"\u2193"),A(),h(129,"div",20)(130,"span",21),f(131,"3"),A(),h(132,"div",22)(133,"h4"),f(134,"Simulation Engine"),A(),h(135,"p"),f(136," Applies exemptions, diversion thresholds, UAE context (prayer/holiday/salik factors) "),A()()(),h(137,"div",23),f(138,"\u2193"),A(),h(139,"div",20)(140,"span",21),f(141,"4"),A(),h(142,"div",22)(143,"h4"),f(144,"Metrics Computation"),A(),h(145,"p"),f(146,"Congestion, revenue, CO\u2082 calculated"),A()()(),h(147,"div",23),f(148,"\u2193"),A(),h(149,"div",20)(150,"span",21),f(151,"5"),A(),h(152,"div",22)(153,"h4"),f(154,"Results"),A(),h(155,"p"),f(156,"Results saved and returned to UI"),A()()()()(),h(157,"section",8)(158,"h2"),f(159,"\u{1f4b0} Economic Impact"),A(),h(160,"ul")(161,"li"),f(162,"Equity impact by income bracket"),A(),h(163,"li"),f(164,"5\u2011year revenue projection and NPV"),A(),h(165,"li"),f(166,"Productivity gains from congestion reduction"),A()()(),h(167,"section",8)(168,"h2"),f(169,"\u{1f4e4} Export Outputs"),A(),h(170,"div",24)(171,"div",25)(172,"h4"),f(173,"\u{1f4c4} Simulation Report"),A(),h(174,"p"),f(175,"PDF / CSV / JSON"),A()(),h(176,"div",25)(177,"h4"),f(178,"\u{1f4ca} Investor Report"),A(),h(179,"p"),f(180,"QuestPDF (PDF)"),A()(),h(181,"div",25)(182,"h4"),f(183,"\u{1f4fd}\ufe0f Pitch Deck"),A(),h(184,"p"),f(185,"JSON / PDF / PPTX"),A()(),h(186,"div",25)(187,"h4"),f(188,"\u{1f4e6} Demo ZIP"),A(),h(189,"p"),f(190,"PDF + PPTX + Business Case JSON"),A()()()(),h(191,"section",8)(192,"h2"),f(193,"\u{1f50c} APIs (Core)"),A(),h(194,"div",26)(195,"div",27)(196,"code"),f(197,"GET /api/zones"),A(),h(198,"span"),f(199,"List all zones"),A()(),h(200,"div",27)(201,"code"),f(202,"POST /api/simulations"),A(),h(203,"span"),f(204,"Run new simulation"),A()(),h(205,"div",27)(206,"code"),f(207),A(),h(208,"span"),f(209,"Economic impact data"),A()(),h(210,"div",27)(211,"code"),f(212),A(),h(213,"span"),f(214,"Investor report PDF"),A()(),h(215,"div",27)(216,"code"),f(217),A(),h(218,"span"),f(219,"Pitch deck data"),A()(),h(220,"div",27)(221,"code"),f(222),A(),h(223,"span"),f(224,"Generate pilot proposal"),A()(),h(225,"div",27)(226,"code"),f(227),A(),h(228,"span"),f(229,"Business case analysis"),A()(),h(230,"div",27)(231,"code"),f(232,"GET /api/demo/scenarios"),A(),h(233,"span"),f(234,"List demo scenarios"),A()()()(),h(235,"section",8)(236,"h2"),f(237,"\u{1f517} Integration & Dependencies"),A(),h(238,"div",28)(239,"div",29)(240,"span",30),f(241,"\u{1f4c4}"),A(),h(242,"h4"),f(243,"QuestPDF"),A(),h(244,"p"),f(245,"PDF generation"),A()(),h(246,"div",29)(247,"span",30),f(248,"\u{1f4ca}"),A(),h(249,"h4"),f(250,"OpenXML SDK"),A(),h(251,"p"),f(252,"PPTX creation"),A()(),h(253,"div",29)(254,"span",30),f(255,"\u{1f5fa}\ufe0f"),A(),h(256,"h4"),f(257,"Leaflet"),A(),h(258,"p"),f(259,"Maps and polygons"),A()(),h(260,"div",29)(261,"span",30),f(262,"\u{1f5bc}\ufe0f"),A(),h(263,"h4"),f(264,"html2canvas / jsPDF"),A(),h(265,"p"),f(266,"UI exports"),A()(),h(267,"div",29)(268,"span",30),f(269,"\u{1f4fd}\ufe0f"),A(),h(270,"h4"),f(271,"html-to-pptx"),A(),h(272,"p"),f(273,"Browser PPTX export"),A()()()(),h(274,"section",8)(275,"h2"),f(276,"\u2699\ufe0f Configuration"),A(),h(277,"ul")(278,"li")(279,"strong"),f(280,"Backend"),A(),f(281,": SmartMobilitySimulator.API/appsettings.json "),A(),h(282,"li")(283,"strong"),f(284,"Frontend"),A(),f(285,": API base URL in src/app/services"),A(),h(286,"li")(287,"strong"),f(288,"CORS"),A(),f(289,": enabled for local Angular dev"),A()()(),h(290,"section",8)(291,"h2"),f(292,"\u{1f512} Security & Governance"),A(),h(293,"ul")(294,"li"),f(295,"Data anonymization in movement records"),A(),h(296,"li"),f(297,"Policy\u2011driven exemptions"),A(),h(298,"li"),f(299,"Auditability via stored simulation results"),A()()(),h(300,"section",8)(301,"h2"),f(302,"\u{1f4bb} Local Run"),A(),h(303,"div",31)(304,"div",32)(305,"h4"),f(306,"Backend"),A(),h(307,"code"),f(308,"dotnet run"),A(),h(309,"p"),f(310,"Run SmartMobilitySimulator.API"),A()(),h(311,"div",32)(312,"h4"),f(313,"Frontend"),A(),h(314,"code"),f(315,"npm start"),A(),h(316,"p"),f(317,"Run SmartMobilitySimulator.UI"),A()()()(),h(318,"section",8)(319,"h2"),f(320,"\u{1f527} Troubleshooting"),A(),h(321,"ul")(322,"li"),f(323,"Ensure backend runs at "),h(324,"code"),f(325,"http://localhost:5000"),A()(),h(326,"li"),f(327,"Ensure frontend runs at "),h(328,"code"),f(329,"http://localhost:4200"),A()(),h(330,"li"),f(331," If PPTX export fails in UI, confirm CDN script is loaded in index.html "),A()()()()()),2&i&&(S(207),Wo("GET /api/simulations/","{","id","}","/economic-impact"),S(5),Wo("GET /api/simulations/","{","id","}","/investor-report"),S(5),Wo("GET /api/pitch-deck/","{","simulationId","}",""),S(5),Wo("POST /api/pilot/generate-proposal/","{","simulationId","}",""),S(5),Wo("GET /api/business-case/","{","simulationId","}",""))},styles:[".doc-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.doc-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e3a5f,#0ea5e9);border-radius:16px;padding:32px;margin-bottom:24px;display:flex;justify-content:space-between;align-items:flex-start}.back-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;padding:8px 16px;border-radius:8px;cursor:pointer;margin-bottom:16px}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.doc-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.8rem}.subtitle[_ngcontent-%COMP%]{margin:8px 0 0;color:#ffffffe6}.download-btn[_ngcontent-%COMP%]{background:#fff;color:#1e3a5f;border:none;padding:12px 24px;border-radius:10px;font-weight:600;cursor:pointer}.download-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0003}.doc-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;box-shadow:0 4px 16px #00000014}.doc-section[_ngcontent-%COMP%]{margin-bottom:32px;padding-bottom:24px;border-bottom:1px solid #e2e8f0}.doc-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.doc-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1e3a5f;font-size:1.3rem;margin:0 0 16px}.doc-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#334155;font-size:1.1rem;margin:20px 0 12px}.doc-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#475569;line-height:1.7}.doc-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#475569;line-height:1.8;padding-left:20px}.doc-section[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.doc-section[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f1f5f9;padding:2px 8px;border-radius:4px;font-family:monospace;color:#1e3a5f}.architecture-diagram[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px;margin:24px 0;flex-wrap:wrap}.arch-box[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;text-align:center;min-width:120px;border:2px solid #e2e8f0}.arch-box.frontend[_ngcontent-%COMP%]{border-color:#3b82f6}.arch-box.backend[_ngcontent-%COMP%]{border-color:#8b5cf6}.arch-box.database[_ngcontent-%COMP%]{border-color:#10b981}.arch-icon[_ngcontent-%COMP%]{font-size:2rem;display:block;margin-bottom:8px}.arch-box[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#1e3a5f}.arch-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.arch-arrow[_ngcontent-%COMP%]{font-size:1.5rem;color:#94a3b8}.component-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.component-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px}.component-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#1e3a5f}.component-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.entities-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.entity-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;border-left:3px solid #1e3a5f}.entity-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e3a5f}.entity-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#64748b}.flow-diagram[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;margin:20px 0}.flow-step[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;width:100%;max-width:500px}.flow-number[_ngcontent-%COMP%]{width:36px;height:36px;background:#1e3a5f;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;flex-shrink:0}.flow-content[_ngcontent-%COMP%]{flex:1;background:#f8fafc;border-radius:10px;padding:16px}.flow-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#1e3a5f;font-size:.95rem}.flow-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem}.flow-arrow[_ngcontent-%COMP%]{color:#94a3b8;font-size:1.5rem}.exports-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px}.export-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;text-align:center}.export-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e3a5f}.export-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem;color:#64748b}.api-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.api-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:12px;background:#f8fafc;border-radius:8px}.api-item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#1e3a5f;color:#fff;padding:6px 12px;border-radius:6px;font-size:.85rem;min-width:280px}.api-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem}.dependencies-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:16px}.dep-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;text-align:center}.dep-icon[_ngcontent-%COMP%]{font-size:1.5rem;display:block;margin-bottom:8px}.dep-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#1e3a5f;font-size:.95rem}.dep-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8rem;color:#64748b}.run-commands[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.command-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px}.command-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#1e3a5f}.command-card[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{display:block;background:#1e3a5f;color:#fff;padding:12px;border-radius:8px;font-size:1rem;margin-bottom:8px}.command-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem}"]})}}return t})();function E1(t){return t+.5|0}const Wd=(t,n,e)=>Math.max(Math.min(t,e),n);function Yy(t){return Wd(E1(2.55*t),0,255)}function Rf(t){return Wd(E1(255*t),0,255)}function $d(t){return Wd(E1(t/2.55)/100,0,1)}function tH(t){return Wd(E1(100*t),0,100)}const Xc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},AP=[..."0123456789ABCDEF"],yfe=t=>AP[15&t],bfe=t=>AP[(240&t)>>4]+AP[15&t],Hx=t=>(240&t)>>4==(15&t);const Bfe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nH(t,n,e){const i=n*Math.min(e,1-e),r=(o,s=(o+t/30)%12)=>e-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function Dfe(t,n,e){const i=(r,o=(r+t/60)%6)=>e-e*n*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Sfe(t,n,e){const i=nH(t,1,.5);let r;for(n+e>1&&(r=1/(n+e),n*=r,e*=r),r=0;r<3;r++)i[r]*=1-n-e,i[r]+=n;return i}function dP(t){const e=t.r/255,i=t.g/255,r=t.b/255,o=Math.max(e,i,r),s=Math.min(e,i,r),a=(o+s)/2;let l,u,d;return o!==s&&(d=o-s,u=a>.5?d/(2-o-s):d/(o+s),l=function Efe(t,n,e,i,r){return t===r?(n-e)/i+(n<e?6:0):n===r?(e-t)/i+2:(t-n)/i+4}(e,i,r,d,o),l=60*l+.5),[0|l,u||0,a]}function hP(t,n,e,i){return(Array.isArray(n)?t(n[0],n[1],n[2]):t(n,e,i)).map(Rf)}function fP(t,n,e){return hP(nH,t,n,e)}function iH(t){return(t%360+360)%360}const rH={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oH={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let zx;const Nfe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,pP=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,P1=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Vx(t,n,e){if(t){let i=dP(t);i[n]=Math.max(0,Math.min(i[n]+i[n]*e,0===n?360:1)),i=fP(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function sH(t,n){return t&&Object.assign(n||{},t)}function aH(t){var n={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(n={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(n.a=Rf(t[3]))):(n=sH(t,{r:0,g:0,b:0,a:1})).a=Rf(n.a),n}function Hfe(t){return"r"===t.charAt(0)?function Rfe(t){const n=Nfe.exec(t);let i,r,o,e=255;if(n){if(n[7]!==i){const s=+n[7];e=n[8]?Yy(s):Wd(255*s,0,255)}return i=+n[1],r=+n[3],o=+n[5],i=255&(n[2]?Yy(i):Wd(i,0,255)),r=255&(n[4]?Yy(r):Wd(r,0,255)),o=255&(n[6]?Yy(o):Wd(o,0,255)),{r:i,g:r,b:o,a:e}}}(t):function Ofe(t){const n=Bfe.exec(t);let i,e=255;if(!n)return;n[5]!==i&&(e=n[6]?Yy(+n[5]):Rf(+n[5]));const r=iH(+n[2]),o=+n[3]/100,s=+n[4]/100;return i="hwb"===n[1]?function Pfe(t,n,e){return hP(Sfe,t,n,e)}(r,o,s):"hsv"===n[1]?function Ife(t,n,e){return hP(Dfe,t,n,e)}(r,o,s):fP(r,o,s),{r:i[0],g:i[1],b:i[2],a:e}}(t)}class I1{constructor(n){if(n instanceof I1)return n;const e=typeof n;let i;"object"===e?i=aH(n):"string"===e&&(i=function Cfe(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*Xc[t[1]],g:255&17*Xc[t[2]],b:255&17*Xc[t[3]],a:5===n?17*Xc[t[4]]:255}:(7===n||9===n)&&(e={r:Xc[t[1]]<<4|Xc[t[2]],g:Xc[t[3]]<<4|Xc[t[4]],b:Xc[t[5]]<<4|Xc[t[6]],a:9===n?Xc[t[7]]<<4|Xc[t[8]]:255})),e}(n)||function Lfe(t){zx||(zx=function Tfe(){const t={},n=Object.keys(oH),e=Object.keys(rH);let i,r,o,s,a;for(i=0;i<n.length;i++){for(s=a=n[i],r=0;r<e.length;r++)o=e[r],a=a.replace(o,rH[o]);o=parseInt(oH[s],16),t[a]=[o>>16&255,o>>8&255,255&o]}return t}(),zx.transparent=[0,0,0,0]);const n=zx[t.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:4===n.length?n[3]:255}}(n)||Hfe(n)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var n=sH(this._rgb);return n&&(n.a=$d(n.a)),n}set rgb(n){this._rgb=aH(n)}rgbString(){return this._valid?function Ufe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${$d(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Mfe(t){var n=(t=>Hx(t.r)&&Hx(t.g)&&Hx(t.b)&&Hx(t.a))(t)?yfe:bfe;return t?"#"+n(t.r)+n(t.g)+n(t.b)+((t,n)=>t<255?n(t):"")(t.a,n):void 0}(this._rgb):void 0}hslString(){return this._valid?function Ffe(t){if(!t)return;const n=dP(t),e=n[0],i=tH(n[1]),r=tH(n[2]);return t.a<255?`hsla(${e}, ${i}%, ${r}%, ${$d(t.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(n,e){if(n){const i=this.rgb,r=n.rgb;let o;const s=e===o?.5:e,a=2*s-1,l=i.a-r.a,u=((a*l==-1?a:(a+l)/(1+a*l))+1)/2;o=1-u,i.r=255&u*i.r+o*r.r+.5,i.g=255&u*i.g+o*r.g+.5,i.b=255&u*i.b+o*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(n,e){return n&&(this._rgb=function Qfe(t,n,e){const i=P1($d(t.r)),r=P1($d(t.g)),o=P1($d(t.b));return{r:Rf(pP(i+e*(P1($d(n.r))-i))),g:Rf(pP(r+e*(P1($d(n.g))-r))),b:Rf(pP(o+e*(P1($d(n.b))-o))),a:t.a+e*(n.a-t.a)}}(this._rgb,n._rgb,e)),this}clone(){return new I1(this.rgb)}alpha(n){return this._rgb.a=Rf(n),this}clearer(n){return this._rgb.a*=1-n,this}greyscale(){const n=this._rgb,e=E1(.3*n.r+.59*n.g+.11*n.b);return n.r=n.g=n.b=e,this}opaquer(n){return this._rgb.a*=1+n,this}negate(){const n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return Vx(this._rgb,2,n),this}darken(n){return Vx(this._rgb,2,-n),this}saturate(n){return Vx(this._rgb,1,n),this}desaturate(n){return Vx(this._rgb,1,-n),this}rotate(n){return function kfe(t,n){var e=dP(t);e[0]=iH(e[0]+n),e=fP(e),t.r=e[0],t.g=e[1],t.b=e[2]}(this._rgb,n),this}}function qd(){}const zfe=(()=>{let t=0;return()=>t++})();function lr(t){return null==t}function xo(t){if(Array.isArray&&Array.isArray(t))return!0;const n=Object.prototype.toString.call(t);return"[object"===n.slice(0,7)&&"Array]"===n.slice(-6)}function Ar(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function qo(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function yc(t,n){return qo(t)?t:n}function ki(t,n){return typeof t>"u"?n:t}const lH=(t,n)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*n:+t;function po(t,n,e){if(t&&"function"==typeof t.call)return t.apply(e,n)}function Xr(t,n,e,i){let r,o,s;if(xo(t))if(o=t.length,i)for(r=o-1;r>=0;r--)n.call(e,t[r],r);else for(r=0;r<o;r++)n.call(e,t[r],r);else if(Ar(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)n.call(e,t[s[r]],s[r])}function jx(t,n){let e,i,r,o;if(!t||!n||t.length!==n.length)return!1;for(e=0,i=t.length;e<i;++e)if(r=t[e],o=n[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Gx(t){if(xo(t))return t.map(Gx);if(Ar(t)){const n=Object.create(null),e=Object.keys(t),i=e.length;let r=0;for(;r<i;++r)n[e[r]]=Gx(t[e[r]]);return n}return t}function cH(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function jfe(t,n,e,i){if(!cH(t))return;const r=n[t],o=e[t];Ar(r)&&Ar(o)?Xy(r,o,i):n[t]=Gx(o)}function Xy(t,n,e){const i=xo(n)?n:[n],r=i.length;if(!Ar(t))return t;const o=(e=e||{}).merger||jfe;let s;for(let a=0;a<r;++a){if(s=i[a],!Ar(s))continue;const l=Object.keys(s);for(let u=0,d=l.length;u<d;++u)o(l[u],t,s,e)}return t}function Jy(t,n){return Xy(t,n,{merger:Gfe})}function Gfe(t,n,e){if(!cH(t))return;const i=n[t],r=e[t];Ar(i)&&Ar(r)?Jy(i,r):Object.prototype.hasOwnProperty.call(n,t)||(n[t]=Gx(r))}const uH={"":t=>t,x:t=>t.x,y:t=>t.y};function Uf(t,n){return(uH[n]||(uH[n]=function Wfe(t){const n=function Kfe(t){const n=t.split("."),e=[];let i="";for(const r of n)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(t);return e=>{for(const i of n){if(""===i)break;e=e&&e[i]}return e}}(n)))(t)}function gP(t){return t.charAt(0).toUpperCase()+t.slice(1)}const eb=t=>typeof t<"u",Qf=t=>"function"==typeof t,AH=(t,n)=>{if(t.size!==n.size)return!1;for(const e of t)if(!n.has(e))return!1;return!0},kr=Math.PI,Mo=2*kr,qfe=Mo+kr,Kx=Number.POSITIVE_INFINITY,Zfe=kr/180,hs=kr/2,Sg=kr/4,dH=2*kr/3,Hf=Math.log10,QA=Math.sign;function tb(t,n,e){return Math.abs(t-n)<e}function hH(t){const n=Math.round(t);t=tb(t,n,t/1e3)?n:t;const e=Math.pow(10,Math.floor(Hf(t))),i=t/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function O1(t){return!function Xfe(t){return"symbol"==typeof t||"object"==typeof t&&null!==t&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function fH(t,n,e){let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i][e],isNaN(o)||(n.min=Math.min(n.min,o),n.max=Math.max(n.max,o))}function ju(t){return t*(kr/180)}function mP(t){return t*(180/kr)}function pH(t){if(!qo(t))return;let n=1,e=0;for(;Math.round(t*n)/n!==t;)n*=10,e++;return e}function gH(t,n){const e=n.x-t.x,i=n.y-t.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*kr&&(o+=Mo),{angle:o,distance:r}}function vP(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function epe(t,n){return(t-n+qfe)%Mo-kr}function Ga(t){return(t%Mo+Mo)%Mo}function nb(t,n,e,i){const r=Ga(t),o=Ga(n),s=Ga(e),a=Ga(o-r),l=Ga(s-r),u=Ga(r-o),d=Ga(r-s);return r===o||r===s||i&&o===s||a>l&&u<d}function aa(t,n,e){return Math.max(n,Math.min(e,t))}function Zd(t,n,e,i=1e-6){return t>=Math.min(n,e)-i&&t<=Math.max(n,e)+i}function _P(t,n,e){e=e||(s=>t[s]<n);let o,i=t.length-1,r=0;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Yd=(t,n,e,i)=>_P(t,e,i?r=>{const o=t[r][n];return o<e||o===e&&t[r+1][n]===e}:r=>t[r][n]<e),npe=(t,n,e)=>_P(t,e,i=>t[i][n]>=e),mH=["push","pop","shift","splice","unshift"];function vH(t,n){const e=t._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(n);-1!==r&&i.splice(r,1),!(i.length>0)&&(mH.forEach(o=>{delete t[o]}),delete t._chartjs)}function _H(t){const n=new Set(t);return n.size===t.length?t:Array.from(n)}const yH=typeof window>"u"?function(t){return t()}:window.requestAnimationFrame;function bH(t,n){let e=[],i=!1;return function(...r){e=r,i||(i=!0,yH.call(window,()=>{i=!1,t.apply(n,e)}))}}const yP=t=>"start"===t?"left":"end"===t?"right":"center",Ka=(t,n,e)=>"start"===t?n:"end"===t?e:(n+e)/2;function wH(t,n,e){const i=n.length;let r=0,o=i;if(t._sorted){const{iScale:s,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=s.axis,{min:g,max:y,minDefined:m,maxDefined:B}=s.getUserBounds();if(m){if(r=Math.min(Yd(l,d,g).lo,e?i:Yd(n,d,s.getPixelForValue(g)).lo),u){const D=l.slice(0,r+1).reverse().findIndex(I=>!lr(I[a.axis]));r-=Math.max(0,D)}r=aa(r,0,i-1)}if(B){let D=Math.max(Yd(l,s.axis,y,!0).hi+1,e?0:Yd(n,d,s.getPixelForValue(y),!0).hi+1);if(u){const I=l.slice(D-1).findIndex(F=>!lr(F[a.axis]));D+=Math.max(0,I)}o=aa(D,r,i)-r}else o=i-r}return{start:r,count:o}}function CH(t){const{xScale:n,yScale:e,_scaleRanges:i}=t,r={xmin:n.min,xmax:n.max,ymin:e.min,ymax:e.max};if(!i)return t._scaleRanges=r,!0;const o=i.xmin!==n.min||i.xmax!==n.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Wx=t=>0===t||1===t,xH=(t,n,e)=>-Math.pow(2,10*(t-=1))*Math.sin((t-n)*Mo/e),MH=(t,n,e)=>Math.pow(2,-10*t)*Math.sin((t-n)*Mo/e)+1,ib={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*hs),easeOutSine:t=>Math.sin(t*hs),easeInOutSine:t=>-.5*(Math.cos(kr*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Wx(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Wx(t)?t:xH(t,.075,.3),easeOutElastic:t=>Wx(t)?t:MH(t,.075,.3),easeInOutElastic:t=>Wx(t)?t:t<.5?.5*xH(2*t,.1125,.45):.5+.5*MH(2*t-1,.1125,.45),easeInBack:t=>t*t*(2.70158*t-1.70158),easeOutBack:t=>(t-=1)*t*(2.70158*t+1.70158)+1,easeInOutBack(t){let n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},easeInBounce:t=>1-ib.easeOutBounce(1-t),easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInOutBounce:t=>t<.5?.5*ib.easeInBounce(2*t):.5*ib.easeOutBounce(2*t-1)+.5};function bP(t){if(t&&"object"==typeof t){const n=t.toString();return"[object CanvasPattern]"===n||"[object CanvasGradient]"===n}return!1}function BH(t){return bP(t)?t:new I1(t)}function wP(t){return bP(t)?t:new I1(t).saturate(.5).darken(.1).hexString()}const ape=["x","y","borderWidth","radius","tension"],lpe=["color","borderColor","backgroundColor"],DH=new Map;function rb(t,n,e){return function Ape(t,n){n=n||{};const e=t+JSON.stringify(n);let i=DH.get(e);return i||(i=new Intl.NumberFormat(t,n),DH.set(e,i)),i}(n,e).format(t)}const SH={values:t=>xo(t)?t:""+t,numeric(t,n,e){if(0===t)return"0";const i=this.chart.options.locale;let r,o=t;if(e.length>1){const u=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),o=function dpe(t,n){let e=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(e)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),e}(t,e)}const s=Hf(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),rb(t,i,l)},logarithmic(t,n,e){if(0===t)return"0";const i=e[n].significand||t/Math.pow(10,Math.floor(Hf(t)));return[1,2,3,5,10,15].includes(i)||n>.8*e.length?SH.numeric.call(this,t,n,e):""}};var $x={formatters:SH};const Eg=Object.create(null),CP=Object.create(null);function ob(t,n){if(!n)return t;const e=n.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];t=t[o]||(t[o]=Object.create(null))}return t}function xP(t,n,e){return"string"==typeof n?Xy(ob(t,n),e):Xy(ob(t,""),n)}class fpe{constructor(n,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>wP(r.backgroundColor),this.hoverBorderColor=(i,r)=>wP(r.borderColor),this.hoverColor=(i,r)=>wP(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(e)}set(n,e){return xP(this,n,e)}get(n){return ob(this,n)}describe(n,e){return xP(CP,n,e)}override(n,e){return xP(Eg,n,e)}route(n,e,i,r){const o=ob(this,n),s=ob(this,i),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],u=s[r];return Ar(l)?Object.assign({},u,l):ki(l,u)},set(l){this[a]=l}}})}apply(n){n.forEach(e=>e(this))}}var Fo=new fpe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function cpe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),t.set("animations",{colors:{type:"color",properties:lpe},numbers:{type:"number",properties:ape}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}})},function upe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function hpe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$x.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n&&"dash"!==n}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n})}]);function qx(t,n,e,i,r){let o=n[r];return o||(o=n[r]=t.measureText(r).width,e.push(r)),o>i&&(i=o),i}function gpe(t,n,e,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==n&&(r=i.data={},o=i.garbageCollect=[],i.font=n),t.save(),t.font=n;let s=0;const a=e.length;let l,u,d,g,y;for(l=0;l<a;l++)if(g=e[l],null==g||xo(g)){if(xo(g))for(u=0,d=g.length;u<d;u++)y=g[u],null!=y&&!xo(y)&&(s=qx(t,r,o,s,y))}else s=qx(t,r,o,s,g);t.restore();const m=o.length/2;if(m>e.length){for(l=0;l<m;l++)delete r[o[l]];o.splice(0,m)}return s}function Pg(t,n,e){const i=t.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((n-r)*i)/i+r}function EH(t,n){!n&&!t||((n=n||t.getContext("2d")).save(),n.resetTransform(),n.clearRect(0,0,t.width,t.height),n.restore())}function MP(t,n,e,i){PH(t,n,e,i,null)}function PH(t,n,e,i,r){let o,s,a,l,u,d,g,y;const m=n.pointStyle,B=n.rotation,D=n.radius;let I=(B||0)*Zfe;if(m&&"object"==typeof m&&(o=m.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(e,i),t.rotate(I),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void t.restore();if(!(isNaN(D)||D<=0)){switch(t.beginPath(),m){default:r?t.ellipse(e,i,r/2,D,0,0,Mo):t.arc(e,i,D,0,Mo),t.closePath();break;case"triangle":d=r?r/2:D,t.moveTo(e+Math.sin(I)*d,i-Math.cos(I)*D),I+=dH,t.lineTo(e+Math.sin(I)*d,i-Math.cos(I)*D),I+=dH,t.lineTo(e+Math.sin(I)*d,i-Math.cos(I)*D),t.closePath();break;case"rectRounded":u=.516*D,l=D-u,s=Math.cos(I+Sg)*l,g=Math.cos(I+Sg)*(r?r/2-u:l),a=Math.sin(I+Sg)*l,y=Math.sin(I+Sg)*(r?r/2-u:l),t.arc(e-g,i-a,u,I-kr,I-hs),t.arc(e+y,i-s,u,I-hs,I),t.arc(e+g,i+a,u,I,I+hs),t.arc(e-y,i+s,u,I+hs,I+kr),t.closePath();break;case"rect":if(!B){l=Math.SQRT1_2*D,d=r?r/2:l,t.rect(e-d,i-l,2*d,2*l);break}I+=Sg;case"rectRot":g=Math.cos(I)*(r?r/2:D),s=Math.cos(I)*D,a=Math.sin(I)*D,y=Math.sin(I)*(r?r/2:D),t.moveTo(e-g,i-a),t.lineTo(e+y,i-s),t.lineTo(e+g,i+a),t.lineTo(e-y,i+s),t.closePath();break;case"crossRot":I+=Sg;case"cross":g=Math.cos(I)*(r?r/2:D),s=Math.cos(I)*D,a=Math.sin(I)*D,y=Math.sin(I)*(r?r/2:D),t.moveTo(e-g,i-a),t.lineTo(e+g,i+a),t.moveTo(e+y,i-s),t.lineTo(e-y,i+s);break;case"star":g=Math.cos(I)*(r?r/2:D),s=Math.cos(I)*D,a=Math.sin(I)*D,y=Math.sin(I)*(r?r/2:D),t.moveTo(e-g,i-a),t.lineTo(e+g,i+a),t.moveTo(e+y,i-s),t.lineTo(e-y,i+s),I+=Sg,g=Math.cos(I)*(r?r/2:D),s=Math.cos(I)*D,a=Math.sin(I)*D,y=Math.sin(I)*(r?r/2:D),t.moveTo(e-g,i-a),t.lineTo(e+g,i+a),t.moveTo(e+y,i-s),t.lineTo(e-y,i+s);break;case"line":s=r?r/2:Math.cos(I)*D,a=Math.sin(I)*D,t.moveTo(e-s,i-a),t.lineTo(e+s,i+a);break;case"dash":t.moveTo(e,i),t.lineTo(e+Math.cos(I)*(r?r/2:D),i+Math.sin(I)*D);break;case!1:t.closePath()}t.fill(),n.borderWidth>0&&t.stroke()}}function Xd(t,n,e){return e=e||.5,!n||t&&t.x>n.left-e&&t.x<n.right+e&&t.y>n.top-e&&t.y<n.bottom+e}function Zx(t,n){t.save(),t.beginPath(),t.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),t.clip()}function Yx(t){t.restore()}function mpe(t,n,e,i,r){if(!n)return t.lineTo(e.x,e.y);if("middle"===r){const o=(n.x+e.x)/2;t.lineTo(o,n.y),t.lineTo(o,e.y)}else"after"===r!=!!i?t.lineTo(n.x,e.y):t.lineTo(e.x,n.y);t.lineTo(e.x,e.y)}function vpe(t,n,e,i){if(!n)return t.lineTo(e.x,e.y);t.bezierCurveTo(i?n.cp1x:n.cp2x,i?n.cp1y:n.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function ype(t,n,e,i,r){if(r.strikethrough||r.underline){const o=t.measureText(i),s=n-o.actualBoundingBoxLeft,a=n+o.actualBoundingBoxRight,u=e+o.actualBoundingBoxDescent,d=r.strikethrough?(e-o.actualBoundingBoxAscent+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,d),t.lineTo(a,d),t.stroke()}}function bpe(t,n){const e=t.fillStyle;t.fillStyle=n.color,t.fillRect(n.left,n.top,n.width,n.height),t.fillStyle=e}function Ig(t,n,e,i,r,o={}){const s=xo(n)?n:[n],a=o.strokeWidth>0&&""!==o.strokeColor;let l,u;for(t.save(),t.font=r.string,function _pe(t,n){n.translation&&t.translate(n.translation[0],n.translation[1]),lr(n.rotation)||t.rotate(n.rotation),n.color&&(t.fillStyle=n.color),n.textAlign&&(t.textAlign=n.textAlign),n.textBaseline&&(t.textBaseline=n.textBaseline)}(t,o),l=0;l<s.length;++l)u=s[l],o.backdrop&&bpe(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),lr(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(u,e,i,o.maxWidth)),t.fillText(u,e,i,o.maxWidth),ype(t,e,i,u,o),i+=Number(r.lineHeight);t.restore()}function sb(t,n){const{x:e,y:i,w:r,h:o,radius:s}=n;t.arc(e+s.topLeft,i+s.topLeft,s.topLeft,1.5*kr,kr,!0),t.lineTo(e,i+o-s.bottomLeft),t.arc(e+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,kr,hs,!0),t.lineTo(e+r-s.bottomRight,i+o),t.arc(e+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,hs,0,!0),t.lineTo(e+r,i+s.topRight),t.arc(e+r-s.topRight,i+s.topRight,s.topRight,0,-hs,!0),t.lineTo(e+s.topLeft,i)}const wpe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Cpe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xpe(t,n){const e=(""+t).match(wpe);if(!e||"normal"===e[1])return 1.2*n;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100}return n*t}const Mpe=t=>+t||0;function BP(t,n){const e={},i=Ar(n),r=i?Object.keys(n):n,o=Ar(t)?i?s=>ki(t[s],t[n[s]]):s=>t[s]:()=>t;for(const s of r)e[s]=Mpe(o(s));return e}function IH(t){return BP(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Og(t){return BP(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Wa(t){const n=IH(t);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Ws(t,n){let e=ki((t=t||{}).size,(n=n||Fo.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=ki(t.style,n.style);i&&!(""+i).match(Cpe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ki(t.family,n.family),lineHeight:xpe(ki(t.lineHeight,n.lineHeight),e),size:e,style:i,weight:ki(t.weight,n.weight),string:""};return r.string=function ppe(t){return!t||lr(t.size)||lr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function ab(t,n,e,i){let o,s,a,r=!0;for(o=0,s=t.length;o<s;++o)if(a=t[o],void 0!==a&&(void 0!==n&&"function"==typeof a&&(a=a(n),r=!1),void 0!==e&&xo(a)&&(a=a[e%a.length],r=!1),void 0!==a))return i&&!r&&(i.cacheable=!1),a}function zf(t,n){return Object.assign(Object.create(t),n)}function DP(t,n=[""],e,i,r=(()=>t[0])){const o=e||t;typeof i>"u"&&(i=LH("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:r,override:a=>DP([a,...t],n,o,i)};return new Proxy(s,{deleteProperty:(a,l)=>(delete a[l],delete a._keys,delete t[0][l],!0),get:(a,l)=>kH(a,l,()=>function Fpe(t,n,e,i){let r;for(const o of n)if(r=LH(Dpe(o,t),e),typeof r<"u")return SP(t,r)?EP(e,i,t,r):r}(l,n,t,a)),getOwnPropertyDescriptor:(a,l)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],l),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(a,l)=>NH(a).includes(l),ownKeys:a=>NH(a),set(a,l,u){const d=a._storage||(a._storage=r());return a[l]=d[l]=u,delete a._keys,!0}})}function k1(t,n,e,i){const r={_cacheable:!1,_proxy:t,_context:n,_subProxy:e,_stack:new Set,_descriptors:OH(t,i),setContext:o=>k1(t,o,e,i),override:o=>k1(t.override(o),n,e,i)};return new Proxy(r,{deleteProperty:(o,s)=>(delete o[s],delete t[s],!0),get:(o,s,a)=>kH(o,s,()=>function Spe(t,n,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=t;let a=i[n];return Qf(a)&&s.isScriptable(n)&&(a=function Epe(t,n,e,i){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=e;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=n(o,s||i);return a.delete(t),SP(t,l)&&(l=EP(r._scopes,r,t,l)),l}(n,a,t,e)),xo(a)&&a.length&&(a=function Ppe(t,n,e,i){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=e;if(typeof o.index<"u"&&i(t))return n[o.index%n.length];if(Ar(n[0])){const l=n,u=r._scopes.filter(d=>d!==l);n=[];for(const d of l){const g=EP(u,r,t,d);n.push(k1(g,o,s&&s[t],a))}}return n}(n,a,t,s.isIndexable)),SP(n,a)&&(a=k1(a,r,o&&o[n],s)),a}(o,s,a)),getOwnPropertyDescriptor:(o,s)=>o._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(o,s)=>Reflect.has(t,s),ownKeys:()=>Reflect.ownKeys(t),set:(o,s,a)=>(t[s]=a,delete o[s],!0)})}function OH(t,n={scriptable:!0,indexable:!0}){const{_scriptable:e=n.scriptable,_indexable:i=n.indexable,_allKeys:r=n.allKeys}=t;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Qf(e)?e:()=>e,isIndexable:Qf(i)?i:()=>i}}const Dpe=(t,n)=>t?t+gP(n):n,SP=(t,n)=>Ar(n)&&"adapters"!==t&&(null===Object.getPrototypeOf(n)||n.constructor===Object);function kH(t,n,e){if(Object.prototype.hasOwnProperty.call(t,n)||"constructor"===n)return t[n];const i=e();return t[n]=i,i}function FH(t,n,e){return Qf(t)?t(n,e):t}const Ipe=(t,n)=>!0===t?n:"string"==typeof t?Uf(n,t):void 0;function Ope(t,n,e,i,r){for(const o of n){const s=Ipe(e,o);if(s){t.add(s);const a=FH(s._fallback,e,r);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(!1===s&&typeof i<"u"&&e!==i)return null}return!1}function EP(t,n,e,i){const r=n._rootScopes,o=FH(n._fallback,e,i),s=[...t,...r],a=new Set;a.add(i);let l=TH(a,s,e,o||e,i);return!(null===l||typeof o<"u"&&o!==e&&(l=TH(a,s,o,l,i),null===l))&&DP(Array.from(a),[""],r,o,()=>function kpe(t,n,e){const i=t._getTarget();n in i||(i[n]={});const r=i[n];return xo(r)&&Ar(e)?e:r||{}}(n,e,i))}function TH(t,n,e,i,r){for(;e;)e=Ope(t,n,e,i,r);return e}function LH(t,n){for(const e of n){if(!e)continue;const i=e[t];if(typeof i<"u")return i}}function NH(t){let n=t._keys;return n||(n=t._keys=function Tpe(t){const n=new Set;for(const e of t)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))n.add(i);return Array.from(n)}(t._scopes)),n}function RH(t,n,e,i){const{iScale:r}=t,{key:o="r"}=this._parsing,s=new Array(i);let a,l,u,d;for(a=0,l=i;a<l;++a)u=a+e,d=n[u],s[a]={r:r.parse(Uf(d,o),u)};return s}const Lpe=Number.EPSILON||1e-14,F1=(t,n)=>n<t.length&&!t[n].skip&&t[n],UH=t=>"x"===t?"y":"x";function Npe(t,n,e,i){const r=t.skip?n:t,o=n,s=e.skip?n:e,a=vP(o,r),l=vP(s,o);let u=a/(a+l),d=l/(a+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const g=i*u,y=i*d;return{previous:{x:o.x-g*(s.x-r.x),y:o.y-g*(s.y-r.y)},next:{x:o.x+y*(s.x-r.x),y:o.y+y*(s.y-r.y)}}}function Xx(t,n,e){return Math.max(Math.min(t,e),n)}function zpe(t,n,e,i,r){let o,s,a,l;if(n.spanGaps&&(t=t.filter(u=>!u.skip)),"monotone"===n.cubicInterpolationMode)!function Qpe(t,n="x"){const e=UH(n),i=t.length,r=Array(i).fill(0),o=Array(i);let s,a,l,u=F1(t,0);for(s=0;s<i;++s)if(a=l,l=u,u=F1(t,s+1),l){if(u){const d=u[n]-l[n];r[s]=0!==d?(u[e]-l[e])/d:0}o[s]=a?u?QA(r[s-1])!==QA(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}(function Rpe(t,n,e){const i=t.length;let r,o,s,a,l,u=F1(t,0);for(let d=0;d<i-1;++d)if(l=u,u=F1(t,d+1),l&&u){if(tb(n[d],0,Lpe)){e[d]=e[d+1]=0;continue}r=e[d]/n[d],o=e[d+1]/n[d],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),e[d]=r*s*n[d],e[d+1]=o*s*n[d])}})(t,r,o),function Upe(t,n,e="x"){const i=UH(e),r=t.length;let o,s,a,l=F1(t,0);for(let u=0;u<r;++u){if(s=a,a=l,l=F1(t,u+1),!a)continue;const d=a[e],g=a[i];s&&(o=(d-s[e])/3,a[`cp1${e}`]=d-o,a[`cp1${i}`]=g-o*n[u]),l&&(o=(l[e]-d)/3,a[`cp2${e}`]=d+o,a[`cp2${i}`]=g+o*n[u])}}(t,o,n)}(t,r);else{let u=i?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],l=Npe(u,a,t[Math.min(o+1,s-(i?0:1))%s],n.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}n.capBezierPoints&&function Hpe(t,n){let e,i,r,o,s,a=Xd(t[0],n);for(e=0,i=t.length;e<i;++e)s=o,o=a,a=e<i-1&&Xd(t[e+1],n),o&&(r=t[e],s&&(r.cp1x=Xx(r.cp1x,n.left,n.right),r.cp1y=Xx(r.cp1y,n.top,n.bottom)),a&&(r.cp2x=Xx(r.cp2x,n.left,n.right),r.cp2y=Xx(r.cp2y,n.top,n.bottom)))}(t,e)}function PP(){return typeof window<"u"&&typeof document<"u"}function IP(t){let n=t.parentNode;return n&&"[object ShadowRoot]"===n.toString()&&(n=n.host),n}function Jx(t,n,e){let i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*n.parentNode[e])):i=t,i}const e5=t=>t.ownerDocument.defaultView.getComputedStyle(t,null),jpe=["top","right","bottom","left"];function kg(t,n,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=jpe[r];i[o]=parseFloat(t[n+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Gpe=(t,n,e)=>(t>0||n>0)&&(!e||!e.shadowRoot);function Fg(t,n){if("native"in t)return t;const{canvas:e,currentDevicePixelRatio:i}=n,r=e5(e),o="border-box"===r.boxSizing,s=kg(r,"padding"),a=kg(r,"border","width"),{x:l,y:u,box:d}=function Kpe(t,n){const e=t.touches,i=e&&e.length?e[0]:t,{offsetX:r,offsetY:o}=i;let a,l,s=!1;if(Gpe(r,o,t.target))a=r,l=o;else{const u=n.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,s=!0}return{x:a,y:l,box:s}}(t,e),g=s.left+(d&&a.left),y=s.top+(d&&a.top);let{width:m,height:B}=n;return o&&(m-=s.width+a.width,B-=s.height+a.height),{x:Math.round((l-g)/m*e.width/i),y:Math.round((u-y)/B*e.height/i)}}const Vf=t=>Math.round(10*t)/10;function QH(t,n,e){const i=n||1,r=Vf(t.height*i),o=Vf(t.width*i);t.height=Vf(t.height),t.width=Vf(t.width);const s=t.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==i||s.height!==r||s.width!==o)&&(t.currentDevicePixelRatio=i,s.height=r,s.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0)}const qpe=function(){let t=!1;try{const n={get passive(){return t=!0,!1}};PP()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return t}();function HH(t,n){const e=function Vpe(t,n){return e5(t).getPropertyValue(n)}(t,n),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Tg(t,n,e,i){return{x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)}}function Zpe(t,n,e,i){return{x:t.x+e*(n.x-t.x),y:"middle"===i?e<.5?t.y:n.y:"after"===i?e<1?t.y:n.y:e>0?n.y:t.y}}function Ype(t,n,e,i){const r={x:t.cp2x,y:t.cp2y},o={x:n.cp1x,y:n.cp1y},s=Tg(t,r,e),a=Tg(r,o,e),l=Tg(o,n,e),u=Tg(s,a,e),d=Tg(a,l,e);return Tg(u,d,e)}function T1(t,n,e){return t?function(t,n){return{x:e=>t+t+n-e,setWidth(e){n=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(n,e):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,n)=>t+n,leftForLtr:(t,n)=>t}}function zH(t,n){let e,i;("ltr"===n||"rtl"===n)&&(e=t.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",n,"important"),t.prevTextDirection=i)}function VH(t,n){void 0!==n&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",n[0],n[1]))}function jH(t){return"angle"===t?{between:nb,compare:epe,normalize:Ga}:{between:Zd,compare:(n,e)=>n-e,normalize:n=>n}}function GH({start:t,end:n,count:e,loop:i,style:r}){return{start:t%e,end:n%e,loop:i&&(n-t+1)%e==0,style:r}}function KH(t,n,e){if(!e)return[t];const{property:i,start:r,end:o}=e,s=n.length,{compare:a,between:l,normalize:u}=jH(i),{start:d,end:g,loop:y,style:m}=function ege(t,n,e){const{property:i,start:r,end:o}=e,{between:s,normalize:a}=jH(i),l=n.length;let y,m,{start:u,end:d,loop:g}=t;if(g){for(u+=l,d+=l,y=0,m=l;y<m&&s(a(n[u%l][i]),r,o);++y)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:g,style:t.style}}(t,n,e),B=[];let F,R,H,D=!1,I=null;for(let se=d,te=d;se<=g;++se)R=n[se%s],!R.skip&&(F=u(R[i]),F!==H&&(D=l(F,r,o),null===I&&(D||l(r,H,F)&&0!==a(r,H))&&(I=0===a(F,r)?se:te),null!==I&&(!D||0===a(o,F)||l(o,H,F))&&(B.push(GH({start:I,end:se,loop:y,count:s,style:m})),I=null),te=se,H=F));return null!==I&&B.push(GH({start:I,end:g,loop:y,count:s,style:m})),B}function WH(t,n){const e=[],i=t.segments;for(let r=0;r<i.length;r++){const o=KH(i[r],t.points,n);o.length&&e.push(...o)}return e}function qH(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function oge(t,n){if(!n)return!1;const e=[],i=function(r,o){return bP(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(t,i)!==JSON.stringify(n,i)}function t5(t,n,e){return t.options.clip?t[e]:n[e]}function ZH(t,n){const e=n._clip;if(e.disabled)return!1;const i=function sge(t,n){const{xScale:e,yScale:i}=t;return e&&i?{left:t5(e,n,"left"),right:t5(e,n,"right"),top:t5(i,n,"top"),bottom:t5(i,n,"bottom")}:n}(n,t.chartArea);return{left:!1===e.left?0:i.left-(!0===e.left?0:e.left),right:!1===e.right?t.width:i.right+(!0===e.right?0:e.right),top:!1===e.top?0:i.top-(!0===e.top?0:e.top),bottom:!1===e.bottom?t.height:i.bottom+(!0===e.bottom?0:e.bottom)}}class age{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,e,i,r){const s=e.duration;e.listeners[r].forEach(a=>a({chart:n,initial:e.initial,numSteps:s,currentStep:Math.min(i-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=yH.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l,s=o.length-1,a=!1;for(;s>=0;--s)l=o[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(n),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,i,n,"progress")),o.length||(i.running=!1,this._notify(r,i,n,"complete"),i.initial=!1),e+=o.length}),this._lastDate=n,0===e&&(this._running=!1)}_getAnims(n){const e=this._charts;let i=e.get(n);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(n,i)),i}listen(n,e,i){this._getAnims(n).listeners[e].push(i)}add(n,e){!e||!e.length||this._getAnims(n).items.push(...e)}has(n){return this._getAnims(n).items.length>0}start(n){const e=this._charts.get(n);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(n){if(!this._running)return!1;const e=this._charts.get(n);return!(!e||!e.running||!e.items.length)}stop(n){const e=this._charts.get(n);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(n,e,Date.now(),"complete")}remove(n){return this._charts.delete(n)}}var Jd=new age;const YH="transparent",lge={boolean:(t,n,e)=>e>.5?n:t,color(t,n,e){const i=BH(t||YH),r=i.valid&&BH(n||YH);return r&&r.valid?r.mix(i,e).hexString():n},number:(t,n,e)=>t+(n-t)*e};class cge{constructor(n,e,i,r){const o=e[i];r=ab([n.to,r,o,n.from]);const s=ab([n.from,o,r]);this._active=!0,this._fn=n.fn||lge[n.type||typeof s],this._easing=ib[n.easing]||ib.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=e,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(n,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,n.duration)),this._total+=o,this._loop=!!n.loop,this._to=ab([n.to,e,r,n.from]),this._from=ab([n.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){const e=n-this._start,i=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to;let l;if(this._active=o!==a&&(s||e<i),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=o:(l=e/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(o,a,l))}wait(){const n=this._promises||(this._promises=[]);return new Promise((e,i)=>{n.push({res:e,rej:i})})}_notify(n){const e=n?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class XH{constructor(n,e){this._chart=n,this._properties=new Map,this.configure(e)}configure(n){if(!Ar(n))return;const e=Object.keys(Fo.animation),i=this._properties;Object.getOwnPropertyNames(n).forEach(r=>{const o=n[r];if(!Ar(o))return;const s={};for(const a of e)s[a]=o[a];(xo(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,s)})})}_animateOptions(n,e){const i=e.options,r=function Age(t,n){if(!n)return;let e=t.options;if(e)return e.$shared&&(t.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;t.options=n}(n,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&function uge(t,n){const e=[],i=Object.keys(n);for(let r=0;r<i.length;r++){const o=t[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}(n.options.$animations,i).then(()=>{n.options=i},()=>{}),o}_createAnimations(n,e){const i=this._properties,r=[],o=n.$animations||(n.$animations={}),s=Object.keys(e),a=Date.now();let l;for(l=s.length-1;l>=0;--l){const u=s[l];if("$"===u.charAt(0))continue;if("options"===u){r.push(...this._animateOptions(n,e));continue}const d=e[u];let g=o[u];const y=i.get(u);if(g){if(y&&g.active()){g.update(y,d,a);continue}g.cancel()}y&&y.duration?(o[u]=g=new cge(y,n,u,d),r.push(g)):n[u]=d}return r}update(n,e){if(0===this._properties.size)return void Object.assign(n,e);const i=this._createAnimations(n,e);return i.length?(Jd.add(this._chart,i),!0):void 0}}function JH(t,n){const e=t&&t.options||{},i=e.reverse,r=void 0===e.min?n:0,o=void 0===e.max?n:0;return{start:i?o:r,end:i?r:o}}function e9(t,n){const e=[],i=t._getSortedDatasetMetas(n);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function t9(t,n,e,i={}){const r=t.keys,o="single"===i.mode;let s,a,l,u;if(null===n)return;let d=!1;for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===e){if(d=!0,i.all)continue;break}u=t.values[l],qo(u)&&(o||0===n||QA(n)===QA(u))&&(n+=u)}return d||i.all?n:0}function OP(t,n){const e=t&&t.options.stacked;return e||void 0===e&&void 0!==n.stack}function mge(t,n,e){const i=t[n]||(t[n]={});return i[e]||(i[e]={})}function n9(t,n,e,i){for(const r of n.getMatchingVisibleMetas(i).reverse()){const o=t[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function i9(t,n){const{chart:e,_cachedMeta:i}=t,r=e._stacks||(e._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,u=s.axis,d=function pge(t,n,e){return`${t.id}.${n.id}.${e.stack||e.type}`}(o,s,i),g=n.length;let y;for(let m=0;m<g;++m){const B=n[m],{[l]:D,[u]:I}=B;y=(B._stacks||(B._stacks={}))[u]=mge(r,d,D),y[a]=I,y._top=n9(y,s,!0,i.type),y._bottom=n9(y,s,!1,i.type),(y._visualValues||(y._visualValues={}))[a]=I}}function kP(t,n){const e=t.scales;return Object.keys(e).filter(i=>e[i].axis===n).shift()}function lb(t,n){const e=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){n=n||t._parsed;for(const r of n){const o=r._stacks;if(!o||void 0===o[i]||void 0===o[i][e])return;delete o[i][e],void 0!==o[i]._visualValues&&void 0!==o[i]._visualValues[e]&&delete o[i]._visualValues[e]}}}const FP=t=>"reset"===t||"none"===t,r9=(t,n)=>n?t:Object.assign({},t);let jf=(()=>class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=OP(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&lb(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(y,m,B,D)=>"x"===y?m:"r"===y?D:B,s=i.xAxisID=ki(r.xAxisID,kP(e,"x")),a=i.yAxisID=ki(r.yAxisID,kP(e,"y")),l=i.rAxisID=ki(r.rAxisID,kP(e,"r")),u=i.indexAxis,d=i.iAxisID=o(u,s,a,l),g=i.vAxisID=o(u,a,s,l);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&vH(this._data,this),e._stacked&&lb(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(Ar(i))this._data=function fge(t,n){const{iScale:e,vScale:i}=n,r="x"===e.axis?"x":"y",o="x"===i.axis?"x":"y",s=Object.keys(t),a=new Array(s.length);let l,u,d;for(l=0,u=s.length;l<u;++l)d=s[l],a[l]={[r]:d,[o]:t[d]};return a}(i,this._cachedMeta);else if(r!==i){if(r){vH(r,this);const o=this._cachedMeta;lb(o),o._parsed=[]}i&&Object.isExtensible(i)&&function rpe(t,n){t._chartjs?t._chartjs.listeners.push(n):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),mH.forEach(e=>{const i="_onData"+gP(e),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...o){const s=r.apply(this,o);return t._chartjs.listeners.forEach(a=>{"function"==typeof a[i]&&a[i](...o)}),s}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const s=i._stacked;i._stacked=OP(i.vScale,i),i.stack!==r.stack&&(o=!0,lb(i),i.stack=r.stack),this._resyncElements(e),(o||s!==i._stacked)&&(i9(this,i._parsed),i._stacked=OP(i.vScale,i))}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,l=s.axis;let g,y,m,u=0===e&&i===o.length||r._sorted,d=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=o,r._sorted=!0,m=o;else{m=xo(o[e])?this.parseArrayData(r,o,e,i):Ar(o[e])?this.parseObjectData(r,o,e,i):this.parsePrimitiveData(r,o,e,i);const B=()=>null===y[l]||d&&y[l]<d[l];for(g=0;g<i;++g)r._parsed[g+e]=y=m[g],u&&(B()&&(u=!1),d=y);r._sorted=u}a&&i9(this,m)}parsePrimitiveData(e,i,r,o){const{iScale:s,vScale:a}=e,l=s.axis,u=a.axis,d=s.getLabels(),g=s===a,y=new Array(o);let m,B,D;for(m=0,B=o;m<B;++m)D=m+r,y[m]={[l]:g||s.parse(d[D],D),[u]:a.parse(i[D],D)};return y}parseArrayData(e,i,r,o){const{xScale:s,yScale:a}=e,l=new Array(o);let u,d,g,y;for(u=0,d=o;u<d;++u)g=u+r,y=i[g],l[u]={x:s.parse(y[0],g),y:a.parse(y[1],g)};return l}parseObjectData(e,i,r,o){const{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(o);let g,y,m,B;for(g=0,y=o;g<y;++g)m=g+r,B=i[m],d[g]={x:s.parse(Uf(B,l),m),y:a.parse(Uf(B,u),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const s=this._cachedMeta,a=i[e.axis];return t9({keys:e9(this.chart,!0),values:i._stacks[e.axis]._visualValues},a,s.index,{mode:r})}updateRangeFromParsed(e,i,r,o){const s=r[i.axis];let a=null===s?NaN:s;const l=o&&r._stacks[i.axis];o&&l&&(o.values=l,a=t9(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){const r=this._cachedMeta,o=r._parsed,s=r._sorted&&e===r.iScale,a=o.length,l=this._getOtherScale(e),u=((t,n,e)=>t&&!n.hidden&&n._stacked&&{keys:e9(this.chart,!0),values:null})(i,r),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=function gge(t){const{min:n,max:e,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?n:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(l);let m,B;function D(){B=o[m];const I=B[l.axis];return!qo(B[e.axis])||g>I||y<I}for(m=0;m<a&&(D()||(this.updateRangeFromParsed(d,e,B,u),!s));++m);if(s)for(m=a-1;m>=0;--m)if(!D()){this.updateRangeFromParsed(d,e,B,u);break}return d}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let o,s,a;for(o=0,s=i.length;o<s;++o)a=i[o][e.axis],qo(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,r=i.iScale,o=i.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function hge(t){let n,e,i,r;return Ar(t)?(n=t.top,e=t.right,i=t.bottom,r=t.left):n=e=i=r=t,{top:n,right:e,bottom:i,left:r,disabled:!1===t}}(ki(this.options.clip,function dge(t,n,e){if(!1===e)return!1;const i=JH(t,e),r=JH(n,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,o=r.data||[],s=this.chart.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||o.length-l,d=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(e,s,l,u),g=l;g<l+u;++g){const y=o[g];y.hidden||(y.active&&d?a.push(y):y.draw(e,s))}for(g=0;g<a.length;++g)a[g].draw(e,s)}getStyle(e,i){const r=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const o=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=function _ge(t,n,e){return zf(t,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:e,index:n,mode:"default",type:"data"})}(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function vge(t,n){return zf(t,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const o="active"===i,s=this._cachedDataOpts,a=e+"-"+i,l=s[a],u=this.enableOptionSharing&&eb(r);if(l)return r9(l,u);const d=this.chart.config,g=d.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),g),B=Object.keys(Fo.elements[e]),I=d.resolveNamedOptions(m,B,()=>this.getContext(r,o,i),y);return I.$shared&&(I.$shared=u,s[a]=Object.freeze(r9(I,u))),I}_resolveAnimations(e,i,r){const o=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,l=s[a];if(l)return l;let u;if(!1!==o.options.animation){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,i),m=g.getOptionScopes(this.getDataset(),y);u=g.createResolver(m,this.getContext(e,r,i))}const d=new XH(o,u&&u.animations);return u&&u._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||FP(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const r=this.resolveDataElementOptions(e,i),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(i,s)||s!==o;return this.updateSharedOptions(s,i,r),{sharedOptions:s,includeOptions:a}}updateElement(e,i,r,o){FP(o)?Object.assign(e,r):this._resolveAnimations(i,o).update(e,r)}updateSharedOptions(e,i,r){e&&!FP(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,o){e.active=o;const s=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,r=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const o=r.length,s=i.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,i,r=!0){const o=this._cachedMeta,s=o.data,a=e+i;let l;const u=d=>{for(d.length+=i,l=d.length-1;l>=a;l--)d[l]=d[l-i]};for(u(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&u(o._parsed),this.parse(e,i),r&&this.updateElements(s,e,i,"reset")}updateElements(e,i,r,o){}_removeElements(e,i){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,i);r._stacked&&lb(r,o)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,o]=e;this[i](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function wge(t){const n=t.iScale,e=function bge(t,n){if(!t._cache.$bar){const e=t.getMatchingVisibleMetas(n);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(t));t._cache.$bar=_H(i.sort((r,o)=>r-o))}return t._cache.$bar}(n,t.type);let r,o,s,a,i=n._length;const l=()=>{32767===s||-32768===s||(eb(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(r=0,o=e.length;r<o;++r)s=n.getPixelForValue(e[r]),l();for(a=void 0,r=0,o=n.ticks.length;r<o;++r)s=n.getPixelForTick(r),l();return i}function o9(t,n,e,i){return xo(t)?function Mge(t,n,e,i){const r=e.parse(t[0],i),o=e.parse(t[1],i),s=Math.min(r,o),a=Math.max(r,o);let l=s,u=a;Math.abs(s)>Math.abs(a)&&(l=a,u=s),n[e.axis]=u,n._custom={barStart:l,barEnd:u,start:r,end:o,min:s,max:a}}(t,n,e,i):n[e.axis]=e.parse(t,i),n}function s9(t,n,e,i){const r=t.iScale,o=t.vScale,s=r.getLabels(),a=r===o,l=[];let u,d,g,y;for(u=e,d=e+i;u<d;++u)y=n[u],g={},g[r.axis]=a||r.parse(s[u],u),l.push(o9(y,g,o,u));return l}function TP(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Sge(t,n,e,i){let r=n.borderSkipped;const o={};if(!r)return void(t.borderSkipped=o);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:u,bottom:d}=function Dge(t){let n,e,i,r,o;return t.horizontal?(n=t.base>t.x,e="left",i="right"):(n=t.base<t.y,e="bottom",i="top"),n?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:n,top:r,bottom:o}}(t);"middle"===r&&e&&(t.enableBorderRadius=!0,(e._top||0)===i?r=u:(e._bottom||0)===i?r=d:(o[a9(d,s,a,l)]=!0,r=u)),o[a9(r,s,a,l)]=!0,t.borderSkipped=o}function a9(t,n,e,i){return i?(t=function Ege(t,n,e){return t===n?e:t===e?n:t}(t,n,e),t=l9(t,e,n)):t=l9(t,n,e),t}function l9(t,n,e){return"start"===t?n:"end"===t?e:t}function Pge(t,{inflateAmount:n},e){t.inflateAmount="auto"===n?1===e?.33:0:n}let Ige=(()=>class t extends jf{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,r,o){return s9(e,i,r,o)}parseArrayData(e,i,r,o){return s9(e,i,r,o)}parseObjectData(e,i,r,o){const{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d="x"===s.axis?l:u,g="x"===a.axis?l:u,y=[];let m,B,D,I;for(m=r,B=r+o;m<B;++m)I=i[m],D={},D[s.axis]=s.parse(Uf(I,d),m),y.push(o9(Uf(I,g),D,a,m));return y}updateRangeFromParsed(e,i,r,o){super.updateRangeFromParsed(e,i,r,o);const s=r._custom;s&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:r,vScale:o}=i,s=this.getParsed(e),a=s._custom,l=TP(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,o){const s="reset"===o,{index:a,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),d=l.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:m}=this._getSharedOptions(i,o);for(let B=i;B<i+r;B++){const D=this.getParsed(B),I=s||lr(D[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(B),F=this._calculateBarIndexPixels(B,g),R=(D._stacks||{})[l.axis],H={horizontal:d,base:I.base,enableBorderRadius:!R||TP(D._custom)||a===R._top||a===R._bottom,x:d?I.head:F.center,y:d?F.center:I.head,height:d?F.size:Math.abs(I.size),width:d?Math.abs(I.size):F.size};m&&(H.options=y||this.resolveDataElementOptions(B,e[B].active?"active":o));const z=H.options||e[B].options;Sge(H,z,R,a),Pge(H,z,g.ratio),this.updateElement(e[B],B,H,o)}}_getStacks(e,i){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),s=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(i),u=l&&l[r.axis],d=g=>{const y=g._parsed.find(B=>B[r.axis]===u),m=y&&y[g.vScale.axis];if(lr(m)||isNaN(m))return!0};for(const g of o)if((void 0===i||!d(g))&&((!1===s||-1===a.indexOf(g.stack)||void 0===s&&void 0===g.stack)&&a.push(g.stack),g.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,i=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===i).shift()}_getAxis(){const e={},i=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[ki("x"===this.chart.options.indexAxis?r.xAxisID:r.yAxisID,i)]=!0;return Object.keys(e)}_getStackIndex(e,i,r){const o=this._getStacks(e,r),s=void 0!==i?o.indexOf(i):-1;return-1===s?o.length-1:s}_getRuler(){const e=this.options,i=this._cachedMeta,r=i.iScale,o=[];let s,a;for(s=0,a=i.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const l=e.barThickness;return{min:l||wge(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,u=this.getParsed(e),d=u._custom,g=TP(d);let D,I,y=u[i.axis],m=0,B=r?this.applyStack(i,u,r):y;B!==y&&(m=B-y,B=y),g&&(y=d.barStart,B=d.barEnd-d.barStart,0!==y&&QA(y)!==QA(d.barEnd)&&(m=0),m+=y);const F=lr(s)||g?m:s;let R=i.getPixelForValue(F);if(D=this.chart.getDataVisibility(e)?i.getPixelForValue(m+B):R,I=D-R,Math.abs(I)<a){I=function Bge(t,n,e){return 0!==t?QA(t):(n.isHorizontal()?1:-1)*(n.min>=e?1:-1)}(I,i,l)*a,y===l&&(R-=I/2);const H=i.getPixelForDecimal(0),z=i.getPixelForDecimal(1),ie=Math.min(H,z),be=Math.max(H,z);R=Math.max(Math.min(R,be),ie),D=R+I,r&&!g&&(u._stacks[i.axis]._visualValues[o]=i.getValueForPixel(D)-i.getValueForPixel(R))}if(R===i.getPixelForValue(l)){const H=QA(I)*i.getLineWidthForValue(l)/2;R+=H,I-=H}return{size:I,base:R,head:D,center:D+I/2}}_calculateBarIndexPixels(e,i){const r=i.scale,o=this.options,s=o.skipNull,a=ki(o.maxBarThickness,1/0);let l,u;const d=this._getAxisCount();if(i.grouped){const g=s?this._getStackCount(e):i.stackCount,y="flex"===o.barThickness?function xge(t,n,e,i){const r=n.pixels,o=r[t];let s=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=e.categoryPercentage;null===s&&(s=o-(null===a?n.end-n.start:a-o)),null===a&&(a=o+o-s);const u=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:e.barPercentage,start:u}}(e,i,o,g*d):function Cge(t,n,e,i){const r=e.barThickness;let o,s;return lr(r)?(o=n.min*e.categoryPercentage,s=e.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:n.pixels[t]-o/2}}(e,i,o,g*d),m="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,B=this._getAxis().indexOf(ki(m,this.getFirstScaleIdForIndexAxis())),D=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+B;l=y.start+y.chunk*D+y.chunk/2,u=Math.min(a,y.chunk*y.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(a,i.min*i.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const e=this._cachedMeta,i=e.vScale,r=e.data,o=r.length;let s=0;for(;s<o;++s)null!==this.getParsed(s)[i.axis]&&!r[s].hidden&&r[s].draw(this._ctx)}})(),Oge=(()=>class t extends jf{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,o){const s=super.parsePrimitiveData(e,i,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,i,r,o){const s=super.parseArrayData(e,i,r,o);for(let a=0;a<s.length;a++)s[a]._custom=ki(i[r+a][2],this.resolveDataElementOptions(a+r).radius);return s}parseObjectData(e,i,r,o){const s=super.parseObjectData(e,i,r,o);for(let a=0;a<s.length;a++){const l=i[r+a];s[a]._custom=ki(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(e),l=o.getLabelForValue(a.x),u=s.getLabelForValue(a.y),d=a._custom;return{label:r[e]||"",value:"("+l+", "+u+(d?", "+d:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,o){const s="reset"===o,{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(i,o),g=a.axis,y=l.axis;for(let m=i;m<i+r;m++){const B=e[m],D=!s&&this.getParsed(m),I={},F=I[g]=s?a.getPixelForDecimal(.5):a.getPixelForValue(D[g]),R=I[y]=s?l.getBasePixel():l.getPixelForValue(D[y]);I.skip=isNaN(F)||isNaN(R),d&&(I.options=u||this.resolveDataElementOptions(m,B.active?"active":o),s&&(I.options.radius=0)),this.updateElement(B,m,I,o)}}resolveDataElementOptions(e,i){const r=this.getParsed(e);let o=super.resolveDataElementOptions(e,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const s=o.radius;return"active"!==i&&(o.radius=0),o.radius+=ki(r&&r._custom,s),o}})(),LP=(()=>class t extends jf{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data,{labels:{pointStyle:r,textAlign:o,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return i.labels.length&&i.datasets.length?i.labels.map((u,d)=>{const y=e.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:y.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(d),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:o,pointStyle:r,borderRadius:a&&(l||y.borderRadius),index:d}}):[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const r=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=r;else{let a,l,s=u=>+r[u];if(Ar(r[e])){const{key:u="value"}=this._parsing;s=d=>+Uf(r[d],u)}for(a=e,l=e+i;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return ju(this.options.rotation-90)}_getCircumference(){return ju(this.options.circumference)}_getRotationExtents(){let e=Mo,i=-Mo;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();e=Math.min(e,s),i=Math.max(i,s+a)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:r}=i,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),u=Math.min(((t,n)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/n)(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:m,ratioY:B,offsetX:D,offsetY:I}=function kge(t,n,e){let i=1,r=1,o=0,s=0;if(n<Mo){const a=t,l=a+n,u=Math.cos(a),d=Math.sin(a),g=Math.cos(l),y=Math.sin(l),m=(H,z,ie)=>nb(H,a,l,!0)?1:Math.max(z,z*e,ie,ie*e),B=(H,z,ie)=>nb(H,a,l,!0)?-1:Math.min(z,z*e,ie,ie*e),D=m(0,u,g),I=m(hs,d,y),F=B(kr,u,g),R=B(kr+hs,d,y);i=(D-F)/2,r=(I-R)/2,o=-(D+F)/2,s=-(I+R)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}(y,g,u),H=Math.max(Math.min((r.width-a)/m,(r.height-a)/B)/2,0),z=lH(this.options.radius,H),be=(z-Math.max(z*u,0))/this._getVisibleDatasetWeightTotal();this.offsetX=D*z,this.offsetY=I*z,o.total=this.calculateTotal(),this.outerRadius=z-be*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-be*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,i){const r=this.options,o=this._cachedMeta,s=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===o._parsed[e]||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/Mo)}updateElements(e,i,r,o){const s="reset"===o,a=this.chart,l=a.chartArea,g=(l.left+l.right)/2,y=(l.top+l.bottom)/2,m=s&&a.options.animation.animateScale,B=m?0:this.innerRadius,D=m?0:this.outerRadius,{sharedOptions:I,includeOptions:F}=this._getSharedOptions(i,o);let H,R=this._getRotation();for(H=0;H<i;++H)R+=this._circumference(H,s);for(H=i;H<i+r;++H){const z=this._circumference(H,s),ie=e[H],be={x:g+this.offsetX,y:y+this.offsetY,startAngle:R,endAngle:R+z,circumference:z,outerRadius:D,innerRadius:B};F&&(be.options=I||this.resolveDataElementOptions(H,ie.active?"active":o)),R+=z,this.updateElement(ie,H,be,o)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let o,r=0;for(o=0;o<i.length;o++){const s=e._parsed[o];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?Mo*(Math.abs(e)/i):0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=rb(this._cachedMeta._parsed[e],r.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let i=0;const r=this.chart;let o,s,a,l,u;if(!e)for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),e=a.data,l=a.controller;break}if(!e)return 0;for(o=0,s=e.length;o<s;++o)u=l.resolveDataElementOptions(o),"inner"!==u.borderAlign&&(i=Math.max(i,u.borderWidth||0,u.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,o=e.length;r<o;++r){const s=this.resolveDataElementOptions(r);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(ki(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),Fge=(()=>class t extends jf{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=i,a=this.chart._animationsDisabled;let{start:l,count:u}=wH(i,o,a);this._drawStart=l,this._drawCount=u,CH(i)&&(l=0,u=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e),this.updateElements(o,l,u,e)}updateElements(e,i,r,o){const s="reset"===o,{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(i,o),m=a.axis,B=l.axis,{spanGaps:D,segment:I}=this.options,F=O1(D)?D:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||s||"none"===o,H=i+r,z=e.length;let ie=i>0&&this.getParsed(i-1);for(let be=0;be<z;++be){const Be=e[be],se=R?Be:{};if(be<i||be>=H){se.skip=!0;continue}const te=this.getParsed(be),Re=lr(te[B]),G=se[m]=a.getPixelForValue(te[m],be),J=se[B]=s||Re?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,te,u):te[B],be);se.skip=isNaN(G)||isNaN(J)||Re,se.stop=be>0&&Math.abs(te[m]-ie[m])>F,I&&(se.parsed=te,se.raw=d.data[be]),y&&(se.options=g||this.resolveDataElementOptions(be,Be.active?"active":o)),R||this.updateElement(Be,be,se,o),ie=te}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}})(),c9=(()=>class t extends jf{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return i.labels.map((s,a)=>{const u=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:o,lineWidth:u.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=rb(this._cachedMeta._parsed[e].r,r.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,i,r,o){return RH.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,o)=>{const s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,r=e.options,o=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(o/2,0),l=(s-Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,i,r,o){const s="reset"===o,a=this.chart,u=a.options.animation,d=this._cachedMeta.rScale,g=d.xCenter,y=d.yCenter,m=d.getIndexAngle(0)-.5*kr;let D,B=m;const I=360/this.countVisibleElements();for(D=0;D<i;++D)B+=this._computeAngle(D,o,I);for(D=i;D<i+r;D++){const F=e[D];let R=B,H=B+this._computeAngle(D,o,I),z=a.getDataVisibility(D)?d.getDistanceFromCenterForValue(this.getParsed(D).r):0;B=H,s&&(u.animateScale&&(z=0),u.animateRotate&&(R=H=m));const ie={x:g,y,innerRadius:0,outerRadius:z,startAngle:R,endAngle:H,options:this.resolveDataElementOptions(D,F.active?"active":o)};this.updateElement(F,D,ie,o)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?ju(this.resolveDataElementOptions(e,i).angle||r):0}})();var Tge=Object.freeze({__proto__:null,BarController:Ige,BubbleController:Oge,DoughnutController:LP,LineController:Fge,PieController:(()=>class t extends LP{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:c9,RadarController:(()=>class t extends jf{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,o){return RH.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta,r=i.dataset,o=i.data||[],s=i.iScale.getLabels();if(r.points=o,"resize"!==e){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:s.length===o.length,options:a},e)}this.updateElements(o,0,o.length,e)}updateElements(e,i,r,o){const s=this._cachedMeta.rScale,a="reset"===o;for(let l=i;l<i+r;l++){const u=e[l],d=this.resolveDataElementOptions(l,u.active?"active":o),g=s.getPointPositionForValue(l,this.getParsed(l).r),y=a?s.xCenter:g.x,m=a?s.yCenter:g.y,B={x:y,y:m,angle:g.angle,skip:isNaN(y)||isNaN(m),options:d};this.updateElement(u,l,B,o)}}})(),ScatterController:(()=>class t extends jf{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(e),l=o.getLabelForValue(a.x),u=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+l+", "+u+")"}}update(e){const i=this._cachedMeta,{data:r=[]}=i,o=this.chart._animationsDisabled;let{start:s,count:a}=wH(i,r,o);if(this._drawStart=s,this._drawCount=a,CH(i)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:u}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=r;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:d},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,r,o){const s="reset"===o,{iScale:a,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,g=this.resolveDataElementOptions(i,o),y=this.getSharedOptions(g),m=this.includeOptions(o,y),B=a.axis,D=l.axis,{spanGaps:I,segment:F}=this.options,R=O1(I)?I:Number.POSITIVE_INFINITY,H=this.chart._animationsDisabled||s||"none"===o;let z=i>0&&this.getParsed(i-1);for(let ie=i;ie<i+r;++ie){const be=e[ie],Be=this.getParsed(ie),se=H?be:{},te=lr(Be[D]),Re=se[B]=a.getPixelForValue(Be[B],ie),G=se[D]=s||te?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,Be,u):Be[D],ie);se.skip=isNaN(Re)||isNaN(G)||te,se.stop=ie>0&&Math.abs(Be[B]-z[B])>R,F&&(se.parsed=Be,se.raw=d.data[ie]),m&&(se.options=y||this.resolveDataElementOptions(ie,be.active?"active":o)),H||this.updateElement(be,ie,se,o),z=Be}this.updateSharedOptions(y,o,g)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let l=0;for(let u=i.length-1;u>=0;--u)l=Math.max(l,i[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}const r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!i.length)return o;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,s,a)/2}})()});function Lg(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class NP{static override(n){Object.assign(NP.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return Lg()}parse(){return Lg()}format(){return Lg()}add(){return Lg()}diff(){return Lg()}startOf(){return Lg()}endOf(){return Lg()}}var Lge__date=NP;function Nge(t,n,e,i){const{controller:r,data:o,_sorted:s}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&n===a.axis&&"r"!==n&&s&&o.length){const u=a._reversePixels?npe:Yd;if(!i){const d=u(o,n,e);if(l){const{vScale:g}=r._cachedMeta,{_parsed:y}=t,m=y.slice(0,d.lo+1).reverse().findIndex(D=>!lr(D[g.axis]));d.lo-=Math.max(0,m);const B=y.slice(d.hi).findIndex(D=>!lr(D[g.axis]));d.hi+=Math.max(0,B)}return d}if(r._sharedOptions){const d=o[0],g="function"==typeof d.getRange&&d.getRange(n);if(g){const y=u(o,n,e-g),m=u(o,n,e+g);return{lo:y.lo,hi:m.hi}}}}return{lo:0,hi:o.length-1}}function cb(t,n,e,i,r){const o=t.getSortedVisibleDatasetMetas(),s=e[n];for(let a=0,l=o.length;a<l;++a){const{index:u,data:d}=o[a],{lo:g,hi:y}=Nge(o[a],n,s,r);for(let m=g;m<=y;++m){const B=d[m];B.skip||i(B,u,m)}}}function RP(t,n,e,i,r){const o=[];return!r&&!t.isPointInArea(n)||cb(t,e,n,function(a,l,u){!r&&!Xd(a,t.chartArea,0)||a.inRange(n.x,n.y,i)&&o.push({element:a,datasetIndex:l,index:u})},!0),o}function UP(t,n,e,i,r,o){return o||t.isPointInArea(n)?"r"!==e||i?function Qge(t,n,e,i,r,o){let s=[];const a=function Rge(t){const n=-1!==t.indexOf("x"),e=-1!==t.indexOf("y");return function(i,r){const o=n?Math.abs(i.x-r.x):0,s=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}(e);let l=Number.POSITIVE_INFINITY;return cb(t,e,n,function u(d,g,y){const m=d.inRange(n.x,n.y,r);if(i&&!m)return;const B=d.getCenterPoint(r);if(!o&&!t.isPointInArea(B)&&!m)return;const I=a(n,B);I<l?(s=[{element:d,datasetIndex:g,index:y}],l=I):I===l&&s.push({element:d,datasetIndex:g,index:y})}),s}(t,n,e,i,r,o):function Uge(t,n,e,i){let r=[];return cb(t,e,n,function o(s,a,l){const{startAngle:u,endAngle:d}=s.getProps(["startAngle","endAngle"],i),{angle:g}=gH(s,{x:n.x,y:n.y});nb(g,u,d)&&r.push({element:s,datasetIndex:a,index:l})}),r}(t,n,e,r):[]}function u9(t,n,e,i,r){const o=[],s="x"===e?"inXRange":"inYRange";let a=!1;return cb(t,e,n,(l,u,d)=>{l[s]&&l[s](n[e],r)&&(o.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(n.x,n.y,r))}),i&&!a?[]:o}var Hge={evaluateInteractionItems:cb,modes:{index(t,n,e,i){const r=Fg(n,t),o=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?RP(t,r,o,i,s):UP(t,r,o,!1,i,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,g=u.data[d];g&&!g.skip&&l.push({element:g,datasetIndex:u.index,index:d})}),l):[]},dataset(t,n,e,i){const r=Fg(n,t),o=e.axis||"xy",s=e.includeInvisible||!1;let a=e.intersect?RP(t,r,o,i,s):UP(t,r,o,!1,i,s);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point:(t,n,e,i)=>RP(t,Fg(n,t),e.axis||"xy",i,e.includeInvisible||!1),nearest:(t,n,e,i)=>UP(t,Fg(n,t),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(t,n,e,i)=>u9(t,Fg(n,t),"x",e.intersect,i),y:(t,n,e,i)=>u9(t,Fg(n,t),"y",e.intersect,i)}};const A9=["left","top","right","bottom"];function ub(t,n){return t.filter(e=>e.pos===n)}function d9(t,n){return t.filter(e=>-1===A9.indexOf(e.pos)&&e.box.axis===n)}function Ab(t,n){return t.sort((e,i)=>{const r=n?i:e,o=n?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function h9(t,n,e,i){return Math.max(t[e],n[e])+Math.max(t[i],n[i])}function f9(t,n){t.top=Math.max(t.top,n.top),t.left=Math.max(t.left,n.left),t.bottom=Math.max(t.bottom,n.bottom),t.right=Math.max(t.right,n.right)}function Kge(t,n,e,i){const{pos:r,box:o}=e,s=t.maxPadding;if(!Ar(r)){e.size&&(t[r]-=e.size);const g=i[e.stack]||{size:0,count:1};g.size=Math.max(g.size,e.horizontal?o.height:o.width),e.size=g.size/g.count,t[r]+=e.size}o.getPadding&&f9(s,o.getPadding());const a=Math.max(0,n.outerWidth-h9(s,t,"left","right")),l=Math.max(0,n.outerHeight-h9(s,t,"top","bottom")),u=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,e.horizontal?{same:u,other:d}:{same:d,other:u}}function $ge(t,n){const e=n.maxPadding;return function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(n[s],e[s])}),o}(t?["left","right"]:["top","bottom"])}function db(t,n,e,i){const r=[];let o,s,a,l,u,d;for(o=0,s=t.length,u=0;o<s;++o){a=t[o],l=a.box,l.update(a.width||n.w,a.height||n.h,$ge(a.horizontal,n));const{same:g,other:y}=Kge(n,e,a,i);u|=g&&r.length,d=d||y,l.fullSize||r.push(a)}return u&&db(r,n,e,i)||d}function n5(t,n,e,i,r){t.top=e,t.left=n,t.right=n+i,t.bottom=e+r,t.width=i,t.height=r}function p9(t,n,e,i){const r=e.padding;let{x:o,y:s}=n;for(const a of t){const l=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const g=n.w*d,y=u.size||l.height;eb(u.start)&&(s=u.start),l.fullSize?n5(l,r.left,s,e.outerWidth-r.right-r.left,y):n5(l,n.left+u.placed,s,g,y),u.start=s,u.placed+=g,s=l.bottom}else{const g=n.h*d,y=u.size||l.width;eb(u.start)&&(o=u.start),l.fullSize?n5(l,o,r.top,y,e.outerHeight-r.bottom-r.top):n5(l,o,n.top+u.placed,y,g),u.start=o,u.placed+=g,o=l.right}}n.x=o,n.y=s}var $a={addBox(t,n){t.boxes||(t.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(e){n.draw(e)}}]},t.boxes.push(n)},removeBox(t,n){const e=t.boxes?t.boxes.indexOf(n):-1;-1!==e&&t.boxes.splice(e,1)},configure(t,n,e){n.fullSize=e.fullSize,n.position=e.position,n.weight=e.weight},update(t,n,e,i){if(!t)return;const r=Wa(t.options.layout.padding),o=Math.max(n-r.width,0),s=Math.max(e-r.height,0),a=function Gge(t){const n=function zge(t){const n=[];let e,i,r,o,s,a;for(e=0,i=(t||[]).length;e<i;++e)r=t[e],({position:o,options:{stack:s,stackWeight:a=1}}=r),n.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return n}(t),e=Ab(n.filter(u=>u.box.fullSize),!0),i=Ab(ub(n,"left"),!0),r=Ab(ub(n,"right")),o=Ab(ub(n,"top"),!0),s=Ab(ub(n,"bottom")),a=d9(n,"x"),l=d9(n,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:ub(n,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}(t.boxes),l=a.vertical,u=a.horizontal;Xr(t.boxes,D=>{"function"==typeof D.beforeLayout&&D.beforeLayout()});const d=l.reduce((D,I)=>I.box.options&&!1===I.box.options.display?D:D+1,0)||1,g=Object.freeze({outerWidth:n,outerHeight:e,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),y=Object.assign({},r);f9(y,Wa(i));const m=Object.assign({maxPadding:y,w:o,h:s,x:r.left,y:r.top},r),B=function jge(t,n){const e=function Vge(t){const n={};for(const e of t){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!A9.includes(r))continue;const s=n[i]||(n[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return n}(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=n;let o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];const{fullSize:l}=a.box,u=e[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*i:l&&n.availableWidth,a.height=r):(a.width=i,a.height=d?d*r:l&&n.availableHeight)}return e}(l.concat(u),g);db(a.fullSize,m,g,B),db(l,m,g,B),db(u,m,g,B)&&db(l,m,g,B),function Wge(t){const n=t.maxPadding;function e(i){const r=Math.max(n[i]-t[i],0);return t[i]+=r,r}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}(m),p9(a.leftAndTop,m,g,B),m.x+=m.w,m.y+=m.h,p9(a.rightAndBottom,m,g,B),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Xr(a.chartArea,D=>{const I=D.box;Object.assign(I,t.chartArea),I.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class g9{acquireContext(n,e){}releaseContext(n){return!1}addEventListener(n,e,i){}removeEventListener(n,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(n,e,i,r){return e=Math.max(0,e||n.width),i=i||n.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(n){return!0}updateConfig(n){}}class qge extends g9{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}const i5="$chartjs",Zge={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},m9=t=>null===t||""===t,v9=!!qpe&&{passive:!0};function Jge(t,n,e){t&&t.canvas&&t.canvas.removeEventListener(n,e,v9)}function r5(t,n){for(const e of t)if(e===n||e.contains(n))return!0}function tme(t,n,e){const i=t.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||r5(a.addedNodes,i),s=s&&!r5(a.removedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function nme(t,n,e){const i=t.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||r5(a.removedNodes,i),s=s&&!r5(a.addedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const hb=new Map;let _9=0;function y9(){const t=window.devicePixelRatio;t!==_9&&(_9=t,hb.forEach((n,e)=>{e.currentDevicePixelRatio!==t&&n()}))}function ome(t,n,e){const i=t.canvas,r=i&&IP(i);if(!r)return;const o=bH((a,l)=>{const u=r.clientWidth;e(a,l),u<r.clientWidth&&e()},window),s=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,d=l.contentRect.height;0===u&&0===d||o(u,d)});return s.observe(r),function ime(t,n){hb.size||window.addEventListener("resize",y9),hb.set(t,n)}(t,o),s}function QP(t,n,e){e&&e.disconnect(),"resize"===n&&function rme(t){hb.delete(t),hb.size||window.removeEventListener("resize",y9)}(t)}function sme(t,n,e){const i=t.canvas,r=bH(o=>{null!==t.ctx&&e(function eme(t,n){const e=Zge[t.type]||t.type,{x:i,y:r}=Fg(t,n);return{type:e,chart:n,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}(o,t))},t);return function Xge(t,n,e){t&&t.addEventListener(n,e,v9)}(i,n,r),r}class ame extends g9{acquireContext(n,e){const i=n&&n.getContext&&n.getContext("2d");return i&&i.canvas===n?(function Yge(t,n){const e=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[i5]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",m9(r)){const o=HH(t,"width");void 0!==o&&(t.width=o)}if(m9(i))if(""===t.style.height)t.height=t.width/(n||2);else{const o=HH(t,"height");void 0!==o&&(t.height=o)}}(n,e),i):null}releaseContext(n){const e=n.canvas;if(!e[i5])return!1;const i=e[i5].initial;["height","width"].forEach(o=>{const s=i[o];lr(s)?e.removeAttribute(o):e.setAttribute(o,s)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[i5],!0}addEventListener(n,e,i){this.removeEventListener(n,e),(n.$proxies||(n.$proxies={}))[e]=({attach:tme,detach:nme,resize:ome}[e]||sme)(n,e,i)}removeEventListener(n,e){const i=n.$proxies||(n.$proxies={}),r=i[e];r&&(({attach:QP,detach:QP,resize:QP}[e]||Jge)(n,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,e,i,r){return function $pe(t,n,e,i){const r=e5(t),o=kg(r,"margin"),s=Jx(r.maxWidth,t,"clientWidth")||Kx,a=Jx(r.maxHeight,t,"clientHeight")||Kx,l=function Wpe(t,n,e){let i,r;if(void 0===n||void 0===e){const o=t&&IP(t);if(o){const s=o.getBoundingClientRect(),a=e5(o),l=kg(a,"border","width"),u=kg(a,"padding");n=s.width-u.width-l.width,e=s.height-u.height-l.height,i=Jx(a.maxWidth,o,"clientWidth"),r=Jx(a.maxHeight,o,"clientHeight")}else n=t.clientWidth,e=t.clientHeight}return{width:n,height:e,maxWidth:i||Kx,maxHeight:r||Kx}}(t,n,e);let{width:u,height:d}=l;if("content-box"===r.boxSizing){const y=kg(r,"border","width"),m=kg(r,"padding");u-=m.width+y.width,d-=m.height+y.height}return u=Math.max(0,u-o.width),d=Math.max(0,i?u/i:d-o.height),u=Vf(Math.min(u,s,l.maxWidth)),d=Vf(Math.min(d,a,l.maxHeight)),u&&!d&&(d=Vf(u/2)),(void 0!==n||void 0!==e)&&i&&l.height&&d>l.height&&(d=l.height,u=Vf(Math.floor(d*i))),{width:u,height:d}}(n,e,i,r)}isAttached(n){const e=n&&IP(n);return!(!e||!e.isConnected)}}class eh{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){const{x:e,y:i}=this.getProps(["x","y"],n);return{x:e,y:i}}hasValue(){return O1(this.x)&&O1(this.y)}getProps(n,e){const i=this.$animations;if(!e||!i)return this;const r={};return n.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function o5(t,n,e,i,r){const o=ki(i,0),s=Math.min(ki(r,t.length),t.length);let l,u,d,a=0;for(e=Math.ceil(e),r&&(l=r-i,e=l/Math.floor(l/e)),d=o;d<0;)a++,d=Math.round(o+a*e);for(u=Math.max(o,0);u<s;u++)u===d&&(n.push(t[u]),a++,d=Math.round(o+a*e))}const b9=(t,n,e)=>"top"===n||"left"===n?t[n]+e:t[n]-e,w9=(t,n)=>Math.min(n||t,t);function C9(t,n){const e=[],i=t.length/n,r=t.length;let o=0;for(;o<r;o+=i)e.push(t[Math.floor(o)]);return e}function gme(t,n,e){const i=t.ticks.length,r=Math.min(n,i-1),o=t._startPixel,s=t._endPixel,a=1e-6;let u,l=t.getPixelForTick(r);if(!(e&&(u=1===i?Math.max(l-o,s-l):0===n?(t.getPixelForTick(1)-l)/2:(l-t.getPixelForTick(r-1))/2,l+=r<n?u:-u,l<o-a||l>s+a)))return l}function fb(t){return t.drawTicks?t.tickLength:0}function x9(t,n){if(!t.display)return 0;const e=Ws(t.font,n),i=Wa(t.padding);return(xo(t.text)?t.text.length:1)*e.lineHeight+i.height}function yme(t,n,e){let i=yP(t);return(e&&"right"!==n||!e&&"right"===n)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class Ng extends eh{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,e){return n}getUserBounds(){let{_userMin:n,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return n=yc(n,Number.POSITIVE_INFINITY),e=yc(e,Number.NEGATIVE_INFINITY),i=yc(i,Number.POSITIVE_INFINITY),r=yc(r,Number.NEGATIVE_INFINITY),{min:yc(n,i),max:yc(e,r),minDefined:qo(n),maxDefined:qo(e)}}getMinMax(n){let s,{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)s=a[l].controller.getMinMax(this,n),r||(e=Math.min(e,s.min)),o||(i=Math.max(i,s.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:yc(e,yc(i,e)),max:yc(i,yc(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){po(this.options.beforeUpdate,[this])}update(n,e,i){const{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Bpe(t,n,e){const{min:i,max:r}=t,o=lH(n,(r-i)/2),s=(a,l)=>e&&0===a?0:a+l;return{min:s(i,-Math.abs(o)),max:s(r,o)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?C9(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function cme(t,n){const e=t.options.ticks,i=function ume(t){const n=t.options.offset,e=t._tickSize();return Math.floor(Math.min(t._length/e+(n?0:1),t._maxLength/e))}(t),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?function dme(t){const n=[];let e,i;for(e=0,i=t.length;e<i;e++)t[e].major&&n.push(e);return n}(n):[],s=o.length,a=o[0],l=o[s-1],u=[];if(s>r)return function hme(t,n,e,i){let s,r=0,o=e[0];for(i=Math.ceil(i),s=0;s<t.length;s++)s===o&&(n.push(t[s]),r++,o=e[r*i])}(n,u,o,s/r),u;const d=function Ame(t,n,e){const i=function fme(t){const n=t.length;let e,i;if(n<2)return!1;for(i=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==i)return!1;return i}(t),r=n.length/e;if(!i)return Math.max(r,1);const o=function Yfe(t){const n=[],e=Math.sqrt(t);let i;for(i=1;i<e;i++)t%i==0&&(n.push(i),n.push(t/i));return e===(0|e)&&n.push(e),n.sort((r,o)=>r-o).pop(),n}(i);for(let s=0,a=o.length-1;s<a;s++){const l=o[s];if(l>r)return l}return Math.max(r,1)}(o,n,r);if(s>0){let g,y;const m=s>1?Math.round((l-a)/(s-1)):null;for(o5(n,u,d,lr(m)?0:a-m,a),g=0,y=s-1;g<y;g++)o5(n,u,d,o[g],o[g+1]);return o5(n,u,d,l,lr(m)?n.length:l+m),u}return o5(n,u,d),u}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,n=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,n=!n),this._startPixel=e,this._endPixel=i,this._reversePixels=n,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){po(this.options.afterUpdate,[this])}beforeSetDimensions(){po(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){po(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),po(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){po(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){const e=this.options.ticks;let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i],o.label=po(e.callback,[o.value,i,n],this)}afterTickToLabelConversion(){po(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){po(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const n=this.options,e=n.ticks,i=w9(this.ticks.length,n.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let a,l,u,s=r;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const d=this._getLabelSizes(),g=d.widest.width,y=d.highest.height,m=aa(this.chart.width-g,0,this.maxWidth);a=n.offset?this.maxWidth/i:m/(i-1),g+6>a&&(a=m/(i-(n.offset?.5:1)),l=this.maxHeight-fb(n.grid)-e.padding-x9(n.title,this.chart.options.font),u=Math.sqrt(g*g+y*y),s=mP(Math.min(Math.asin(aa((d.highest.height+6)/a,-1,1)),Math.asin(aa(l/u,-1,1))-Math.asin(aa(y/u,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){po(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){po(this.options.beforeFit,[this])}fit(){const n={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const l=x9(r,e.options.font);if(a?(n.width=this.maxWidth,n.height=fb(o)+l):(n.height=this.maxHeight,n.width=fb(o)+l),i.display&&this.ticks.length){const{first:u,last:d,widest:g,highest:y}=this._getLabelSizes(),m=2*i.padding,B=ju(this.labelRotation),D=Math.cos(B),I=Math.sin(B);a?n.height=Math.min(this.maxHeight,n.height+(i.mirror?0:I*g.width+D*y.height)+m):n.width=Math.min(this.maxWidth,n.width+(i.mirror?0:D*g.width+I*y.height)+m),this._calculatePadding(u,d,I,D)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,e,i,r){const{ticks:{align:o,padding:s},position:a}=this.options,l=0!==this.labelRotation,u="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,m=0;l?u?(y=r*n.width,m=i*e.height):(y=i*n.height,m=r*e.width):"start"===o?m=e.width:"end"===o?y=n.width:"inner"!==o&&(y=n.width/2,m=e.width/2),this.paddingLeft=Math.max((y-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-g+s)*this.width/(this.width-g),0)}else{let d=e.height/2,g=n.height/2;"start"===o?(d=0,g=n.height):"end"===o&&(d=e.height,g=0),this.paddingTop=d+s,this.paddingBottom=g+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){po(this.options.afterFit,[this])}isHorizontal(){const{axis:n,position:e}=this.options;return"top"===e||"bottom"===e||"x"===n}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(n),e=0,i=n.length;e<i;e++)lr(n[e].label)&&(n.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=C9(i,e)),this._labelSizes=n=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,e,i){const{ctx:r,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(e/w9(e,i));let g,y,m,B,D,I,F,R,H,z,ie,u=0,d=0;for(g=0;g<e;g+=l){if(B=n[g].label,D=this._resolveTickFontOptions(g),r.font=I=D.string,F=o[I]=o[I]||{data:{},gc:[]},R=D.lineHeight,H=z=0,lr(B)||xo(B)){if(xo(B))for(y=0,m=B.length;y<m;++y)ie=B[y],!lr(ie)&&!xo(ie)&&(H=qx(r,F.data,F.gc,H,ie),z+=R)}else H=qx(r,F.data,F.gc,H,B),z=R;s.push(H),a.push(z),u=Math.max(H,u),d=Math.max(z,d)}!function mme(t,n){Xr(t,e=>{const i=e.gc,r=i.length/2;let o;if(r>n){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}(o,e);const be=s.indexOf(u),Be=a.indexOf(d),se=te=>({width:s[te]||0,height:a[te]||0});return{first:se(0),last:se(e-1),widest:se(be),highest:se(Be),widths:s,heights:a}}getLabelForValue(n){return n}getPixelForValue(n,e){return NaN}getValueForPixel(n){}getPixelForTick(n){const e=this.ticks;return n<0||n>e.length-1?null:this.getPixelForValue(e[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);const e=this._startPixel+n*this._length;return function tpe(t){return aa(t,-32768,32767)}(this._alignToPixels?Pg(this.chart,e,0):e)}getDecimalForPixel(n){const e=(n-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:n,max:e}=this;return n<0&&e<0?e:n>0&&e>0?n:0}getContext(n){const e=this.ticks||[];if(n>=0&&n<e.length){const i=e[n];return i.$context||(i.$context=function _me(t,n,e){return zf(t,{tick:e,index:n,type:"tick"})}(this.getContext(),n,i))}return this.$context||(this.$context=function vme(t,n){return zf(t,{scale:n,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const n=this.options.ticks,e=ju(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),s=n.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const n=this.options.display;return"auto"!==n?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:s,border:a}=r,l=o.offset,u=this.isHorizontal(),g=this.ticks.length+(l?1:0),y=fb(o),m=[],B=a.setContext(this.getContext()),D=B.display?B.width:0,I=D/2,F=function(Le){return Pg(i,Le,D)};let R,H,z,ie,be,Be,se,te,Re,G,J,Ee;if("top"===s)R=F(this.bottom),Be=this.bottom-y,te=R-I,G=F(n.top)+I,Ee=n.bottom;else if("bottom"===s)R=F(this.top),G=n.top,Ee=F(n.bottom)-I,Be=R+I,te=this.top+y;else if("left"===s)R=F(this.right),be=this.right-y,se=R-I,Re=F(n.left)+I,J=n.right;else if("right"===s)R=F(this.left),Re=n.left,J=F(n.right)-I,be=R+I,se=this.left+y;else if("x"===e){if("center"===s)R=F((n.top+n.bottom)/2+.5);else if(Ar(s)){const Le=Object.keys(s)[0];R=F(this.chart.scales[Le].getPixelForValue(s[Le]))}G=n.top,Ee=n.bottom,Be=R+I,te=Be+y}else if("y"===e){if("center"===s)R=F((n.left+n.right)/2);else if(Ar(s)){const Le=Object.keys(s)[0];R=F(this.chart.scales[Le].getPixelForValue(s[Le]))}be=R-I,se=be-y,Re=n.left,J=n.right}const Se=ki(r.ticks.maxTicksLimit,g),tt=Math.max(1,Math.ceil(g/Se));for(H=0;H<g;H+=tt){const Le=this.getContext(H),ze=o.setContext(Le),Ue=a.setContext(Le),et=ze.lineWidth,Qt=ze.color,kt=Ue.dash||[],W=Ue.dashOffset,pe=ze.tickWidth,ye=ze.tickColor,Qe=ze.tickBorderDash||[],$e=ze.tickBorderDashOffset;z=gme(this,H,l),void 0!==z&&(ie=Pg(i,z,et),u?be=se=Re=J=ie:Be=te=G=Ee=ie,m.push({tx1:be,ty1:Be,tx2:se,ty2:te,x1:Re,y1:G,x2:J,y2:Ee,width:et,color:Qt,borderDash:kt,borderDashOffset:W,tickWidth:pe,tickColor:ye,tickBorderDash:Qe,tickBorderDashOffset:$e}))}return this._ticksLength=g,this._borderValue=R,m}_computeLabelItems(n){const e=this.axis,i=this.options,{position:r,ticks:o}=i,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:g}=o,y=fb(i.grid),m=y+d,B=g?-d:m,D=-ju(this.labelRotation),I=[];let F,R,H,z,ie,be,Be,se,te,Re,G,J,Ee="middle";if("top"===r)be=this.bottom-B,Be=this._getXAxisLabelAlignment();else if("bottom"===r)be=this.top+B,Be=this._getXAxisLabelAlignment();else if("left"===r){const tt=this._getYAxisLabelAlignment(y);Be=tt.textAlign,ie=tt.x}else if("right"===r){const tt=this._getYAxisLabelAlignment(y);Be=tt.textAlign,ie=tt.x}else if("x"===e){if("center"===r)be=(n.top+n.bottom)/2+m;else if(Ar(r)){const tt=Object.keys(r)[0];be=this.chart.scales[tt].getPixelForValue(r[tt])+m}Be=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)ie=(n.left+n.right)/2-m;else if(Ar(r)){const tt=Object.keys(r)[0];ie=this.chart.scales[tt].getPixelForValue(r[tt])}Be=this._getYAxisLabelAlignment(y).textAlign}"y"===e&&("start"===l?Ee="top":"end"===l&&(Ee="bottom"));const Se=this._getLabelSizes();for(F=0,R=a.length;F<R;++F){H=a[F],z=H.label;const tt=o.setContext(this.getContext(F));se=this.getPixelForTick(F)+o.labelOffset,te=this._resolveTickFontOptions(F),Re=te.lineHeight,G=xo(z)?z.length:1;const Le=G/2,ze=tt.color,Ue=tt.textStrokeColor,et=tt.textStrokeWidth;let kt,Qt=Be;if(s?(ie=se,"inner"===Be&&(Qt=F===R-1?this.options.reverse?"left":"right":0===F?this.options.reverse?"right":"left":"center"),J="top"===r?"near"===u||0!==D?-G*Re+Re/2:"center"===u?-Se.highest.height/2-Le*Re+Re:Re/2-Se.highest.height:"near"===u||0!==D?Re/2:"center"===u?Se.highest.height/2-Le*Re:Se.highest.height-G*Re,g&&(J*=-1),0!==D&&!tt.showLabelBackdrop&&(ie+=Re/2*Math.sin(D))):(be=se,J=(1-G)*Re/2),tt.showLabelBackdrop){const W=Wa(tt.backdropPadding),pe=Se.heights[F],ye=Se.widths[F];let Qe=J-W.top,$e=0-W.left;switch(Ee){case"middle":Qe-=pe/2;break;case"bottom":Qe-=pe}switch(Be){case"center":$e-=ye/2;break;case"right":$e-=ye;break;case"inner":F===R-1?$e-=ye:F>0&&($e-=ye/2)}kt={left:$e,top:Qe,width:ye+W.width,height:pe+W.height,color:tt.backdropColor}}I.push({label:z,font:te,textOffset:J,options:{rotation:D,color:ze,strokeColor:Ue,strokeWidth:et,textAlign:Qt,textBaseline:Ee,translation:[ie,be],backdrop:kt}})}return I}_getXAxisLabelAlignment(){const{position:n,ticks:e}=this.options;if(-ju(this.labelRotation))return"top"===n?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(n){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,a=n+o,l=this._getLabelSizes().widest.width;let u,d;return"left"===e?r?(d=this.right+o,"near"===i?u="left":"center"===i?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,"near"===i?u="right":"center"===i?(u="center",d-=l/2):(u="left",d=this.left)):"right"===e?r?(d=this.left+o,"near"===i?u="right":"center"===i?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,"near"===i?u="left":"center"===i?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const n=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:n.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:n.width}:void 0}drawBackground(){const{ctx:n,options:{backgroundColor:e},left:i,top:r,width:o,height:s}=this;e&&(n.save(),n.fillStyle=e,n.fillRect(i,r,o,s),n.restore())}getLineWidthForValue(n){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===n);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(n){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n));let o,s;const a=(l,u,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(e.display)for(o=0,s=r.length;o<s;++o){const l=r[o];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:n,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),s=i.display?o.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,g,y;this.isHorizontal()?(u=Pg(n,this.left,s)-s/2,d=Pg(n,this.right,a)+a/2,g=y=l):(g=Pg(n,this.top,s)-s/2,y=Pg(n,this.bottom,a)+a/2,u=d=l),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(u,g),e.lineTo(d,y),e.stroke(),e.restore()}drawLabels(n){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Zx(i,r);const o=this.getLabelItems(n);for(const s of o)Ig(i,s.label,0,s.textOffset,s.font,s.options);r&&Yx(i)}drawTitle(){const{ctx:n,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=Ws(i.font),s=Wa(i.padding),a=i.align;let l=o.lineHeight/2;"bottom"===e||"center"===e||Ar(e)?(l+=s.bottom,xo(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=s.top;const{titleX:u,titleY:d,maxWidth:g,rotation:y}=function bme(t,n,e,i){const{top:r,left:o,bottom:s,right:a,chart:l}=t,{chartArea:u,scales:d}=l;let y,m,B,g=0;const D=s-r,I=a-o;if(t.isHorizontal()){if(m=Ka(i,o,a),Ar(e)){const F=Object.keys(e)[0];B=d[F].getPixelForValue(e[F])+D-n}else B="center"===e?(u.bottom+u.top)/2+D-n:b9(t,e,n);y=a-o}else{if(Ar(e)){const F=Object.keys(e)[0];m=d[F].getPixelForValue(e[F])-I+n}else m="center"===e?(u.left+u.right)/2-I+n:b9(t,e,n);B=Ka(i,s,r),g="left"===e?-hs:hs}return{titleX:m,titleY:B,maxWidth:y,rotation:g}}(this,l,e,a);Ig(n,i.text,0,0,o,{color:i.color,maxWidth:g,rotation:y,textAlign:yme(a,e,r),textBaseline:"middle",translation:[u,d]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){const n=this.options,e=n.ticks&&n.ticks.z||0,i=ki(n.grid&&n.grid.z,-1),r=ki(n.border&&n.border.z,0);return this._isVisible()&&this.draw===Ng.prototype.draw?[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]:[{z:e,draw:o=>{this.draw(o)}}]}getMatchingVisibleMetas(n){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,s;for(o=0,s=e.length;o<s;++o){const a=e[o];a[i]===this.id&&(!n||a.type===n)&&r.push(a)}return r}_resolveTickFontOptions(n){return Ws(this.options.ticks.setContext(this.getContext(n)).font)}_maxDigits(){const n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class s5{constructor(n,e,i){this.type=n,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){const e=Object.getPrototypeOf(n);let i;(function xme(t){return"id"in t&&"defaults"in t})(e)&&(i=this.register(e));const r=this.items,o=n.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+n);return o in r||(r[o]=n,function wme(t,n,e){const i=Xy(Object.create(null),[e?Fo.get(e):{},Fo.get(n),t.defaults]);Fo.set(n,i),t.defaultRoutes&&function Cme(t,n){Object.keys(n).forEach(e=>{const i=e.split("."),r=i.pop(),o=[t].concat(i).join("."),s=n[e].split("."),a=s.pop(),l=s.join(".");Fo.route(o,r,l,a)})}(n,t.defaultRoutes),t.descriptors&&Fo.describe(n,t.descriptors)}(n,s,i),this.override&&Fo.override(n.id,n.overrides)),s}get(n){return this.items[n]}unregister(n){const e=this.items,i=n.id,r=this.scope;i in e&&delete e[i],r&&i in Fo[r]&&(delete Fo[r][i],this.override&&delete Eg[i])}}class Mme{constructor(){this.controllers=new s5(jf,"datasets",!0),this.elements=new s5(eh,"elements"),this.plugins=new s5(Object,"plugins"),this.scales=new s5(Ng,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(n,o,r):Xr(r,s=>{const a=i||this._getRegistryForType(s);this._exec(n,a,s)})})}_exec(n,e,i){const r=gP(n);po(i["before"+r],[],i),e[n](i),po(i["after"+r],[],i)}_getRegistryForType(n){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(n))return i}return this.plugins}_get(n,e,i){const r=e.get(n);if(void 0===r)throw new Error('"'+n+'" is not a registered '+i+".");return r}}var HA=new Mme;class Bme{constructor(){this._init=void 0}notify(n,e,i,r){if("beforeInit"===e&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install")),void 0===this._init)return;const o=r?this._descriptors(n).filter(r):this._descriptors(n),s=this._notify(o,n,e,i);return"afterDestroy"===e&&(this._notify(o,n,"stop"),this._notify(this._init,n,"uninstall"),this._init=void 0),s}_notify(n,e,i,r){r=r||{};for(const o of n){const s=o.plugin;if(!1===po(s[i],[e,r,o.options],s)&&r.cancelable)return!1}return!0}invalidate(){lr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),e}_createDescriptors(n,e){const i=n&&n.config,r=ki(i.options&&i.options.plugins,{}),o=function Dme(t){const n={},e=[],i=Object.keys(HA.plugins.items);for(let o=0;o<i.length;o++)e.push(HA.getPlugin(i[o]));const r=t.plugins||[];for(let o=0;o<r.length;o++){const s=r[o];-1===e.indexOf(s)&&(e.push(s),n[s.id]=!0)}return{plugins:e,localIds:n}}(i);return!1!==r||e?function Eme(t,{plugins:n,localIds:e},i,r){const o=[],s=t.getContext();for(const a of n){const l=a.id,u=Sme(i[l],r);null!==u&&o.push({plugin:a,options:Pme(t.config,{plugin:a,local:e[l]},u,s)})}return o}(n,o,r,e):[]}_notifyStateChanges(n){const e=this._oldCache||[],i=this._cache,r=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(r(e,i),n,"stop"),this._notify(r(i,e),n,"start")}}function Sme(t,n){return n||!1!==t?!0===t?{}:t:null}function Pme(t,{plugin:n,local:e},i,r){const o=t.pluginScopeKeys(n),s=t.getOptionScopes(i,o);return e&&n.defaults&&s.push(n.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function HP(t,n){return((n.datasets||{})[t]||{}).indexAxis||n.indexAxis||(Fo.datasets[t]||{}).indexAxis||"x"}function M9(t){if("x"===t||"y"===t||"r"===t)return t}function kme(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function zP(t,...n){if(M9(t))return t;for(const e of n){const i=e.axis||kme(e.position)||t.length>1&&M9(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function B9(t,n,e){if(e[n+"AxisID"]===t)return{axis:n}}function D9(t){const n=t.options||(t.options={});n.plugins=ki(n.plugins,{}),n.scales=function Tme(t,n){const e=Eg[t.type]||{scales:{}},i=n.scales||{},r=HP(t.type,n),o=Object.create(null);return Object.keys(i).forEach(s=>{const a=i[s];if(!Ar(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=zP(s,a,function Fme(t,n){if(n.data&&n.data.datasets){const e=n.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(e.length)return B9(t,"x",e[0])||B9(t,"y",e[0])}return{}}(s,t),Fo.scales[a.type]),u=function Ome(t,n){return t===n?"_index_":"_value_"}(l,r),d=e.scales||{};o[s]=Jy(Object.create(null),[{axis:l},a,d[l],d[u]])}),t.data.datasets.forEach(s=>{const a=s.type||t.type,l=s.indexAxis||HP(a,n),d=(Eg[a]||{}).scales||{};Object.keys(d).forEach(g=>{const y=function Ime(t,n){let e=t;return"_index_"===t?e=n:"_value_"===t&&(e="x"===n?"y":"x"),e}(g,l),m=s[y+"AxisID"]||y;o[m]=o[m]||Object.create(null),Jy(o[m],[{axis:y},i[m],d[g]])})}),Object.keys(o).forEach(s=>{const a=o[s];Jy(a,[Fo.scales[a.type],Fo.scale])}),o}(t,n)}function S9(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const E9=new Map,P9=new Set;function a5(t,n){let e=E9.get(t);return e||(e=n(),E9.set(t,e),P9.add(e)),e}const pb=(t,n,e)=>{const i=Uf(n,e);void 0!==i&&t.add(i)};class Nme{constructor(n){this._config=function Lme(t){return(t=t||{}).data=S9(t.data),D9(t),t}(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=S9(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){const n=this._config;this.clearCache(),D9(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return a5(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,e){return a5(`${n}.transition.${e}`,()=>[[`datasets.${n}.transitions.${e}`,`transitions.${e}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,e){return a5(`${n}-${e}`,()=>[[`datasets.${n}.elements.${e}`,`datasets.${n}`,`elements.${e}`,""]])}pluginScopeKeys(n){const e=n.id;return a5(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,e){const i=this._scopeCache;let r=i.get(n);return(!r||e)&&(r=new Map,i.set(n,r)),r}getOptionScopes(n,e,i){const{options:r,type:o}=this,s=this._cachedScopes(n,i),a=s.get(e);if(a)return a;const l=new Set;e.forEach(d=>{n&&(l.add(n),d.forEach(g=>pb(l,n,g))),d.forEach(g=>pb(l,r,g)),d.forEach(g=>pb(l,Eg[o]||{},g)),d.forEach(g=>pb(l,Fo,g)),d.forEach(g=>pb(l,CP,g))});const u=Array.from(l);return 0===u.length&&u.push(Object.create(null)),P9.has(e)&&s.set(e,u),u}chartOptionScopes(){const{options:n,type:e}=this;return[n,Eg[e]||{},Fo.datasets[e]||{},{type:e},Fo,CP]}resolveNamedOptions(n,e,i,r=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=I9(this._resolverCache,n,r);let l=s;(function Ume(t,n){const{isScriptable:e,isIndexable:i}=OH(t);for(const r of n){const o=e(r),s=i(r),a=(s||o)&&t[r];if(o&&(Qf(a)||Rme(a))||s&&xo(a))return!0}return!1})(s,e)&&(o.$shared=!1,l=k1(s,i=Qf(i)?i():i,this.createResolver(n,i,a)));for(const u of e)o[u]=l[u];return o}createResolver(n,e,i=[""],r){const{resolver:o}=I9(this._resolverCache,n,i);return Ar(e)?k1(o,e,void 0,r):o}}function I9(t,n,e){let i=t.get(n);i||(i=new Map,t.set(n,i));const r=e.join();let o=i.get(r);return o||(o={resolver:DP(n,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,o)),o}const Rme=t=>Ar(t)&&Object.getOwnPropertyNames(t).some(n=>Qf(t[n])),Hme=["top","bottom","left","right","chartArea"];function O9(t,n){return"top"===t||"bottom"===t||-1===Hme.indexOf(t)&&"x"===n}function k9(t,n){return function(e,i){return e[t]===i[t]?e[n]-i[n]:e[t]-i[t]}}function F9(t){const n=t.chart,e=n.options.animation;n.notifyPlugins("afterRender"),po(e&&e.onComplete,[t],n)}function zme(t){const n=t.chart,e=n.options.animation;po(e&&e.onProgress,[t],n)}function T9(t){return PP()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const l5={},L9=t=>{const n=T9(t);return Object.values(l5).filter(e=>e.canvas===n).pop()};function Vme(t,n,e){const i=Object.keys(t);for(const r of i){const o=+r;if(o>=n){const s=t[r];delete t[r],(e>0||o>n)&&(t[o+e]=s)}}}let VP=(()=>class t{static defaults=Fo;static instances=l5;static overrides=Eg;static registry=HA;static version="4.5.1";static getChart=L9;static register(...e){HA.add(...e),N9()}static unregister(...e){HA.remove(...e),N9()}constructor(e,i){const r=this.config=new Nme(i),o=T9(e),s=L9(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function lme(t){return!PP()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?qge:ame}(o)),this.platform.updateConfig(r);const l=this.platform.acquireContext(o,a.aspectRatio),u=l&&l.canvas,d=u&&u.height,g=u&&u.width;this.id=zfe(),this.ctx=l,this.canvas=u,this.width=g,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Bme,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function ope(t,n){let e;return function(...i){return n?(clearTimeout(e),e=setTimeout(t,n,i)):t.apply(this,i),n}}(y=>this.update(y),a.resizeDelay||0),this._dataChanges=[],l5[this.id]=this,l&&u?(Jd.listen(this,"complete",F9),Jd.listen(this,"progress",zme),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:r,height:o,_aspectRatio:s}=this;return lr(e)?i&&s?s:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return HA}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():QH(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return EH(this.canvas,this.ctx),this}stop(){return Jd.stop(this),this}resize(e,i){Jd.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const r=this.options,a=this.platform.getMaximumSize(this.canvas,e,i,r.maintainAspectRatio&&this.aspectRatio),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,QH(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),po(r.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){Xr(this.options.scales||{},(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,i=e.scales,r=this.scales,o=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let s=[];i&&(s=s.concat(Object.keys(i).map(a=>{const l=i[a],u=zP(a,l),d="r"===u,g="x"===u;return{options:l,dposition:d?"chartArea":g?"bottom":"left",dtype:d?"radialLinear":g?"category":"linear"}}))),Xr(s,a=>{const l=a.options,u=l.id,d=zP(u,l),g=ki(l.type,a.dtype);(void 0===l.position||O9(l.position,d)!==O9(a.dposition))&&(l.position=a.dposition),o[u]=!0;let y=null;u in r&&r[u].type===g?y=r[u]:(y=new(HA.getScale(g))({id:u,type:g,ctx:this.ctx,chart:this}),r[y.id]=y),y.init(l,e)}),Xr(o,(a,l)=>{a||delete r[l]}),Xr(r,a=>{$a.configure(this,a,a.options),$a.addBox(this,a)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,r=e.length;if(e.sort((o,s)=>o.index-s.index),r>i){for(let o=i;o<r;++o)this._destroyDatasetMeta(o);e.splice(i,r-i)}this._sortedMetasets=e.slice(0).sort(k9("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((r,o)=>{0===i.filter(s=>s===r._dataset).length&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=i.length;r<o;r++){const s=i[r];let a=this.getDatasetMeta(r);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||HP(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const u=HA.getController(l),{datasetElementType:d,dataElementType:g}=Fo.datasets[l];Object.assign(u,{dataElementType:HA.getElement(g),datasetElementType:d&&HA.getElement(d)}),a.controller=new u(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Xr(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,g=this.data.datasets.length;d<g;d++){const{controller:y}=this.getDatasetMeta(d),m=!o&&-1===s.indexOf(y);y.buildOrUpdateElements(m),a=Math.max(+y.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||Xr(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(k9("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Xr(this.scales,e=>{$a.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!AH(i,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:s}of i)Vme(e,o,"_removeElements"===r?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<i;s++)if(!AH(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;$a.update(this,this.width,this.height,e);const i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],Xr(this.boxes,o=>{r&&"chartArea"===o.position||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Qf(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(r.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Jd.has(this)?this.attached&&!Jd.running(this)&&Jd.start(this):(this.draw(),F9({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,r=[];let o,s;for(o=0,s=i.length;o<s;++o){const a=i[o];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,r={meta:e,index:e.index,cancelable:!0},o=ZH(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(o&&Zx(i,o),e.controller.draw(),o&&Yx(i),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Xd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,r,o){const s=Hge.modes[i];return"function"==typeof s?s(this,e,r,o):[]}getDatasetMeta(e){const i=this.data.datasets[e],r=this._metasets;let o=r.filter(s=>s&&s._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=zf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!i.hidden}setDatasetVisibility(e,i){this.getDatasetMeta(e).hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,r){const o=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,o);eb(i)?(s.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Jd.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),EH(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete l5[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,r=(s,a)=>{i.addEventListener(this,s,a),e[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Xr(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,r=(u,d)=>{i.addEventListener(this,u,d),e[u]=d},o=(u,d)=>{e[u]&&(i.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const l=()=>{o("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){Xr(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Xr(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,r){const o=r?"set":"remove";let s,a,l,u;for("dataset"===i&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!jx(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(e,i,r){return this._plugins.notify(this,e,i,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(i=>i.plugin.id===e).length}_updateHoverStyles(e,i,r){const o=this.options.hover,s=(u,d)=>u.filter(g=>!d.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),a=s(i,e),l=r?e:s(e,i);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,i){const r={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,o))return;const s=this._handleEvent(e,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(e,i,r){const{_active:o=[],options:s}=this,l=this._getActiveElements(e,o,r,i),u=function $fe(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(e),d=function jme(t,n,e,i){return e&&"mouseout"!==t.type?i?n:t:null}(e,this._lastEvent,r,u);r&&(this._lastEvent=null,po(s.onHover,[e,l,this],this),u&&po(s.onClick,[e,l,this],this));const g=!jx(l,o);return(g||i)&&(this._active=l,this._updateHoverStyles(l,o,i)),this._lastEvent=d,g}_getActiveElements(e,i,r,o){if("mouseout"===e.type)return[];if(!r)return i;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}})();function N9(){return Xr(VP.instances,t=>t._plugins.invalidate())}function L1(t,n,e,i){return{x:e+t*Math.cos(n),y:i+t*Math.sin(n)}}function c5(t,n,e,i,r,o){const{x:s,y:a,startAngle:l,pixelMargin:u,innerRadius:d}=n,g=Math.max(n.outerRadius+i+e-u,0),y=d>0?d+i+e+u:0;let m=0;const B=r-l;if(i){const ze=((d>0?d-i:0)+(g>0?g-i:0))/2;m=(B-(0!==ze?B*ze/(ze+i):B))/2}const I=(B-Math.max(.001,B*g-e/kr)/g)/2,F=l+I+m,R=r-I-m,{outerStart:H,outerEnd:z,innerStart:ie,innerEnd:be}=function $me(t,n,e,i){const r=function Wme(t){return BP(t,["outerStart","outerEnd","innerStart","innerEnd"])}(t.options.borderRadius),o=(e-n)/2,s=Math.min(o,i*n/2),a=l=>{const u=(e-Math.min(o,l))*i/2;return aa(l,0,Math.min(o,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:aa(r.innerStart,0,s),innerEnd:aa(r.innerEnd,0,s)}}(n,y,g,R-F),Be=g-H,se=g-z,te=F+H/Be,Re=R-z/se,G=y+ie,J=y+be,Ee=F+ie/G,Se=R-be/J;if(t.beginPath(),o){const tt=(te+Re)/2;if(t.arc(s,a,g,te,tt),t.arc(s,a,g,tt,Re),z>0){const et=L1(se,Re,s,a);t.arc(et.x,et.y,z,Re,R+hs)}const Le=L1(J,R,s,a);if(t.lineTo(Le.x,Le.y),be>0){const et=L1(J,Se,s,a);t.arc(et.x,et.y,be,R+hs,Se+Math.PI)}const ze=(R-be/y+(F+ie/y))/2;if(t.arc(s,a,y,R-be/y,ze,!0),t.arc(s,a,y,ze,F+ie/y,!0),ie>0){const et=L1(G,Ee,s,a);t.arc(et.x,et.y,ie,Ee+Math.PI,F-hs)}const Ue=L1(Be,F,s,a);if(t.lineTo(Ue.x,Ue.y),H>0){const et=L1(Be,te,s,a);t.arc(et.x,et.y,H,F-hs,te)}}else{t.moveTo(s,a);const tt=Math.cos(te)*g+s,Le=Math.sin(te)*g+a;t.lineTo(tt,Le);const ze=Math.cos(Re)*g+s,Ue=Math.sin(Re)*g+a;t.lineTo(ze,Ue)}t.closePath()}function R9(t,n,e=n){t.lineCap=ki(e.borderCapStyle,n.borderCapStyle),t.setLineDash(ki(e.borderDash,n.borderDash)),t.lineDashOffset=ki(e.borderDashOffset,n.borderDashOffset),t.lineJoin=ki(e.borderJoinStyle,n.borderJoinStyle),t.lineWidth=ki(e.borderWidth,n.borderWidth),t.strokeStyle=ki(e.borderColor,n.borderColor)}function Xme(t,n,e){t.lineTo(e.x,e.y)}function U9(t,n,e={}){const i=t.length,{start:r=0,end:o=i-1}=e,{start:s,end:a}=n,l=Math.max(r,s),u=Math.min(o,a);return{count:i,start:l,loop:n.loop,ilen:u<l&&!(r<s&&o<s||r>a&&o>a)?i+u-l:u-l}}function e0e(t,n,e,i){const{points:r,options:o}=n,{count:s,start:a,loop:l,ilen:u}=U9(r,e,i),d=function Jme(t){return t.stepped?mpe:t.tension||"monotone"===t.cubicInterpolationMode?vpe:Xme}(o);let m,B,D,{move:g=!0,reverse:y}=i||{};for(m=0;m<=u;++m)B=r[(a+(y?u-m:m))%s],!B.skip&&(g?(t.moveTo(B.x,B.y),g=!1):d(t,D,B,y,o.stepped),D=B);return l&&(B=r[(a+(y?u:0))%s],d(t,D,B,y,o.stepped)),!!l}function t0e(t,n,e,i){const r=n.points,{count:o,start:s,ilen:a}=U9(r,e,i),{move:l=!0,reverse:u}=i||{};let y,m,B,D,I,F,d=0,g=0;const R=z=>(s+(u?a-z:z))%o,H=()=>{D!==I&&(t.lineTo(d,I),t.lineTo(d,D),t.lineTo(d,F))};for(l&&(m=r[R(0)],t.moveTo(m.x,m.y)),y=0;y<=a;++y){if(m=r[R(y)],m.skip)continue;const z=m.x,ie=m.y,be=0|z;be===B?(ie<D?D=ie:ie>I&&(I=ie),d=(g*d+z)/++g):(H(),t.lineTo(z,ie),B=be,g=0,D=I=ie),F=ie}H()}function jP(t){const n=t.options;return t._decimated||t._loop||n.tension||"monotone"===n.cubicInterpolationMode||n.stepped||n.borderDash&&n.borderDash.length?e0e:t0e}const o0e="function"==typeof Path2D;let u5=(()=>class t extends eh{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(zpe(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function ige(t,n){const e=t.points,i=t.options.spanGaps,r=e.length;if(!r)return[];const o=!!t._loop,{start:s,end:a}=function tge(t,n,e,i){let r=0,o=n-1;if(e&&!i)for(;r<n&&!t[r].skip;)r++;for(;r<n&&t[r].skip;)r++;for(r%=n,e&&(o+=r);o>r&&t[o%n].skip;)o--;return o%=n,{start:r,end:o}}(e,r,o,i);return function $H(t,n,e,i){return i&&i.setContext&&e?function rge(t,n,e,i){const r=t._chart.getContext(),o=qH(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,l=e.length,u=[];let d=o,g=n[0].start,y=g;function m(B,D,I,F){const R=a?-1:1;if(B!==D){for(B+=l;e[B%l].skip;)B-=R;for(;e[D%l].skip;)D+=R;B%l!=D%l&&(u.push({start:B%l,end:D%l,loop:I,style:F}),d=F,g=D%l)}}for(const B of n){g=a?g:B.start;let I,D=e[g%l];for(y=g+1;y<=B.end;y++){const F=e[y%l];I=qH(i.setContext(zf(r,{type:"segment",p0:D,p1:F,p0DataIndex:(y-1)%l,p1DataIndex:y%l,datasetIndex:s}))),oge(I,d)&&m(g,y-1,B.loop,d),D=F,d=I}g<y-1&&m(g,y-1,B.loop,d)}return u}(t,n,e,i):n}(t,!0===i?[{start:s,end:a,loop:o}]:function nge(t,n,e,i){const r=t.length,o=[];let l,s=n,a=t[n];for(l=n+1;l<=e;++l){const u=t[l%r];u.skip||u.stop?a.skip||(o.push({start:n%r,end:(l-1)%r,loop:i=!1}),n=s=u.stop?l:null):(s=l,a.skip&&(n=l)),a=u}return null!==s&&o.push({start:n%r,end:s%r,loop:i}),o}(e,s,a<s?a+r:a,!!t._fullLoop&&0===s&&a===r-1),e,n)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,i){const r=this.options,o=e[i],s=this.points,a=WH(this,{property:i,start:o,end:o});if(!a.length)return;const l=[],u=function n0e(t){return t.stepped?Zpe:t.tension||"monotone"===t.cubicInterpolationMode?Ype:Tg}(r);let d,g;for(d=0,g=a.length;d<g;++d){const{start:y,end:m}=a[d],B=s[y],D=s[m];if(B===D){l.push(B);continue}const F=u(B,D,Math.abs((o-B[i])/(D[i]-B[i])),r.stepped);F[i]=e[i],l.push(F)}return 1===l.length?l[0]:l}pathSegment(e,i,r){return jP(this)(e,this,i,r)}path(e,i,r){const o=this.segments,s=jP(this);let a=this._loop;i=i||0,r=r||this.points.length-i;for(const l of o)a&=s(e,this,l,{start:i,end:i+r-1});return!!a}draw(e,i,r,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function s0e(t,n,e,i){o0e&&!n.options.segment?function i0e(t,n,e,i){let r=n._path;r||(r=n._path=new Path2D,n.path(r,e,i)&&r.closePath()),R9(t,n.options),t.stroke(r)}(t,n,e,i):function r0e(t,n,e,i){const{segments:r,options:o}=n,s=jP(n);for(const a of r)R9(t,o,a.style),t.beginPath(),s(t,n,a,{start:e,end:e+i-1})&&t.closePath(),t.stroke()}(t,n,e,i)}(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function Q9(t,n,e,i){const r=t.options,{[e]:o}=t.getProps([e],i);return Math.abs(n-o)<r.radius+r.hitRadius}let a0e=(()=>class t extends eh{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(i-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return Q9(this,e,"x",i)}inYRange(e,i){return Q9(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this.options;this.skip||r.radius<.1||!Xd(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,MP(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}})();function H9(t,n){const{x:e,y:i,base:r,width:o,height:s}=t.getProps(["x","y","base","width","height"],n);let a,l,u,d,g;return t.horizontal?(g=s/2,a=Math.min(e,r),l=Math.max(e,r),u=i-g,d=i+g):(g=o/2,a=e-g,l=e+g,u=Math.min(i,r),d=Math.max(i,r)),{left:a,top:u,right:l,bottom:d}}function Gf(t,n,e,i){return t?0:aa(n,e,i)}function GP(t,n,e,i){const r=null===n,o=null===e,a=t&&!(r&&o)&&H9(t,i);return a&&(r||Zd(n,a.left,a.right))&&(o||Zd(e,a.top,a.bottom))}function d0e(t,n){t.rect(n.x,n.y,n.w,n.h)}function KP(t,n,e={}){const i=t.x!==e.x?-n:0,r=t.y!==e.y?-n:0;return{x:t.x+i,y:t.y+r,w:t.w+((t.x+t.w!==e.x+e.w?n:0)-i),h:t.h+((t.y+t.h!==e.y+e.h?n:0)-r),radius:t.radius}}var f0e=Object.freeze({__proto__:null,ArcElement:class Yme extends eh{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>"borderDash"!==n};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:s}=gH(r,{x:n,y:e}),{startAngle:a,endAngle:l,innerRadius:u,outerRadius:d,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),y=(this.options.spacing+this.options.borderWidth)/2,m=ki(g,l-a),B=nb(o,a,l)&&a!==l,D=m>=Mo||B,I=Zd(s,u+y,d+y);return D&&I}getCenterPoint(n){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:l,spacing:u}=this.options,d=(r+o)/2,g=(s+a+u+l)/2;return{x:e+Math.cos(d)*g,y:i+Math.sin(d)*g}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>Mo?Math.floor(i/Mo):0,0===i||this.innerRadius<0||this.outerRadius<0)return;n.save();const a=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(a)*r,Math.sin(a)*r);const u=r*(1-Math.sin(Math.min(kr,i||0)));n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,function qme(t,n,e,i,r){const{fullCircles:o,startAngle:s,circumference:a}=n;let l=n.endAngle;if(o){c5(t,n,e,i,l,r);for(let u=0;u<o;++u)t.fill();isNaN(a)||(l=s+(a%Mo||Mo))}c5(t,n,e,i,l,r),t.fill()}(n,this,u,o,s),function Zme(t,n,e,i,r){const{fullCircles:o,startAngle:s,circumference:a,options:l}=n,{borderWidth:u,borderJoinStyle:d,borderDash:g,borderDashOffset:y,borderRadius:m}=l,B="inner"===l.borderAlign;if(!u)return;t.setLineDash(g||[]),t.lineDashOffset=y,B?(t.lineWidth=2*u,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let D=n.endAngle;if(o){c5(t,n,e,i,D,r);for(let I=0;I<o;++I)t.stroke();isNaN(a)||(D=s+(a%Mo||Mo))}B&&function Kme(t,n,e){const{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=n;let u=r/a;t.beginPath(),t.arc(o,s,a,i-u,e+u),l>r?(u=r/l,t.arc(o,s,l,e+u,i-u,!0)):t.arc(o,s,r,e+hs,i-hs),t.closePath(),t.clip()}(t,n,D),l.selfJoin&&D-s>=kr&&0===m&&"miter"!==d&&function Gme(t,n,e){const{startAngle:i,x:r,y:o,outerRadius:s,innerRadius:a,options:l}=n,{borderWidth:u,borderJoinStyle:d}=l,g=Math.min(u/s,Ga(i-e));if(t.beginPath(),t.arc(r,o,s-u/2,i+g/2,e-g/2),a>0){const y=Math.min(u/a,Ga(i-e));t.arc(r,o,a+u/2,e-y/2,i+y/2,!0)}else{const y=Math.min(u/2,s*Ga(i-e));if("round"===d)t.arc(r,o,y,e-kr/2,i+kr/2,!0);else if("bevel"===d){const m=2*y*y,B=-m*Math.cos(e+kr/2)+r,D=-m*Math.sin(e+kr/2)+o,I=m*Math.cos(i+kr/2)+r,F=m*Math.sin(i+kr/2)+o;t.lineTo(B,D),t.lineTo(I,F)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}(t,n,D),o||(c5(t,n,e,i,D,r),t.stroke())}(n,this,u,o,s),n.restore()}},BarElement:class h0e extends eh{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:s}=function u0e(t){const n=H9(t),e=n.right-n.left,i=n.bottom-n.top,r=function l0e(t,n,e){const r=t.borderSkipped,o=IH(t.options.borderWidth);return{t:Gf(r.top,o.top,0,e),r:Gf(r.right,o.right,0,n),b:Gf(r.bottom,o.bottom,0,e),l:Gf(r.left,o.left,0,n)}}(t,e/2,i/2),o=function c0e(t,n,e){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=Og(r),s=Math.min(n,e),a=t.borderSkipped,l=i||Ar(r);return{topLeft:Gf(!l||a.top||a.left,o.topLeft,0,s),topRight:Gf(!l||a.top||a.right,o.topRight,0,s),bottomLeft:Gf(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Gf(!l||a.bottom||a.right,o.bottomRight,0,s)}}(t,e/2,i/2);return{outer:{x:n.left,y:n.top,w:e,h:i,radius:o},inner:{x:n.left+r.l,y:n.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),a=function A0e(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}(s.radius)?sb:d0e;n.save(),(s.w!==o.w||s.h!==o.h)&&(n.beginPath(),a(n,KP(s,e,o)),n.clip(),a(n,KP(o,-e,s)),n.fillStyle=i,n.fill("evenodd")),n.beginPath(),a(n,KP(o,e)),n.fillStyle=r,n.fill(),n.restore()}inRange(n,e,i){return GP(this,n,e,i)}inXRange(n,e){return GP(this,n,null,e)}inYRange(n,e){return GP(this,null,n,e)}getCenterPoint(n){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],n);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(n){return"x"===n?this.width/2:this.height/2}},LineElement:u5,PointElement:a0e});const WP=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],z9=WP.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function V9(t){return WP[t%WP.length]}function j9(t){return z9[t%z9.length]}function G9(t){let n;for(n in t)if(t[n].borderColor||t[n].backgroundColor)return!0;return!1}var b0e={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,n,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:o}=r,s=G9(i)||function _0e(t){return t&&(t.borderColor||t.backgroundColor)}(r)||o&&G9(o)||function y0e(){return"rgba(0,0,0,0.1)"!==Fo.borderColor||"rgba(0,0,0,0.1)"!==Fo.backgroundColor}();if(!e.forceOverride&&s)return;const a=function v0e(t){let n=0;return(e,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof LP?n=function g0e(t,n){return t.backgroundColor=t.data.map(()=>V9(n++)),n}(e,n):r instanceof c9?n=function m0e(t,n){return t.backgroundColor=t.data.map(()=>j9(n++)),n}(e,n):r&&(n=function p0e(t,n){return t.borderColor=V9(n),t.backgroundColor=j9(n),++n}(e,n))}}(t);i.forEach(a)}};function K9(t){if(t._decimated){const n=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function W9(t){t.data.datasets.forEach(n=>{K9(n)})}var M0e={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,n,e)=>{if(!e.enabled)return void W9(t);const i=t.width;t.data.datasets.forEach((r,o)=>{const{_data:s,indexAxis:a}=r,l=t.getDatasetMeta(o),u=s||r.data;if("y"===ab([a,t.options.indexAxis])||!l.controller.supportsDecimation)return;const d=t.scales[l.xAxisID];if("linear"!==d.type&&"time"!==d.type||t.options.parsing)return;let B,{start:g,count:y}=function x0e(t,n){const e=n.length;let r,i=0;const{iScale:o}=t,{min:s,max:a,minDefined:l,maxDefined:u}=o.getUserBounds();return l&&(i=aa(Yd(n,o.axis,s).lo,0,e-1)),r=u?aa(Yd(n,o.axis,a).hi+1,i,e)-i:e-i,{start:i,count:r}}(l,u);if(y<=(e.threshold||4*i))K9(r);else{switch(lr(s)&&(r._data=u,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(D){this._data=D}})),e.algorithm){case"lttb":B=function w0e(t,n,e,i,r){const o=r.samples||i;if(o>=e)return t.slice(n,n+e);const s=[],a=(e-2)/(o-2);let l=0;const u=n+e-1;let g,y,m,B,D,d=n;for(s[l++]=t[d],g=0;g<o-2;g++){let R,I=0,F=0;const H=Math.floor((g+1)*a)+1+n,z=Math.min(Math.floor((g+2)*a)+1,e)+n,ie=z-H;for(R=H;R<z;R++)I+=t[R].x,F+=t[R].y;I/=ie,F/=ie;const be=Math.floor(g*a)+1+n,Be=Math.min(Math.floor((g+1)*a)+1,e)+n,{x:se,y:te}=t[d];for(m=B=-1,R=be;R<Be;R++)B=.5*Math.abs((se-I)*(t[R].y-te)-(se-t[R].x)*(F-te)),B>m&&(m=B,y=t[R],D=R);s[l++]=y,d=D}return s[l++]=t[u],s}(u,g,y,i,e);break;case"min-max":B=function C0e(t,n,e,i){let s,a,l,u,d,g,y,m,B,D,r=0,o=0;const I=[],R=t[n].x,z=t[n+e-1].x-R;for(s=n;s<n+e;++s){a=t[s],l=(a.x-R)/z*i,u=a.y;const ie=0|l;if(ie===d)u<B?(B=u,g=s):u>D&&(D=u,y=s),r=(o*r+a.x)/++o;else{const be=s-1;if(!lr(g)&&!lr(y)){const Be=Math.min(g,y),se=Math.max(g,y);Be!==m&&Be!==be&&I.push({...t[Be],x:r}),se!==m&&se!==be&&I.push({...t[se],x:r})}s>0&&be!==m&&I.push(t[be]),I.push(a),d=ie,o=0,B=D=u,g=y=m=s}}return I}(u,g,y,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=B}})},destroy(t){W9(t)}};function $P(t,n,e,i){if(i)return;let r=n[t],o=e[t];return"angle"===t&&(r=Ga(r),o=Ga(o)),{property:t,start:r,end:o}}function A5(t,n,e){for(;n>t;n--){const i=e[n];if(!isNaN(i.x)&&!isNaN(i.y))break}return n}function $9(t,n,e,i){return t&&n?i(t[e],n[e]):t?t[e]:n?n[e]:0}function q9(t,n){let e=[],i=!1;return xo(t)?(i=!0,e=t):e=function D0e(t,n){const{x:e=null,y:i=null}=t||{},r=n.points,o=[];return n.segments.forEach(({start:s,end:a})=>{a=A5(s,a,r);const l=r[s],u=r[a];null!==i?(o.push({x:l.x,y:i}),o.push({x:u.x,y:i})):null!==e&&(o.push({x:e,y:l.y}),o.push({x:e,y:u.y}))}),o}(t,n),e.length?new u5({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Z9(t){return t&&!1!==t.fill}function S0e(t,n,e){let r=t[n].fill;const o=[n];let s;if(!e)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!qo(r))return r;if(s=t[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function E0e(t,n,e){const i=function k0e(t){const n=t.options,e=n.fill;let i=ki(e&&e.target,e);return void 0===i&&(i=!!n.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(t);if(Ar(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return qo(r)&&Math.floor(r)===r?function P0e(t,n,e,i){return("-"===t||"+"===t)&&(e=n+e),!(e===n||e<0||e>=i)&&e}(i[0],n,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function L0e(t,n,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:s,last:a,point:l}=N0e(o,n,"x");if(!(!l||s&&a))if(s)i.unshift(l);else if(t.push(l),!a)break}t.push(...i)}function N0e(t,n,e){const i=t.interpolate(n,e);if(!i)return{};const r=i[e],o=t.segments,s=t.points;let a=!1,l=!1;for(let u=0;u<o.length;u++){const d=o[u],g=s[d.start][e],y=s[d.end][e];if(Zd(r,g,y)){a=r===g,l=r===y;break}}return{first:a,last:l,point:i}}class Y9{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,e,i){const{x:r,y:o,radius:s}=this;return n.arc(r,o,s,(e=e||{start:0,end:Mo}).end,e.start,!0),!i.bounds}interpolate(n){const{x:e,y:i,radius:r}=this,o=n.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function qP(t,n,e){const i=function R0e(t){const{chart:n,fill:e,line:i}=t;if(qo(e))return function U0e(t,n){const e=t.getDatasetMeta(n);return e&&t.isDatasetVisible(n)?e.dataset:null}(n,e);if("stack"===e)return function F0e(t){const{scale:n,index:e,line:i}=t,r=[],o=i.segments,s=i.points,a=function T0e(t,n){const e=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===n)break;o.hidden||e.unshift(o.dataset)}return e}(n,e);a.push(q9({x:null,y:n.bottom},i));for(let l=0;l<o.length;l++){const u=o[l];for(let d=u.start;d<=u.end;d++)L0e(r,s[d],a)}return new u5({points:r,options:{}})}(t);if("shape"===e)return!0;const r=function Q0e(t){return(t.scale||{}).getPointPositionForValue?function z0e(t){const{scale:n,fill:e}=t,i=n.options,r=n.getLabels().length,o=i.reverse?n.max:n.min,s=function O0e(t,n,e){let i;return i="start"===t?e:"end"===t?n.options.reverse?n.min:n.max:Ar(t)?t.value:n.getBaseValue(),i}(e,n,o),a=[];if(i.grid.circular){const l=n.getPointPositionForValue(0,o);return new Y9({x:l.x,y:l.y,radius:n.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(n.getPointPositionForValue(l,s));return a}(t):function H0e(t){const{scale:n={},fill:e}=t,i=function I0e(t,n){let e=null;return"start"===t?e=n.bottom:"end"===t?e=n.top:Ar(t)?e=n.getPixelForValue(t.value):n.getBasePixel&&(e=n.getBasePixel()),e}(e,n);if(qo(i)){const r=n.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(t)}(t);return r instanceof Y9?r:q9(r,i)}(n),{chart:r,index:o,line:s,scale:a,axis:l}=n,u=s.options,d=u.fill,g=u.backgroundColor,{above:y=g,below:m=g}=d||{},B=r.getDatasetMeta(o),D=ZH(r,B);i&&s.points.length&&(Zx(t,e),function V0e(t,n){const{line:e,target:i,above:r,below:o,area:s,scale:a,clip:l}=n,u=e._loop?"angle":n.axis;t.save();let d=o;o!==r&&("x"===u?(X9(t,i,s.top),ZP(t,{line:e,target:i,color:r,scale:a,property:u,clip:l}),t.restore(),t.save(),X9(t,i,s.bottom)):"y"===u&&(J9(t,i,s.left),ZP(t,{line:e,target:i,color:o,scale:a,property:u,clip:l}),t.restore(),t.save(),J9(t,i,s.right),d=r)),ZP(t,{line:e,target:i,color:d,scale:a,property:u,clip:l}),t.restore()}(t,{line:s,target:i,above:y,below:m,area:e,scale:a,axis:l,clip:D}),Yx(t))}function X9(t,n,e){const{segments:i,points:r}=n;let o=!0,s=!1;t.beginPath();for(const a of i){const{start:l,end:u}=a,d=r[l],g=r[A5(l,u,r)];o?(t.moveTo(d.x,d.y),o=!1):(t.lineTo(d.x,e),t.lineTo(d.x,d.y)),s=!!n.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(g.x,e)}t.lineTo(n.first().x,e),t.closePath(),t.clip()}function J9(t,n,e){const{segments:i,points:r}=n;let o=!0,s=!1;t.beginPath();for(const a of i){const{start:l,end:u}=a,d=r[l],g=r[A5(l,u,r)];o?(t.moveTo(d.x,d.y),o=!1):(t.lineTo(e,d.y),t.lineTo(d.x,d.y)),s=!!n.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(e,g.y)}t.lineTo(e,n.first().y),t.closePath(),t.clip()}function ZP(t,n){const{line:e,target:i,property:r,color:o,scale:s,clip:a}=n,l=function B0e(t,n,e){const i=t.segments,r=t.points,o=n.points,s=[];for(const a of i){let{start:l,end:u}=a;u=A5(l,u,r);const d=$P(e,r[l],r[u],a.loop);if(!n.segments){s.push({source:a,target:d,start:r[l],end:r[u]});continue}const g=WH(n,d);for(const y of g){const m=$P(e,o[y.start],o[y.end],y.loop),B=KH(a,r,m);for(const D of B)s.push({source:D,target:y,start:{[e]:$9(d,m,"start",Math.max)},end:{[e]:$9(d,m,"end",Math.min)}})}}return s}(e,i,r);for(const{source:u,target:d,start:g,end:y}of l){const{style:{backgroundColor:m=o}={}}=u,B=!0!==i;t.save(),t.fillStyle=m,j0e(t,s,a,B&&$P(r,g,y)),t.beginPath();const D=!!e.pathSegment(t,u);let I;if(B){D?t.closePath():ez(t,i,y,r);const F=!!i.pathSegment(t,d,{move:D,reverse:!0});I=D&&F,I||ez(t,i,g,r)}t.closePath(),t.fill(I?"evenodd":"nonzero"),t.restore()}}function j0e(t,n,e,i){const r=n.chart.chartArea,{property:o,start:s,end:a}=i||{};if("x"===o||"y"===o){let l,u,d,g;"x"===o?(l=s,u=r.top,d=a,g=r.bottom):(l=r.left,u=s,d=r.right,g=a),t.beginPath(),e&&(l=Math.max(l,e.left),d=Math.min(d,e.right),u=Math.max(u,e.top),g=Math.min(g,e.bottom)),t.rect(l,u,d-l,g-u),t.clip()}}function ez(t,n,e,i){const r=n.interpolate(e,i);r&&t.lineTo(r.x,r.y)}var G0e={id:"filler",afterDatasetsUpdate(t,n,e){const i=(t.data.datasets||[]).length,r=[];let o,s,a,l;for(s=0;s<i;++s)o=t.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof u5&&(l={visible:t.isDatasetVisible(s),index:s,fill:E0e(a,s,i),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<i;++s)l=r[s],l&&!1!==l.fill&&(l.fill=S0e(r,s,e.propagate))},beforeDraw(t,n,e){const i="beforeDraw"===e.drawTime,r=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let s=r.length-1;s>=0;--s){const a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&qP(t.ctx,a,o))}},beforeDatasetsDraw(t,n,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;Z9(o)&&qP(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,n,e){const i=n.meta.$filler;!Z9(i)||"beforeDatasetDraw"!==e.drawTime||qP(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const tz=(t,n)=>{let{boxHeight:e=n,boxWidth:i=n}=t;return t.usePointStyle&&(e=Math.min(e,n),i=t.pointStyleWidth||Math.min(i,n)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(n,e)}};class nz extends eh{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e,i){this.maxWidth=n,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const n=this.options.labels||{};let e=po(n.generateLabels,[this.chart],this)||[];n.filter&&(e=e.filter(i=>n.filter(i,this.chart.data))),n.sort&&(e=e.sort((i,r)=>n.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:n,ctx:e}=this;if(!n.display)return void(this.width=this.height=0);const i=n.labels,r=Ws(i.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=tz(i,o);let u,d;e.font=r.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(s,o,a,l)+10):(d=this.maxHeight,u=this._fitCols(s,r,a,l)+10),this.width=Math.min(u,n.maxWidth||this.maxWidth),this.height=Math.min(d,n.maxHeight||this.maxHeight)}_fitRows(n,e,i,r){const{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=r+a;let g=n;o.textAlign="left",o.textBaseline="middle";let y=-1,m=-d;return this.legendItems.forEach((B,D)=>{const I=i+e/2+o.measureText(B.text).width;(0===D||u[u.length-1]+I+2*a>s)&&(g+=d,u[u.length-(D>0?0:1)]=0,m+=d,y++),l[D]={left:0,top:m,row:y,width:I,height:r},u[u.length-1]+=I+a}),g}_fitCols(n,e,i,r){const{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=s-n;let g=a,y=0,m=0,B=0,D=0;return this.legendItems.forEach((I,F)=>{const{itemWidth:R,itemHeight:H}=function W0e(t,n,e,i,r){const o=function $0e(t,n,e,i){let r=t.text;return r&&"string"!=typeof r&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),n+e.size/2+i.measureText(r).width}(i,t,n,e),s=function q0e(t,n,e){let i=t;return"string"!=typeof n.text&&(i=iz(n,e)),i}(r,i,n.lineHeight);return{itemWidth:o,itemHeight:s}}(i,e,o,I,r);F>0&&m+H+2*a>d&&(g+=y+a,u.push({width:y,height:m}),B+=y+a,D++,y=m=0),l[F]={left:B,top:m,col:D,width:R,height:H},y=Math.max(y,R),m+=H+a}),g+=y,u.push({width:y,height:m}),g}adjustHitBoxes(){if(!this.options.display)return;const n=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,s=T1(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ka(i,this.left+r,this.right-this.lineWidths[a]);for(const u of e)a!==u.row&&(a=u.row,l=Ka(i,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+n+r,u.left=s.leftForLtr(s.x(l),u.width),l+=u.width+r}else{let a=0,l=Ka(i,this.top+n+r,this.bottom-this.columnSizes[a].height);for(const u of e)u.col!==a&&(a=u.col,l=Ka(i,this.top+n+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=s.leftForLtr(s.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const n=this.ctx;Zx(n,this),this._draw(),Yx(n)}}_draw(){const{options:n,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:s}=n,a=Fo.color,l=T1(n.rtl,this.left,this.width),u=Ws(s.font),{padding:d}=s,g=u.size,y=g/2;let m;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:B,boxHeight:D,itemHeight:I}=tz(s,g),H=this.isHorizontal(),z=this._computeTitleHeight();m=H?{x:Ka(o,this.left+d,this.right-i[0]),y:this.top+d+z,line:0}:{x:this.left+d,y:Ka(o,this.top+z+d,this.bottom-e[0].height),line:0},zH(this.ctx,n.textDirection);const ie=I+d;this.legendItems.forEach((be,Be)=>{r.strokeStyle=be.fontColor,r.fillStyle=be.fontColor;const se=r.measureText(be.text).width,te=l.textAlign(be.textAlign||(be.textAlign=s.textAlign)),Re=B+y+se;let G=m.x,J=m.y;l.setWidth(this.width),H?Be>0&&G+Re+d>this.right&&(J=m.y+=ie,m.line++,G=m.x=Ka(o,this.left+d,this.right-i[m.line])):Be>0&&J+ie>this.bottom&&(G=m.x=G+e[m.line].width+d,m.line++,J=m.y=Ka(o,this.top+z+d,this.bottom-e[m.line].height)),function(be,Be,se){if(isNaN(B)||B<=0||isNaN(D)||D<0)return;r.save();const te=ki(se.lineWidth,1);if(r.fillStyle=ki(se.fillStyle,a),r.lineCap=ki(se.lineCap,"butt"),r.lineDashOffset=ki(se.lineDashOffset,0),r.lineJoin=ki(se.lineJoin,"miter"),r.lineWidth=te,r.strokeStyle=ki(se.strokeStyle,a),r.setLineDash(ki(se.lineDash,[])),s.usePointStyle){const Re={radius:D*Math.SQRT2/2,pointStyle:se.pointStyle,rotation:se.rotation,borderWidth:te},G=l.xPlus(be,B/2);PH(r,Re,G,Be+y,s.pointStyleWidth&&B)}else{const Re=Be+Math.max((g-D)/2,0),G=l.leftForLtr(be,B),J=Og(se.borderRadius);r.beginPath(),Object.values(J).some(Ee=>0!==Ee)?sb(r,{x:G,y:Re,w:B,h:D,radius:J}):r.rect(G,Re,B,D),r.fill(),0!==te&&r.stroke()}r.restore()}(l.x(G),J,be),G=((t,n,e,i)=>t===(i?"left":"right")?e:"center"===t?(n+e)/2:n)(te,G+B+y,H?G+Re:this.right,n.rtl),function(be,Be,se){Ig(r,se.text,be,Be+I/2,u,{strikethrough:se.hidden,textAlign:l.textAlign(se.textAlign)})}(l.x(G),J,be),H?m.x+=Re+d:m.y+="string"!=typeof be.text?iz(be,u.lineHeight)+d:ie}),VH(this.ctx,n.textDirection)}drawTitle(){const n=this.options,e=n.title,i=Ws(e.font),r=Wa(e.padding);if(!e.display)return;const o=T1(n.rtl,this.left,this.width),s=this.ctx,a=e.position,u=r.top+i.size/2;let d,g=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),d=this.top+u,g=Ka(n.align,g,this.right-y);else{const B=this.columnSizes.reduce((D,I)=>Math.max(D,I.height),0);d=u+Ka(n.align,this.top,this.bottom-B-n.labels.padding-this._computeTitleHeight())}const m=Ka(a,g,g+y);s.textAlign=o.textAlign(yP(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=i.string,Ig(s,e.text,m,d,i)}_computeTitleHeight(){const n=this.options.title,e=Ws(n.font),i=Wa(n.padding);return n.display?e.lineHeight+i.height:0}_getLegendItemAt(n,e){let i,r,o;if(Zd(n,this.left,this.right)&&Zd(e,this.top,this.bottom))for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Zd(n,r.left,r.left+r.width)&&Zd(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(n){const e=this.options;if(!function Z0e(t,n){return!(("mousemove"!==t&&"mouseout"!==t||!n.onHover&&!n.onLeave)&&(!n.onClick||"click"!==t&&"mouseup"!==t))}(n.type,e))return;const i=this._getLegendItemAt(n.x,n.y);if("mousemove"===n.type||"mouseout"===n.type){const r=this._hoveredItem,o=((t,n)=>null!==t&&null!==n&&t.datasetIndex===n.datasetIndex&&t.index===n.index)(r,i);r&&!o&&po(e.onLeave,[n,r,this],this),this._hoveredItem=i,i&&!o&&po(e.onHover,[n,i,this],this)}else i&&po(e.onClick,[n,i,this],this)}}function iz(t,n){return n*(t.text?t.text.length:0)}var Y0e={id:"legend",_element:nz,start(t,n,e){const i=t.legend=new nz({ctx:t.ctx,options:e,chart:t});$a.configure(t,i,e),$a.addBox(t,i)},stop(t){$a.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,n,e){const i=t.legend;$a.configure(t,i,e),i.options=e},afterUpdate(t){const n=t.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(t,n){n.replay||t.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,n,e){const i=n.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),n.hidden=!0):(r.show(i),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const n=t.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(e?0:void 0),d=Wa(u.borderWidth);return{text:n[l.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:s&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class YP extends eh{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=n,this.height=this.bottom=e;const r=xo(i.text)?i.text.length:1;this._padding=Wa(i.padding);const o=r*Ws(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const n=this.options.position;return"top"===n||"bottom"===n}_drawArgs(n){const{top:e,left:i,bottom:r,right:o,options:s}=this,a=s.align;let u,d,g,l=0;return this.isHorizontal()?(d=Ka(a,i,o),g=e+n,u=o-i):("left"===s.position?(d=i+n,g=Ka(a,r,e),l=-.5*kr):(d=o-n,g=Ka(a,e,r),l=.5*kr),u=r-e),{titleX:d,titleY:g,maxWidth:u,rotation:l}}draw(){const n=this.ctx,e=this.options;if(!e.display)return;const i=Ws(e.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(o);Ig(n,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:u,textAlign:yP(e.align),textBaseline:"middle",translation:[s,a]})}}var J0e={id:"title",_element:YP,start(t,n,e){!function X0e(t,n){const e=new YP({ctx:t.ctx,options:n,chart:t});$a.configure(t,e,n),$a.addBox(t,e),t.titleBlock=e}(t,e)},stop(t){$a.removeBox(t,t.titleBlock),delete t.titleBlock},beforeUpdate(t,n,e){const i=t.titleBlock;$a.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const d5=new WeakMap;var e1e={id:"subtitle",start(t,n,e){const i=new YP({ctx:t.ctx,options:e,chart:t});$a.configure(t,i,e),$a.addBox(t,i),d5.set(t,i)},stop(t){$a.removeBox(t,d5.get(t)),d5.delete(t)},beforeUpdate(t,n,e){const i=d5.get(t);$a.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gb={average(t){if(!t.length)return!1;let n,e,i=new Set,r=0,o=0;for(n=0,e=t.length;n<e;++n){const a=t[n].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++o}}return 0!==o&&0!==i.size&&{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/o}},nearest(t,n){if(!t.length)return!1;let o,s,a,e=n.x,i=n.y,r=Number.POSITIVE_INFINITY;for(o=0,s=t.length;o<s;++o){const l=t[o].element;if(l&&l.hasValue()){const d=vP(n,l.getCenterPoint());d<r&&(r=d,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function zA(t,n){return n&&(xo(n)?Array.prototype.push.apply(t,n):t.push(n)),t}function th(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function t1e(t,n){const{element:e,datasetIndex:i,index:r}=n,o=t.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:t,label:s,parsed:o.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function rz(t,n){const e=t.chart.ctx,{body:i,footer:r,title:o}=t,{boxWidth:s,boxHeight:a}=n,l=Ws(n.bodyFont),u=Ws(n.titleFont),d=Ws(n.footerFont),g=o.length,y=r.length,m=i.length,B=Wa(n.padding);let D=B.height,I=0,F=i.reduce((z,ie)=>z+ie.before.length+ie.lines.length+ie.after.length,0);F+=t.beforeBody.length+t.afterBody.length,g&&(D+=g*u.lineHeight+(g-1)*n.titleSpacing+n.titleMarginBottom),F&&(D+=m*(n.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(F-m)*l.lineHeight+(F-1)*n.bodySpacing),y&&(D+=n.footerMarginTop+y*d.lineHeight+(y-1)*n.footerSpacing);let R=0;const H=function(z){I=Math.max(I,e.measureText(z).width+R)};return e.save(),e.font=u.string,Xr(t.title,H),e.font=l.string,Xr(t.beforeBody.concat(t.afterBody),H),R=n.displayColors?s+2+n.boxPadding:0,Xr(i,z=>{Xr(z.before,H),Xr(z.lines,H),Xr(z.after,H)}),R=0,e.font=d.string,Xr(t.footer,H),e.restore(),I+=B.width,{width:I,height:D}}function r1e(t,n,e,i){const{x:r,width:o}=e,{width:s,chartArea:{left:a,right:l}}=t;let u="center";return"center"===i?u=r<=(a+l)/2?"left":"right":r<=o/2?u="left":r>=s-o/2&&(u="right"),function i1e(t,n,e,i){const{x:r,width:o}=i,s=e.caretSize+e.caretPadding;if("left"===t&&r+o+s>n.width||"right"===t&&r-o-s<0)return!0}(u,t,n,e)&&(u="center"),u}function oz(t,n,e){const i=e.yAlign||n.yAlign||function n1e(t,n){const{y:e,height:i}=n;return e<i/2?"top":e>t.height-i/2?"bottom":"center"}(t,e);return{xAlign:e.xAlign||n.xAlign||r1e(t,n,e,i),yAlign:i}}function sz(t,n,e,i){const{caretSize:r,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:l}=e,u=r+o,{topLeft:d,topRight:g,bottomLeft:y,bottomRight:m}=Og(s);let B=function o1e(t,n){let{x:e,width:i}=t;return"right"===n?e-=i:"center"===n&&(e-=i/2),e}(n,a);const D=function s1e(t,n,e){let{y:i,height:r}=t;return"top"===n?i+=e:i-="bottom"===n?r+e:r/2,i}(n,l,u);return"center"===l?"left"===a?B+=u:"right"===a&&(B-=u):"left"===a?B-=Math.max(d,y)+r:"right"===a&&(B+=Math.max(g,m)+r),{x:aa(B,0,i.width-n.width),y:aa(D,0,i.height-n.height)}}function h5(t,n,e){const i=Wa(e.padding);return"center"===n?t.x+t.width/2:"right"===n?t.x+t.width-i.right:t.x+i.left}function az(t){return zA([],th(t))}function lz(t,n){const e=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return e?t.override(e):t}const cz={beforeTitle:qd,title(t){if(t.length>0){const n=t[0],e=n.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return n.dataset.label||"";if(n.label)return n.label;if(i>0&&n.dataIndex<i)return e[n.dataIndex]}return""},afterTitle:qd,beforeBody:qd,beforeLabel:qd,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let n=t.dataset.label||"";n&&(n+=": ");const e=t.formattedValue;return lr(e)||(n+=e),n},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:qd,afterBody:qd,beforeFooter:qd,footer:qd,afterFooter:qd};function Ul(t,n,e,i){const r=t[n].call(e,i);return typeof r>"u"?cz[n].call(e,i):r}let uz=(()=>class t extends eh{static positioners=gb;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,s=new XH(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function a1e(t,n,e){return zf(t,{tooltip:n,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:r}=i,o=Ul(r,"beforeTitle",this,e),s=Ul(r,"title",this,e),a=Ul(r,"afterTitle",this,e);let l=[];return l=zA(l,th(o)),l=zA(l,th(s)),l=zA(l,th(a)),l}getBeforeBody(e,i){return az(Ul(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:r}=i,o=[];return Xr(e,s=>{const a={before:[],lines:[],after:[]},l=lz(r,s);zA(a.before,th(Ul(l,"beforeLabel",this,s))),zA(a.lines,Ul(l,"label",this,s)),zA(a.after,th(Ul(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(e,i){return az(Ul(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:r}=i,o=Ul(r,"beforeFooter",this,e),s=Ul(r,"footer",this,e),a=Ul(r,"afterFooter",this,e);let l=[];return l=zA(l,th(o)),l=zA(l,th(s)),l=zA(l,th(a)),l}_createItems(e){const i=this._active,r=this.chart.data,o=[],s=[],a=[];let u,d,l=[];for(u=0,d=i.length;u<d;++u)l.push(t1e(this.chart,i[u]));return e.filter&&(l=l.filter((g,y,m)=>e.filter(g,y,m,r))),e.itemSort&&(l=l.sort((g,y)=>e.itemSort(g,y,r))),Xr(l,g=>{const y=lz(e.callbacks,g);o.push(Ul(y,"labelColor",this,g)),s.push(Ul(y,"labelPointStyle",this,g)),a.push(Ul(y,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,i){const r=this.options.setContext(this.getContext()),o=this._active;let s,a=[];if(o.length){const l=gb[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const u=this._size=rz(this,r),d=Object.assign({},l,u),g=oz(this.chart,r,d),y=sz(r,d,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,s={opacity:1,x:y.x,y:y.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,o){const s=this.getCaretPosition(e,r,o);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(e,i,r){const{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:u,topRight:d,bottomLeft:g,bottomRight:y}=Og(l),{x:m,y:B}=e,{width:D,height:I}=i;let F,R,H,z,ie,be;return"center"===s?(ie=B+I/2,"left"===o?(F=m,R=F-a,z=ie+a,be=ie-a):(F=m+D,R=F+a,z=ie-a,be=ie+a),H=F):(R="left"===o?m+Math.max(u,g)+a:"right"===o?m+D-Math.max(d,y)-a:this.caretX,"top"===s?(z=B,ie=z-a,F=R-a,H=R+a):(z=B+I,ie=z+a,F=R+a,H=R-a),be=z),{x1:F,x2:R,x3:H,y1:z,y2:ie,y3:be}}drawTitle(e,i,r){const o=this.title,s=o.length;let a,l,u;if(s){const d=T1(r.rtl,this.x,this.width);for(e.x=h5(this,r.titleAlign,r),i.textAlign=d.textAlign(r.titleAlign),i.textBaseline="middle",a=Ws(r.titleFont),l=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,u=0;u<s;++u)i.fillText(o[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,u+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,i,r,o,s){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:d}=s,g=Ws(s.bodyFont),y=h5(this,"left",s),m=o.x(y),D=i.y+(u<g.lineHeight?(g.lineHeight-u)/2:0);if(s.usePointStyle){const I={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},F=o.leftForLtr(m,d)+d/2,R=D+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,MP(e,I,F,R),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,MP(e,I,F,R)}else{e.lineWidth=Ar(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const I=o.leftForLtr(m,d),F=o.leftForLtr(o.xPlus(m,1),d-2),R=Og(a.borderRadius);Object.values(R).some(H=>0!==H)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,sb(e,{x:I,y:D,w:d,h:u,radius:R}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),sb(e,{x:F,y:D+1,w:d-2,h:u-2,radius:R}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(I,D,d,u),e.strokeRect(I,D,d,u),e.fillStyle=a.backgroundColor,e.fillRect(F,D+1,d-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){const{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:g}=r,y=Ws(r.bodyFont);let m=y.lineHeight,B=0;const D=T1(r.rtl,this.x,this.width),I=function(te){i.fillText(te,D.x(e.x+B),e.y+m/2),e.y+=m+s},F=D.textAlign(a);let R,H,z,ie,be,Be,se;for(i.textAlign=a,i.textBaseline="middle",i.font=y.string,e.x=h5(this,F,r),i.fillStyle=r.bodyColor,Xr(this.beforeBody,I),B=l&&"right"!==F?"center"===a?d/2+g:d+2+g:0,ie=0,Be=o.length;ie<Be;++ie){for(R=o[ie],H=this.labelTextColors[ie],i.fillStyle=H,Xr(R.before,I),z=R.lines,l&&z.length&&(this._drawColorBox(i,e,ie,D,r),m=Math.max(y.lineHeight,u)),be=0,se=z.length;be<se;++be)I(z[be]),m=y.lineHeight;Xr(R.after,I)}B=0,m=y.lineHeight,Xr(this.afterBody,I),e.y-=s}drawFooter(e,i,r){const o=this.footer,s=o.length;let a,l;if(s){const u=T1(r.rtl,this.x,this.width);for(e.x=h5(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=u.textAlign(r.footerAlign),i.textBaseline="middle",a=Ws(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,l=0;l<s;++l)i.fillText(o[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,i,r,o){const{xAlign:s,yAlign:a}=this,{x:l,y:u}=e,{width:d,height:g}=r,{topLeft:y,topRight:m,bottomLeft:B,bottomRight:D}=Og(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(l+y,u),"top"===a&&this.drawCaret(e,i,r,o),i.lineTo(l+d-m,u),i.quadraticCurveTo(l+d,u,l+d,u+m),"center"===a&&"right"===s&&this.drawCaret(e,i,r,o),i.lineTo(l+d,u+g-D),i.quadraticCurveTo(l+d,u+g,l+d-D,u+g),"bottom"===a&&this.drawCaret(e,i,r,o),i.lineTo(l+B,u+g),i.quadraticCurveTo(l,u+g,l,u+g-B),"center"===a&&"left"===s&&this.drawCaret(e,i,r,o),i.lineTo(l,u+y),i.quadraticCurveTo(l,u,l+y,u),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){const a=gb[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=rz(this,e),u=Object.assign({},a,this._size),d=oz(i,e,u),g=sz(e,u,d,i);(o._to!==g.x||s._to!==g.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Wa(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,o,i),zH(e,i.textDirection),s.y+=a.top,this.drawTitle(s,e,i),this.drawBody(s,e,i),this.drawFooter(s,e,i),VH(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this._active,o=e.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),s=!jx(r,o),a=this._positionChanged(o,i);(s||a)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,s=this._active||[],a=this._getActiveElements(e,s,i,r),l=this._positionChanged(a,e),u=i||!jx(a,s)||l;return u&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),u}_getActiveElements(e,i,r,o){const s=this.options;if("mouseout"===e.type)return[];if(!o)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&void 0!==this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index));const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,i){const{caretX:r,caretY:o,options:s}=this,a=gb[s.position].call(this,e,i);return!1!==a&&(r!==a.x||o!==a.y)}})();var l1e={id:"tooltip",_element:uz,positioners:gb,afterInit(t,n,e){e&&(t.tooltip=new uz({chart:t,options:e}))},beforeUpdate(t,n,e){t.tooltip&&t.tooltip.initialize(e)},reset(t,n,e){t.tooltip&&t.tooltip.initialize(e)},afterDraw(t){const n=t.tooltip;if(n&&n._willRender()){const e={tooltip:n};if(!1===t.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;n.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e)}},afterEvent(t,n){t.tooltip&&t.tooltip.handleEvent(n.event,n.replay,n.inChartArea)&&(n.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,n)=>n.bodyFont.size,boxWidth:(t,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cz},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},c1e=Object.freeze({__proto__:null,Colors:b0e,Decimation:M0e,Filler:G0e,Legend:Y0e,SubTitle:e1e,Title:J0e,Tooltip:l1e});function Az(t){const n=this.getLabels();return t>=0&&t<n.length?n[t]:t}let h1e=(()=>class t extends Ng{static id="category";static defaults={ticks:{callback:Az}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const r=this.getLabels();for(const{index:o,label:s}of i)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(lr(e))return null;const r=this.getLabels();return((t,n)=>null===t?null:aa(Math.round(t),0,n))(i=isFinite(i)&&r[i]===e?i:function A1e(t,n,e,i){const r=t.indexOf(n);return-1===r?((t,n,e,i)=>("string"==typeof n?(e=t.push(n)-1,i.unshift({index:e,label:n})):isNaN(n)&&(e=null),e))(t,n,e,i):r!==t.lastIndexOf(n)?e:r}(r,e,ki(i,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),i||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,i=this.max,r=this.options.offset,o=[];let s=this.getLabels();s=0===e&&i===s.length-1?s:s.slice(e,i+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=i;a++)o.push({value:a});return o}getLabelForValue(e){return Az.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}})();function dz(t,n,{horizontal:e,minRotation:i}){const r=ju(i),o=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(n/o,.75*n*(""+t).length)}class f5 extends Ng{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,e){return lr(n)||("number"==typeof n||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){const{beginAtZero:n}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const s=l=>r=e?r:l,a=l=>o=i?o:l;if(n){const l=QA(r),u=QA(o);l<0&&u<0?a(0):l>0&&u>0&&s(0)}if(r===o){let l=0===o?1:Math.abs(.05*o);a(o+l),n||s(r-l)}this.min=r,this.max=o}getTickLimit(){const n=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=n;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const n=this.options,e=n.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s=function f1e(t,n){const e=[],{bounds:r,step:o,min:s,max:a,precision:l,count:u,maxTicks:d,maxDigits:g,includeBounds:y}=t,m=o||1,B=d-1,{min:D,max:I}=n,F=!lr(s),R=!lr(a),H=!lr(u),z=(I-D)/(g+1);let be,Be,se,te,ie=hH((I-D)/B/m)*m;if(ie<1e-14&&!F&&!R)return[{value:D},{value:I}];te=Math.ceil(I/ie)-Math.floor(D/ie),te>B&&(ie=hH(te*ie/B/m)*m),lr(l)||(be=Math.pow(10,l),ie=Math.ceil(ie*be)/be),"ticks"===r?(Be=Math.floor(D/ie)*ie,se=Math.ceil(I/ie)*ie):(Be=D,se=I),F&&R&&o&&function Jfe(t,n){const e=Math.round(t);return e-n<=t&&e+n>=t}((a-s)/o,ie/1e3)?(te=Math.round(Math.min((a-s)/ie,d)),ie=(a-s)/te,Be=s,se=a):H?(Be=F?s:Be,se=R?a:se,te=u-1,ie=(se-Be)/te):(te=(se-Be)/ie,te=tb(te,Math.round(te),ie/1e3)?Math.round(te):Math.ceil(te));const Re=Math.max(pH(ie),pH(Be));be=Math.pow(10,lr(l)?Re:l),Be=Math.round(Be*be)/be,se=Math.round(se*be)/be;let G=0;for(F&&(y&&Be!==s?(e.push({value:s}),Be<s&&G++,tb(Math.round((Be+G*ie)*be)/be,s,dz(s,z,t))&&G++):Be<s&&G++);G<te;++G){const J=Math.round((Be+G*ie)*be)/be;if(R&&J>a)break;e.push({value:J})}return R&&y&&se!==a?e.length&&tb(e[e.length-1].value,a,dz(a,z,t))?e[e.length-1].value=a:e.push({value:a}):(!R||se===a)&&e.push({value:se}),e}({maxTicks:i,bounds:n.bounds,min:n.min,max:n.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===n.bounds&&fH(s,this,"value"),n.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const n=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&n.length){const r=(i-e)/Math.max(n.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(n){return rb(n,this.chart.options.locale,this.options.ticks.format)}}const mb=t=>Math.floor(Hf(t)),Rg=(t,n)=>Math.pow(10,mb(t)+n);function hz(t){return t/Math.pow(10,mb(t))==1}function fz(t,n,e){const i=Math.pow(10,e),r=Math.floor(t/i);return Math.ceil(n/i)-r}function XP(t){const n=t.ticks;if(n.display&&t.display){const e=Wa(n.backdropPadding);return ki(n.font&&n.font.size,Fo.font.size)+e.height}return 0}function _1e(t,n,e){return e=xo(e)?e:[e],{w:gpe(t,n.string,e),h:e.length*n.lineHeight}}function pz(t,n,e,i,r){return t===i||t===r?{start:n-e/2,end:n+e/2}:t<i||t>r?{start:n-e,end:n}:{start:n,end:n+e}}function b1e(t,n,e,i,r){const o=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e));let a=0,l=0;i.start<n.l?(a=(n.l-i.start)/o,t.l=Math.min(t.l,n.l-a)):i.end>n.r&&(a=(i.end-n.r)/o,t.r=Math.max(t.r,n.r+a)),r.start<n.t?(l=(n.t-r.start)/s,t.t=Math.min(t.t,n.t-l)):r.end>n.b&&(l=(r.end-n.b)/s,t.b=Math.max(t.b,n.b+l))}function w1e(t,n,e){const i=t.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=e,l=t.getPointPosition(n,i+r+s,o),u=Math.round(mP(Ga(l.angle+hs))),d=function D1e(t,n,e){return 90===e||270===e?t-=n/2:(e>270||e<90)&&(t-=n),t}(l.y,a.h,u),g=function M1e(t){return 0===t||180===t?"center":t<180?"left":"right"}(u),y=function B1e(t,n,e){return"right"===e?t-=n:"center"===e&&(t-=n/2),t}(l.x,a.w,g);return{visible:!0,x:l.x,y:d,textAlign:g,left:y,top:d,right:y+a.w,bottom:d+a.h}}function C1e(t,n){if(!n)return!0;const{left:e,top:i,right:r,bottom:o}=t;return!(Xd({x:e,y:i},n)||Xd({x:e,y:o},n)||Xd({x:r,y:i},n)||Xd({x:r,y:o},n))}function S1e(t,n,e){const{left:i,top:r,right:o,bottom:s}=e,{backdropColor:a}=n;if(!lr(a)){const l=Og(n.borderRadius),u=Wa(n.backdropPadding);t.fillStyle=a;const d=i-u.left,g=r-u.top,y=o-i+u.width,m=s-r+u.height;Object.values(l).some(B=>0!==B)?(t.beginPath(),sb(t,{x:d,y:g,w:y,h:m,radius:l}),t.fill()):t.fillRect(d,g,y,m)}}function gz(t,n,e,i){const{ctx:r}=t;if(e)r.arc(t.xCenter,t.yCenter,n,0,Mo);else{let o=t.getPointPosition(0,n);r.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=t.getPointPosition(s,n),r.lineTo(o.x,o.y)}}const p5={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ql=Object.keys(p5);function mz(t,n){return t-n}function vz(t,n){if(lr(n))return null;const e=t._adapter,{parser:i,round:r,isoWeekday:o}=t._parseOpts;let s=n;return"function"==typeof i&&(s=i(s)),qo(s)||(s="string"==typeof i?e.parse(s,i):e.parse(s)),null===s?null:(r&&(s="week"!==r||!O1(o)&&!0!==o?e.startOf(s,r):e.startOf(s,"isoWeek",o)),+s)}function _z(t,n,e,i){const r=Ql.length;for(let o=Ql.indexOf(t);o<r-1;++o){const s=p5[Ql[o]];if(s.common&&Math.ceil((e-n)/((s.steps?s.steps:Number.MAX_SAFE_INTEGER)*s.size))<=i)return Ql[o]}return Ql[r-1]}function yz(t,n,e){if(e){if(e.length){const{lo:i,hi:r}=_P(e,n);t[e[i]>=n?e[i]:e[r]]=!0}}else t[n]=!0}function bz(t,n,e){const i=[],r={},o=n.length;let s,a;for(s=0;s<o;++s)a=n[s],r[a]=s,i.push({value:a,major:!1});return 0!==o&&e?function T1e(t,n,e,i){const r=t._adapter,o=+r.startOf(n[0].value,i),s=n[n.length-1].value;let a,l;for(a=o;a<=s;a=+r.add(a,1,i))l=e[a],l>=0&&(n[l].major=!0);return n}(t,i,r,e):i}let JP=(()=>class t extends Ng{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const r=e.time||(e.time={}),o=this._adapter=new Lge__date(e.adapters.date);o.init(i),Jy(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:vz(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,r=e.time.unit||"day";let{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(u(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&u(this.getMinMax(!1))),o=qo(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),s=qo(s)&&!isNaN(s)?s:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this.options,i=e.time,r=e.ticks,o="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const s=this.min,l=function ipe(t,n,e){let i=0,r=t.length;for(;i<r&&t[i]<n;)i++;for(;r>i&&t[r-1]>e;)r--;return i>0||r<t.length?t.slice(i,r):t}(o,s,this.max);return this._unit=i.unit||(r.autoSkip?_z(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):function k1e(t,n,e,i,r){for(let o=Ql.length-1;o>=Ql.indexOf(e);o--){const s=Ql[o];if(p5[s].common&&t._adapter.diff(r,i,s)>=n-1)return s}return Ql[e?Ql.indexOf(e):0]}(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function F1e(t){for(let n=Ql.indexOf(t)+1,e=Ql.length;n<e;++n)if(p5[Ql[n]].common)return Ql[n]}(this._unit):void 0,this.initOffsets(o),e.reverse&&l.reverse(),bz(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let o,s,i=0,r=0;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),i=1===e.length?1-o:(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),r=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;i=aa(i,0,a),r=aa(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,i=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||_z(s.minUnit,i,r,this._getLabelCapacity(i)),l=ki(o.ticks.stepSize,1),u="week"===a&&s.isoWeekday,d=O1(u)||!0===u,g={};let m,B,y=i;if(d&&(y=+e.startOf(y,"isoWeek",u)),y=+e.startOf(y,d?"day":a),e.diff(r,i,a)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+a);const D="data"===o.ticks.source&&this.getDataTimestamps();for(m=y,B=0;m<r;m=+e.add(m,l,a),B++)yz(g,m,D);return(m===r||"ticks"===o.bounds||1===B)&&yz(g,m,D),Object.keys(g).sort(mz).map(I=>+I)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(e,i){return this._adapter.format(e,i||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,i,r,o){const s=this.options,a=s.ticks.callback;if(a)return po(a,[e,i,r],this);const l=s.time.displayFormats,u=this._unit,d=this._majorUnit,y=d&&l[d],m=r[i];return this._adapter.format(e,o||(d&&y&&m&&m.major?y:u&&l[u]))}generateTickLabels(e){let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],o.label=this._tickFormatFunction(o.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,r=this.ctx.measureText(e).width,o=ju(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(e){const i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,s=this._tickFormatFunction(e,0,bz(this,[e],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let i,r,e=this._cache.data||[];if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)e=e.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,r;if(e.length)return e;const o=this.getLabels();for(i=0,r=o.length;i<r;++i)e.push(vz(this,o[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _H(e.sort(mz))}})();function g5(t,n,e){let o,s,a,l,i=0,r=t.length-1;e?(n>=t[i].pos&&n<=t[r].pos&&({lo:i,hi:r}=Yd(t,"pos",n)),({pos:o,time:a}=t[i]),({pos:s,time:l}=t[r])):(n>=t[i].time&&n<=t[r].time&&({lo:i,hi:r}=Yd(t,"time",n)),({time:o,pos:a}=t[i]),({time:s,pos:l}=t[r]));const u=s-o;return u?a+(l-a)*(n-o)/u:a}var N1e=Object.freeze({__proto__:null,CategoryScale:h1e,LinearScale:class p1e extends f5{static id="linear";static defaults={ticks:{callback:$x.formatters.numeric}};determineDataLimits(){const{min:n,max:e}=this.getMinMax(!0);this.min=qo(n)?n:0,this.max=qo(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const n=this.isHorizontal(),e=n?this.width:this.height,i=ju(this.options.ticks.minRotation),r=(n?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(n){return null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},LogarithmicScale:class v1e extends Ng{static id="logarithmic";static defaults={ticks:{callback:$x.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,e){const i=f5.prototype.parse.apply(this,[n,e]);if(0!==i)return qo(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:n,max:e}=this.getMinMax(!0);this.min=qo(n)?Math.max(0,n):null,this.max=qo(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!qo(this._userMin)&&(this.min=n===Rg(this.min,0)?Rg(this.min,-1):Rg(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:n,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=a=>i=n?i:a,s=a=>r=e?r:a;i===r&&(i<=0?(o(1),s(10)):(o(Rg(i,-1)),s(Rg(r,1)))),i<=0&&o(Rg(r,-1)),r<=0&&s(Rg(i,1)),this.min=i,this.max=r}buildTicks(){const n=this.options,i=function m1e(t,{min:n,max:e}){n=yc(t.min,n);const i=[],r=mb(n);let o=function g1e(t,n){let i=mb(n-t);for(;fz(t,n,i)>10;)i++;for(;fz(t,n,i)<10;)i--;return Math.min(i,mb(t))}(n,e),s=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=r>o?Math.pow(10,r):0,u=Math.round((n-l)*s)/s,d=Math.floor((n-l)/a/10)*a*10;let g=Math.floor((u-d)/Math.pow(10,o)),y=yc(t.min,Math.round((l+d+g*Math.pow(10,o))*s)/s);for(;y<e;)i.push({value:y,major:hz(y),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(o++,g=2,s=o>=0?1:s),y=Math.round((l+d+g*Math.pow(10,o))*s)/s;const m=yc(t.max,y);return i.push({value:m,major:hz(m),significand:g}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===n.bounds&&fH(i,this,"value"),n.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(n){return void 0===n?"0":rb(n,this.chart.options.locale,this.options.ticks.format)}configure(){const n=this.min;super.configure(),this._startValue=Hf(n),this._valueRange=Hf(this.max)-Hf(n)}getPixelForValue(n){return(void 0===n||0===n)&&(n=this.min),null===n||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(Hf(n)-this._startValue)/this._valueRange)}getValueForPixel(n){const e=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+e*this._valueRange)}},RadialLinearScale:class O1e extends f5{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:$x.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const n=this._padding=Wa(XP(this.options)/2),e=this.width=this.maxWidth-n.width,i=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+e/2+n.left),this.yCenter=Math.floor(this.top+i/2+n.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:n,max:e}=this.getMinMax(!1);this.min=qo(n)&&!isNaN(n)?n:0,this.max=qo(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/XP(this.options))}generateTickLabels(n){f5.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((e,i)=>{const r=po(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const n=this.options;n.display&&n.pointLabels.display?function y1e(t){const n={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},e=Object.assign({},n),i=[],r=[],o=t._pointLabels.length,s=t.options.pointLabels,a=s.centerPointLabels?kr/o:0;for(let l=0;l<o;l++){const u=s.setContext(t.getPointLabelContext(l));r[l]=u.padding;const d=t.getPointPosition(l,t.drawingArea+r[l],a),g=Ws(u.font),y=_1e(t.ctx,g,t._pointLabels[l]);i[l]=y;const m=Ga(t.getIndexAngle(l)+a),B=Math.round(mP(m));b1e(e,n,m,pz(B,d.x,y.w,0,180),pz(B,d.y,y.h,90,270))}t.setCenterPoint(n.l-e.l,e.r-n.r,n.t-e.t,e.b-n.b),t._pointLabelItems=function x1e(t,n,e){const i=[],r=t._pointLabels.length,o=t.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:XP(o)/2,additionalAngle:s?kr/r:0};let u;for(let d=0;d<r;d++){l.padding=e[d],l.size=n[d];const g=w1e(t,d,l);i.push(g),"auto"===a&&(g.visible=C1e(g,u),g.visible&&(u=g))}return i}(t,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,e,i,r){this.xCenter+=Math.floor((n-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,e,i,r))}getIndexAngle(n){return Ga(n*(Mo/(this._pointLabels.length||1))+ju(this.options.startAngle||0))}getDistanceFromCenterForValue(n){if(lr(n))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*e:(n-this.min)*e}getValueForDistanceFromCenter(n){if(lr(n))return NaN;const e=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(n){const e=this._pointLabels||[];if(n>=0&&n<e.length){const i=e[n];return function I1e(t,n,e){return zf(t,{label:e,index:n,type:"pointLabel"})}(this.getContext(),n,i)}}getPointPosition(n,e,i=0){const r=this.getIndexAngle(n)-hs+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(n,e){return this.getPointPosition(n,this.getDistanceFromCenterForValue(e))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[n];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:n,grid:{circular:e}}=this.options;if(n){const i=this.ctx;i.save(),i.beginPath(),gz(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=n,i.fill(),i.restore()}}drawGrid(){const n=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,s=this._pointLabels.length;let a,l,u;if(e.pointLabels.display&&function E1e(t,n){const{ctx:e,options:{pointLabels:i}}=t;for(let r=n-1;r>=0;r--){const o=t._pointLabelItems[r];if(!o.visible)continue;const s=i.setContext(t.getPointLabelContext(r));S1e(e,s,o);const a=Ws(s.font),{x:l,y:u,textAlign:d}=o;Ig(e,t._pointLabels[r],l,u+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((d,g)=>{if(0!==g||0===g&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const y=this.getContext(g),m=r.setContext(y),B=o.setContext(y);!function P1e(t,n,e,i,r){const o=t.ctx,s=n.circular,{color:a,lineWidth:l}=n;!s&&!i||!a||!l||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),gz(t,e,s,i),o.closePath(),o.stroke(),o.restore())}(this,m,l,s,B)}}),i.display){for(n.save(),a=s-1;a>=0;a--){const d=i.setContext(this.getPointLabelContext(a)),{color:g,lineWidth:y}=d;!y||!g||(n.lineWidth=y,n.strokeStyle=g,n.setLineDash(d.borderDash),n.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),u=this.getPointPosition(a,l),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(u.x,u.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){const n=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,s;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(r),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((a,l)=>{if(0===l&&this.min>=0&&!e.reverse)return;const u=i.setContext(this.getContext(l)),d=Ws(u.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){n.font=d.string,s=n.measureText(a.label).width,n.fillStyle=u.backdropColor;const g=Wa(u.backdropPadding);n.fillRect(-s/2-g.left,-o-d.size/2-g.top,s+g.width,d.size+g.height)}Ig(n,a.label,0,-o,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),n.restore()}drawTitle(){}},TimeScale:JP,TimeSeriesScale:class L1e extends JP{static id="timeseries";static defaults=JP.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const n=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(n);this._minPos=g5(e,this.min),this._tableRange=g5(e,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){const{min:e,max:i}=this,r=[],o=[];let s,a,l,u,d;for(s=0,a=n.length;s<a;++s)u=n[s],u>=e&&u<=i&&r.push(u);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(s=0,a=r.length;s<a;++s)d=r[s+1],l=r[s-1],u=r[s],Math.round((d+l)/2)!==u&&o.push({time:u,pos:s/(a-1)});return o}_generate(){const n=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(n)||!i.length)&&i.splice(0,0,n),(!i.includes(e)||1===i.length)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return n=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,n=this._cache.all=n,n}getDecimalForValue(n){return(g5(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){const e=this._offsets,i=this.getDecimalForPixel(n)/e.factor-e.end;return g5(this._table,i*this._tableRange+this._minPos,!0)}}});const R1e=[Tge,f0e,c1e,N1e];let e3=(()=>{class t{constructor(){this.charts=new Map,VP.register(...R1e)}createChart(e,i,r){const o=document.getElementById(e);if(!o)throw new Error(`Canvas element with id '${e}' not found`);this.charts.has(r||e)&&this.charts.get(r||e)?.destroy();const s=new VP(o,i);return this.charts.set(r||e,s),s}createBarChart(e,i,r,o,s){const a={type:"bar",data:{labels:i,datasets:r.map(l=>({...l,backgroundColor:l.backgroundColor||"#3b82f6",borderColor:l.backgroundColor||"#3b82f6",borderWidth:1}))},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1}},...o}};return this.createChart(e,a,s)}createLineChart(e,i,r,o,s){const a={type:"line",data:{labels:i,datasets:r.map(l=>({...l,borderColor:l.borderColor||"#3b82f6",backgroundColor:l.backgroundColor||"rgba(59, 130, 246, 0.1)",fill:void 0===l.fill||l.fill,tension:.4}))},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},...o}};return this.createChart(e,a,s)}createDoughnutChart(e,i,r,o,s){const a={type:"doughnut",data:{labels:i,datasets:r.map(l=>({...l,backgroundColor:l.backgroundColor||["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"]}))},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}},...o}};return this.createChart(e,a,s)}createPieChart(e,i,r,o,s){const a={type:"pie",data:{labels:i,datasets:r.map(l=>({...l,backgroundColor:l.backgroundColor||["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"]}))},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}},...o}};return this.createChart(e,a,s)}getChart(e){return this.charts.get(e)}updateChartData(e,i,r){const o=this.charts.get(e);o&&(o.data.labels=i,o.data.datasets=r,o.update())}destroyChart(e){const i=this.charts.get(e);i&&(i.destroy(),this.charts.delete(e))}destroyAllCharts(){this.charts.forEach(e=>e.destroy()),this.charts.clear()}exportChartAsImage(e,i="chart.png"){const r=this.charts.get(e);if(r){const o=document.createElement("a");o.download=i,o.href=r.toBase64Image(),o.click()}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wz=(()=>{class t{generateExecutiveSummary(e){const i=this.createExecutiveSummaryHtml(e);this.printReport(i,"Executive_Summary")}generatePresentationDeck(e){const i=this.createPresentationDeckHtml(e);this.printReport(i,"Presentation_Deck")}generateInvestorReport(e){const i=this.createInvestorReportHtml(e);this.printReport(i,"Investor_Report")}generateTechnicalReport(e){const i=this.createTechnicalReportHtml(e);this.printReport(i,"Technical_Report")}createExecutiveSummaryHtml(e){const i=e.simulationResult,r=e.zone;return`\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Executive Summary - Smart Mobility Simulator</title>\n  <style>\n    * { margin: 0; padding: 0; box-sizing: border-box; }\n    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; }\n    .header { background: linear-gradient(135deg, #1e3a5f, #0ea5e9); color: white; padding: 40px; }\n    .header h1 { font-size: 32px; margin-bottom: 10px; }\n    .header p { font-size: 16px; opacity: 0.9; }\n    .content { padding: 40px; max-width: 900px; margin: 0 auto; }\n    .section { margin-bottom: 30px; }\n    .section h2 { color: #1e3a5f; border-bottom: 2px solid #0ea5e9; padding-bottom: 10px; margin-bottom: 20px; }\n    .metrics-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }\n    .metric-card { background: #f8fafc; padding: 20px; border-radius: 10px; border-left: 4px solid #0ea5e9; }\n    .metric-card.success { border-left-color: #10b981; background: #d1fae5; }\n    .metric-value { font-size: 28px; font-weight: bold; color: #1e3a5f; }\n    .metric-label { color: #64748b; font-size: 14px; }\n    .zone-info { background: #f8fafc; padding: 20px; border-radius: 10px; }\n    .zone-info h3 { color: #1e3a5f; margin-bottom: 10px; }\n    .findings { background: #fffbeb; padding: 20px; border-radius: 10px; border-left: 4px solid #f59e0b; }\n    .findings ul { margin-left: 20px; }\n    .findings li { margin-bottom: 8px; }\n    .recommendations { background: #dbeafe; padding: 20px; border-radius: 10px; }\n    .recommendations ul { margin-left: 20px; }\n    .recommendations li { margin-bottom: 8px; }\n    .footer { text-align: center; padding: 20px; color: #64748b; font-size: 12px; border-top: 1px solid #e2e8f0; margin-top: 40px; }\n    @media print { body { -webkit-print-color-adjust: exact; } }\n  </style>\n</head>\n<body>\n  <div class="header">\n    <h1>\u{1f697} Smart Mobility Congestion Pricing</h1>\n    <h2>Executive Summary Report</h2>\n    <p>Generated: ${e.generatedAt.toLocaleDateString()} | Zone: ${r?.name||"Not selected"}</p>\n  </div>\n  \n  <div class="content">\n    <div class="section">\n      <h2>\u{1f4ca} Key Performance Indicators</h2>\n      <div class="metrics-grid">\n        <div class="metric-card success">\n          <div class="metric-value">${i?.congestionReduction?.toFixed(1)||0}%</div>\n          <div class="metric-label">Congestion Reduction</div>\n        </div>\n        <div class="metric-card">\n          <div class="metric-value">AED ${(i?.estimatedRevenue||0).toLocaleString()}</div>\n          <div class="metric-label">Annual Revenue</div>\n        </div>\n        <div class="metric-card">\n          <div class="metric-value">${(i?.vehiclesDiverted||0).toLocaleString()}</div>\n          <div class="metric-label">Vehicles Diverted/Day</div>\n        </div>\n        <div class="metric-card">\n          <div class="metric-value">${(i?.environmentalImpact||0).toLocaleString()} kg</div>\n          <div class="metric-label">CO\u2082 Reduced/Day</div>\n        </div>\n      </div>\n    </div>\n\n    <div class="section">\n      <h2>\u{1f4cd} Zone Analysis</h2>\n      <div class="zone-info">\n        <h3>${r?.name||"Not selected"} - ${r?.emirate||""}</h3>\n        <p><strong>Zone Type:</strong> ${r?.zoneType||"N/A"}</p>\n        <p><strong>Hourly Rate:</strong> AED ${r?.chargePerHour||e.config.hourlyRate}/hr</p>\n        <p><strong>Free Hours:</strong> ${r?.baseFreeHours||e.config.freeHours} hours</p>\n        <p><strong>Peak Multiplier:</strong> ${e.config.peakMultiplier}x</p>\n      </div>\n    </div>\n\n    <div class="section">\n      <h2>\u{1f4a1} Key Findings</h2>\n      <div class="findings">\n        <ul>\n          <li>Implementation of congestion pricing could reduce traffic by <strong>${i?.congestionReduction?.toFixed(1)||0}%</strong> during peak hours</li>\n          <li>Estimated annual revenue of <strong>AED ${(i?.estimatedRevenue||0).toLocaleString()}</strong> for infrastructure improvements</li>\n          <li>Environmental impact: <strong>${(i?.environmentalImpact||0).toLocaleString()} kg</strong> CO\u2082 reduction daily</li>\n          <li>Equity analysis shows ${i?.equityImpact?.isRegressive?"potential regressive impact":"minimal regressive impact"} requiring mitigation measures</li>\n        </ul>\n      </div>\n    </div>\n\n    <div class="section">\n      <h2>\u2705 Recommendations</h2>\n      <div class="recommendations">\n        <ul>\n          <li>Implement graduated pricing structure to minimize equity concerns</li>\n          <li>Introduce exemption programs for low-income commuters</li>\n          <li>Reinvest revenue into public transportation improvements</li>\n          <li>Launch public awareness campaign before implementation</li>\n          <li>Establish monitoring system for continuous optimization</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <div class="footer">\n    <p>Smart Mobility Simulator | UAE Ministry of Transport | Generated on ${e.generatedAt.toLocaleString()}</p>\n  </div>\n</body>\n</html>\n    `}createPresentationDeckHtml(e){const i=e.simulationResult;return`\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Presentation Deck - Smart Mobility Simulator</title>\n  <style>\n    * { margin: 0; padding: 0; box-sizing: border-box; }\n    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }\n    .slide { page-break-after: always; min-height: 100vh; padding: 60px; display: flex; flex-direction: column; justify-content: center; }\n    .slide-1 { background: linear-gradient(135deg, #1e3a5f, #0ea5e9); color: white; text-align: center; }\n    .slide-1 h1 { font-size: 48px; margin-bottom: 20px; }\n    .slide-1 p { font-size: 24px; opacity: 0.9; }\n    .slide-2 { background: #fff; }\n    .slide-2 h2 { font-size: 36px; color: #1e3a5f; margin-bottom: 40px; }\n    .slide-content { max-width: 800px; margin: 0 auto; }\n    .stat-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 40px; }\n    .stat { text-align: center; padding: 40px; background: #f8fafc; border-radius: 20px; }\n    .stat-value { font-size: 48px; font-weight: bold; color: #0ea5e9; }\n    .stat-label { font-size: 18px; color: #64748b; margin-top: 10px; }\n    .slide-3 { background: #f8fafc; }\n    .slide-3 h2 { font-size: 36px; color: #1e3a5f; text-align: center; margin-bottom: 40px; }\n    .benefits { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; }\n    .benefit { background: white; padding: 30px; border-radius: 15px; text-align: center; }\n    .benefit-icon { font-size: 48px; margin-bottom: 15px; }\n    .benefit h3 { color: #1e3a5f; margin-bottom: 10px; }\n    .footer { position: fixed; bottom: 20px; left: 60px; color: #64748b; font-size: 14px; }\n    @media print { body { -webkit-print-color-adjust: exact; } }\n  </style>\n</head>\n<body>\n  <div class="slide slide-1">\n    <h1>\u{1f697} Smart Mobility Simulator</h1>\n    <h2>Congestion Pricing Analysis</h2>\n    <p>${e.zone?.name||"Zone Analysis"} | ${e.generatedAt.toLocaleDateString()}</p>\n  </div>\n  \n  <div class="slide slide-2">\n    <div class="slide-content">\n      <h2>\u{1f4ca} Projected Impact</h2>\n      <div class="stat-grid">\n        <div class="stat">\n          <div class="stat-value">${i?.congestionReduction?.toFixed(0)||0}%</div>\n          <div class="stat-label">Traffic Reduction</div>\n        </div>\n        <div class="stat">\n          <div class="stat-value">AED ${((i?.estimatedRevenue||0)/1e3).toFixed(0)}K</div>\n          <div class="stat-label">Annual Revenue</div>\n        </div>\n        <div class="stat">\n          <div class="stat-value">${(i?.vehiclesDiverted||0).toLocaleString()}</div>\n          <div class="stat-label">Vehicles/Day</div>\n        </div>\n        <div class="stat">\n          <div class="stat-value">${(i?.environmentalImpact||0).toLocaleString()}</div>\n          <div class="stat-label">kg CO\u2082 Saved</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <div class="slide slide-3">\n    <h2>\u2728 Key Benefits</h2>\n    <div class="benefits">\n      <div class="benefit">\n        <div class="benefit-icon">\u{1f697}</div>\n        <h3>Reduced Congestion</h3>\n        <p>Fewer vehicles on roads during peak hours</p>\n      </div>\n      <div class="benefit">\n        <div class="benefit-icon">\u{1f331}</div>\n        <h3>Environmental</h3>\n        <p>Lower emissions and better air quality</p>\n      </div>\n      <div class="benefit">\n        <div class="benefit-icon">\u{1f4b0}</div>\n        <h3>Revenue</h3>\n        <p>Funds for public transport improvements</p>\n      </div>\n    </div>\n  </div>\n\n  <div class="footer">Smart Mobility Simulator | UAE Ministry of Transport</div>\n</body>\n</html>\n    `}createInvestorReportHtml(e){const i=e.simulationResult,r=e.zone,o=((i?.estimatedRevenue||0)/1e6*100).toFixed(1);return`\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Investor Report - Smart Mobility Simulator</title>\n  <style>\n    * { margin: 0; padding: 0; box-sizing: border-box; }\n    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; }\n    .header { background: #1e3a5f; color: white; padding: 40px; }\n    .header h1 { font-size: 28px; }\n    .header p { opacity: 0.8; }\n    .content { padding: 40px; max-width: 900px; margin: 0 auto; }\n    .section { margin-bottom: 30px; }\n    .section h2 { color: #1e3a5f; border-bottom: 2px solid #1e3a5f; padding-bottom: 8px; margin-bottom: 20px; }\n    .financial-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }\n    .financial-card { background: #f0fdf4; padding: 25px; border-radius: 10px; text-align: center; }\n    .financial-card.highlight { background: #dbeafe; }\n    .financial-value { font-size: 24px; font-weight: bold; color: #166534; }\n    .financial-value.highlight { color: #1e40af; }\n    .financial-label { font-size: 14px; color: #64748b; }\n    .roi-section { background: linear-gradient(135deg, #1e3a5f, #0ea5e9); color: white; padding: 30px; border-radius: 15px; text-align: center; margin: 30px 0; }\n    .roi-value { font-size: 48px; font-weight: bold; }\n    .timeline { background: #f8fafc; padding: 20px; border-radius: 10px; }\n    .timeline-item { display: flex; align-items: center; margin-bottom: 15px; }\n    .timeline-marker { width: 30px; height: 30px; background: #0ea5e9; border-radius: 50%; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 15px; }\n    .risk-table { width: 100%; border-collapse: collapse; }\n    .risk-table th, .risk-table td { padding: 12px; text-align: left; border-bottom: 1px solid #e2e8f0; }\n    .risk-table th { background: #f8fafc; font-weight: 600; }\n    .risk-low { color: #16a34a; }\n    .risk-medium { color: #ca8a04; }\n  </style>\n</head>\n<body>\n  <div class="header">\n    <h1>\u{1f4bc} Investment Analysis Report</h1>\n    <p>Smart Mobility Congestion Pricing | ${r?.name||"Zone Analysis"}</p>\n    <p>Generated: ${e.generatedAt.toLocaleDateString()}</p>\n  </div>\n  \n  <div class="content">\n    <div class="section">\n      <h2>\u{1f4b0} Financial Projections</h2>\n      <div class="financial-grid">\n        <div class="financial-card">\n          <div class="financial-value">AED ${(i?.estimatedRevenue||0).toLocaleString()}</div>\n          <div class="financial-label">Annual Revenue</div>\n        </div>\n        <div class="financial-card">\n          <div class="financial-value">${(i?.vehiclesDiverted||0).toLocaleString()}</div>\n          <div class="financial-label">Daily Vehicles Impacted</div>\n        </div>\n        <div class="financial-card highlight">\n          <div class="financial-value highlight">${o}%</div>\n          <div class="financial-label">Projected ROI</div>\n        </div>\n      </div>\n    </div>\n\n    <div class="roi-section">\n      <div class="roi-value">${o}% Return on Investment</div>\n      <p>Based on conservative revenue projections and implementation costs</p>\n    </div>\n\n    <div class="section">\n      <h2>\u{1f4c5} Implementation Timeline</h2>\n      <div class="timeline">\n        <div class="timeline-item">\n          <div class="timeline-marker">1</div>\n          <div><strong>Phase 1 (Months 1-3):</strong> Infrastructure setup and system integration</div>\n        </div>\n        <div class="timeline-item">\n          <div class="timeline-marker">2</div>\n          <div><strong>Phase 2 (Months 4-6):</strong> Public awareness and soft launch</div>\n        </div>\n        <div class="timeline-item">\n          <div class="timeline-marker">3</div>\n          <div><strong>Phase 3 (Months 7-12):</strong> Full implementation and optimization</div>\n        </div>\n      </div>\n    </div>\n\n    <div class="section">\n      <h2>\u26a0\ufe0f Risk Assessment</h2>\n      <table class="risk-table">\n        <tr><th>Risk Factor</th><th>Probability</th><th>Impact</th></tr>\n        <tr><td>Public Resistance</td><td class="risk-medium">Medium</td><td>Medium</td></tr>\n        <tr><td>Technical Challenges</td><td class="risk-low">Low</td><td>Medium</td></tr>\n        <tr><td>Revenue Shortfall</td><td class="risk-medium">Medium</td><td>High</td></tr>\n        <tr><td>Regulatory Changes</td><td class="risk-low">Low</td><td>Low</td></tr>\n      </table>\n    </div>\n  </div>\n</body>\n</html>\n    `}createTechnicalReportHtml(e){const i=e.zone;return`\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Technical Report - Smart Mobility Simulator</title>\n  <style>\n    * { margin: 0; padding: 0; box-sizing: border-box; }\n    body { font-family: 'Courier New', monospace; line-height: 1.6; }\n    .header { background: #1e293b; color: white; padding: 30px; }\n    .content { padding: 30px; max-width: 900px; margin: 0 auto; }\n    .section { margin-bottom: 25px; }\n    .section h2 { color: #1e293b; border-bottom: 1px solid #cbd5e1; padding-bottom: 5px; margin-bottom: 15px; }\n    .code-block { background: #f1f5f9; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 12px; }\n    .config-table { width: 100%; border-collapse: collapse; }\n    .config-table th, .config-table td { padding: 8px; text-align: left; border: 1px solid #cbd5e1; }\n    .config-table th { background: #f8fafc; }\n    .tech-stack { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }\n    .tech-item { background: #f8fafc; padding: 15px; border-radius: 5px; }\n    .tech-item strong { color: #1e293b; }\n  </style>\n</head>\n<body>\n  <div class="header">\n    <h1>\u{1f527} Technical Specifications</h1>\n    <p>Smart Mobility Congestion Pricing System</p>\n  </div>\n  \n  <div class="content">\n    <div class="section">\n      <h2>Zone Configuration</h2>\n      <table class="config-table">\n        <tr><th>Parameter</th><th>Value</th></tr>\n        <tr><td>Zone ID</td><td>${i?.id||"N/A"}</td></tr>\n        <tr><td>Zone Name</td><td>${i?.name||"N/A"}</td></tr>\n        <tr><td>Emirate</td><td>${i?.emirate||"N/A"}</td></tr>\n        <tr><td>Zone Type</td><td>${i?.zoneType||"N/A"}</td></tr>\n        <tr><td>Hourly Rate</td><td>AED ${i?.chargePerHour||e.config.hourlyRate}</td></tr>\n        <tr><td>Free Hours</td><td>${i?.baseFreeHours||e.config.freeHours}</td></tr>\n        <tr><td>Peak Multiplier</td><td>${e.config.peakMultiplier}x</td></tr>\n      </table>\n    </div>\n\n    <div class="section">\n      <h2>API Endpoints</h2>\n      <div class="code-block">\nPOST /api/simulation/run<br>\n{<br>\n  "zoneId": "${i?.id||"string"}",<br>\n  "date": "ISO8601 Date",<br>\n  "zoneRules": {<br>\n    "peakMultiplier": ${e.config.peakMultiplier},<br>\n    "exemptions": ["Public Transport", "Commercial", "Emergency"],<br>\n    "freeHours": ${e.config.freeHours},<br>\n    "customChargePerHour": ${e.config.hourlyRate}<br>\n  }<br>\n}\n      </div>\n    </div>\n\n    <div class="section">\n      <h2>Technology Stack</h2>\n      <div class="tech-stack">\n        <div class="tech-item"><strong>Frontend:</strong> Angular 17</div>\n        <div class="tech-item"><strong>Charts:</strong> Chart.js</div>\n        <div class="tech-item"><strong>Styling:</strong> Tailwind CSS</div>\n        <div class="tech-item"><strong>Maps:</strong> Leaflet.js</div>\n      </div>\n    </div>\n\n    <div class="section">\n      <h2>Data Models</h2>\n      <div class="code-block">\ninterface SimulationResult {<br>\n  id: string;<br>\n  name: string;<br>\n  totalVehicles: number;<br>\n  vehiclesDiverted: number;<br>\n  congestionReduction: number;<br>\n  estimatedRevenue: number;<br>\n  equityImpact: EquityImpact;<br>\n  environmentalImpact: number;<br>\n  createdAt: Date;<br>\n}\n      </div>\n    </div>\n  </div>\n</body>\n</html>\n    `}printReport(e,i){const r=window.open("","_blank");r&&(r.document.write(e),r.document.close(),r.onload=()=>{r.print()})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function U1e(t,n){if(1&t&&(h(0,"span"),f(1),A()),2&t){const e=Fe().index;S(),lt(e+1)}}function Q1e(t,n){1&t&&(h(0,"span"),f(1,"\u2713"),A())}function H1e(t,n){if(1&t){const e=ti();h(0,"div",11),it("click",function(){const r=pt(e).index;return gt(Fe().goToStep(r))}),h(1,"div",12),xt(2,U1e,2,1,"span",13)(3,Q1e,2,0,"span",13),A(),h(4,"div",14)(5,"span",15),f(6),A(),h(7,"span",16),f(8),A()()()}if(2&t){const e=n.$implicit;Un("active",e.active)("completed",e.completed),S(2),ke("ngIf",!e.completed),S(),ke("ngIf",e.completed),S(3),lt(e.title),S(2),lt(e.description)}}function z1e(t,n){if(1&t){const e=ti();h(0,"div",23),it("click",function(){const r=pt(e).$implicit;return gt(Fe(2).selectEmirate(r.id))}),h(1,"span",24),f(2),A(),h(3,"span",25),f(4),A()()}if(2&t){const e=n.$implicit;Un("selected",Fe(2).selectedEmirate===e.id),S(2),lt(e.icon),S(2),lt(e.name)}}function V1e(t,n){if(1&t&&(h(0,"div",26)(1,"p"),f(2),A()()),2&t){const e=Fe(2);S(2),Wo(" \u2705 ",e.getSelectedEmirateName()," selected - ",e.filteredZones.length," zones available ")}}function j1e(t,n){if(1&t&&(h(0,"div",17)(1,"div",18)(2,"span",19),f(3,"\u{1f5fa}\ufe0f"),A(),h(4,"h2"),f(5,"Select Emirate"),A(),h(6,"p"),f(7,"Choose the emirate you want to analyze for congestion pricing"),A()(),h(8,"div",20),xt(9,z1e,5,4,"div",21),A(),xt(10,V1e,3,2,"div",22),A()),2&t){const e=Fe();S(9),ke("ngForOf",e.emirates),S(),ke("ngIf",e.selectedEmirate)}}function G1e(t,n){if(1&t){const e=ti();h(0,"div",30),it("click",function(){const r=pt(e).$implicit;return gt(Fe(2).selectZone(r))}),h(1,"div",31)(2,"span",32),f(3),A(),h(4,"span",33),f(5),A()(),h(6,"h3"),f(7),A(),h(8,"div",34)(9,"div",35)(10,"span",36),f(11),A(),h(12,"span",37),f(13,"Free Hours"),A()(),h(14,"div",35)(15,"span",36),f(16),A(),h(17,"span",37),f(18,"Per Hour"),A()()()()}if(2&t){const e=n.$implicit,i=Fe(2);Un("selected",(null==i.selectedZone?null:i.selectedZone.id)===e.id),S(2),Ds("data-emirate",e.emirate),S(),lt(e.emirate),S(2),lt(e.zoneType),S(2),lt(e.name),S(4),lt(e.baseFreeHours),S(5),Me("AED ",e.chargePerHour,"")}}function K1e(t,n){1&t&&(h(0,"div",38)(1,"p"),f(2," No zones available for this emirate. Please select another emirate. "),A()())}function W1e(t,n){if(1&t&&(h(0,"div",17)(1,"div",18)(2,"span",19),f(3,"\u{1f4cd}"),A(),h(4,"h2"),f(5,"Select Your Zone"),A(),h(6,"p"),f(7),A()(),h(8,"div",27),xt(9,G1e,19,8,"div",28),A(),xt(10,K1e,3,0,"div",29),A()),2&t){const e=Fe();S(7),Me(" Choose the zone in ",e.selectedEmirate," for congestion pricing analysis "),S(2),ke("ngForOf",e.filteredZones),S(),ke("ngIf",0===e.filteredZones.length)}}function $1e(t,n){if(1&t){const e=ti();h(0,"div",17)(1,"div",18)(2,"span",19),f(3,"\u2699\ufe0f"),A(),h(4,"h2"),f(5,"Configure Pricing Rules"),A(),h(6,"p"),f(7,"Set up your congestion pricing parameters"),A()(),h(8,"div",39)(9,"div",40)(10,"h4"),f(11,"\u{1f4b0} Pricing"),A(),h(12,"div",41)(13,"label"),f(14,"Hourly Rate (AED)"),A(),h(15,"input",42),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.config.hourlyRate,r)||(o.config.hourlyRate=r),gt(r)}),A()(),h(16,"div",41)(17,"label"),f(18,"Free Hours"),A(),h(19,"input",43),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.config.freeHours,r)||(o.config.freeHours=r),gt(r)}),A()(),h(20,"div",41)(21,"label"),f(22,"Peak Multiplier"),A(),h(23,"div",44)(24,"input",45),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.config.peakMultiplier,r)||(o.config.peakMultiplier=r),gt(r)}),A(),h(25,"span",46),f(26),A()()()(),h(27,"div",40)(28,"h4"),f(29,"\u{1f697} Vehicle Rules"),A(),h(30,"div",47)(31,"label")(32,"input",48),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.config.exemptPublicTransport,r)||(o.config.exemptPublicTransport=r),gt(r)}),A(),f(33," Exempt Public Transport "),A()(),h(34,"div",47)(35,"label")(36,"input",48),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.config.exemptCommercial,r)||(o.config.exemptCommercial=r),gt(r)}),A(),f(37," Exempt Commercial Vehicles "),A()(),h(38,"div",47)(39,"label")(40,"input",48),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.config.exemptEmergency,r)||(o.config.exemptEmergency=r),gt(r)}),A(),f(41," Exempt Emergency Vehicles "),A()()(),h(42,"div",40)(43,"h4"),f(44,"\u{1f4c5} Simulation Date & Time"),A(),h(45,"div",41)(46,"label"),f(47,"Select Date & Time"),A(),h(48,"app-date-time-picker",49),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.selectedDateTime,r)||(o.selectedDateTime=r),gt(r)}),A()()()(),h(49,"div",50)(50,"h4"),f(51,"\u{1f4cb} Preset Scenarios"),A(),h(52,"div",51)(53,"div",52),it("click",function(){return pt(e),gt(Fe().applyPreset("light"))}),h(54,"span",53),f(55,"\u{1f331}"),A(),h(56,"span",54),f(57,"Light Pricing"),A(),h(58,"span",55),f(59,"AED 10/hr, 2hr free"),A()(),h(60,"div",52),it("click",function(){return pt(e),gt(Fe().applyPreset("moderate"))}),h(61,"span",53),f(62,"\u2696\ufe0f"),A(),h(63,"span",54),f(64,"Moderate"),A(),h(65,"span",55),f(66,"AED 25/hr, 1hr free"),A()(),h(67,"div",52),it("click",function(){return pt(e),gt(Fe().applyPreset("aggressive"))}),h(68,"span",53),f(69,"\u{1f525}"),A(),h(70,"span",54),f(71,"Aggressive"),A(),h(72,"span",55),f(73,"AED 50/hr, 0hr free"),A()()()()()}if(2&t){const e=Fe();S(15),Mn("ngModel",e.config.hourlyRate),S(4),Mn("ngModel",e.config.freeHours),S(5),Mn("ngModel",e.config.peakMultiplier),S(2),Me("",e.config.peakMultiplier,"x"),S(6),Mn("ngModel",e.config.exemptPublicTransport),S(4),Mn("ngModel",e.config.exemptCommercial),S(4),Mn("ngModel",e.config.exemptEmergency),S(8),Mn("ngModel",e.selectedDateTime)}}function q1e(t,n){1&t&&(h(0,"span"),f(1,"\u{1f680} Run Simulation"),A())}function Z1e(t,n){1&t&&(h(0,"span"),f(1,"\u23f3 Running..."),A())}function Y1e(t,n){1&t&&(h(0,"p",66),f(1," Please select a zone first "),A())}function X1e(t,n){if(1&t&&(h(0,"div",67)(1,"h4"),f(2,"\u{1f4ca} Quick Results"),A(),h(3,"div",68)(4,"div",69)(5,"span",70),f(6),jt(7,"number"),A(),h(8,"span",71),f(9,"Congestion Reduction"),A()(),h(10,"div",72)(11,"span",70),f(12),jt(13,"number"),A(),h(14,"span",71),f(15,"Est. Revenue"),A()(),h(16,"div",72)(17,"span",70),f(18),jt(19,"number"),A(),h(20,"span",71),f(21,"Vehicles Diverted"),A()(),h(22,"div",72)(23,"span",70),f(24),jt(25,"number"),A(),h(26,"span",71),f(27,"CO\u2082 Reduction"),A()()()()),2&t){const e=Fe(2);S(6),Me("",wn(7,4,e.simulationResult.congestionReduction,"1.1-1"),"%"),S(6),Me("AED ",Br(13,7,e.simulationResult.estimatedRevenue),""),S(6),lt(Br(19,9,e.simulationResult.vehiclesDiverted)),S(6),Me("",Br(25,11,e.simulationResult.environmentalImpact)," kg")}}function J1e(t,n){if(1&t){const e=ti();h(0,"div",17)(1,"div",18)(2,"span",19),f(3,"\u25b6\ufe0f"),A(),h(4,"h2"),f(5,"Run Simulation"),A(),h(6,"p"),f(7,"Execute your congestion pricing simulation"),A()(),h(8,"div",56)(9,"div",57)(10,"h4"),f(11,"Simulation Summary"),A(),h(12,"div",58)(13,"div",59)(14,"span",60),f(15,"Zone"),A(),h(16,"span",61),f(17),A()(),h(18,"div",59)(19,"span",60),f(20,"Rate"),A(),h(21,"span",61),f(22),A()(),h(23,"div",59)(24,"span",60),f(25,"Free Time"),A(),h(26,"span",61),f(27),A()(),h(28,"div",59)(29,"span",60),f(30,"Peak Multiplier"),A(),h(31,"span",61),f(32),A()()()(),h(33,"div",62)(34,"button",63),it("click",function(){return pt(e),gt(Fe().runSimulation())}),xt(35,q1e,2,0,"span",13)(36,Z1e,2,0,"span",13),A(),xt(37,Y1e,2,0,"p",64),A(),xt(38,X1e,28,13,"div",65),A()()}if(2&t){const e=Fe();S(17),lt((null==e.selectedZone?null:e.selectedZone.name)||"Not selected"),S(5),Me("AED ",e.config.hourlyRate,"/hr"),S(5),Me("",e.config.freeHours," hours"),S(5),Me("",e.config.peakMultiplier,"x"),S(2),ke("disabled",e.isRunning||!e.selectedZone),S(),ke("ngIf",!e.isRunning),S(),ke("ngIf",e.isRunning),S(),ke("ngIf",!e.selectedZone),S(),ke("ngIf",e.simulationResult)}}function eve(t,n){if(1&t&&(h(0,"div",76)(1,"div",77)(2,"span",78),f(3,"\u{1f697}"),A(),h(4,"span",70),f(5),jt(6,"number"),A(),h(7,"span",71),f(8,"Congestion Reduction"),A()(),h(9,"div",77)(10,"span",78),f(11,"\u{1f4b0}"),A(),h(12,"span",70),f(13),jt(14,"number"),A(),h(15,"span",71),f(16,"Est. Annual Revenue"),A()(),h(17,"div",77)(18,"span",78),f(19,"\u{1f699}"),A(),h(20,"span",70),f(21),jt(22,"number"),A(),h(23,"span",71),f(24,"Vehicles Diverted/Day"),A()(),h(25,"div",77)(26,"span",78),f(27,"\u{1f331}"),A(),h(28,"span",70),f(29),jt(30,"number"),A(),h(31,"span",71),f(32,"CO\u2082 Reduced/Day"),A()()()),2&t){const e=Fe(2);S(5),Me("",wn(6,4,e.simulationResult.congestionReduction,"1.1-1"),"%"),S(8),Me("AED ",Br(14,7,e.simulationResult.estimatedRevenue),""),S(8),lt(Br(22,9,e.simulationResult.vehiclesDiverted)),S(8),Me("",wn(30,11,e.simulationResult.environmentalImpact,"1.0-0")," kg")}}function tve(t,n){1&t&&(h(0,"div",79)(1,"div",80)(2,"h4"),f(3,"\u{1f4c8} Traffic Flow Comparison"),A(),Cn(4,"canvas",81),A(),h(5,"div",82)(6,"h4"),f(7,"Congestion Impact"),A(),Cn(8,"canvas",83),A(),h(9,"div",82)(10,"h4"),f(11,"Revenue Projection"),A(),Cn(12,"canvas",84),A(),h(13,"div",82)(14,"h4"),f(15,"Equity Impact"),A(),Cn(16,"canvas",85),A(),h(17,"div",82)(18,"h4"),f(19,"Environmental Impact"),A(),Cn(20,"canvas",86),A()())}function nve(t,n){if(1&t){const e=ti();h(0,"div",87)(1,"p"),f(2," No simulation results available. Please run a simulation first. "),A(),h(3,"button",88),it("click",function(){return pt(e),gt(Fe(2).goToStep(3))}),f(4," Go to Simulation "),A()()}}function ive(t,n){if(1&t&&(h(0,"div",17)(1,"div",18)(2,"span",19),f(3,"\u{1f4ca}"),A(),h(4,"h2"),f(5,"Results & Visualization"),A(),h(6,"p"),f(7,"Analyze your simulation results with interactive charts"),A()(),xt(8,eve,33,14,"div",73)(9,tve,21,0,"div",74)(10,nve,5,0,"div",75),A()),2&t){const e=Fe();S(8),ke("ngIf",e.simulationResult),S(),ke("ngIf",e.simulationResult),S(),ke("ngIf",!e.simulationResult)}}function rve(t,n){if(1&t){const e=ti();h(0,"div",17)(1,"div",18)(2,"span",19),f(3,"\u{1f4c4}"),A(),h(4,"h2"),f(5,"Generate Reports"),A(),h(6,"p"),f(7,"Export your findings and recommendations"),A()(),h(8,"div",89)(9,"div",90),it("click",function(){return pt(e),gt(Fe().exportReport("pdf"))}),h(10,"span",91),f(11,"\u{1f4d5}"),A(),h(12,"h4"),f(13,"Executive Summary"),A(),h(14,"p"),f(15,"PDF document for leadership"),A()(),h(16,"div",90),it("click",function(){return pt(e),gt(Fe().exportReport("presentation"))}),h(17,"span",91),f(18,"\u{1f4ca}"),A(),h(19,"h4"),f(20,"Presentation Deck"),A(),h(21,"p"),f(22,"PowerPoint for stakeholders"),A()(),h(23,"div",90),it("click",function(){return pt(e),gt(Fe().exportReport("investor"))}),h(24,"span",91),f(25,"\u{1f4bc}"),A(),h(26,"h4"),f(27,"Investor Report"),A(),h(28,"p"),f(29,"Detailed financial analysis"),A()(),h(30,"div",90),it("click",function(){return pt(e),gt(Fe().exportReport("technical"))}),h(31,"span",91),f(32,"\u{1f527}"),A(),h(33,"h4"),f(34,"Technical Report"),A(),h(35,"p"),f(36,"Technical specifications"),A()()(),h(37,"div",92)(38,"h4"),f(39,"\u{1f517} Share Results"),A(),h(40,"div",93)(41,"button",94),it("click",function(){return pt(e),gt(Fe().copyLink())}),f(42," \u{1f4cb} Copy Link "),A(),h(43,"button",94),it("click",function(){return pt(e),gt(Fe().shareEmail())}),f(44," \u{1f4e7} Email Report "),A(),h(45,"button",94),it("click",function(){return pt(e),gt(Fe().downloadAll())}),f(46," \u2b07\ufe0f Download All "),A()()()()}}let Cz=(()=>{class t{constructor(e,i,r,o,s,a,l){this.zoneService=e,this.simulationService=i,this.chartService=r,this.router=o,this.cdr=s,this.ngZone=a,this.reportService=l,this.steps=[{id:0,title:"Select Emirate",description:"Choose emirate",icon:"\u{1f5fa}\ufe0f",completed:!1,active:!0},{id:1,title:"Select Zone",description:"Choose location",icon:"\u{1f4cd}",completed:!1,active:!1},{id:2,title:"Configure",description:"Set pricing rules",icon:"\u2699\ufe0f",completed:!1,active:!1},{id:3,title:"Simulate",description:"Run analysis",icon:"\u25b6\ufe0f",completed:!1,active:!1},{id:4,title:"Results",description:"View charts",icon:"\u{1f4ca}",completed:!1,active:!1},{id:5,title:"Export",description:"Generate reports",icon:"\u{1f4c4}",completed:!1,active:!1}],this.currentStep=0,this.zones=[],this.filteredZones=[],this.selectedEmirate="",this.selectedZone=null,this.isRunning=!1,this.simulationResult=null,this.emirates=[{id:"dubai",name:"Dubai",icon:"\u{1f306}"},{id:"abu-dhabi",name:"Abu Dhabi",icon:"\u{1f3d9}\ufe0f"},{id:"sharjah",name:"Sharjah",icon:"\u{1f54c}"},{id:"ajman",name:"Ajman",icon:"\u{1f3d6}\ufe0f"},{id:"ras-al-khaimah",name:"Ras Al Khaimah",icon:"\u{1f3d4}\ufe0f"},{id:"fujairah",name:"Fujairah",icon:"\u26f0\ufe0f"},{id:"umm-al-quwain",name:"Umm Al Quwain",icon:"\u{1f30a}"}],this.selectedDateTime=new Date,this.config={hourlyRate:25,freeHours:1,peakMultiplier:1.5,exemptPublicTransport:!0,exemptCommercial:!0,exemptEmergency:!0,simulationDate:(new Date).toISOString().split("T")[0],simulationTime:"09:00"}}ngOnInit(){this.loadZones()}get progressPercentage(){return(this.currentStep+1)/this.steps.length*100}loadZones(){this.zoneService.getAllZones().subscribe(e=>{this.zones=e.sort((i,r)=>i.name.localeCompare(r.name)),this.filterZones()})}filterZones(){if(this.selectedEmirate){const i={dubai:"Dubai","abu-dhabi":"Abu Dhabi",sharjah:"Sharjah",ajman:"Ajman","ras-al-khaimah":"Ras Al Khaimah",fujairah:"Fujairah","umm-al-quwain":"Umm Al Quwain"}[this.selectedEmirate];this.filteredZones=this.zones.filter(r=>r.emirate===i)}else this.filteredZones=[...this.zones]}selectEmirate(e){this.selectedEmirate=e,this.filterZones()}getSelectedEmirateName(){const e=this.emirates.find(i=>i.id===this.selectedEmirate);return e?e.name:""}selectZone(e){this.selectedZone=e,this.config.hourlyRate=e.chargePerHour,this.config.freeHours=e.baseFreeHours}selectScenario(e){switch(e){case"mussafah":this.selectedEmirate="abu-dhabi";break;case"marina":case"qusais":this.selectedEmirate="dubai";break;case"academic":this.selectedEmirate="sharjah"}switch(this.filterZones(),e){case"mussafah":this.selectedZone=this.zones.find(i=>i.name.includes("Mussafah")||i.name.includes("Musaffah"))||null;break;case"marina":this.selectedZone=this.zones.find(i=>i.name.includes("Marina"))||null;break;case"academic":this.selectedZone=this.zones.find(i=>i.name.includes("Academic")||i.name.includes("City"))||null;break;case"qusais":this.selectedZone=this.zones.find(i=>i.name.includes("Qusais"))||null}this.selectedZone&&(this.config.hourlyRate=this.selectedZone.chargePerHour,this.config.freeHours=this.selectedZone.baseFreeHours)}applyPreset(e){switch(e){case"light":this.config.hourlyRate=10,this.config.freeHours=2,this.config.peakMultiplier=1.2;break;case"moderate":this.config.hourlyRate=25,this.config.freeHours=1,this.config.peakMultiplier=1.5;break;case"aggressive":this.config.hourlyRate=50,this.config.freeHours=0,this.config.peakMultiplier=2}}canProceed(){switch(this.currentStep){case 0:return!!this.selectedEmirate;case 1:return!!this.selectedZone;case 2:default:return!0;case 3:return!!this.simulationResult}}goToStep(e){(e<this.currentStep||this.canProceed())&&(this.steps[this.currentStep].active=!1,this.steps[e].active=!0,this.currentStep=e,4===e&&this.simulationResult&&setTimeout(()=>this.renderCharts(),100))}previousStep(){this.currentStep>0&&this.goToStep(this.currentStep-1)}nextStep(){this.currentStep<this.steps.length-1&&this.canProceed()&&(this.steps[this.currentStep].completed=!0,this.steps[this.currentStep].active=!1,this.currentStep++,this.steps[this.currentStep].active=!0)}runSimulation(){if(!this.selectedZone)return;this.isRunning=!0;const e=[];this.config.exemptPublicTransport&&e.push("Public Transport"),this.config.exemptCommercial&&e.push("Commercial"),this.config.exemptEmergency&&e.push("Emergency"),this.simulationService.runSimulation({zoneId:this.selectedZone.id,date:this.selectedDateTime,zoneRules:{peakMultiplier:this.config.peakMultiplier,exemptions:e,freeHours:this.config.freeHours,customChargePerHour:this.config.hourlyRate}}).subscribe({next:r=>{this.simulationResult=r,this.isRunning=!1,this.renderCharts()},error:()=>{this.isRunning=!1,this.simulationResult={id:"demo-1",name:"Demo Simulation",totalVehicles:15420,vehiclesDiverted:2313,congestionReduction:15.2,estimatedRevenue:285e3,equityImpact:{lowIncomeBurden:2.3,highIncomeBurden:1.1,burdenRatio:2.1,isRegressive:!1},environmentalImpact:4500,zoneRules:{},results:{},createdAt:new Date},this.renderCharts()}})}renderCharts(){if(!this.simulationResult)return void console.warn("No simulation result available for charts");const e=this.simulationResult.congestionReduction??15,i=this.simulationResult.estimatedRevenue??25e4,r=this.simulationResult.environmentalImpact??4e3,o=this.simulationResult.vehiclesDiverted??2e3,s=this.simulationResult.equityImpact||{lowIncomeBurden:15,highIncomeBurden:60},l=Math.max(0,75-e),u=[],d=i/12;for(let m=0;m<6;m++)u.push(Math.round(d*(1+.03*m)));const g=[4500,8200,6100,5800,7900,4200],y=g.map(m=>Math.round(m*(1-e/100)));console.log("Rendering charts with data:",{congestionReduction:e,estimatedRevenue:i,environmentalImpact:r,vehiclesDiverted:o,congestionBefore:75,congestionAfter:l}),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.chartService.destroyAllCharts(),this.checkAndCreateChart("trafficFlowChart",()=>this.renderTrafficFlowChart(g,y)),this.checkAndCreateChart("congestionChart",()=>this.renderCongestionChart(75,l)),this.checkAndCreateChart("revenueChart",()=>this.renderRevenueChart(u)),this.checkAndCreateChart("equityChart",()=>this.renderEquityChart(s)),this.checkAndCreateChart("envChart",()=>this.renderEnvironmentalChart(r))},100)})}checkAndCreateChart(e,i,r=0){document.getElementById(e)?i():r<10?setTimeout(()=>{this.checkAndCreateChart(e,i,r+1)},200):console.warn(`Canvas element '${e}' not found after 10 retries`)}renderTrafficFlowChart(e,i){this.chartService.createLineChart("trafficFlowChart",["6AM","9AM","12PM","3PM","6PM","9PM"],[{label:"Before Pricing",data:e,borderColor:"#ef4444"},{label:"After Pricing",data:i,borderColor:"#10b981"}])}renderCongestionChart(e,i){this.chartService.createBarChart("congestionChart",["Baseline","With Pricing"],[{label:"Congestion Level",data:[e,i],backgroundColor:["#94a3b8","#3b82f6"]}])}renderRevenueChart(e){this.chartService.createLineChart("revenueChart",["Month 1","Month 2","Month 3","Month 4","Month 5","Month 6"],[{label:"Revenue (AED)",data:e,borderColor:"#10b981"}])}renderEquityChart(e){this.chartService.createDoughnutChart("equityChart",["Low Income","Medium Income","High Income"],[{label:"Burden %",data:[e.lowIncomeBurden,25,e.highIncomeBurden||60],backgroundColor:["#ef4444","#f59e0b","#10b981"]}])}renderEnvironmentalChart(e){this.chartService.createBarChart("envChart",["CO\u2082 (kg)","NOx (kg)","PM2.5 (kg)"],[{label:"Daily Reduction",data:[e,Math.round(.07*e),Math.round(.01*e)],backgroundColor:"#0ea5e9"}])}exportReport(e){if(!this.simulationResult)return void alert("Please run a simulation first before generating reports.");const i={zone:this.selectedZone,simulationResult:this.simulationResult,config:this.config,generatedAt:new Date};switch(e){case"pdf":this.reportService.generateExecutiveSummary(i);break;case"presentation":this.reportService.generatePresentationDeck(i);break;case"investor":this.reportService.generateInvestorReport(i);break;case"technical":this.reportService.generateTechnicalReport(i)}}copyLink(){const e=window.location.href;navigator.clipboard.writeText(e),alert("Link copied to clipboard!")}shareEmail(){const e=encodeURIComponent("Smart Mobility Simulation Results"),i=encodeURIComponent("Check out these simulation results from Smart Mobility Simulator");window.open(`mailto:?subject=${e}&body=${i}`)}downloadAll(){alert("Downloading all reports...")}static{this.\u0275fac=function(i){return new(i||t)(wt(ex),wt(o1),wt(e3),wt(Ks),wt(I0),wt(Cr),wt(wz))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-workflow-wizard"]],standalone:!0,features:[Vc],decls:18,vars:11,consts:[[1,"wizard-container"],[1,"wizard-progress"],[1,"progress-track"],[1,"progress-fill"],[1,"steps-indicator"],["class","step-item",3,"active","completed","click",4,"ngFor","ngForOf"],[1,"wizard-content"],["class","step-panel",4,"ngIf"],[1,"wizard-nav"],[1,"nav-btn","secondary",3,"click","disabled"],[1,"nav-btn","primary",3,"click","disabled"],[1,"step-item",3,"click"],[1,"step-circle"],[4,"ngIf"],[1,"step-info"],[1,"step-title"],[1,"step-desc"],[1,"step-panel"],[1,"step-header"],[1,"step-icon"],[1,"emirate-grid"],["class","emirate-card",3,"selected","click",4,"ngFor","ngForOf"],["class","selected-info",4,"ngIf"],[1,"emirate-card",3,"click"],[1,"emirate-icon"],[1,"emirate-name"],[1,"selected-info"],[1,"zone-grid"],["class","zone-card",3,"selected","click",4,"ngFor","ngForOf"],["class","no-zones",4,"ngIf"],[1,"zone-card",3,"click"],[1,"zone-card-header"],[1,"zone-emirate"],[1,"zone-type"],[1,"zone-stats"],[1,"stat"],[1,"stat-value"],[1,"stat-label"],[1,"no-zones"],[1,"config-grid"],[1,"config-card"],[1,"config-row"],["type","number","min","0","step","1",3,"ngModelChange","ngModel"],["type","number","min","0","max","24",3,"ngModelChange","ngModel"],[1,"slider-row"],["type","range","min","1","max","3","step","0.1",3,"ngModelChange","ngModel"],[1,"slider-value"],[1,"config-row","checkbox"],["type","checkbox",3,"ngModelChange","ngModel"],["name","simulationDateTime",3,"ngModelChange","ngModel"],[1,"preset-scenarios"],[1,"preset-grid"],[1,"preset-card",3,"click"],[1,"preset-icon"],[1,"preset-name"],[1,"preset-desc"],[1,"simulation-preview"],[1,"preview-card"],[1,"preview-grid"],[1,"preview-item"],[1,"preview-label"],[1,"preview-value"],[1,"run-section"],[1,"run-btn",3,"click","disabled"],["class","run-hint",4,"ngIf"],["class","results-preview",4,"ngIf"],[1,"run-hint"],[1,"results-preview"],[1,"quick-metrics"],[1,"metric-card","success"],[1,"metric-value"],[1,"metric-label"],[1,"metric-card"],["class","results-metrics",4,"ngIf"],["class","charts-section",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"results-metrics"],[1,"metric-card","large"],[1,"metric-icon"],[1,"charts-section"],[1,"chart-card","full-width"],["id","trafficFlowChart"],[1,"chart-card"],["id","congestionChart"],["id","revenueChart"],["id","equityChart"],["id","envChart"],[1,"no-results"],[1,"btn-secondary",3,"click"],[1,"reports-section"],[1,"report-card",3,"click"],[1,"report-icon"],[1,"share-section"],[1,"share-buttons"],[1,"share-btn",3,"click"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"div",1)(2,"div",2),Cn(3,"div",3),A(),h(4,"div",4),xt(5,H1e,9,8,"div",5),A()(),h(6,"div",6),xt(7,j1e,11,2,"div",7)(8,W1e,11,3,"div",7)(9,$1e,74,8,"div",7)(10,J1e,39,9,"div",7)(11,ive,11,3,"div",7)(12,rve,47,0,"div",7),A(),h(13,"div",8)(14,"button",9),it("click",function(){return r.previousStep()}),f(15," \u2190 Previous "),A(),h(16,"button",10),it("click",function(){return r.nextStep()}),f(17," Next \u2192 "),A()()()),2&i&&(S(3),Ko("width",r.progressPercentage,"%"),S(2),ke("ngForOf",r.steps),S(2),ke("ngIf",0===r.currentStep),S(),ke("ngIf",1===r.currentStep),S(),ke("ngIf",2===r.currentStep),S(),ke("ngIf",3===r.currentStep),S(),ke("ngIf",4===r.currentStep),S(),ke("ngIf",5===r.currentStep),S(2),ke("disabled",0===r.currentStep),S(2),ke("disabled",r.currentStep===r.steps.length-1||!r.canProceed()))},dependencies:[ku,ls,cs,fc,Cf,va,wf,Qd,U0,Qa,dg,Ag,_a,t4],styles:['.wizard-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.wizard-progress[_ngcontent-%COMP%]{margin-bottom:30px}.progress-track[_ngcontent-%COMP%]{height:4px;background:#e2e8f0;border-radius:2px;margin-bottom:20px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#3b82f6,#0ea5e9);transition:width .3s ease}.steps-indicator[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.step-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;cursor:pointer;flex:1;opacity:.5;transition:all .3s}.step-item.active[_ngcontent-%COMP%], .step-item.completed[_ngcontent-%COMP%]{opacity:1}.step-circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#e2e8f0;display:flex;align-items:center;justify-content:center;font-weight:600;margin-bottom:8px;transition:all .3s}.step-item.active[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.step-item.completed[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background:#10b981;color:#fff}.step-info[_ngcontent-%COMP%]{text-align:center}.step-title[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1e293b;font-size:14px}.step-desc[_ngcontent-%COMP%]{display:block;font-size:12px;color:#64748b}.step-panel[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:30px;box-shadow:0 4px 16px #00000014}.step-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.step-icon[_ngcontent-%COMP%]{font-size:48px;display:block;margin-bottom:16px}.step-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e3a5f}.step-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b}.emirate-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px;margin-bottom:24px}.emirate-card[_ngcontent-%COMP%]{border:2px solid #e2e8f0;border-radius:16px;padding:24px;cursor:pointer;transition:all .2s;text-align:center}.emirate-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px)}.emirate-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#eff6ff}.emirate-icon[_ngcontent-%COMP%]{font-size:48px;display:block;margin-bottom:12px}.emirate-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:16px}.selected-info[_ngcontent-%COMP%]{text-align:center;padding:16px;background:#d1fae5;border-radius:12px;color:#059669;font-weight:600}.no-zones[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#64748b}.zone-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px;margin-bottom:24px}.zone-card[_ngcontent-%COMP%]{border:2px solid #e2e8f0;border-radius:12px;padding:16px;cursor:pointer;transition:all .2s}.zone-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6}.zone-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#eff6ff}.zone-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.zone-emirate[_ngcontent-%COMP%]{font-size:12px;font-weight:600;text-transform:uppercase}.zone-emirate[data-emirate=Dubai][_ngcontent-%COMP%]{color:#dc2626}.zone-emirate[data-emirate="Abu Dhabi"][_ngcontent-%COMP%]{color:#059669}.zone-emirate[data-emirate=Sharjah][_ngcontent-%COMP%]{color:#7c3aed}.zone-type[_ngcontent-%COMP%]{font-size:12px;background:#f1f5f9;padding:2px 8px;border-radius:4px;color:#64748b}.zone-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:16px}.zone-stats[_ngcontent-%COMP%]{display:flex;gap:16px}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-value[_ngcontent-%COMP%]{font-weight:600;color:#1e3a5f}.stat-label[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.quick-select[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .preset-scenarios[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .share-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#374151}.quick-buttons[_ngcontent-%COMP%], .preset-grid[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.quick-btn[_ngcontent-%COMP%]{padding:10px 16px;background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;font-size:14px;transition:all .2s}.quick-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.config-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:24px}.config-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px}.config-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.config-row[_ngcontent-%COMP%]{margin-bottom:16px}.config-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:13px;color:#64748b;margin-bottom:6px}.config-row[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .config-row[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .config-row[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px}.config-row.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.slider-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.slider-row[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{flex:1}.slider-value[_ngcontent-%COMP%]{font-weight:600;color:#3b82f6;min-width:40px}.preset-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:10px;padding:16px;text-align:center;cursor:pointer;transition:all .2s;flex:1;min-width:150px}.preset-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px)}.preset-icon[_ngcontent-%COMP%]{font-size:24px;display:block;margin-bottom:8px}.preset-name[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1e293b;margin-bottom:4px}.preset-desc[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.simulation-preview[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.preview-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;margin-bottom:20px}.preview-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.preview-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.preview-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.preview-label[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.preview-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.run-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.run-btn[_ngcontent-%COMP%]{padding:16px 48px;font-size:18px;font-weight:600;background:linear-gradient(135deg,#3b82f6,#0ea5e9);color:#fff;border:none;border-radius:12px;cursor:pointer;transition:all .2s}.run-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #3b82f666}.run-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.run-hint[_ngcontent-%COMP%]{color:#ef4444;font-size:14px;margin-top:8px}.quick-metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}.metric-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:10px;padding:16px;text-align:center}.metric-card.success[_ngcontent-%COMP%]{background:#d1fae5}.metric-value[_ngcontent-%COMP%]{display:block;font-size:20px;font-weight:700;color:#1e293b}.metric-card.success[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{color:#059669}.metric-label[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.charts-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.chart-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px}.chart-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.chart-card[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%!important;height:200px!important}.chart-card.full-width[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{height:300px!important}.results-metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:30px}.metric-card.large[_ngcontent-%COMP%]{background:#f8fafc;border-radius:16px;padding:24px;text-align:center}.metric-card.large[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{font-size:32px;display:block;margin-bottom:8px}.metric-card.large[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{display:block;font-size:28px;font-weight:700;color:#1e3a5f;margin-bottom:4px}.metric-card.large[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b}.no-results[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#64748b}.reports-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:24px}.report-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:24px;text-align:center;cursor:pointer;transition:all .2s}.report-card[_ngcontent-%COMP%]:hover{background:#f1f5f9;transform:translateY(-2px)}.report-icon[_ngcontent-%COMP%]{font-size:36px;display:block;margin-bottom:12px}.report-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e3a5f}.report-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#64748b}.share-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center}.share-btn[_ngcontent-%COMP%]{padding:12px 20px;background:#fff;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;font-size:14px;transition:all .2s}.share-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9}.wizard-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:24px}.nav-btn[_ngcontent-%COMP%]{padding:12px 32px;font-size:16px;font-weight:600;border-radius:10px;cursor:pointer;transition:all .2s}.nav-btn.secondary[_ngcontent-%COMP%]{background:#e2e8f0;border:none;color:#475569}.nav-btn.secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#cbd5e1}.nav-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#0ea5e9);border:none;color:#fff}.nav-btn.primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #3b82f666}.nav-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.steps-indicator[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.step-item[_ngcontent-%COMP%]{flex-direction:row;gap:12px}.quick-metrics[_ngcontent-%COMP%], .charts-section[_ngcontent-%COMP%], .reports-section[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}']})}}return t})();function ove(t,n){1&t&&(h(0,"div",14),f(1," \u2713 Selected "),A())}function sve(t,n){if(1&t){const e=ti();h(0,"div",11),it("click",function(){const r=pt(e).$implicit;return gt(Fe().toggleScenario(r))}),Cn(1,"div",12),h(2,"h4"),f(3),A(),h(4,"p"),f(5),A(),xt(6,ove,2,0,"div",13),A()}if(2&t){const e=n.$implicit,i=Fe();Ko("border-color",e.color),Un("selected",i.isSelected(e)),S(),Ko("background",e.color),S(2),lt(e.name),S(2),lt(e.description),S(),ke("ngIf",i.isSelected(e))}}function ave(t,n){if(1&t){const e=ti();h(0,"div",15)(1,"h4"),f(2,"Create Custom Scenario"),A(),h(3,"div",16)(4,"div",17)(5,"label"),f(6,"Scenario Name"),A(),h(7,"input",18),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.customScenario.name,r)||(o.customScenario.name=r),gt(r)}),A()(),h(8,"div",17)(9,"label"),f(10,"Description"),A(),h(11,"input",19),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.customScenario.description,r)||(o.customScenario.description=r),gt(r)}),A()(),h(12,"div",17)(13,"label"),f(14,"Hourly Rate (AED)"),A(),h(15,"input",20),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.customScenario.rate,r)||(o.customScenario.rate=r),gt(r)}),A()(),h(16,"div",17)(17,"label"),f(18,"Free Hours"),A(),h(19,"input",20),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.customScenario.freeHours,r)||(o.customScenario.freeHours=r),gt(r)}),A()(),h(20,"div",17)(21,"label"),f(22,"Peak Multiplier"),A(),h(23,"input",21),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.customScenario.multiplier,r)||(o.customScenario.multiplier=r),gt(r)}),A()(),h(24,"div",17)(25,"label"),f(26,"Color"),A(),h(27,"input",22),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.customScenario.color,r)||(o.customScenario.color=r),gt(r)}),A()()(),h(28,"button",23),it("click",function(){return pt(e),gt(Fe().addCustomScenario())}),f(29," Add Scenario "),A()()}if(2&t){const e=Fe();S(7),Mn("ngModel",e.customScenario.name),S(4),Mn("ngModel",e.customScenario.description),S(4),Mn("ngModel",e.customScenario.rate),S(4),Mn("ngModel",e.customScenario.freeHours),S(4),Mn("ngModel",e.customScenario.multiplier),S(4),Mn("ngModel",e.customScenario.color)}}function lve(t,n){if(1&t&&(h(0,"span"),f(1),A()),2&t){const e=n.$implicit;Ko("color",e.color),S(),lt(e.name)}}function cve(t,n){if(1&t&&(h(0,"span",46),f(1),jt(2,"number"),A()),2&t){const e=n.$implicit;S(),Me(" ",wn(2,1,null==e.result?null:e.result.congestionReduction,"1.1-1"),"% ")}}function uve(t,n){if(1&t&&(h(0,"span",46),f(1),jt(2,"number"),A()),2&t){const e=n.$implicit;S(),Me(" ",Br(2,1,null==e.result?null:e.result.estimatedRevenue)," ")}}function Ave(t,n){if(1&t&&(h(0,"span",46),f(1),jt(2,"number"),A()),2&t){const e=n.$implicit;S(),Me(" ",Br(2,1,null==e.result?null:e.result.vehiclesDiverted)," ")}}function dve(t,n){if(1&t&&(h(0,"span",46),f(1),jt(2,"number"),A()),2&t){const e=n.$implicit;S(),Me(" ",Br(2,1,null==e.result?null:e.result.environmentalImpact)," ")}}function hve(t,n){if(1&t&&(h(0,"span",46),f(1),A()),2&t){const e=n.$implicit;S(),Me(" ",null!=e.result&&null!=e.result.equityImpact&&e.result.equityImpact.isRegressive?"\u26a0\ufe0f Regressive":"\u2713 Fair"," ")}}function fve(t,n){if(1&t){const e=ti();h(0,"div",24)(1,"div",25)(2,"h3"),f(3,"\u{1f4ca} Comparison Summary"),A(),h(4,"div",26)(5,"div",27)(6,"span"),f(7,"Metric"),A(),xt(8,lve,2,3,"span",28),A(),h(9,"div",29)(10,"span",30),f(11,"Congestion Reduction"),A(),xt(12,cve,3,4,"span",31),A(),h(13,"div",29)(14,"span",30),f(15,"Revenue (AED)"),A(),xt(16,uve,3,3,"span",31),A(),h(17,"div",29)(18,"span",30),f(19,"Vehicles Diverted"),A(),xt(20,Ave,3,3,"span",31),A(),h(21,"div",29)(22,"span",30),f(23,"CO\u2082 Reduction (kg)"),A(),xt(24,dve,3,3,"span",31),A(),h(25,"div",29)(26,"span",30),f(27,"Equity Impact"),A(),xt(28,hve,2,1,"span",31),A()()(),h(29,"div",32)(30,"div",33)(31,"h4"),f(32,"\u{1f4c9} Congestion Reduction Comparison"),A(),Cn(33,"canvas",34),A(),h(34,"div",33)(35,"h4"),f(36,"\u{1f4b0} Revenue Comparison"),A(),Cn(37,"canvas",35),A(),h(38,"div",36)(39,"h4"),f(40,"\u{1f4ca} Multi-Metric Comparison"),A(),Cn(41,"canvas",37),A()(),h(42,"div",38)(43,"h3"),f(44,"\u{1f3c6} Analysis & Recommendations"),A(),h(45,"div",39)(46,"div",40)(47,"span",41),f(48,"\u2b50"),A(),h(49,"h4"),f(50,"Best for Revenue"),A(),h(51,"p"),f(52),A(),h(53,"span",42),f(54),jt(55,"number"),A()(),h(56,"div",40)(57,"span",41),f(58,"\u{1f33f}"),A(),h(59,"h4"),f(60,"Best for Environment"),A(),h(61,"p"),f(62),A(),h(63,"span",42),f(64),jt(65,"number"),A()(),h(66,"div",40)(67,"span",41),f(68,"\u2696\ufe0f"),A(),h(69,"h4"),f(70,"Most Equitable"),A(),h(71,"p"),f(72),A(),h(73,"span",42),f(74),A()(),h(75,"div",43)(76,"span",41),f(77,"\u{1f4a1}"),A(),h(78,"h4"),f(79,"Recommendation"),A(),h(80,"p"),f(81),A()()()(),h(82,"div",44)(83,"button",45),it("click",function(){return pt(e),gt(Fe().exportComparison())}),f(84," \u{1f4e5} Export Comparison Report "),A()()()}if(2&t){const e=Fe();S(8),ke("ngForOf",e.selectedScenarios),S(4),ke("ngForOf",e.selectedScenarios),S(4),ke("ngForOf",e.selectedScenarios),S(4),ke("ngForOf",e.selectedScenarios),S(4),ke("ngForOf",e.selectedScenarios),S(4),ke("ngForOf",e.selectedScenarios),S(24),lt(null==e.revenueWinner?null:e.revenueWinner.name),S(2),Me("AED ",Br(55,13,null==e.revenueWinner||null==e.revenueWinner.result?null:e.revenueWinner.result.estimatedRevenue),""),S(8),lt(null==e.envWinner?null:e.envWinner.name),S(2),Me("",Br(65,15,null==e.envWinner||null==e.envWinner.result?null:e.envWinner.result.environmentalImpact)," kg CO\u2082"),S(8),lt(null==e.equityWinner?null:e.equityWinner.name),S(2),lt(null!=e.equityWinner&&null!=e.equityWinner.result&&null!=e.equityWinner.result.equityImpact&&e.equityWinner.result.equityImpact.isRegressive?"Regressive":"Fair"),S(7),lt(e.recommendation)}}function pve(t,n){1&t&&(h(0,"div",47)(1,"div",48),f(2,"\u{1f4ca}"),A(),h(3,"h3"),f(4,"Select at least 2 scenarios to compare"),A(),h(5,"p"),f(6,"Choose scenarios from the list above or create custom ones"),A()())}let xz=(()=>{class t{constructor(e,i,r,o){this.simulationService=e,this.chartService=i,this.ngZone=r,this.reportService=o,this.availableScenarios=[{id:"1",name:"Baseline",description:"No pricing (current state)",color:"#94a3b8"},{id:"2",name:"Light Pricing",description:"AED 10/hr, 2hr free",color:"#10b981"},{id:"3",name:"Moderate",description:"AED 25/hr, 1hr free",color:"#3b82f6"},{id:"4",name:"Aggressive",description:"AED 50/hr, no free hours",color:"#ef4444"}],this.selectedScenarios=[],this.isRunning=!1,this.showCustomForm=!1,this.customScenario={name:"",description:"",rate:20,freeHours:1,multiplier:1.5,color:"#8b5cf6"},this.revenueWinner=null,this.envWinner=null,this.equityWinner=null,this.recommendation=""}ngOnInit(){}get hasResults(){return this.selectedScenarios.length>=2&&this.selectedScenarios.every(e=>e.result)}isSelected(e){return this.selectedScenarios.some(i=>i.id===e.id)}toggleScenario(e){this.isSelected(e)?this.selectedScenarios=this.selectedScenarios.filter(i=>i.id!==e.id):this.selectedScenarios.length<4&&this.selectedScenarios.push({...e})}addCustomScenario(){const e={id:`custom-${Date.now()}`,name:this.customScenario.name,description:this.customScenario.description||`AED ${this.customScenario.rate}/hr`,color:this.customScenario.color};this.availableScenarios.push(e),this.showCustomForm=!1,this.customScenario={name:"",description:"",rate:20,freeHours:1,multiplier:1.5,color:"#8b5cf6"}}runAllScenarios(){this.selectedScenarios.length<2||(this.isRunning=!0,this.selectedScenarios.forEach((e,i)=>{this.runSimulationForScenario(e,i)}))}runSimulationForScenario(e,i){let r=25,o=1;e.name.includes("Light")?(r=10,o=2):e.name.includes("Moderate")?(r=25,o=1):e.name.includes("Aggressive")?(r=50,o=0):"Baseline"===e.name&&(r=0,o=0);const s={id:e.id,name:e.name,description:e.description,totalVehicles:15e3+1e3*i,vehiclesDiverted:Math.floor(r/25*1500*(i+1)*.3),congestionReduction:5+r/10*(i+1),estimatedRevenue:800*r*(i+1),equityImpact:{lowIncomeBurden:1.5+.5*i,highIncomeBurden:1+.2*i,burdenRatio:1.5+.3*i,isRegressive:r>40},environmentalImpact:3e3+800*i,zoneRules:{},results:{},createdAt:new Date};e.result=s,this.selectedScenarios.every(a=>a.result)&&(this.isRunning=!1,this.analyzeResults(),this.renderCharts())}analyzeResults(){this.revenueWinner=[...this.selectedScenarios].filter(e=>e.result).sort((e,i)=>(i.result?.estimatedRevenue||0)-(e.result?.estimatedRevenue||0))[0],this.envWinner=[...this.selectedScenarios].filter(e=>e.result).sort((e,i)=>(i.result?.environmentalImpact||0)-(e.result?.environmentalImpact||0))[0],this.equityWinner=[...this.selectedScenarios].filter(e=>e.result&&!e.result.equityImpact?.isRegressive).sort((e,i)=>(e.result?.equityImpact?.burdenRatio||0)-(i.result?.equityImpact?.burdenRatio||0))[0]||this.selectedScenarios[0],this.revenueWinner&&this.envWinner&&this.equityWinner&&(this.recommendation=this.revenueWinner.name===this.envWinner.name?`${this.revenueWinner.name} offers the best balance of revenue and environmental impact.`:`Consider ${this.revenueWinner.name} for revenue or ${this.envWinner.name} for environmental goals. ${this.equityWinner.name} provides the most equitable outcome.`)}renderCharts(){const e=this.selectedScenarios.map(s=>s.name),i=this.selectedScenarios.map(s=>s.result?.congestionReduction||0),r=this.selectedScenarios.map(s=>s.result?.estimatedRevenue||0),o=this.selectedScenarios.map(s=>s.color);this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.chartService.destroyAllCharts(),this.createChartWithRetry("compareCongestionChart",()=>this.chartService.createBarChart("compareCongestionChart",e,[{label:"Congestion Reduction %",data:i,backgroundColor:o}])),this.createChartWithRetry("compareRevenueChart",()=>this.chartService.createBarChart("compareRevenueChart",e,[{label:"Revenue (AED)",data:r,backgroundColor:o}])),this.createChartWithRetry("compareMultiChart",()=>this.chartService.createBarChart("compareMultiChart",e,[{label:"Congestion Reduction",data:i,backgroundColor:o[0]||"#3b82f6"},{label:"Revenue (\xf71000)",data:r.map(s=>s/1e3),backgroundColor:o[1]||"#10b981"}]))},500)})}createChartWithRetry(e,i,r=0){document.getElementById(e)?i():r<10?setTimeout(()=>{this.createChartWithRetry(e,i,r+1)},200):console.warn(`Canvas element '${e}' not found after 10 retries`)}exportComparison(){if(!this.hasResults)return void alert("Please run simulations first before exporting.");this.selectedScenarios.map(o=>o.result).filter(o=>void 0!==o);const i=`\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Scenario Comparison Report</title>\n  <style>\n    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 40px; }\n    h1 { color: #1e3a5f; }\n    table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n    th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }\n    th { background: #f8fafc; font-weight: 600; }\n    .winner { color: #10b981; font-weight: bold; }\n    .section { margin: 30px 0; }\n  </style>\n</head>\n<body>\n  <h1>\u{1f4ca} Scenario Comparison Report</h1>\n  <p>Generated: ${(new Date).toLocaleString()}</p>\n  \n  <div class="section">\n    <h2>Selected Scenarios</h2>\n    <ul>\n      ${this.selectedScenarios.map(o=>`<li>${o.name}: ${o.description}</li>`).join("")}\n    </ul>\n  </div>\n\n  <div class="section">\n    <h2>Results Comparison</h2>\n    <table>\n      <tr>\n        <th>Scenario</th>\n        <th>Congestion Reduction</th>\n        <th>Revenue</th>\n        <th>Vehicles Diverted</th>\n        <th>CO\u2082 Impact</th>\n        <th>Equity</th>\n      </tr>\n      ${this.selectedScenarios.map(o=>`\n      <tr>\n        <td><strong>${o.name}</strong></td>\n        <td>${o.result?.congestionReduction?.toFixed(1)||0}%</td>\n        <td>AED ${(o.result?.estimatedRevenue||0).toLocaleString()}</td>\n        <td>${(o.result?.vehiclesDiverted||0).toLocaleString()}</td>\n        <td>${(o.result?.environmentalImpact||0).toLocaleString()} kg</td>\n        <td>${o.result?.equityImpact?.isRegressive?"\u26a0\ufe0f Regressive":"\u2713 Fair"}</td>\n      </tr>\n      `).join("")}\n    </table>\n  </div>\n\n  <div class="section">\n    <h2>\u{1f3c6} Winners</h2>\n    <p><strong>Best for Revenue:</strong> ${this.revenueWinner?.name||"N/A"}</p>\n    <p><strong>Best for Environment:</strong> ${this.envWinner?.name||"N/A"}</p>\n    <p><strong>Most Equitable:</strong> ${this.equityWinner?.name||"N/A"}</p>\n  </div>\n\n  <div class="section">\n    <h2>\u{1f4a1} Recommendation</h2>\n    <p>${this.recommendation}</p>\n  </div>\n</body>\n</html>\n    `,r=window.open("","_blank");r&&(r.document.write(i),r.document.close(),r.onload=()=>{r.print()})}static{this.\u0275fac=function(i){return new(i||t)(wt(o1),wt(e3),wt(Cr),wt(wz))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-scenario-comparison"]],standalone:!0,features:[Vc],decls:19,vars:6,consts:[[1,"comparison-container"],[1,"page-header"],[1,"scenario-selection"],[1,"scenario-cards"],["class","scenario-card",3,"selected","border-color","click",4,"ngFor","ngForOf"],[1,"action-row"],[1,"run-btn",3,"click","disabled"],[1,"add-custom-btn",3,"click"],["class","custom-form",4,"ngIf"],["class","results-section",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"scenario-card",3,"click"],[1,"scenario-color"],["class","scenario-check",4,"ngIf"],[1,"scenario-check"],[1,"custom-form"],[1,"form-grid"],[1,"form-group"],["type","text","placeholder","e.g., High Pricing",3,"ngModelChange","ngModel"],["type","text","placeholder","Brief description",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],["type","number","step","0.1",3,"ngModelChange","ngModel"],["type","color",3,"ngModelChange","ngModel"],[1,"create-btn",3,"click"],[1,"results-section"],[1,"summary-section"],[1,"metrics-compare"],[1,"metric-header"],[3,"color",4,"ngFor","ngForOf"],[1,"metric-row"],[1,"metric-label"],["class","metric-value",4,"ngFor","ngForOf"],[1,"charts-compare"],[1,"chart-panel"],["id","compareCongestionChart"],["id","compareRevenueChart"],[1,"chart-panel","full-width"],["id","compareMultiChart"],[1,"winner-section"],[1,"winner-cards"],[1,"winner-card","best"],[1,"winner-icon"],[1,"winner-value"],[1,"winner-card","recommendation"],[1,"export-section"],[1,"export-btn",3,"click"],[1,"metric-value"],[1,"empty-state"],[1,"empty-icon"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"div",1)(2,"h1"),f(3,"\u{1f50d} Scenario Comparison"),A(),h(4,"p"),f(5,"Compare different pricing scenarios side-by-side"),A()(),h(6,"div",2)(7,"h3"),f(8,"Select Scenarios to Compare"),A(),h(9,"div",3),xt(10,sve,7,9,"div",4),A(),h(11,"div",5)(12,"button",6),it("click",function(){return r.runAllScenarios()}),f(13),A(),h(14,"button",7),it("click",function(){return r.showCustomForm=!r.showCustomForm}),f(15," \u2795 Add Custom Scenario "),A()(),xt(16,ave,30,6,"div",8),A(),xt(17,fve,85,17,"div",9)(18,pve,7,0,"div",10),A()),2&i&&(S(10),ke("ngForOf",r.availableScenarios),S(2),ke("disabled",r.selectedScenarios.length<2||r.isRunning),S(),Me(" ",r.isRunning?"\u23f3 Running...":"\u25b6\ufe0f Run All Scenarios"," "),S(3),ke("ngIf",r.showCustomForm),S(),ke("ngIf",r.hasResults),S(),ke("ngIf",!r.hasResults))},dependencies:[ku,ls,cs,fc,Cf,va,wf,Qa,_a],styles:[".comparison-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1e3a5f;margin:0 0 8px}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.scenario-selection[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 4px 16px #00000014}.scenario-selection[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.scenario-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;margin-bottom:20px}.scenario-card[_ngcontent-%COMP%]{border:2px solid #e2e8f0;border-radius:12px;padding:16px;cursor:pointer;transition:all .2s;position:relative}.scenario-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.scenario-card.selected[_ngcontent-%COMP%]{background:#f8fafc}.scenario-color[_ngcontent-%COMP%]{width:40px;height:6px;border-radius:3px;margin-bottom:12px}.scenario-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e293b}.scenario-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#64748b}.scenario-check[_ngcontent-%COMP%]{margin-top:12px;color:#10b981;font-weight:600;font-size:13px}.action-row[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.run-btn[_ngcontent-%COMP%], .add-custom-btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:10px;font-weight:600;cursor:pointer;transition:all .2s}.run-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#0ea5e9);color:#fff;border:none}.run-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)}.run-btn[_ngcontent-%COMP%]:disabled{opacity:.6}.add-custom-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;color:#475569}.add-custom-btn[_ngcontent-%COMP%]:hover{background:#f8fafc}.custom-form[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background:#f8fafc;border-radius:12px}.custom-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:13px;color:#64748b;margin-bottom:6px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #e2e8f0;border-radius:8px}.create-btn[_ngcontent-%COMP%]{padding:10px 20px;background:#10b981;color:#fff;border:none;border-radius:8px;cursor:pointer}.results-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 4px 16px #00000014}.summary-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .winner-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.metrics-compare[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:12px;overflow:hidden;margin-bottom:24px}.metric-header[_ngcontent-%COMP%], .metric-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px repeat(auto-fit,minmax(120px,1fr));padding:12px 16px}.metric-header[_ngcontent-%COMP%]{background:#f8fafc;font-weight:600;color:#64748b;font-size:13px}.metric-row[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0}.metric-label[_ngcontent-%COMP%]{color:#475569}.metric-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.charts-compare[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:24px}.chart-panel[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px}.chart-panel.full-width[_ngcontent-%COMP%]{grid-column:span 2}.chart-panel[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f;font-size:14px}.chart-panel[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%!important;height:250px!important}.winner-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.winner-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;text-align:center}.winner-card.best[_ngcontent-%COMP%]{background:#d1fae5}.winner-card.recommendation[_ngcontent-%COMP%]{background:#dbeafe}.winner-icon[_ngcontent-%COMP%]{font-size:32px;display:block;margin-bottom:12px}.winner-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#1e3a5f}.winner-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600;color:#1e293b}.winner-value[_ngcontent-%COMP%]{display:block;margin-top:8px;font-size:13px;color:#64748b}.export-section[_ngcontent-%COMP%]{text-align:center;margin-top:24px;padding-top:24px;border-top:1px solid #e2e8f0}.export-btn[_ngcontent-%COMP%]{padding:14px 32px;background:#1e3a5f;color:#fff;border:none;border-radius:10px;font-weight:600;cursor:pointer;transition:all .2s}.export-btn[_ngcontent-%COMP%]:hover{background:#0f172a}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:16px}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e3a5f}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b}@media (max-width: 768px){.scenario-cards[_ngcontent-%COMP%], .charts-compare[_ngcontent-%COMP%], .winner-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.chart-panel.full-width[_ngcontent-%COMP%]{grid-column:span 1}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return t})();function gve(t,n){if(1&t&&(h(0,"tr")(1,"td"),f(2),A(),h(3,"td"),f(4),jt(5,"number"),A(),h(6,"td"),f(7),jt(8,"number"),A(),h(9,"td"),f(10),jt(11,"number"),A(),h(12,"td"),f(13),jt(14,"number"),A(),h(15,"td"),f(16),jt(17,"number"),A()()),2&t){const e=n.$implicit,i=Fe(2);S(2),Me("Year ",e,""),S(2),Me(" AED ",wn(5,14,i.results.yearlyRevenue[e-1],"1.0-0")," "),S(3),Me(" AED ",wn(8,17,i.results.yearlyCosts[e-1],"1.0-0")," "),S(3),Me(" AED ",wn(11,20,i.inputs.annualOperatingSavings,"1.0-0")," "),S(2),Un("positive",i.results.yearlyRevenue[e-1]-i.results.yearlyCosts[e-1]+i.inputs.annualOperatingSavings>0)("negative",i.results.yearlyRevenue[e-1]-i.results.yearlyCosts[e-1]+i.inputs.annualOperatingSavings<=0),S(),Me(" AED ",wn(14,23,i.results.yearlyRevenue[e-1]-i.results.yearlyCosts[e-1]+i.inputs.annualOperatingSavings,"1.0-0")," "),S(2),Un("positive",i.cumulativeSum(e)>0)("negative",i.cumulativeSum(e)<=0),S(),Me(" AED ",wn(17,26,i.cumulativeSum(e),"1.0-0")," ")}}function mve(t,n){if(1&t&&(h(0,"div",23)(1,"h3"),f(2,"\u{1f4ca} Results"),A(),h(3,"div",24)(4,"div",25)(5,"span",26),f(6,"\u{1f4c8}"),A(),h(7,"span",27),f(8),jt(9,"number"),A(),h(10,"span",28),f(11,"Total ROI"),A()(),h(12,"div",29)(13,"span",26),f(14,"\u23f1\ufe0f"),A(),h(15,"span",27),f(16),jt(17,"number"),A(),h(18,"span",28),f(19,"Payback Period (Years)"),A()(),h(20,"div",29)(21,"span",26),f(22,"\u{1f4b5}"),A(),h(23,"span",27),f(24),jt(25,"number"),A(),h(26,"span",28),f(27,"Net Benefit (10 Years)"),A()(),h(28,"div",29)(29,"span",26),f(30,"\u{1f4c9}"),A(),h(31,"span",27),f(32),jt(33,"number"),A(),h(34,"span",28),f(35,"Net Present Value"),A()()(),h(36,"div",30)(37,"div",31)(38,"h4"),f(39,"Revenue vs Costs Over Time"),A(),Cn(40,"canvas",32),A(),h(41,"div",31)(42,"h4"),f(43,"Cumulative Net Benefit"),A(),Cn(44,"canvas",33),A()(),h(45,"div",34)(46,"h4"),f(47,"\u{1f4cb} Year-by-Year Breakdown"),A(),h(48,"table",35)(49,"thead")(50,"tr")(51,"th"),f(52,"Year"),A(),h(53,"th"),f(54,"Revenue"),A(),h(55,"th"),f(56,"Operating Cost"),A(),h(57,"th"),f(58,"Savings"),A(),h(59,"th"),f(60,"Net Benefit"),A(),h(61,"th"),f(62,"Cumulative"),A()()(),h(63,"tbody"),xt(64,gve,18,29,"tr",36),A()()(),h(65,"div",37)(66,"h4"),f(67,"\u{1f4a1} Recommendations"),A(),h(68,"div",38)(69,"div",39)(70,"span",40),f(71),A(),h(72,"div",41)(73,"strong"),f(74),jt(75,"number"),A(),h(76,"p"),f(77),A()()(),h(78,"div",39)(79,"span",40),f(80),A(),h(81,"div",41)(82,"strong"),f(83),jt(84,"number"),A(),h(85,"p"),f(86),A()()(),h(87,"div",39)(88,"span",40),f(89),A(),h(90,"div",41)(91,"strong"),f(92),jt(93,"number"),A(),h(94,"p"),f(95),A()()()()()()),2&t){const e=Fe();S(8),Me("",wn(9,20,e.results.roiPercentage,"1.0-0"),"%"),S(8),lt(wn(17,23,e.results.paybackPeriod,"1.1-1")),S(8),Me("AED ",wn(25,26,e.results.cumulativeNetBenefit,"1.0-0"),""),S(8),Me("AED ",wn(33,29,e.results.npv,"1.0-0"),""),S(32),ke("ngForOf",e.yearsArray),S(5),Un("positive",e.results.paybackPeriod<=3),S(2),lt(e.results.paybackPeriod<=3?"\u2705":"\u26a0\ufe0f"),S(3),Me("Payback Period: ",wn(75,32,e.results.paybackPeriod,"1.1-1")," years"),S(3),Me(" ",e.results.paybackPeriod<=3?"Excellent! The investment pays back quickly.":"Consider optimizing costs or increasing compliance rate."," "),S(),Un("positive",e.results.roiPercentage>=100),S(2),lt(e.results.roiPercentage>=100?"\u2705":"\u26a0\ufe0f"),S(3),Me("ROI: ",wn(84,35,e.results.roiPercentage,"1.0-0"),"%"),S(3),Me(" ",e.results.roiPercentage>=100?"Strong return on investment!":"Consider adjusting pricing strategy."," "),S(),Un("positive",e.results.npv>0),S(2),lt(e.results.npv>0?"\u2705":"\u274c"),S(3),Me("NPV: AED ",wn(93,38,e.results.npv,"1.0-0"),""),S(3),Me(" ",e.results.npv>0?"Positive net present value - investment is worthwhile.":"Negative NPV - reconsider investment."," ")}}let Mz=(()=>{class t{constructor(e){this.chartService=e,this.inputs={implementationCost:15e6,annualOperatingCost:2e6,annualRevenue:0,annualOperatingSavings:5e5,vehiclesPerDay:5e4,averageTripCost:15,complianceRate:85,yearsToROI:0},this.analysisYears=5,this.discountRate=8,this.results=null,this.yearsArray=[]}ngOnInit(){this.calculateROI()}calculateROI(){const i=this.inputs.vehiclesPerDay*this.inputs.averageTripCost*(this.inputs.complianceRate/100)*365;this.inputs.annualRevenue=i;const r=[],o=[];let s=-this.inputs.implementationCost;for(let m=1;m<=this.analysisYears;m++){const B=i*(1+.05*(m-1));r.push(B);const D=this.inputs.annualOperatingCost*Math.pow(1.03,m-1);o.push(D),s+=B-D+this.inputs.annualOperatingSavings}let a=0,l=-this.inputs.implementationCost;for(let m=0;m<r.length;m++){const B=r[m]-o[m]+this.inputs.annualOperatingSavings;l+=B,l>=0&&0===a&&(a=m+Math.abs(l-B)/B)}0===a&&(a=this.analysisYears+1);let u=-this.inputs.implementationCost;for(let m=0;m<r.length;m++)u+=(r[m]-o[m]+this.inputs.annualOperatingSavings)/Math.pow(1+this.discountRate/100,m+1);const d=r.reduce((m,B)=>m+B,0)+this.inputs.annualOperatingSavings*this.analysisYears,g=this.inputs.implementationCost+o.reduce((m,B)=>m+B,0);this.results={totalInvestment:this.inputs.implementationCost,yearlyRevenue:r,yearlyCosts:o,cumulativeNetBenefit:s,roiPercentage:(d-g)/g*100,paybackPeriod:a,npv:u},this.yearsArray=Array.from({length:this.analysisYears},(m,B)=>B+1),setTimeout(()=>this.renderCharts(),100)}cumulativeSum(e){if(!this.results)return 0;let i=-this.inputs.implementationCost;for(let r=0;r<e;r++)i+=this.results.yearlyRevenue[r]-this.results.yearlyCosts[r]+this.inputs.annualOperatingSavings;return i}renderCharts(){if(!this.results)return;this.chartService.createLineChart("roiRevenueChart",this.yearsArray.map(r=>`Year ${r}`),[{label:"Revenue (AED)",data:this.results.yearlyRevenue,borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0},{label:"Costs (AED)",data:this.results.yearlyCosts,borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0}]);const e=[];let i=-this.inputs.implementationCost;for(let r=0;r<this.results.yearlyRevenue.length;r++)i+=this.results.yearlyRevenue[r]-this.results.yearlyCosts[r]+this.inputs.annualOperatingSavings,e.push(i);this.chartService.createBarChart("roiCumulativeChart",this.yearsArray.map(r=>`Year ${r}`),[{label:"Cumulative Net Benefit (AED)",data:e,backgroundColor:e.map(r=>r>=0?"#10b981":"#ef4444")}])}applyPreset(e){switch(e){case"small":this.inputs.implementationCost=5e6,this.inputs.annualOperatingCost=1e6,this.inputs.vehiclesPerDay=2e4,this.inputs.averageTripCost=10,this.inputs.annualOperatingSavings=2e5,this.analysisYears=5;break;case"medium":this.inputs.implementationCost=15e6,this.inputs.annualOperatingCost=2e6,this.inputs.vehiclesPerDay=5e4,this.inputs.averageTripCost=15,this.inputs.annualOperatingSavings=5e5,this.analysisYears=5;break;case"large":this.inputs.implementationCost=5e7,this.inputs.annualOperatingCost=5e6,this.inputs.vehiclesPerDay=15e4,this.inputs.averageTripCost=20,this.inputs.annualOperatingSavings=15e5,this.analysisYears=5}this.calculateROI()}static{this.\u0275fac=function(i){return new(i||t)(wt(e3))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-roi-calculator"]],standalone:!0,features:[Vc],decls:85,vars:11,consts:[[1,"roi-container"],[1,"roi-header"],[1,"header-icon"],[1,"roi-content"],[1,"input-section"],[1,"input-grid"],[1,"input-card"],[1,"input-row"],["type","number","min","0","step","100000",3,"ngModelChange","ngModel"],[1,"hint"],["type","number","min","0","step","50000",3,"ngModelChange","ngModel"],["type","number","min","0","step","1000",3,"ngModelChange","ngModel"],["type","number","min","0","step","1",3,"ngModelChange","ngModel"],[1,"slider-row"],["type","range","min","50","max","100","step","1",3,"ngModelChange","ngModel"],[1,"slider-value"],["type","number","min","1","max","10",3,"ngModelChange","ngModel"],["type","range","min","0","max","20","step","0.5",3,"ngModelChange","ngModel"],[1,"calculate-btn",3,"click"],["class","results-section",4,"ngIf"],[1,"presets-section"],[1,"preset-buttons"],[1,"preset-btn",3,"click"],[1,"results-section"],[1,"metrics-grid"],[1,"metric-card","primary"],[1,"metric-icon"],[1,"metric-value"],[1,"metric-label"],[1,"metric-card"],[1,"charts-grid"],[1,"chart-card"],["id","roiRevenueChart"],["id","roiCumulativeChart"],[1,"breakdown-section"],[1,"breakdown-table"],[4,"ngFor","ngForOf"],[1,"recommendations"],[1,"recommendation-cards"],[1,"rec-card"],[1,"rec-icon"],[1,"rec-content"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"div",1)(2,"span",2),f(3,"\u{1f4b0}"),A(),h(4,"h1"),f(5,"ROI Calculator"),A(),h(6,"p"),f(7," Calculate the return on investment for congestion pricing implementation "),A()(),h(8,"div",3)(9,"div",4)(10,"h3"),f(11,"\u{1f4ca} Investment Parameters"),A(),h(12,"div",5)(13,"div",6)(14,"h4"),f(15,"\u{1f4b5} Costs"),A(),h(16,"div",7)(17,"label"),f(18,"Initial Implementation Cost (AED)"),A(),h(19,"input",8),Bn("ngModelChange",function(s){return Dn(r.inputs.implementationCost,s)||(r.inputs.implementationCost=s),s}),A(),h(20,"span",9),f(21,"Infrastructure, technology, setup"),A()(),h(22,"div",7)(23,"label"),f(24,"Annual Operating Cost (AED)"),A(),h(25,"input",10),Bn("ngModelChange",function(s){return Dn(r.inputs.annualOperatingCost,s)||(r.inputs.annualOperatingCost=s),s}),A(),h(26,"span",9),f(27,"Maintenance, staffing, operations"),A()()(),h(28,"div",6)(29,"h4"),f(30,"\u{1f4c8} Revenue & Traffic"),A(),h(31,"div",7)(32,"label"),f(33,"Daily Vehicle Entries"),A(),h(34,"input",11),Bn("ngModelChange",function(s){return Dn(r.inputs.vehiclesPerDay,s)||(r.inputs.vehiclesPerDay=s),s}),A()(),h(35,"div",7)(36,"label"),f(37,"Average Trip Charge (AED)"),A(),h(38,"input",12),Bn("ngModelChange",function(s){return Dn(r.inputs.averageTripCost,s)||(r.inputs.averageTripCost=s),s}),A()(),h(39,"div",7)(40,"label"),f(41,"Compliance Rate (%)"),A(),h(42,"div",13)(43,"input",14),Bn("ngModelChange",function(s){return Dn(r.inputs.complianceRate,s)||(r.inputs.complianceRate=s),s}),A(),h(44,"span",15),f(45),A()()()(),h(46,"div",6)(47,"h4"),f(48,"\u2699\ufe0f Additional Parameters"),A(),h(49,"div",7)(50,"label"),f(51,"Annual Operating Savings (AED)"),A(),h(52,"input",10),Bn("ngModelChange",function(s){return Dn(r.inputs.annualOperatingSavings,s)||(r.inputs.annualOperatingSavings=s),s}),A(),h(53,"span",9),f(54,"Reduced congestion costs, environmental benefits"),A()(),h(55,"div",7)(56,"label"),f(57,"Analysis Period (Years)"),A(),h(58,"input",16),Bn("ngModelChange",function(s){return Dn(r.analysisYears,s)||(r.analysisYears=s),s}),A()(),h(59,"div",7)(60,"label"),f(61,"Discount Rate (%)"),A(),h(62,"div",13)(63,"input",17),Bn("ngModelChange",function(s){return Dn(r.discountRate,s)||(r.discountRate=s),s}),A(),h(64,"span",15),f(65),A()()()()(),h(66,"button",18),it("click",function(){return r.calculateROI()}),f(67," \u{1f9ee} Calculate ROI "),A()(),xt(68,mve,96,41,"div",19),h(69,"div",20)(70,"h4"),f(71,"\u{1f4cb} Quick Scenarios"),A(),h(72,"div",21)(73,"button",22),it("click",function(){return r.applyPreset("small")}),f(74," \u{1f3d9}\ufe0f Small City "),h(75,"span"),f(76,"AED 5M setup"),A()(),h(77,"button",22),it("click",function(){return r.applyPreset("medium")}),f(78," \u{1f306} Medium City "),h(79,"span"),f(80,"AED 15M setup"),A()(),h(81,"button",22),it("click",function(){return r.applyPreset("large")}),f(82," \u{1f3d9}\ufe0f Large City "),h(83,"span"),f(84,"AED 50M setup"),A()()()()()()),2&i&&(S(19),Mn("ngModel",r.inputs.implementationCost),S(6),Mn("ngModel",r.inputs.annualOperatingCost),S(9),Mn("ngModel",r.inputs.vehiclesPerDay),S(4),Mn("ngModel",r.inputs.averageTripCost),S(5),Mn("ngModel",r.inputs.complianceRate),S(2),Me("",r.inputs.complianceRate,"%"),S(7),Mn("ngModel",r.inputs.annualOperatingSavings),S(6),Mn("ngModel",r.analysisYears),S(5),Mn("ngModel",r.discountRate),S(2),Me("",r.discountRate,"%"),S(3),ke("ngIf",r.results))},dependencies:[ku,ls,cs,fc,Cf,va,wf,Qd,Qa,dg,Ag,_a],styles:[".roi-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px}.roi-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.header-icon[_ngcontent-%COMP%]{font-size:48px;display:block;margin-bottom:16px}.roi-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e3a5f}.roi-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b}.roi-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.input-section[_ngcontent-%COMP%], .results-section[_ngcontent-%COMP%], .presets-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 4px 16px #00000014}.input-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .results-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .presets-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#1e3a5f}.input-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:24px}.input-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px}.input-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f;font-size:16px}.input-row[_ngcontent-%COMP%]{margin-bottom:16px}.input-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:13px;color:#64748b;margin-bottom:6px}.input-row[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px}.hint[_ngcontent-%COMP%]{display:block;font-size:11px;color:#94a3b8;margin-top:4px}.slider-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.slider-row[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{flex:1}.slider-value[_ngcontent-%COMP%]{font-weight:600;color:#3b82f6;min-width:50px}.calculate-btn[_ngcontent-%COMP%]{width:100%;padding:16px;background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;border-radius:12px;font-size:18px;font-weight:600;cursor:pointer;transition:all .2s}.calculate-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #10b98166}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:24px}.metric-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;text-align:center}.metric-card.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.metric-icon[_ngcontent-%COMP%]{font-size:24px;display:block;margin-bottom:8px}.metric-value[_ngcontent-%COMP%]{display:block;font-size:24px;font-weight:700}.metric-card.primary[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{color:#fff}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#64748b}.metric-card.primary[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{color:#fffc}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:24px}.chart-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px}.chart-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.chart-card[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%!important;height:250px!important}.breakdown-section[_ngcontent-%COMP%]{margin-bottom:24px}.breakdown-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.breakdown-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#f8fafc;border-radius:12px;overflow:hidden}.breakdown-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .breakdown-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:right;border-bottom:1px solid #e2e8f0}.breakdown-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#1e3a5f;color:#fff;font-weight:600}.breakdown-table[_ngcontent-%COMP%]   td.positive[_ngcontent-%COMP%]{color:#059669;font-weight:600}.breakdown-table[_ngcontent-%COMP%]   td.negative[_ngcontent-%COMP%]{color:#dc2626}.recommendations[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;color:#1e3a5f}.recommendation-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.rec-card[_ngcontent-%COMP%]{display:flex;gap:12px;background:#f8fafc;border-radius:12px;padding:16px;border-right:4px solid #94a3b8}.rec-card.positive[_ngcontent-%COMP%]{border-right-color:#10b981}.rec-icon[_ngcontent-%COMP%]{font-size:24px}.rec-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:4px;color:#1e293b}.rec-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#64748b}.preset-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.preset-btn[_ngcontent-%COMP%]{flex:1;min-width:150px;padding:16px;background:#f8fafc;border:2px solid #e2e8f0;border-radius:12px;cursor:pointer;text-align:center;transition:all .2s}.preset-btn[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff}.preset-btn[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:16px;color:#1e293b;margin-bottom:4px}.preset-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#64748b}@media (max-width: 768px){.metrics-grid[_ngcontent-%COMP%], .charts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]})}}return t})();function vve(t,n){if(1&t&&(h(0,"span",38),f(1),A()),2&t){const e=Fe().$implicit;S(),Me("AED ",e.charge,"")}}function _ve(t,n){if(1&t&&(h(0,"span",39),f(1),A()),2&t){const e=Fe().$implicit;S(),Me(" ",e.remainingFreeTime," min free ")}}function yve(t,n){if(1&t&&(h(0,"div",31)(1,"div",32)(2,"span",33),f(3),A(),h(4,"span",34),f(5),A()(),h(6,"div",35),xt(7,vve,2,1,"span",36)(8,_ve,2,1,"span",37),A()()),2&t){const e=n.$implicit;Un("active","active"===e.status)("exempt","exempt"===e.status)("inactive","inactive"===e.status),S(3),lt(e.name),S(),C_(e.status),S(),Me(" ","active"===e.status?"Active":"exempt"===e.status?"Exempt":"Inactive"," "),S(2),ke("ngIf","active"===e.status),S(),ke("ngIf","active"===e.status&&e.remainingFreeTime)}}function bve(t,n){if(1&t&&(h(0,"div",43)(1,"div",44),f(2),A(),h(3,"div",45)(4,"span",46),f(5),A(),h(6,"span",47),f(7),A()(),h(8,"div",48),f(9),A()()),2&t){const e=n.$implicit;S(2),lt(e.icon),S(3),lt(e.zone),S(2),lt(e.time),S(),Un("free",0===e.charge),S(),Me(" ",0===e.charge?"FREE":"AED "+e.charge," ")}}function wve(t,n){if(1&t&&(h(0,"div",40)(1,"div",41)(2,"h4"),f(3,"Recent Trips"),A(),xt(4,bve,10,6,"div",42),A()()),2&t){const e=Fe();S(4),ke("ngForOf",e.recentTrips)}}function Cve(t,n){if(1&t&&(h(0,"div",53),f(1),A()),2&t){const e=n.$implicit;Ko("left",e.x,"%")("top",e.y,"%"),S(),Me(" ",e.name," ")}}function xve(t,n){if(1&t&&(h(0,"div",40)(1,"div",49)(2,"span",50),f(3,"\u{1f5fa}\ufe0f"),A(),h(4,"p"),f(5,"Interactive Zone Map"),A(),h(6,"div",51),xt(7,Cve,2,5,"div",52),A()()()),2&t){const e=Fe();S(7),ke("ngForOf",e.mapZones)}}function Mve(t,n){if(1&t){const e=ti();h(0,"div",40)(1,"div",54)(2,"h4"),f(3,"Payment Methods"),A(),h(4,"div",55)(5,"span",56),f(6,"\u{1f4b3}"),A(),h(7,"span",57),f(8,"\u2022\u2022\u2022\u2022 4242"),A(),h(9,"span",58),f(10,"Default"),A()(),h(11,"div",59)(12,"span",56),f(13,"\u{1f3e6}"),A(),h(14,"span",57),f(15,"\u2022\u2022\u2022\u2022 1234"),A()(),h(16,"button",60),f(17,"+ Add Payment Method"),A()(),h(18,"div",61)(19,"label")(20,"input",62),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.autoRecharge,r)||(o.autoRecharge=r),gt(r)}),A(),f(21," Auto-recharge when balance below AED 50 "),A()()()}if(2&t){const e=Fe();S(20),Mn("ngModel",e.autoRecharge)}}function Bve(t,n){1&t&&(h(0,"div",40)(1,"div",63)(2,"h4"),f(3,"Trip History"),A(),h(4,"div",64)(5,"button",65),f(6,"\u25c0"),A(),h(7,"span"),f(8,"January 2026"),A(),h(9,"button",65),f(10,"\u25b6"),A()(),h(11,"div",66)(12,"div",67)(13,"span",68),f(14,"Total Trips"),A(),h(15,"span",69),f(16,"24"),A()(),h(17,"div",67)(18,"span",68),f(19,"Total Spent"),A(),h(20,"span",69),f(21,"AED 285"),A()(),h(22,"div",67)(23,"span",68),f(24,"Free Trips"),A(),h(25,"span",69),f(26,"8"),A()()()()())}function Dve(t,n){if(1&t){const e=ti();h(0,"div",40)(1,"div",70)(2,"h4"),f(3,"Settings"),A(),h(4,"div",71)(5,"span"),f(6,"\u{1f514} Notifications"),A(),h(7,"input",62),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.notifications,r)||(o.notifications=r),gt(r)}),A()(),h(8,"div",71)(9,"span"),f(10,"\u{1f4cd} Location Services"),A(),h(11,"input",62),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.locationServices,r)||(o.locationServices=r),gt(r)}),A()(),h(12,"div",71)(13,"span"),f(14,"\u{1f697} Exempt Vehicle"),A(),h(15,"span",72),f(16,"Add Vehicle"),A()(),h(17,"div",71)(18,"span"),f(19,"\u{1f468}\u200d\u{1f469}\u200d\u{1f467} Family Plan"),A(),h(20,"span",72),f(21,"Manage"),A()()()()}if(2&t){const e=Fe();S(7),Mn("ngModel",e.notifications),S(4),Mn("ngModel",e.locationServices)}}let Bz=(()=>{class t{constructor(){this.currentUser={name:"Ahmed Al Mansouri",balance:125.5,tripsThisMonth:24,totalSaved:45},this.activeZones=[{id:"1",name:"Dubai Marina",status:"active",charge:15,remainingFreeTime:30},{id:"2",name:"Business Bay",status:"exempt",charge:0},{id:"3",name:"Downtown Dubai",status:"active",charge:25,remainingFreeTime:0},{id:"4",name:"Deira",status:"inactive",charge:0}],this.recentTrips=[{icon:"\u{1f697}",zone:"Dubai Marina",time:"Today, 9:15 AM",charge:0},{icon:"\u{1f697}",zone:"Business Bay",time:"Yesterday, 6:30 PM",charge:12},{icon:"\u{1f697}",zone:"Downtown Dubai",time:"Yesterday, 8:45 AM",charge:25},{icon:"\u{1f697}",zone:"Al Barsha",time:"Jan 13, 5:00 PM",charge:0}],this.mapZones=[{name:"Marina",x:30,y:40},{name:"Business Bay",x:50,y:60},{name:"Downtown",x:45,y:35}],this.activeTab="home",this.autoRecharge=!0,this.notifications=!0,this.locationServices=!0}ngOnInit(){}setActiveTab(e){this.activeTab=e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=rr({type:t,selectors:[["app-mobile-preview"]],standalone:!0,features:[Vc],decls:112,vars:27,consts:[[1,"mobile-preview-container"],[1,"preview-header"],[1,"header-icon"],[1,"preview-content"],[1,"device-frame"],[1,"device-notch"],[1,"device-screen"],[1,"status-bar"],[1,"signal-icons"],[1,"app-header"],[1,"user-avatar"],[1,"user-info"],[1,"user-name"],[1,"user-balance"],[1,"notification-bell"],[1,"quick-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"section-title"],[1,"zones-list"],["class","zone-card",3,"active","exempt","inactive",4,"ngFor","ngForOf"],[1,"quick-actions"],[1,"action-btn",3,"click"],[1,"action-btn","primary",3,"click"],[1,"tab-content"],["class","tab-panel",4,"ngIf"],[1,"feature-list"],[1,"feature-item"],[1,"feature-icon"],[1,"feature-content"],[1,"zone-card"],[1,"zone-info"],[1,"zone-name"],[1,"zone-status"],[1,"zone-charge"],["class","charge-amount",4,"ngIf"],["class","free-time",4,"ngIf"],[1,"charge-amount"],[1,"free-time"],[1,"tab-panel"],[1,"trip-history"],["class","trip-item",4,"ngFor","ngForOf"],[1,"trip-item"],[1,"trip-icon"],[1,"trip-details"],[1,"trip-zone"],[1,"trip-time"],[1,"trip-charge"],[1,"map-placeholder"],[1,"map-icon"],[1,"map-zones"],["class","map-zone",3,"left","top",4,"ngFor","ngForOf"],[1,"map-zone"],[1,"payment-section"],[1,"payment-card","selected"],[1,"card-icon"],[1,"card-number"],[1,"card-default"],[1,"payment-card"],[1,"add-card-btn"],[1,"auto-recharge"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"history-section"],[1,"month-selector"],[1,"month-btn"],[1,"history-summary"],[1,"summary-item"],[1,"label"],[1,"value"],[1,"settings-section"],[1,"setting-item"],[1,"setting-value"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"div",1)(2,"span",2),f(3,"\u{1f4f1}"),A(),h(4,"h1"),f(5,"Mobile App Preview"),A(),h(6,"p"),f(7," Preview how citizens would experience congestion pricing on their mobile devices "),A()(),h(8,"div",3)(9,"div",4),Cn(10,"div",5),h(11,"div",6)(12,"div",7)(13,"span"),f(14,"9:41"),A(),h(15,"div",8)(16,"span"),f(17,"\u{1f4f6}"),A(),h(18,"span"),f(19,"\u{1f50b}"),A()()(),h(20,"div",9)(21,"div",10),f(22,"\u{1f464}"),A(),h(23,"div",11)(24,"span",12),f(25),A(),h(26,"span",13),f(27),jt(28,"number"),A()(),h(29,"div",14),f(30,"\u{1f514}"),A()(),h(31,"div",15)(32,"div",16)(33,"span",17),f(34),A(),h(35,"span",18),f(36,"Trips"),A()(),h(37,"div",16)(38,"span",17),f(39),A(),h(40,"span",18),f(41,"Saved"),A()(),h(42,"div",16)(43,"span",17),f(44),jt(45,"number"),A(),h(46,"span",18),f(47,"CO\u2082 Reduced"),A()()(),h(48,"div",19),f(49,"Active Zones Near You"),A(),h(50,"div",20),xt(51,yve,9,12,"div",21),A(),h(52,"div",22)(53,"button",23),it("click",function(){return r.setActiveTab("home")}),f(54," \u{1f3e0} "),A(),h(55,"button",23),it("click",function(){return r.setActiveTab("map")}),f(56," \u{1f5fa}\ufe0f "),A(),h(57,"button",24),it("click",function(){return r.setActiveTab("pay")}),f(58," \u{1f4b3} "),A(),h(59,"button",23),it("click",function(){return r.setActiveTab("history")}),f(60," \u{1f4ca} "),A(),h(61,"button",23),it("click",function(){return r.setActiveTab("settings")}),f(62," \u2699\ufe0f "),A()(),h(63,"div",25),xt(64,wve,5,1,"div",26)(65,xve,8,1,"div",26)(66,Mve,22,1,"div",26)(67,Bve,27,0,"div",26)(68,Dve,22,2,"div",26),A()()(),h(69,"div",27)(70,"h3"),f(71,"Mobile App Features"),A(),h(72,"div",28)(73,"span",29),f(74,"\u{1f4cd}"),A(),h(75,"div",30)(76,"strong"),f(77,"Real-time Zone Detection"),A(),h(78,"p"),f(79," GPS automatically detects when you enter or exit a congestion zone "),A()()(),h(80,"div",28)(81,"span",29),f(82,"\u{1f4b0}"),A(),h(83,"div",30)(84,"strong"),f(85,"Dynamic Pricing Display"),A(),h(86,"p"),f(87," See current charges, free time remaining, and peak hour indicators "),A()()(),h(88,"div",28)(89,"span",29),f(90,"\u{1f4ca}"),A(),h(91,"div",30)(92,"strong"),f(93,"Trip History & Analytics"),A(),h(94,"p"),f(95,"Track spending, carbon footprint, and see how you're saving"),A()()(),h(96,"div",28)(97,"span",29),f(98,"\u{1f514}"),A(),h(99,"div",30)(100,"strong"),f(101,"Smart Notifications"),A(),h(102,"p"),f(103," Get alerts for upcoming charges, exemptions, and payment reminders "),A()()(),h(104,"div",28)(105,"span",29),f(106,"\u{1f468}\u200d\u{1f469}\u200d\u{1f467}"),A(),h(107,"div",30)(108,"strong"),f(109,"Family Accounts"),A(),h(110,"p"),f(111," Manage multiple vehicles and family members under one account "),A()()()()()()),2&i&&(S(25),lt(r.currentUser.name),S(2),Me("AED ",wn(28,21,r.currentUser.balance,"1.2-2"),""),S(7),lt(r.currentUser.tripsThisMonth),S(5),Me("AED ",r.currentUser.totalSaved,""),S(5),Me("",wn(45,24,.3*r.currentUser.tripsThisMonth,"1.0-0")," kg"),S(7),ke("ngForOf",r.activeZones),S(2),Un("active","home"===r.activeTab),S(2),Un("active","map"===r.activeTab),S(2),Un("active","pay"===r.activeTab),S(2),Un("active","history"===r.activeTab),S(2),Un("active","settings"===r.activeTab),S(3),ke("ngIf","home"===r.activeTab),S(),ke("ngIf","map"===r.activeTab),S(),ke("ngIf","pay"===r.activeTab),S(),ke("ngIf","history"===r.activeTab),S(),ke("ngIf","settings"===r.activeTab))},dependencies:[ku,ls,cs,fc,Cf,U0,Qa,_a],styles:[".mobile-preview-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px}.preview-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.header-icon[_ngcontent-%COMP%]{font-size:48px;display:block;margin-bottom:16px}.preview-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e3a5f}.preview-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b}.preview-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:40px;align-items:start}.device-frame[_ngcontent-%COMP%]{width:320px;height:650px;background:#1a1a2e;border-radius:40px;padding:12px;margin:0 auto;box-shadow:0 20px 60px #0000004d}.device-notch[_ngcontent-%COMP%]{width:120px;height:24px;background:#1a1a2e;border-radius:20px;margin:0 auto 10px}.device-screen[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(180deg,#f8fafc,#e2e8f0);border-radius:30px;overflow:hidden;display:flex;flex-direction:column}.status-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;font-size:12px;font-weight:600;color:#1a1a2e}.signal-icons[_ngcontent-%COMP%]{display:flex;gap:4px}.app-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;background:#fff;gap:12px}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background:#3b82f6;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px}.user-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.user-name[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#1e293b}.user-balance[_ngcontent-%COMP%]{font-size:12px;color:#10b981;font-weight:600}.notification-bell[_ngcontent-%COMP%]{font-size:20px}.quick-stats[_ngcontent-%COMP%]{display:flex;padding:16px;gap:12px}.stat-item[_ngcontent-%COMP%]{flex:1;background:#fff;border-radius:12px;padding:12px;text-align:center}.stat-value[_ngcontent-%COMP%]{display:block;font-size:18px;font-weight:700;color:#1e3a5f}.stat-label[_ngcontent-%COMP%]{font-size:11px;color:#64748b}.section-title[_ngcontent-%COMP%]{padding:0 16px 8px;font-size:13px;font-weight:600;color:#64748b}.zones-list[_ngcontent-%COMP%]{padding:0 16px;display:flex;flex-direction:column;gap:8px}.zone-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:12px;display:flex;justify-content:space-between;align-items:center;border-right:4px solid #94a3b8}.zone-card.active[_ngcontent-%COMP%]{border-right-color:#3b82f6}.zone-card.exempt[_ngcontent-%COMP%]{border-right-color:#10b981}.zone-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.zone-name[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#1e293b}.zone-status[_ngcontent-%COMP%]{font-size:11px}.zone-status.active[_ngcontent-%COMP%]{color:#3b82f6}.zone-status.exempt[_ngcontent-%COMP%]{color:#10b981}.zone-status.inactive[_ngcontent-%COMP%]{color:#94a3b8}.zone-charge[_ngcontent-%COMP%]{text-align:right}.charge-amount[_ngcontent-%COMP%]{display:block;font-weight:700;color:#dc2626;font-size:16px}.free-time[_ngcontent-%COMP%]{font-size:11px;color:#10b981}.quick-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:12px;background:#fff;margin-top:auto;border-top:1px solid #e2e8f0}.action-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;border:none;background:transparent;font-size:20px;cursor:pointer;transition:all .2s}.action-btn.active[_ngcontent-%COMP%]{background:#3b82f6}.action-btn.primary[_ngcontent-%COMP%]{width:56px;height:56px;background:linear-gradient(135deg,#3b82f6,#0ea5e9);margin-top:-20px}.tab-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:12px}.tab-panel[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:16px}.trip-history[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .payment-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .history-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .settings-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#1e3a5f}.trip-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 0;border-bottom:1px solid #e2e8f0}.trip-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:12px}.trip-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.trip-zone[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#1e293b}.trip-time[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.trip-charge[_ngcontent-%COMP%]{font-weight:600;color:#dc2626}.trip-charge.free[_ngcontent-%COMP%]{color:#10b981}.map-placeholder[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background:#e2e8f0;border-radius:12px;position:relative;height:300px}.map-icon[_ngcontent-%COMP%]{font-size:48px;display:block;margin-bottom:12px}.map-zones[_ngcontent-%COMP%]{position:absolute;inset:0}.map-zone[_ngcontent-%COMP%]{position:absolute;background:#3b82f6;color:#fff;padding:4px 8px;border-radius:8px;font-size:11px;transform:translate(-50%,-50%)}.payment-card[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background:#f8fafc;border-radius:12px;margin-bottom:8px;border:2px solid transparent}.payment-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#eff6ff}.card-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:12px}.card-number[_ngcontent-%COMP%]{flex:1;font-weight:600}.card-default[_ngcontent-%COMP%]{font-size:11px;background:#10b981;color:#fff;padding:2px 8px;border-radius:4px}.add-card-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background:#fff;border:2px dashed #e2e8f0;border-radius:12px;color:#64748b;cursor:pointer}.auto-recharge[_ngcontent-%COMP%]{margin-top:16px;padding:12px;background:#f8fafc;border-radius:8px}.month-selector[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.month-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:18px;cursor:pointer}.history-summary[_ngcontent-%COMP%]{display:flex;gap:12px}.summary-item[_ngcontent-%COMP%]{flex:1;background:#f8fafc;padding:12px;border-radius:8px;text-align:center}.summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:11px;color:#64748b}.summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:block;font-weight:700;color:#1e3a5f}.setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 0;border-bottom:1px solid #e2e8f0}.setting-value[_ngcontent-%COMP%]{color:#3b82f6;font-size:14px}.feature-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#1e3a5f}.feature-item[_ngcontent-%COMP%]{display:flex;gap:16px;padding:16px;background:#fff;border-radius:12px;margin-bottom:12px;box-shadow:0 2px 8px #0000000d}.feature-icon[_ngcontent-%COMP%]{font-size:32px}.feature-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#1e293b;margin-bottom:4px}.feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#64748b}@media (max-width: 900px){.preview-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return t})(),Sve=(()=>{class t{constructor(){this.STORAGE_KEY="smartmobility_scenarios",this.AUDIT_KEY="smartmobility_audit_log",this.scenariosSubject=new Vn([]),this.auditLogSubject=new Vn([]),this.scenarios$=this.scenariosSubject.asObservable(),this.auditLog$=this.auditLogSubject.asObservable(),this.loadScenarios(),this.loadAuditLog()}saveScenario(e){const i=this.scenariosSubject.getValue(),r={...e,id:this.generateId(),createdAt:new Date,updatedAt:new Date};return i.push(r),this.scenariosSubject.next(i),this.saveToStorage(),this.logAction("scenario_saved",`Saved scenario: ${e.name}`,`Zone: ${e.zoneName}`),r}updateScenario(e,i){const r=this.scenariosSubject.getValue(),o=r.findIndex(s=>s.id===e);return-1===o?null:(r[o]={...r[o],...i,updatedAt:new Date},this.scenariosSubject.next([...r]),this.saveToStorage(),this.logAction("scenario_saved",`Updated scenario: ${r[o].name}`,`Zone: ${r[o].zoneName}`),r[o])}deleteScenario(e){const i=this.scenariosSubject.getValue(),r=i.findIndex(s=>s.id===e);if(-1===r)return!1;const o=i[r];return i.splice(r,1),this.scenariosSubject.next([...i]),this.saveToStorage(),this.logAction("scenario_deleted",`Deleted scenario: ${o.name}`,`Zone: ${o.zoneName}`),!0}loadScenario(e){const r=this.scenariosSubject.getValue().find(o=>o.id===e);return r&&this.logAction("scenario_loaded",`Loaded scenario: ${r.name}`,`Zone: ${r.zoneName}`),r||null}getAllScenarios(){return this.scenariosSubject.getValue()}logAction(e,i,r){const o=this.auditLogSubject.getValue(),s={id:this.generateId(),action:e,description:i,details:r,timestamp:new Date};o.unshift(s),o.length>100&&o.pop(),this.auditLogSubject.next([...o]),this.saveAuditLog()}getAuditLog(){return this.auditLogSubject.getValue()}getAuditLogByAction(e){return this.auditLogSubject.getValue().filter(i=>i.action===e)}clearAuditLog(){this.auditLogSubject.next([]),this.saveAuditLog()}exportScenarios(){const e=this.scenariosSubject.getValue();return JSON.stringify(e,null,2)}importScenarios(e){try{const i=JSON.parse(e);return!!Array.isArray(i)&&(this.scenariosSubject.next(i),this.saveToStorage(),!0)}catch{return!1}}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}loadScenarios(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(e){const i=JSON.parse(e);this.scenariosSubject.next(i)}}catch{this.scenariosSubject.next([])}}saveToStorage(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.scenariosSubject.getValue()))}catch{console.error("Failed to save scenarios to localStorage")}}loadAuditLog(){try{const e=localStorage.getItem(this.AUDIT_KEY);if(e){const i=JSON.parse(e);this.auditLogSubject.next(i)}}catch{this.auditLogSubject.next([])}}saveAuditLog(){try{localStorage.setItem(this.AUDIT_KEY,JSON.stringify(this.auditLogSubject.getValue()))}catch{console.error("Failed to save audit log to localStorage")}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Eve(t,n){if(1&t&&(h(0,"div",25)(1,"div",26),f(2),A(),h(3,"div",27)(4,"div",28),f(5),A(),h(6,"div",29),f(7),A()(),h(8,"div",30)(9,"span",31),f(10),A(),h(11,"span",32),f(12),A()()()),2&t){const e=n.$implicit,i=Fe(2);S(),C_(i.getActionClass(e.action)),S(),Me(" ",i.getActionIcon(e.action)," "),S(3),lt(e.description),S(2),lt(e.details),S(3),lt(i.formatTime(e.timestamp)),S(2),lt(i.formatDate(e.timestamp))}}function Pve(t,n){1&t&&(h(0,"div",33)(1,"span",34),f(2,"\u{1f4ed}"),A(),h(3,"p"),f(4,"No audit entries found"),A()())}function Ive(t,n){if(1&t){const e=ti();h(0,"div",11)(1,"div",12)(2,"h3"),f(3,"Activity Log"),A(),h(4,"div",13)(5,"select",14),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.filterAction,r)||(o.filterAction=r),gt(r)}),it("change",function(){return pt(e),gt(Fe().applyFilter())}),h(6,"option",15),f(7,"All Actions"),A(),h(8,"option",16),f(9,"Simulation Runs"),A(),h(10,"option",17),f(11,"Scenario Saved"),A(),h(12,"option",18),f(13,"Scenario Loaded"),A(),h(14,"option",19),f(15,"Scenario Deleted"),A(),h(16,"option",20),f(17,"Export Generated"),A()(),h(18,"button",21),it("click",function(){return pt(e),gt(Fe().clearAuditLog())}),f(19," Clear Log "),A()()(),h(20,"div",22),xt(21,Eve,13,7,"div",23)(22,Pve,5,0,"div",24),A()()}if(2&t){const e=Fe();S(5),Mn("ngModel",e.filterAction),S(16),ke("ngForOf",e.filteredAuditLog),S(),ke("ngIf",0===e.filteredAuditLog.length)}}function Ove(t,n){if(1&t&&(h(0,"div",54)(1,"div",55)(2,"span",56),f(3),A(),h(4,"span",57),f(5,"Congestion"),A()(),h(6,"div",55)(7,"span",56),f(8),jt(9,"number"),A(),h(10,"span",57),f(11,"Revenue"),A()()()),2&t){const e=Fe().$implicit;S(3),Me("",e.results.congestionReduction,"%"),S(5),Me("AED ",Br(9,2,e.results.estimatedRevenue),"")}}function kve(t,n){if(1&t){const e=ti();h(0,"div",38)(1,"div",39)(2,"span",40),f(3,"\u{1f4ca}"),A(),h(4,"div",41)(5,"h4"),f(6),A(),h(7,"span",42),f(8),A()()(),h(9,"p",43),f(10),A(),h(11,"div",44)(12,"div",45)(13,"span",46),f(14,"Rate"),A(),h(15,"span",47),f(16),A()(),h(17,"div",45)(18,"span",46),f(19,"Free Hours"),A(),h(20,"span",47),f(21),A()(),h(22,"div",45)(23,"span",46),f(24,"Peak"),A(),h(25,"span",47),f(26),A()()(),xt(27,Ove,12,4,"div",48),h(28,"div",49)(29,"button",50),it("click",function(){const r=pt(e).$implicit;return gt(Fe(2).loadScenario(r.id))}),f(30," \u{1f4c2} Load "),A(),h(31,"button",51),it("click",function(){const r=pt(e).$implicit;return gt(Fe(2).duplicateScenario(r))}),f(32," \u{1f4cb} Duplicate "),A(),h(33,"button",52),it("click",function(){const r=pt(e).$implicit;return gt(Fe(2).deleteScenario(r.id))}),f(34," \u{1f5d1}\ufe0f "),A()(),h(35,"div",53),f(36),A()()}if(2&t){const e=n.$implicit,i=Fe(2);S(6),lt(e.name),S(2),lt(e.zoneName),S(2),lt(e.description),S(6),Me("AED ",e.config.hourlyRate,"/hr"),S(5),Me("",e.config.freeHours," hrs"),S(5),Me("",e.config.peakMultiplier,"x"),S(),ke("ngIf",e.results),S(9),Me(" Created: ",i.formatDate(e.createdAt)," ")}}function Fve(t,n){if(1&t){const e=ti();h(0,"div",33)(1,"span",34),f(2,"\u{1f4ed}"),A(),h(3,"p"),f(4,"No saved scenarios yet"),A(),h(5,"button",35),it("click",function(){return pt(e),gt(Fe(2).showSaveModal=!0)}),f(6," Save Your First Scenario "),A()()}}function Tve(t,n){if(1&t){const e=ti();h(0,"div",11)(1,"div",12)(2,"h3"),f(3,"Saved Scenarios"),A(),h(4,"button",35),it("click",function(){return pt(e),gt(Fe().showSaveModal=!0)}),f(5," + Save Current Scenario "),A()(),h(6,"div",36),xt(7,kve,37,8,"div",37)(8,Fve,7,0,"div",24),A()()}if(2&t){const e=Fe();S(7),ke("ngForOf",e.scenarios),S(),ke("ngIf",0===e.scenarios.length)}}function Lve(t,n){if(1&t&&(h(0,"span",68),f(1),A()),2&t){const e=Fe(2);S(),lt(e.selectedFile.name)}}function Nve(t,n){if(1&t){const e=ti();h(0,"div",11)(1,"div",12)(2,"h3"),f(3,"Export & Import"),A()(),h(4,"div",58)(5,"div",59)(6,"span",60),f(7,"\u{1f4e4}"),A(),h(8,"h4"),f(9,"Export Data"),A(),h(10,"p"),f(11,"Download all scenarios and audit log"),A(),h(12,"div",61)(13,"button",62),it("click",function(){return pt(e),gt(Fe().exportScenarios())}),f(14," \u{1f4be} Export Scenarios (JSON) "),A(),h(15,"button",62),it("click",function(){return pt(e),gt(Fe().exportAuditLog())}),f(16," \u{1f4cb} Export Audit Log "),A(),h(17,"button",62),it("click",function(){return pt(e),gt(Fe().exportAll())}),f(18," \u{1f4e6} Export All "),A()()(),h(19,"div",63)(20,"span",60),f(21,"\u{1f4e5}"),A(),h(22,"h4"),f(23,"Import Data"),A(),h(24,"p"),f(25,"Import scenarios from a JSON file"),A(),h(26,"div",64)(27,"input",65,0),it("change",function(r){return pt(e),gt(Fe().onFileSelected(r))}),A(),h(29,"button",66),it("click",function(){return pt(e),gt(S0(28).click())}),f(30," \u{1f4c2} Select File "),A(),xt(31,Lve,2,1,"span",67),A()()()()}if(2&t){const e=Fe();S(31),ke("ngIf",e.selectedFile)}}function Rve(t,n){if(1&t){const e=ti();h(0,"div",69),it("click",function(){return pt(e),gt(Fe().showSaveModal=!1)}),h(1,"div",70),it("click",function(r){return pt(e),gt(r.stopPropagation())}),h(2,"h3"),f(3,"Save Current Scenario"),A(),h(4,"div",71)(5,"label"),f(6,"Scenario Name"),A(),h(7,"input",72),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.newScenario.name,r)||(o.newScenario.name=r),gt(r)}),A()(),h(8,"div",71)(9,"label"),f(10,"Description"),A(),h(11,"textarea",73),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.newScenario.description,r)||(o.newScenario.description=r),gt(r)}),A()(),h(12,"div",71)(13,"label"),f(14,"Zone"),A(),h(15,"select",74),Bn("ngModelChange",function(r){pt(e);const o=Fe();return Dn(o.newScenario.zoneId,r)||(o.newScenario.zoneId=r),gt(r)}),h(16,"option",15),f(17,"Select a zone"),A(),h(18,"option",75),f(19,"Dubai Marina"),A(),h(20,"option",76),f(21,"Business Bay"),A(),h(22,"option",77),f(23,"Downtown Dubai"),A(),h(24,"option",78),f(25,"Mussafah"),A()()(),h(26,"div",79)(27,"button",21),it("click",function(){return pt(e),gt(Fe().showSaveModal=!1)}),f(28," Cancel "),A(),h(29,"button",35),it("click",function(){return pt(e),gt(Fe().saveNewScenario())}),f(30," Save "),A()()()()}if(2&t){const e=Fe();S(7),Mn("ngModel",e.newScenario.name),S(4),Mn("ngModel",e.newScenario.description),S(4),Mn("ngModel",e.newScenario.zoneId)}}let Dz=(()=>{class t{constructor(e){this.scenarioService=e,this.activeTab="audit",this.filterAction="",this.scenarios=[],this.auditLog=[],this.filteredAuditLog=[],this.showSaveModal=!1,this.selectedFile=null,this.newScenario={name:"",description:"",zoneId:"",zoneName:""}}ngOnInit(){this.scenarioService.scenarios$.subscribe(e=>{this.scenarios=e}),this.scenarioService.auditLog$.subscribe(e=>{this.auditLog=e,this.applyFilter()})}getActionIcon(e){return{simulation_run:"\u{1f9ea}",scenario_saved:"\u{1f4be}",scenario_loaded:"\u{1f4c2}",scenario_deleted:"\u{1f5d1}\ufe0f",export_generated:"\u{1f4e4}",zone_created:"\u{1f5fa}\ufe0f",zone_updated:"\u270f\ufe0f",settings_changed:"\u2699\ufe0f"}[e]||"\u{1f4cb}"}getActionClass(e){return{simulation_run:"simulation",scenario_saved:"save",scenario_loaded:"load",scenario_deleted:"delete",export_generated:"export"}[e]||""}formatTime(e){return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}formatDate(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}applyFilter(){this.filteredAuditLog=this.filterAction?this.auditLog.filter(e=>e.action===this.filterAction):[...this.auditLog]}clearAuditLog(){confirm("Are you sure you want to clear the audit log?")&&this.scenarioService.clearAuditLog()}loadScenario(e){const i=this.scenarioService.loadScenario(e);i&&alert(`Scenario "${i.name}" loaded!`)}duplicateScenario(e){this.scenarioService.saveScenario({name:`${e.name} (Copy)`,description:e.description,zoneId:e.zoneId,zoneName:e.zoneName,config:{...e.config},results:e.results?{...e.results}:void 0})}deleteScenario(e){confirm("Are you sure you want to delete this scenario?")&&this.scenarioService.deleteScenario(e)}saveNewScenario(){this.newScenario.name&&this.newScenario.zoneId?(this.scenarioService.saveScenario({name:this.newScenario.name,description:this.newScenario.description,zoneId:this.newScenario.zoneId,zoneName:{"dubai-marina":"Dubai Marina","business-bay":"Business Bay",downtown:"Downtown Dubai",mussafah:"Mussafah"}[this.newScenario.zoneId]||"Unknown",config:{hourlyRate:25,freeHours:1,peakMultiplier:1.5,exemptPublicTransport:!0,exemptCommercial:!0,exemptEmergency:!0}}),this.showSaveModal=!1,this.newScenario={name:"",description:"",zoneId:"",zoneName:""}):alert("Please fill in required fields")}onFileSelected(e){const i=e.target;i.files&&i.files[0]&&(this.selectedFile=i.files[0])}exportScenarios(){const e=this.scenarioService.exportScenarios();this.downloadFile(e,"scenarios.json","application/json")}exportAuditLog(){const e=JSON.stringify(this.auditLog,null,2);this.downloadFile(e,"audit-log.json","application/json")}exportAll(){const e=JSON.stringify({scenarios:this.scenarios,auditLog:this.auditLog,exportedAt:(new Date).toISOString()},null,2);this.downloadFile(e,"smartmobility-export.json","application/json")}downloadFile(e,i,r){const o=new Blob([e],{type:r}),s=URL.createObjectURL(o),a=document.createElement("a");a.href=s,a.download=i,a.click(),URL.revokeObjectURL(s)}clearAllData(){confirm("\u26a0\ufe0f WARNING: This will delete ALL saved scenarios and clear the audit log. This cannot be undone!\n\nAre you sure you want to continue?")&&(localStorage.clear(),window.location.reload())}static{this.\u0275fac=function(i){return new(i||t)(wt(Sve))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-audit-trail"]],standalone:!0,features:[Vc],decls:27,vars:10,consts:[["fileInput",""],[1,"audit-container"],[1,"audit-header"],[1,"header-icon"],[1,"audit-content"],[1,"tabs"],[1,"tab-btn",3,"click"],["class","tab-content",4,"ngIf"],[1,"danger-zone"],[1,"btn-danger",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"tab-content"],[1,"tab-header"],[1,"tab-actions"],[3,"ngModelChange","change","ngModel"],["value",""],["value","simulation_run"],["value","scenario_saved"],["value","scenario_loaded"],["value","scenario_deleted"],["value","export_generated"],[1,"btn-secondary",3,"click"],[1,"audit-list"],["class","audit-item",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"audit-item"],[1,"audit-icon"],[1,"audit-info"],[1,"audit-description"],[1,"audit-details"],[1,"audit-time"],[1,"time"],[1,"date"],[1,"empty-state"],[1,"empty-icon"],[1,"btn-primary",3,"click"],[1,"scenarios-grid"],["class","scenario-card",4,"ngFor","ngForOf"],[1,"scenario-card"],[1,"scenario-header"],[1,"scenario-icon"],[1,"scenario-title"],[1,"scenario-zone"],[1,"scenario-description"],[1,"scenario-config"],[1,"config-item"],[1,"config-label"],[1,"config-value"],["class","scenario-results",4,"ngIf"],[1,"scenario-actions"],[1,"action-btn","load",3,"click"],[1,"action-btn","duplicate",3,"click"],[1,"action-btn","delete",3,"click"],[1,"scenario-meta"],[1,"scenario-results"],[1,"result-item"],[1,"result-value"],[1,"result-label"],[1,"export-section"],[1,"export-card"],[1,"export-icon"],[1,"export-buttons"],[1,"export-btn",3,"click"],[1,"import-card"],[1,"import-area"],["type","file","accept",".json",3,"change"],[1,"import-btn",3,"click"],["class","file-name",4,"ngIf"],[1,"file-name"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"form-group"],["type","text","placeholder","My Custom Scenario",3,"ngModelChange","ngModel"],["placeholder","Describe this scenario...",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","dubai-marina"],["value","business-bay"],["value","downtown"],["value","mussafah"],[1,"modal-actions"]],template:function(i,r){1&i&&(h(0,"div",1)(1,"div",2)(2,"span",3),f(3,"\u{1f4cb}"),A(),h(4,"h1"),f(5,"Audit Trail & Saved Scenarios"),A(),h(6,"p"),f(7,"View history of all operations and manage saved scenarios"),A()(),h(8,"div",4)(9,"div",5)(10,"button",6),it("click",function(){return r.activeTab="audit"}),f(11," \u{1f4cb} Audit Log "),A(),h(12,"button",6),it("click",function(){return r.activeTab="scenarios"}),f(13," \u{1f4be} Saved Scenarios "),A(),h(14,"button",6),it("click",function(){return r.activeTab="export"}),f(15," \u{1f4e4} Export/Import "),A()(),xt(16,Ive,23,3,"div",7)(17,Tve,9,2,"div",7)(18,Nve,32,1,"div",7),h(19,"div",8)(20,"h4"),f(21,"\u26a0\ufe0f Danger Zone"),A(),h(22,"p"),f(23," This will permanently delete all saved data including scenarios and audit logs. "),A(),h(24,"button",9),it("click",function(){return r.clearAllData()}),f(25," \u{1f5d1}\ufe0f Clear All Data "),A()()(),xt(26,Rve,31,3,"div",10),A()),2&i&&(S(10),Un("active","audit"===r.activeTab),S(2),Un("active","scenarios"===r.activeTab),S(2),Un("active","export"===r.activeTab),S(2),ke("ngIf","audit"===r.activeTab),S(),ke("ngIf","scenarios"===r.activeTab),S(),ke("ngIf","export"===r.activeTab),S(8),ke("ngIf",r.showSaveModal))},dependencies:[ku,ls,cs,fc,Cf,Hd,zd,va,Nu,Qa,_a],styles:[".audit-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.audit-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.header-icon[_ngcontent-%COMP%]{font-size:48px;display:block;margin-bottom:16px}.audit-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e3a5f}.audit-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b}.audit-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 16px #00000014;overflow:hidden}.tabs[_ngcontent-%COMP%]{display:flex;background:#f8fafc;border-bottom:1px solid #e2e8f0}.tab-btn[_ngcontent-%COMP%]{flex:1;padding:16px;background:none;border:none;cursor:pointer;font-size:14px;font-weight:600;color:#64748b;transition:all .2s}.tab-btn.active[_ngcontent-%COMP%]{background:#fff;color:#3b82f6;border-bottom:2px solid #3b82f6}.tab-content[_ngcontent-%COMP%]{padding:24px}.tab-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.tab-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1e3a5f}.tab-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.tab-actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px}.btn-primary[_ngcontent-%COMP%]{padding:10px 20px;background:#3b82f6;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer}.btn-secondary[_ngcontent-%COMP%]{padding:10px 20px;background:#f1f5f9;color:#475569;border:none;border-radius:8px;font-weight:600;cursor:pointer}.audit-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.audit-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background:#f8fafc;border-radius:12px;gap:16px}.audit-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px;background:#e2e8f0}.audit-icon.simulation[_ngcontent-%COMP%]{background:#dbeafe}.audit-icon.save[_ngcontent-%COMP%]{background:#d1fae5}.audit-icon.load[_ngcontent-%COMP%]{background:#fef3c7}.audit-icon.delete[_ngcontent-%COMP%]{background:#fee2e2}.audit-icon.export[_ngcontent-%COMP%]{background:#e0e7ff}.audit-info[_ngcontent-%COMP%]{flex:1}.audit-description[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;margin-bottom:4px}.audit-details[_ngcontent-%COMP%]{font-size:13px;color:#64748b}.audit-time[_ngcontent-%COMP%]{text-align:right}.audit-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:block;font-weight:600;color:#1e293b}.audit-time[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.scenarios-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}.scenario-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:16px;padding:20px}.scenario-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.scenario-icon[_ngcontent-%COMP%]{font-size:32px}.scenario-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#1e3a5f}.scenario-zone[_ngcontent-%COMP%]{font-size:13px;color:#64748b}.scenario-description[_ngcontent-%COMP%]{margin:0 0 16px;font-size:14px;color:#64748b}.scenario-config[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid #e2e8f0}.config-item[_ngcontent-%COMP%]{flex:1;text-align:center}.config-label[_ngcontent-%COMP%]{display:block;font-size:11px;color:#64748b;margin-bottom:4px}.config-value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:13px}.scenario-results[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:16px}.result-item[_ngcontent-%COMP%]{flex:1;background:#fff;padding:12px;border-radius:8px;text-align:center}.result-value[_ngcontent-%COMP%]{display:block;font-weight:700;color:#10b981}.result-label[_ngcontent-%COMP%]{font-size:11px;color:#64748b}.scenario-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:12px}.action-btn[_ngcontent-%COMP%]{flex:1;padding:8px;border:none;border-radius:6px;cursor:pointer;font-size:12px;font-weight:600}.action-btn.load[_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8}.action-btn.duplicate[_ngcontent-%COMP%]{background:#fef3c7;color:#b45309}.action-btn.delete[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.scenario-meta[_ngcontent-%COMP%]{font-size:11px;color:#94a3b8}.export-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.export-card[_ngcontent-%COMP%], .import-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:16px;padding:24px;text-align:center}.export-icon[_ngcontent-%COMP%]{font-size:48px;display:block;margin-bottom:16px}.export-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .import-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e3a5f}.export-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .import-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;color:#64748b}.export-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.export-btn[_ngcontent-%COMP%], .import-btn[_ngcontent-%COMP%]{padding:12px;background:#fff;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;font-weight:600;color:#1e293b}.export-btn[_ngcontent-%COMP%]:hover, .import-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9}.import-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.import-area[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.file-name[_ngcontent-%COMP%]{font-size:13px;color:#64748b}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#64748b}.empty-icon[_ngcontent-%COMP%]{font-size:48px;display:block;margin-bottom:16px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;width:400px;max-width:90%}.modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#1e3a5f}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:13px;color:#64748b;margin-bottom:6px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;margin-top:20px}.danger-zone[_ngcontent-%COMP%]{margin-top:30px;padding:20px;background:#fef2f2;border:2px solid #fecaca;border-radius:12px;text-align:center}.danger-zone[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#dc2626}.danger-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px;color:#64748b;font-size:14px}.btn-danger[_ngcontent-%COMP%]{padding:12px 24px;background:#dc2626;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s}.btn-danger[_ngcontent-%COMP%]:hover{background:#b91c1c}"]})}}return t})(),vb=(()=>{class t{constructor(e,i,r){this.http=e,this.router=i,this.ngZone=r,this.apiUrl=`${Uu()}/api/auth`,this.currentUserSubject=new Vn(null),this.currentUser$=this.currentUserSubject.asObservable(),this.INACTIVITY_TIMEOUT=9e5,this.TOKEN_REFRESH_INTERVAL=33e5,this.lastActivity=Date.now(),this.loadStoredUser(),this.setupInactivityTracking()}loadStoredUser(){const e=this.getToken(),i=localStorage.getItem("smartmobility_user");if(e&&i)try{const r=JSON.parse(i);this.currentUserSubject.next(r),this.startRefreshTimer()}catch{this.logout()}}setupInactivityTracking(){typeof window<"u"&&["mousedown","keydown","touchstart","scroll"].forEach(e=>{window.addEventListener(e,()=>this.resetInactivityTimer())})}resetInactivityTimer(){this.lastActivity=Date.now(),this.isLoggedIn()&&(this.stopInactivityTimer(),this.startInactivityTimer())}startInactivityTimer(){this.ngZone.runOutsideAngular(()=>{this.inactivityTimer=setTimeout(()=>{this.ngZone.run(()=>{Date.now()-this.lastActivity>=this.INACTIVITY_TIMEOUT&&this.logout(!0)})},this.INACTIVITY_TIMEOUT)})}stopInactivityTimer(){this.inactivityTimer&&(clearTimeout(this.inactivityTimer),this.inactivityTimer=null)}startRefreshTimer(){this.stopRefreshTimer(),this.ngZone.runOutsideAngular(()=>{this.refreshTimer=setInterval(()=>{this.ngZone.run(()=>{this.refreshToken()})},this.TOKEN_REFRESH_INTERVAL)})}stopRefreshTimer(){this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null)}refreshToken(){const e=this.getRefreshToken();e&&this.http.post(`${this.apiUrl}/refresh`,{refreshToken:e}).subscribe({next:i=>{this.storeAuth(i)},error:()=>{this.logout()}})}login(e){return this.http.post(`${this.apiUrl}/login`,e).pipe(ya(i=>{this.storeAuth(i),this.startInactivityTimer(),this.startRefreshTimer()}))}register(e){return this.http.post(`${this.apiUrl}/register`,e).pipe(ya(i=>{this.storeAuth(i),this.startInactivityTimer(),this.startRefreshTimer()}))}logout(e=!1){this.getToken()&&this.http.post(`${this.apiUrl}/logout`,{}).subscribe(),localStorage.removeItem("smartmobility_token"),localStorage.removeItem("smartmobility_refresh_token"),localStorage.removeItem("smartmobility_user"),this.currentUserSubject.next(null),this.stopInactivityTimer(),this.stopRefreshTimer(),e&&alert("You have been logged out due to inactivity."),this.router.navigate(["/login"])}getCurrentUser(){return this.http.get(`${this.apiUrl}/me`)}getAllUsers(){return this.http.get(`${this.apiUrl}/users`)}updateUserRole(e,i){return this.http.put(`${this.apiUrl}/users/${e}/role`,{role:i})}updateUserStatus(e,i){return this.http.put(`${this.apiUrl}/users/${e}/status`,{isActive:i})}getToken(){return localStorage.getItem("smartmobility_token")}getRefreshToken(){return localStorage.getItem("smartmobility_refresh_token")}getCurrentUserValue(){return this.currentUserSubject.value}isLoggedIn(){return!!this.getToken()}isAdmin(){return"Admin"===this.getCurrentUserValue()?.role}isEditor(){const e=this.getCurrentUserValue();return"Admin"===e?.role||"Editor"===e?.role}hasRole(e){const i=this.getCurrentUserValue();return!!i&&e.includes(i.role)}storeAuth(e){localStorage.setItem("smartmobility_token",e.token),localStorage.setItem("smartmobility_refresh_token",e.refreshToken),localStorage.setItem("smartmobility_user",JSON.stringify(e.user)),this.currentUserSubject.next(e.user)}static{this.\u0275fac=function(i){return new(i||t)(cn($c),cn(Ks),cn(Cr))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),t3=(()=>{class t{constructor(){this.toasts=[],this.toastsSubject=new Vn([]),this.toasts$=this.toastsSubject.asObservable(),this.nextId=0}show(e,i="info",r=5e3){const o={id:this.nextId++,message:e,type:i,duration:r};this.toasts.push(o),this.toastsSubject.next([...this.toasts]),r>0&&setTimeout(()=>this.remove(o.id),r)}success(e,i=5e3){this.show(e,"success",i)}error(e,i=8e3){this.show(e,"error",i)}warning(e,i=6e3){this.show(e,"warning",i)}info(e,i=5e3){this.show(e,"info",i)}remove(e){this.toasts=this.toasts.filter(i=>i.id!==e),this.toastsSubject.next([...this.toasts])}clear(){this.toasts=[],this.toastsSubject.next([])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Uve(t,n){if(1&t&&(h(0,"div",56)(1,"span"),f(2,"\u26a0\ufe0f"),A(),f(3),A()),2&t){const e=Fe();S(3),Me(" ",e.errorMessage," ")}}function Qve(t,n){1&t&&Cn(0,"span",57)}function Hve(t,n){1&t&&(h(0,"span"),f(1,"\u{1f680} Sign In"),A())}let zve=(()=>{class t{constructor(e,i,r){this.authService=e,this.router=i,this.toastService=r,this.loginRequest={email:"",password:""},this.isLoading=!1,this.errorMessage=""}onLogin(){this.isLoading=!0,this.errorMessage="",this.authService.login(this.loginRequest).subscribe({next:()=>{this.toastService.show("Welcome to Smart Mobility Simulator!","success"),this.router.navigate(["/"])},error:e=>{this.isLoading=!1,this.errorMessage=e.error?.message||"Invalid email or password"}})}static{this.\u0275fac=function(i){return new(i||t)(wt(vb),wt(Ks),wt(t3))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-login"]],decls:77,vars:6,consts:[["loginForm","ngForm"],[1,"login-container"],[1,"sky-gradient"],[1,"sun"],[1,"cloud","cloud-1"],[1,"cloud","cloud-2"],[1,"cloud","cloud-3"],[1,"plane"],[1,"palm-tree","palm-left-1"],[1,"palm-tree","palm-left-2"],[1,"palm-tree","palm-left-3"],[1,"palm-tree","palm-right-1"],[1,"palm-tree","palm-right-2"],[1,"palm-tree","palm-right-3"],[1,"skyline"],[1,"building","b1"],[1,"building","b2"],[1,"building","b3"],[1,"building","b4"],[1,"building","b5","burj-khalifa"],[1,"building","b6"],[1,"building","b7"],[1,"building","b8"],[1,"building","b9"],[1,"water"],[1,"light","l1"],[1,"light","l2"],[1,"light","l3"],[1,"light","l4"],[1,"light","l5"],[1,"car"],[1,"login-card"],[1,"card-header"],[1,"logo-icon"],[1,"title"],[1,"subtitle"],[3,"ngSubmit"],[1,"input-group"],["for","email"],[1,"input-wrapper"],[1,"input-icon"],["type","email","id","email","name","email","required","","email","","placeholder","admin@smartmobility.ae",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit",1,"login-btn",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"card-footer"],[1,"demo-hint"],[1,"uae-flag"],[1,"flag-red"],[1,"flag-green"],[1,"flag-white"],[1,"flag-black"],[1,"wave"],[1,"error-message"],[1,"loading-spinner"]],template:function(i,r){if(1&i){const o=ti();h(0,"div",1),Cn(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),h(6,"div",7),f(7,"\u2708\ufe0f"),A(),h(8,"div",8),f(9,"\u{1f334}"),A(),h(10,"div",9),f(11,"\u{1f334}"),A(),h(12,"div",10),f(13,"\u{1f334}"),A(),h(14,"div",11),f(15,"\u{1f334}"),A(),h(16,"div",12),f(17,"\u{1f334}"),A(),h(18,"div",13),f(19,"\u{1f334}"),A(),h(20,"div",14),Cn(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"div",20)(27,"div",21)(28,"div",22)(29,"div",23),A(),Cn(30,"div",24)(31,"div",25)(32,"div",26)(33,"div",27)(34,"div",28)(35,"div",29),h(36,"div",30),f(37,"\u{1f697}"),A(),h(38,"div",31)(39,"div",32)(40,"div",33),f(41,"\u{1f6e3}\ufe0f"),A(),h(42,"h1",34),f(43,"Smart Mobility Simulator"),A(),h(44,"p",35),f(45,"UAE Congestion Pricing Analytics"),A()(),h(46,"form",36,0),it("ngSubmit",function(){return pt(o),gt(r.onLogin())}),h(48,"div",37)(49,"label",38),f(50,"Email Address"),A(),h(51,"div",39)(52,"span",40),f(53,"\u2709\ufe0f"),A(),h(54,"input",41),Bn("ngModelChange",function(a){return pt(o),Dn(r.loginRequest.email,a)||(r.loginRequest.email=a),gt(a)}),A()()(),h(55,"div",37)(56,"label",42),f(57,"Password"),A(),h(58,"div",39)(59,"span",40),f(60,"\u{1f512}"),A(),h(61,"input",43),Bn("ngModelChange",function(a){return pt(o),Dn(r.loginRequest.password,a)||(r.loginRequest.password=a),gt(a)}),A()()(),xt(62,Uve,4,1,"div",44),h(63,"button",45),xt(64,Qve,1,0,"span",46)(65,Hve,2,0,"span",47),A(),h(66,"div",48)(67,"p",49)(68,"span"),f(69,"\u{1f4a1}"),A(),f(70," For access, contact your system administrator "),A()()(),h(71,"div",50),Cn(72,"div",51)(73,"div",52)(74,"div",53)(75,"div",54),A()(),Cn(76,"div",55),A()}if(2&i){const o=S0(47);S(54),Mn("ngModel",r.loginRequest.email),S(7),Mn("ngModel",r.loginRequest.password),S(),ke("ngIf",r.errorMessage),S(),ke("disabled",r.isLoading||!o.valid),S(),ke("ngIf",r.isLoading),S(),ke("ngIf",!r.isLoading)}},dependencies:[cs,RC,va,Qa,PC,z0,wE,_a,H0],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;position:relative;overflow:hidden;background:linear-gradient(180deg,#1a1a2e,#16213e,#0f3460)}.sky-gradient[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60%;background:linear-gradient(180deg,#0d1b2a,#1b263b,#415a77 60%,#778da9,#e0e1dd);animation:_ngcontent-%COMP%_skyShift 20s ease-in-out infinite}@keyframes _ngcontent-%COMP%_skyShift{0%,to{opacity:1}50%{opacity:.8}}.sun[_ngcontent-%COMP%]{position:absolute;top:8%;right:15%;width:80px;height:80px;background:radial-gradient(circle,#ffd700 0%,#ff8c00 50%,transparent 70%);border-radius:50%;box-shadow:0 0 60px 30px #ffd70066;animation:_ngcontent-%COMP%_sunPulse 4s ease-in-out infinite}@keyframes _ngcontent-%COMP%_sunPulse{0%,to{transform:scale(1);box-shadow:0 0 60px 30px #ffd70066}50%{transform:scale(1.1);box-shadow:0 0 80px 40px #ffd70080}}.cloud[_ngcontent-%COMP%]{position:absolute;background:#fffc;border-radius:50px;animation:_ngcontent-%COMP%_cloudFloat 20s linear infinite}.cloud-1[_ngcontent-%COMP%]{width:100px;height:40px;top:15%;left:10%;animation-delay:0s}.cloud-2[_ngcontent-%COMP%]{width:80px;height:30px;top:20%;left:60%;animation-delay:-5s}.cloud-3[_ngcontent-%COMP%]{width:120px;height:45px;top:10%;left:40%;animation-delay:-10s}@keyframes _ngcontent-%COMP%_cloudFloat{0%{transform:translate(-100px)}to{transform:translate(calc(100vw + 100px))}}.plane[_ngcontent-%COMP%]{position:absolute;top:25%;left:-50px;font-size:32px;animation:_ngcontent-%COMP%_flyPlane 15s linear infinite}@keyframes _ngcontent-%COMP%_flyPlane{0%{left:-50px;transform:translateY(0)}25%{transform:translateY(-20px)}50%{transform:translateY(0)}75%{transform:translateY(20px)}to{left:calc(100% + 50px);transform:translateY(0)}}.palm-tree[_ngcontent-%COMP%]{position:absolute;bottom:28%;font-size:60px;filter:brightness(.3);animation:_ngcontent-%COMP%_palmSway 3s ease-in-out infinite}.palm-left-1[_ngcontent-%COMP%]{left:5%;animation-delay:0s}.palm-left-2[_ngcontent-%COMP%]{left:12%;font-size:45px;animation-delay:.5s}.palm-left-3[_ngcontent-%COMP%]{left:20%;font-size:35px;animation-delay:1s}.palm-right-1[_ngcontent-%COMP%]{right:5%;animation-delay:.3s}.palm-right-2[_ngcontent-%COMP%]{right:12%;font-size:50px;animation-delay:.8s}.palm-right-3[_ngcontent-%COMP%]{right:18%;font-size:40px;animation-delay:1.3s}@keyframes _ngcontent-%COMP%_palmSway{0%,to{transform:rotate(-2deg)}50%{transform:rotate(2deg)}}.skyline[_ngcontent-%COMP%]{position:absolute;bottom:28%;left:0;right:0;height:200px;display:flex;align-items:flex-end;justify-content:center;gap:3px;z-index:1}.building[_ngcontent-%COMP%]{background:linear-gradient(180deg,#1a1a2e,#0d0d1a);width:40px;position:relative}.building[_ngcontent-%COMP%]:before{content:\"\";position:absolute;inset:0;background:repeating-linear-gradient(0deg,transparent 0px,transparent 8px,rgba(255,215,0,.1) 8px,rgba(255,215,0,.1) 10px)}.b1[_ngcontent-%COMP%]{height:60px;width:35px}.b2[_ngcontent-%COMP%]{height:90px;width:30px}.b3[_ngcontent-%COMP%]{height:120px;width:40px}.b4[_ngcontent-%COMP%]{height:80px;width:35px}.burj-khalifa[_ngcontent-%COMP%]{height:200px;width:25px;background:linear-gradient(180deg,#1a1a2e,#0d0d1a);position:relative}.burj-khalifa[_ngcontent-%COMP%]:after{content:\"\";position:absolute;top:-20px;left:50%;transform:translate(-50%);width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:20px solid #1a1a2e}.b6[_ngcontent-%COMP%]{height:100px;width:35px}.b7[_ngcontent-%COMP%]{height:70px;width:40px}.b8[_ngcontent-%COMP%]{height:85px;width:30px}.b9[_ngcontent-%COMP%]{height:55px;width:35px}.water[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:28%;background:linear-gradient(180deg,#0077b6,#023e8a,#03045e);animation:_ngcontent-%COMP%_waterWave 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_waterWave{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.light[_ngcontent-%COMP%]{position:absolute;width:4px;height:4px;background:gold;border-radius:50%;animation:_ngcontent-%COMP%_lightTwinkle 2s ease-in-out infinite}.l1[_ngcontent-%COMP%]{bottom:35%;left:20%;animation-delay:0s}.l2[_ngcontent-%COMP%]{bottom:40%;left:40%;animation-delay:.5s}.l3[_ngcontent-%COMP%]{bottom:38%;left:60%;animation-delay:1s}.l4[_ngcontent-%COMP%]{bottom:42%;right:25%;animation-delay:.3s}.l5[_ngcontent-%COMP%]{bottom:36%;right:40%;animation-delay:.8s}@keyframes _ngcontent-%COMP%_lightTwinkle{0%,to{opacity:0;transform:scale(.5)}50%{opacity:1;transform:scale(1.5)}}.car[_ngcontent-%COMP%]{position:absolute;bottom:26%;left:-50px;font-size:24px;animation:_ngcontent-%COMP%_driveCar 12s linear infinite}@keyframes _ngcontent-%COMP%_driveCar{0%{left:-50px}to{left:calc(100% + 50px)}}.login-card[_ngcontent-%COMP%]{position:relative;z-index:10;background:#ffffff1a;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.2);border-radius:24px;padding:48px 40px;width:100%;max-width:440px;margin:0 auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:0 25px 50px -12px #00000080}.card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.logo-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:12px;display:inline-block;animation:_ngcontent-%COMP%_logoFloat 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_logoFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}.title[_ngcontent-%COMP%]{font-size:26px;font-weight:700;color:#fff;margin:0 0 8px;text-shadow:0 2px 4px rgba(0,0,0,.3)}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#ffffffb3;margin:0}.input-group[_ngcontent-%COMP%]{margin-bottom:20px}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:13px;font-weight:600;color:#ffffffe6;margin-bottom:8px}.input-wrapper[_ngcontent-%COMP%]{position:relative}.input-icon[_ngcontent-%COMP%]{position:absolute;left:14px;top:50%;transform:translateY(-50%);font-size:16px}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 14px 14px 44px;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:12px;color:#fff;font-size:15px;transition:all .3s ease}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff6}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#00d4ff;background:#ffffff26;box-shadow:0 0 0 3px #00d4ff33}.error-message[_ngcontent-%COMP%]{background:#ef444433;border:1px solid rgba(239,68,68,.4);border-radius:10px;padding:12px 16px;color:#fca5a5;font-size:14px;margin-bottom:20px;display:flex;align-items:center;gap:8px}.login-btn[_ngcontent-%COMP%]{width:100%;padding:16px;background:linear-gradient(135deg,#00d4ff,#0077b6);border:none;border-radius:12px;color:#fff;font-size:16px;font-weight:700;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 30px #00d4ff66}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.card-footer[_ngcontent-%COMP%]{margin-top:24px;text-align:center}.demo-hint[_ngcontent-%COMP%]{background:#00d4ff1a;border:1px solid rgba(0,212,255,.3);border-radius:8px;padding:10px 14px;color:#fffc;font-size:13px;display:flex;align-items:center;justify-content:center;gap:8px}.register-link[_ngcontent-%COMP%]{background:none;border:none;color:#ffffffb3;font-size:14px;margin-top:16px;cursor:pointer;text-decoration:underline}.register-link[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#00d4ff;font-weight:600}.register-link[_ngcontent-%COMP%]:hover{color:#fff}.uae-flag[_ngcontent-%COMP%]{position:absolute;bottom:-30px;left:50%;transform:translate(-50%);display:flex;height:8px;width:80px;border-radius:4px;overflow:hidden}.flag-red[_ngcontent-%COMP%], .flag-green[_ngcontent-%COMP%], .flag-white[_ngcontent-%COMP%], .flag-black[_ngcontent-%COMP%]{flex:1}.flag-red[_ngcontent-%COMP%]{background:#e61e25}.flag-green[_ngcontent-%COMP%]{background:#00732f}.flag-white[_ngcontent-%COMP%]{background:#fff}.flag-black[_ngcontent-%COMP%]{background:#000}.wave[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:30px;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120'%3E%3Cpath fill='%23023e8a' d='M0,60 C300,120 600,0 900,60 C1200,120 1200,120 1200,120 L1200,0 L0,0 Z'/%3E%3C/svg%3E\");background-size:cover}"]})}}return t})();function Vve(t,n){1&t&&(h(0,"span"),f(1,"Creating..."),A())}function jve(t,n){1&t&&(h(0,"span"),f(1,"Create User"),A())}function Gve(t,n){1&t&&(h(0,"div",23),f(1,"Loading users..."),A())}function Kve(t,n){1&t&&(h(0,"div",24),f(1," No users found. Create your first user above. "),A())}function Wve(t,n){if(1&t){const e=ti();h(0,"button",35),it("click",function(){pt(e);const r=Fe().$implicit;return gt(Fe(2).deactivateUser(r.id))}),f(1," \u26d4 "),A()}}function $ve(t,n){if(1&t){const e=ti();h(0,"button",36),it("click",function(){pt(e);const r=Fe().$implicit;return gt(Fe(2).activateUser(r.id))}),f(1," \u2705 "),A()}}function qve(t,n){if(1&t){const e=ti();h(0,"tr")(1,"td",27)(2,"div",28),f(3),A(),f(4),A(),h(5,"td"),f(6),A(),h(7,"td")(8,"span",29),f(9),A()(),h(10,"td")(11,"span",30),f(12),A()(),h(13,"td"),f(14),jt(15,"date"),A(),h(16,"td"),f(17),jt(18,"date"),A(),h(19,"td",31),xt(20,Wve,2,0,"button",32)(21,$ve,2,0,"button",33),h(22,"button",34),it("click",function(){const r=pt(e).$implicit;return gt(Fe(2).deleteUser(r.id))}),f(23," \u{1f5d1}\ufe0f "),A()()()}if(2&t){const e=n.$implicit;S(3),Wo(" ",e.firstName.charAt(0),"",e.lastName.charAt(0)," "),S(),Wo(" ",e.firstName," ",e.lastName," "),S(2),lt(e.email),S(2),C_(e.role.toLowerCase()),S(),Me(" ",e.role," "),S(2),Un("active",e.isActive),S(),Me(" ",e.isActive?"Active":"Inactive"," "),S(2),lt(wn(15,15,e.createdAt,"dd/MM/yyyy")),S(3),Me(" ",e.lastLoginAt?wn(18,18,e.lastLoginAt,"dd/MM/yyyy HH:mm"):"Never"," "),S(3),ke("ngIf",e.isActive),S(),ke("ngIf",!e.isActive)}}function Zve(t,n){if(1&t&&(h(0,"table",25)(1,"thead")(2,"tr")(3,"th"),f(4,"Name"),A(),h(5,"th"),f(6,"Email"),A(),h(7,"th"),f(8,"Role"),A(),h(9,"th"),f(10,"Status"),A(),h(11,"th"),f(12,"Created"),A(),h(13,"th"),f(14,"Last Login"),A(),h(15,"th"),f(16,"Actions"),A()()(),h(17,"tbody"),xt(18,qve,24,21,"tr",26),A()()),2&t){const e=Fe();S(18),ke("ngForOf",e.users)}}let Yve=(()=>{class t{constructor(e,i,r){this.http=e,this.toastService=i,this.authService=r,this.apiUrl=`${Uu()}/api/auth`,this.users=[],this.isLoading=!1,this.isCreating=!1,this.newUser={email:"",password:"",firstName:"",lastName:"",role:"Viewer"}}ngOnInit(){this.loadUsers()}loadUsers(){this.isLoading=!0,this.http.get(`${this.apiUrl}/users`).subscribe({next:e=>{this.users=e,this.isLoading=!1},error:e=>{this.isLoading=!1,this.toastService.show(e.error?.message||"Failed to load users","error")}})}createUser(){this.isCreating=!0,this.http.post(`${this.apiUrl}/register`,this.newUser).subscribe({next:()=>{this.toastService.show("User created successfully!","success"),this.newUser={email:"",password:"",firstName:"",lastName:"",role:"Viewer"},this.isCreating=!1,this.loadUsers()},error:e=>{this.isCreating=!1,this.toastService.show(e.error?.message||"Failed to create user","error")}})}activateUser(e){this.http.put(`${this.apiUrl}/users/${e}/status`,{isActive:!0}).subscribe({next:()=>{this.toastService.show("User activated!","success"),this.loadUsers()},error:i=>{this.toastService.show(i.error?.message||"Failed to activate user","error")}})}deactivateUser(e){this.http.put(`${this.apiUrl}/users/${e}/status`,{isActive:!1}).subscribe({next:()=>{this.toastService.show("User deactivated!","success"),this.loadUsers()},error:i=>{this.toastService.show(i.error?.message||"Failed to deactivate user","error")}})}deleteUser(e){confirm("Are you sure you want to delete this user?")&&this.http.delete(`${this.apiUrl}/users/${e}`).subscribe({next:()=>{this.toastService.show("User deleted!","success"),this.loadUsers()},error:i=>{this.toastService.show(i.error?.message||"Failed to delete user","error")}})}static{this.\u0275fac=function(i){return new(i||t)(wt($c),wt(t3),wt(vb))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-user-management"]],standalone:!0,features:[Vc],decls:55,vars:11,consts:[["createForm","ngForm"],[1,"user-management"],[1,"page-header"],[1,"create-user-card"],[1,"create-form",3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["type","text","name","firstName","required","","placeholder","John",3,"ngModelChange","ngModel"],["type","text","name","lastName","required","","placeholder","Doe",3,"ngModelChange","ngModel"],["type","email","name","email","required","","placeholder","john@authority.ae",3,"ngModelChange","ngModel"],["type","password","name","password","required","","minlength","6","placeholder","Min 6 characters",3,"ngModelChange","ngModel"],["name","role","required","",3,"ngModelChange","ngModel"],["value","Viewer"],["value","Editor"],["value","Admin"],["type","submit",1,"create-btn",3,"disabled"],[4,"ngIf"],[1,"users-list-card"],[1,"card-header"],[1,"refresh-btn",3,"click"],["class","loading",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","users-table",4,"ngIf"],[1,"loading"],[1,"empty-state"],[1,"users-table"],[4,"ngFor","ngForOf"],[1,"user-name"],[1,"avatar"],[1,"role-badge"],[1,"status-badge"],[1,"actions"],["class","action-btn deactivate","title","Deactivate",3,"click",4,"ngIf"],["class","action-btn activate","title","Activate",3,"click",4,"ngIf"],["title","Delete",1,"action-btn","delete",3,"click"],["title","Deactivate",1,"action-btn","deactivate",3,"click"],["title","Activate",1,"action-btn","activate",3,"click"]],template:function(i,r){if(1&i){const o=ti();h(0,"div",1)(1,"div",2)(2,"h1"),f(3,"\u{1f465} User Management"),A(),h(4,"p"),f(5,"Manage system users and their roles"),A()(),h(6,"div",3)(7,"h2"),f(8,"\u2795 Create New User"),A(),h(9,"form",4,0),it("ngSubmit",function(){return pt(o),gt(r.createUser())}),h(11,"div",5)(12,"div",6)(13,"label"),f(14,"First Name"),A(),h(15,"input",7),Bn("ngModelChange",function(a){return pt(o),Dn(r.newUser.firstName,a)||(r.newUser.firstName=a),gt(a)}),A()(),h(16,"div",6)(17,"label"),f(18,"Last Name"),A(),h(19,"input",8),Bn("ngModelChange",function(a){return pt(o),Dn(r.newUser.lastName,a)||(r.newUser.lastName=a),gt(a)}),A()()(),h(20,"div",5)(21,"div",6)(22,"label"),f(23,"Email"),A(),h(24,"input",9),Bn("ngModelChange",function(a){return pt(o),Dn(r.newUser.email,a)||(r.newUser.email=a),gt(a)}),A()(),h(25,"div",6)(26,"label"),f(27,"Password"),A(),h(28,"input",10),Bn("ngModelChange",function(a){return pt(o),Dn(r.newUser.password,a)||(r.newUser.password=a),gt(a)}),A()()(),h(29,"div",5)(30,"div",6)(31,"label"),f(32,"Role"),A(),h(33,"select",11),Bn("ngModelChange",function(a){return pt(o),Dn(r.newUser.role,a)||(r.newUser.role=a),gt(a)}),h(34,"option",12),f(35,"Viewer"),A(),h(36,"option",13),f(37,"Editor"),A(),h(38,"option",14),f(39,"Admin"),A()()(),h(40,"div",6)(41,"label"),f(42,"\xa0"),A(),h(43,"button",15),xt(44,Vve,2,0,"span",16)(45,jve,2,0,"span",16),A()()()()(),h(46,"div",17)(47,"div",18)(48,"h2"),f(49,"\u{1f4cb} Existing Users"),A(),h(50,"button",19),it("click",function(){return pt(o),gt(r.loadUsers())}),f(51,"\u{1f504} Refresh"),A()(),xt(52,Gve,2,0,"div",20)(53,Kve,2,0,"div",21)(54,Zve,19,1,"table",22),A()()}if(2&i){const o=S0(10);S(15),Mn("ngModel",r.newUser.firstName),S(4),Mn("ngModel",r.newUser.lastName),S(5),Mn("ngModel",r.newUser.email),S(4),Mn("ngModel",r.newUser.password),S(5),Mn("ngModel",r.newUser.role),S(10),ke("disabled",r.isCreating||!o.valid),S(),ke("ngIf",r.isCreating),S(),ke("ngIf",!r.isCreating),S(7),ke("ngIf",r.isLoading),S(),ke("ngIf",!r.isLoading&&0===r.users.length),S(),ke("ngIf",!r.isLoading&&r.users.length>0)}},dependencies:[ku,ls,cs,lS,Cf,RC,Hd,zd,va,Nu,Qa,PC,z0,CE,_a,H0],styles:[".user-management[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;color:#1e293b;margin:0 0 .5rem}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0}.create-user-card[_ngcontent-%COMP%], .users-list-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;box-shadow:0 4px 6px -1px #0000001a;margin-bottom:2rem}.create-user-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .users-list-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;color:#1e293b;margin:0 0 1.5rem}.create-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem}.form-group[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#475569}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #e2e8f0;border-radius:8px;font-size:.95rem;transition:border-color .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#0d47a1}.create-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:linear-gradient(135deg,#0d47a1,#1565c0);color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:transform .2s,box-shadow .2s}.create-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #0d47a14d}.create-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.refresh-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#f1f5f9;border:1px solid #e2e8f0;border-radius:8px;cursor:pointer;transition:background .2s}.refresh-btn[_ngcontent-%COMP%]:hover{background:#e2e8f0}.users-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.users-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .users-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #e2e8f0}.users-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#64748b;font-size:.875rem;text-transform:uppercase}.users-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#1e293b}.user-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#0d47a1,#1565c0);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.875rem}.role-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:600}.role-badge.admin[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.role-badge.editor[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.role-badge.viewer[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:600;background:#fee2e2;color:#991b1b}.status-badge.active[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:6px;cursor:pointer;font-size:1rem;transition:background .2s}.action-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9}.action-btn.delete[_ngcontent-%COMP%]:hover{background:#fee2e2}.loading[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#64748b}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{flex-direction:column}.users-table[_ngcontent-%COMP%]{font-size:.875rem}.users-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .users-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}"]})}}return t})(),Ca=(()=>{class t{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return!!this.authService.isLoggedIn()||(this.router.navigate(["/login"],{queryParams:{returnUrl:i.url}}),!1)}static{this.\u0275fac=function(i){return new(i||t)(cn(vb),cn(Ks))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Xve=[{path:"",component:xle,canActivate:[Ca]},{path:"login",component:zve},{path:"uae-facts",component:The,canActivate:[Ca]},{path:"authority-selection",component:Vhe,canActivate:[Ca]},{path:"authority-report",component:qhe,canActivate:[Ca]},{path:"authority-comparison",component:rfe,canActivate:[Ca]},{path:"zone-editor",component:mfe,canActivate:[Ca]},{path:"pilot-proposal",component:Yde,canActivate:[Ca]},{path:"business-case",component:rhe,canActivate:[Ca]},{path:"pitch-deck",component:She,canActivate:[Ca]},{path:"business-admin-guide",component:vfe,canActivate:[Ca]},{path:"technical-architecture-guide",component:_fe,canActivate:[Ca]},{path:"wizard",component:Cz,canActivate:[Ca]},{path:"comparison",component:xz,canActivate:[Ca]},{path:"roi-calculator",component:Mz,canActivate:[Ca]},{path:"mobile-preview",component:Bz,canActivate:[Ca]},{path:"audit-trail",component:Dz,canActivate:[Ca]},{path:"user-management",component:Yve,canActivate:[Ca]}];let Jve=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ws({type:t})}static{this.\u0275inj=jn({imports:[tU.forRoot(Xve),tU]})}}return t})(),Sz=(()=>{class t{constructor(){this.darkModeSubject=new Vn(!1),this.darkMode$=this.darkModeSubject.asObservable();const e=localStorage.getItem("theme");if(e)this.darkModeSubject.next("dark"===e);else{const i=window.matchMedia("(prefers-color-scheme: dark)").matches;this.darkModeSubject.next(i)}this.applyTheme(this.darkModeSubject.value)}toggle(){const e=!this.darkModeSubject.value;this.darkModeSubject.next(e),this.applyTheme(e),localStorage.setItem("theme",e?"dark":"light")}applyTheme(e){e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}isDarkMode(){return this.darkModeSubject.value}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function e_e(t,n){1&t&&(h(0,"span"),f(1,"\u2713"),A())}function t_e(t,n){1&t&&(h(0,"span"),f(1,"\u2715"),A())}function n_e(t,n){1&t&&(h(0,"span"),f(1,"\u26a0"),A())}function i_e(t,n){1&t&&(h(0,"span"),f(1,"\u2139"),A())}function r_e(t,n){if(1&t){const e=ti();h(0,"div",2),it("click",function(){const r=pt(e).$implicit;return gt(Fe().dismiss(r.id))}),h(1,"span",3),M_(2,4),xt(3,e_e,2,0,"span",5)(4,t_e,2,0,"span",5)(5,n_e,2,0,"span",5)(6,i_e,2,0,"span",5),B_(),A(),h(7,"span",6),f(8),A()()}if(2&t){const e=n.$implicit;ke("ngClass","toast-"+e.type),S(2),ke("ngSwitch",e.type),S(),ke("ngSwitchCase","success"),S(),ke("ngSwitchCase","error"),S(),ke("ngSwitchCase","warning"),S(),ke("ngSwitchCase","info"),S(2),lt(e.message)}}let Ez=(()=>{class t{constructor(e){this.toastService=e,this.toasts=[]}ngOnInit(){this.subscription=this.toastService.toasts$.subscribe(e=>{this.toasts=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}dismiss(e){this.toastService.remove(e)}static{this.\u0275fac=function(i){return new(i||t)(wt(t3))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-toast"]],standalone:!0,features:[Vc],decls:2,vars:1,consts:[[1,"toast-container"],["class","toast",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"toast",3,"click","ngClass"],[1,"toast-icon"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"toast-message"]],template:function(i,r){1&i&&(h(0,"div",0),xt(1,r_e,9,7,"div",1),A()),2&i&&(S(),ke("ngForOf",r.toasts))},dependencies:[ku,e8,ls,oC,r8],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:10px;max-width:400px}.toast[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px 20px;border-radius:8px;box-shadow:0 4px 12px #00000026;cursor:pointer;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.toast-success[_ngcontent-%COMP%]{background:#10b981;color:#fff}.toast-error[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.toast-warning[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.toast-info[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.toast-icon[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.toast-message[_ngcontent-%COMP%]{flex:1;font-size:14px}"]})}}return t})(),Pz=(()=>{class t{constructor(){this.loadingSubject=new Vn(!1),this.loading$=this.loadingSubject.asObservable(),this.loadingCount=0,this.requests=new Set}show(e){e&&this.requests.add(e),this.loadingCount++,this.loadingSubject.next(!0)}hide(e){e&&this.requests.delete(e),this.loadingCount=Math.max(0,this.loadingCount-1),0===this.loadingCount&&this.loadingSubject.next(!1)}hideAll(){this.loadingCount=0,this.requests.clear(),this.loadingSubject.next(!1)}isLoading(){return this.loadingSubject.value}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function o_e(t,n){1&t&&(h(0,"div",1)(1,"div",2),Cn(2,"div",3),h(3,"p",4),f(4,"Loading..."),A()()())}let Iz=(()=>{class t{constructor(e){this.loadingService=e,this.isLoading=!1}ngOnInit(){this.subscription=this.loadingService.loading$.subscribe(e=>this.isLoading=e)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(wt(Pz))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-loading-spinner"]],standalone:!0,features:[Vc],decls:1,vars:1,consts:[["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"],[1,"spinner-container"],[1,"spinner"],[1,"loading-text"]],template:function(i,r){1&i&&xt(0,o_e,5,0,"div",0),2&i&&ke("ngIf",r.isLoading)},dependencies:[ku,cs],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.spinner-container[_ngcontent-%COMP%]{text-align:center}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{color:#fff;margin-top:16px;font-size:14px;font-weight:500}"]})}}return t})();const s_e={common:{appName:"Smart Mobility Simulator",loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",search:"Search",filter:"Filter",export:"Export",import:"Import",refresh:"Refresh",back:"Back",next:"Next",previous:"Previous",submit:"Submit",reset:"Reset",confirm:"Confirm",yes:"Yes",no:"No",success:"Success",error:"Error",warning:"Warning",info:"Information"},auth:{login:"Login",logout:"Logout",register:"Register",email:"Email",password:"Password",confirmPassword:"Confirm Password",firstName:"First Name",lastName:"Last Name",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",rememberMe:"Remember Me",loginTitle:"Sign In to Smart Mobility Simulator",welcomeBack:"Welcome back! Please sign in to continue.",invalidCredentials:"Invalid email or password",accountLocked:"Account is locked",passwordChanged:"Password changed successfully",passwordResetSent:"Password reset link sent to your email"},nav:{home:"Home",zones:"Zones",simulations:"Simulations",reports:"Reports",settings:"Settings",userManagement:"User Management",profile:"Profile"},zones:{title:"Traffic Zones",addZone:"Add Zone",editZone:"Edit Zone",zoneName:"Zone Name",emirate:"Emirate",zoneType:"Zone Type",chargePerHour:"Charge per Hour (AED)",residential:"Residential",commercial:"Commercial",mixed:"Mixed Use",peakHour:"Peak Hour"},simulation:{title:"Simulation",run:"Run Simulation",stop:"Stop",results:"Results",parameters:"Parameters",totalVehicles:"Total Vehicles",vehiclesDiverted:"Vehicles Diverted",congestionReduction:"Congestion Reduction",estimatedRevenue:"Estimated Revenue",equityImpact:"Equity Impact"},dashboard:{title:"Dashboard",overview:"Overview",statistics:"Statistics",recentActivity:"Recent Activity"},user:{title:"Users",addUser:"Add User",editUser:"Edit User",role:"Role",status:"Status",active:"Active",inactive:"Inactive",admin:"Admin",editor:"Editor",viewer:"Viewer",createdAt:"Created At",lastLogin:"Last Login"}},a_e={common:{appName:"\u0645\u062d\u0627\u0643\u064a \u0627\u0644\u062a\u0646\u0642\u0644 \u0627\u0644\u0630\u0643\u064a",loading:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",delete:"\u062d\u0630\u0641",edit:"\u062a\u0639\u062f\u064a\u0644",add:"\u0625\u0636\u0627\u0641\u0629",search:"\u0628\u062d\u062b",filter:"\u062a\u0635\u0641\u064a\u0629",export:"\u062a\u0635\u062f\u064a\u0631",import:"\u0627\u0633\u062a\u064a\u0631\u0627\u062f",refresh:"\u062a\u062d\u062f\u064a\u062b",back:"\u0631\u062c\u0648\u0639",next:"\u0627\u0644\u062a\u0627\u0644\u064a",previous:"\u0627\u0644\u0633\u0627\u0628\u0642",submit:"\u0625\u0631\u0633\u0627\u0644",reset:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646",confirm:"\u062a\u0623\u0643\u064a\u062f",yes:"\u0646\u0639\u0645",no:"\u0644\u0627",success:"\u0646\u062c\u0627\u062d",error:"\u062e\u0637\u0623",warning:"\u062a\u062d\u0630\u064a\u0631",info:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a"},auth:{login:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644",logout:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c",register:"\u062a\u0633\u062c\u064a\u0644",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",confirmPassword:"\u062a\u0623\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",firstName:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644",lastName:"\u0627\u0633\u0645 \u0627\u0644\u0639\u0627\u0626\u0644\u0629",forgotPassword:"\u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061f",resetPassword:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",changePassword:"\u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",currentPassword:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062d\u0627\u0644\u064a\u0629",newPassword:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629",rememberMe:"\u062a\u0630\u0643\u0631\u0646\u064a",loginTitle:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0625\u0644\u0649 \u0645\u062d\u0627\u0643\u064a \u0627\u0644\u062a\u0646\u0642\u0644 \u0627\u0644\u0630\u0643\u064a",welcomeBack:"\u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0639\u0648\u062f\u062a\u0643! \u064a\u0631\u062c\u0649 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0644\u0644\u0645\u062a\u0627\u0628\u0639\u0629.",invalidCredentials:"\u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0623\u0648 \u0643\u0644\u0645\u0629 \u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629",accountLocked:"\u0627\u0644\u062d\u0633\u0627\u0628 \u0645\u0642\u0641\u0644",passwordChanged:"\u062a\u0645 \u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0628\u0646\u062c\u0627\u062d",passwordResetSent:"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0631\u0627\u0628\u0637 \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0625\u0644\u0649 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"},nav:{home:"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629",zones:"\u0627\u0644\u0645\u0646\u0627\u0637\u0642",simulations:"\u0627\u0644\u0645\u062d\u0627\u0643\u0627\u0629",reports:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",settings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",userManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",profile:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a"},zones:{title:"\u0645\u0646\u0627\u0637\u0642 \u0627\u0644\u0645\u0631\u0648\u0631",addZone:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u0637\u0642\u0629",editZone:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0646\u0637\u0642\u0629",zoneName:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u0637\u0642\u0629",emirate:"\u0627\u0644\u0625\u0645\u0627\u0631\u0629",zoneType:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0646\u0637\u0642\u0629",chargePerHour:"\u0627\u0644\u0631\u0633\u0648\u0645 \u0644\u0643\u0644 \u0633\u0627\u0639\u0629 (\u062f\u0631\u0647\u0645)",residential:"\u0633\u0643\u0646\u064a",commercial:"\u062a\u062c\u0627\u0631\u064a",mixed:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0645\u062e\u062a\u0644\u0637",peakHour:"\u0633\u0627\u0639\u0629 \u0627\u0644\u0630\u0631\u0648\u0629"},simulation:{title:"\u0627\u0644\u0645\u062d\u0627\u0643\u0627\u0629",run:"\u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0645\u062d\u0627\u0643\u0627\u0629",stop:"\u0625\u064a\u0642\u0627\u0641",results:"\u0627\u0644\u0646\u062a\u0627\u0626\u062c",parameters:"\u0627\u0644\u0645\u0639\u0644\u0645\u0627\u062a",totalVehicles:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0631\u0643\u0628\u0627\u062a",vehiclesDiverted:"\u0627\u0644\u0645\u0631\u0643\u0628\u0627\u062a \u0627\u0644\u0645\u062a\u062c\u0627\u0648\u0632\u0629",congestionReduction:"\u062a\u0642\u0644\u064a\u0644 \u0627\u0644\u0627\u0632\u062f\u062d\u0627\u0645",estimatedRevenue:"\u0627\u0644\u0625\u064a\u0631\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u0642\u062f\u0631\u0629",equityImpact:"\u0627\u0644\u062a\u0623\u062b\u064a\u0631 \u0639\u0644\u0649 \u0627\u0644\u0639\u062f\u0627\u0644\u0629"},dashboard:{title:"\u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a",overview:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629",statistics:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",recentActivity:"\u0627\u0644\u0646\u0634\u0627\u0637 \u0627\u0644\u0623\u062e\u064a\u0631"},user:{title:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646",addUser:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645",editUser:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",role:"\u0627\u0644\u062f\u0648\u0631",status:"\u0627\u0644\u062d\u0627\u0644\u0629",active:"\u0646\u0634\u0637",inactive:"\u063a\u064a\u0631 \u0646\u0634\u0637",admin:"\u0645\u062f\u064a\u0631",editor:"\u0645\u062d\u0631\u0631",viewer:"\u0645\u0634\u0627\u0647\u062f",createdAt:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621",lastLogin:"\u0622\u062e\u0631 \u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644"}};let l_e=(()=>{class t{constructor(){this.currentLanguage=new Vn("en"),this.translations={en:s_e,ar:a_e};const e=localStorage.getItem("language");e&&this.translations[e]&&this.currentLanguage.next(e)}getLanguage(){return this.currentLanguage.asObservable()}getCurrentLanguage(){return this.currentLanguage.value}setLanguage(e){this.translations[e]&&(this.currentLanguage.next(e),localStorage.setItem("language",e),document.documentElement.dir="ar"===e?"rtl":"ltr",document.documentElement.lang=e)}t(e){const i=this.currentLanguage.value,r=e.split(".");let o=this.translations[i];for(const s of r){if(!o||"object"!=typeof o||!(s in o)){o=this.translations.en;for(const a of r){if(!o||"object"!=typeof o||!(a in o))return e;o=o[a]}break}o=o[s]}return"string"==typeof o?o:e}getAvailableLanguages(){return[{code:"en",name:"English"},{code:"ar",name:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"}]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function c_e(t,n){if(1&t&&(h(0,"option",3),f(1),A()),2&t){const e=n.$implicit;ke("value",e.code),S(),Me(" ",e.name," ")}}let Oz=(()=>{class t{constructor(e){this.i18n=e,this.currentLanguage="en",this.languages=[]}ngOnInit(){this.languages=this.i18n.getAvailableLanguages(),this.i18n.getLanguage().subscribe(e=>{this.currentLanguage=e})}onLanguageChange(e){this.i18n.setLanguage(e.target.value)}static{this.\u0275fac=function(i){return new(i||t)(wt(l_e))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-language-switcher"]],standalone:!0,features:[Vc],decls:3,vars:2,consts:[[1,"language-switcher"],["aria-label","Select language",1,"language-select",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(h(0,"div",0)(1,"select",1),it("change",function(s){return r.onLanguageChange(s)}),xt(2,c_e,2,2,"option",2),A()()),2&i&&(S(),ke("value",r.currentLanguage),S(),ke("ngForOf",r.languages))},dependencies:[ku,ls],styles:[".language-switcher[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.language-select[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(255,255,255,.3);color:#fff;padding:.5rem 1rem;border-radius:4px;cursor:pointer;font-size:.875rem;transition:all .2s ease}.language-select[_ngcontent-%COMP%]:hover{border-color:#fff9;background:#ffffff1a}.language-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#10b981;box-shadow:0 0 0 2px #10b98133}.language-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#1f2937;color:#fff}"]})}}return t})(),u_e=(()=>{class t{constructor(e){this.themeService=e,this.isDark$=this.themeService.darkMode$}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)(wt(Sz))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-footer"]],decls:67,vars:4,consts:[[1,"main-footer"],[1,"footer-content"],[1,"footer-brand"],[1,"brand-text"],[1,"brand-name"],[1,"brand-tagline"],[1,"footer-links"],[1,"link-group"],["routerLink","/home"],["routerLink","/zone-map"],["routerLink","/simulation-controls"],["routerLink","/results-dashboard"],["routerLink","/pilot-proposal"],["routerLink","/pitch-deck"],["routerLink","/business-case"],["routerLink","/authority-report"],["routerLink","/uae-facts-dashboard"],["routerLink","/demo-mode"],["routerLink","/zone-editor"],["routerLink","/authority-selection"],["href","/assets/docs/technical-architecture-guide.pdf","target","_blank"],["href","/assets/docs/business-administrative-guide.pdf","target","_blank"],[1,"footer-bottom"],[1,"disclaimer"],[1,"footer-info"],[1,"version"],[1,"separator"],[1,"copyright"],[1,"uae-themed"]],template:function(i,r){1&i&&(h(0,"footer",0),jt(1,"async"),h(2,"div",1)(3,"div",2)(4,"div",3)(5,"span",4),f(6,"Smart Mobility Simulator"),A(),h(7,"span",5),f(8,"UAE Congestion Pricing Decision Support"),A()()(),h(9,"div",6)(10,"div",7)(11,"h4"),f(12,"Navigation"),A(),h(13,"a",8),f(14,"Home"),A(),h(15,"a",9),f(16,"Zone Map"),A(),h(17,"a",10),f(18,"Simulation"),A(),h(19,"a",11),f(20,"Results"),A()(),h(21,"div",7)(22,"h4"),f(23,"Reports"),A(),h(24,"a",12),f(25,"Pilot Proposal"),A(),h(26,"a",13),f(27,"Pitch Deck"),A(),h(28,"a",14),f(29,"Business Case"),A(),h(30,"a",15),f(31,"Authority Report"),A()(),h(32,"div",7)(33,"h4"),f(34,"Resources"),A(),h(35,"a",16),f(36,"UAE Facts"),A(),h(37,"a",17),f(38,"Demo Mode"),A(),h(39,"a",18),f(40,"Zone Editor"),A(),h(41,"a",19),f(42,"Authorities"),A()(),h(43,"div",7)(44,"h4"),f(45,"Documentation"),A(),h(46,"a",20),f(47,"Technical Guide"),A(),h(48,"a",21),f(49,"Business Guide"),A()()(),h(50,"div",22)(51,"div",23)(52,"p")(53,"strong"),f(54,"Disclaimer:"),A(),f(55," This is a decision-support simulator. Outputs are estimates intended for planning purposes; real-world outcomes require pilot validation and official modeling. "),A()(),h(56,"div",24)(57,"span",25),f(58,"Version 1.0"),A(),h(59,"span",26),f(60,"|"),A(),h(61,"span",27),f(62,"\xa9 2026 Smart Mobility Simulator"),A(),h(63,"span",26),f(64,"|"),A(),h(65,"span",28),f(66,"UAE \u{1f1e6}\u{1f1ea}"),A()()()()()),2&i&&Un("dark",Br(1,2,r.isDark$))},dependencies:[n1,aS],styles:[".main-footer[_ngcontent-%COMP%]{background:linear-gradient(180deg,#0d47a10d,#0d47a11a);border-top:1px solid rgba(13,71,161,.1);padding:3rem 2rem 1.5rem;margin-top:auto}.dark[_nghost-%COMP%]   .main-footer[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .main-footer[_ngcontent-%COMP%]{background:linear-gradient(180deg,#0f172acc,#0f172ae6);border-top-color:#ffffff14}.footer-content[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}.footer-brand[_ngcontent-%COMP%]{margin-bottom:2rem}.brand-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.brand-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;background:linear-gradient(135deg,#0d47a1,#f59e0b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.brand-tagline[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.dark[_nghost-%COMP%]   .brand-tagline[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .brand-tagline[_ngcontent-%COMP%]{color:#94a3b8}.footer-links[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:2rem;margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid rgba(13,71,161,.1)}.dark[_nghost-%COMP%]   .footer-links[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .footer-links[_ngcontent-%COMP%]{border-bottom-color:#ffffff14}.link-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#0d47a1;margin-bottom:.75rem;text-transform:uppercase;letter-spacing:.05em}.dark[_nghost-%COMP%]   .link-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .link-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#60a5fa}.link-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#475569;text-decoration:none;padding:.25rem 0;transition:color .2s ease}.dark[_nghost-%COMP%]   .link-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .link-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#94a3b8}.link-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f59e0b}.footer-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.disclaimer[_ngcontent-%COMP%]{padding:1rem;background:#f59e0b1a;border-radius:8px;border-left:3px solid #f59e0b}.dark[_nghost-%COMP%]   .disclaimer[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .disclaimer[_ngcontent-%COMP%]{background:#f59e0b0d}.disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;margin:0;line-height:1.5}.dark[_nghost-%COMP%]   .disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}.footer-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;font-size:.75rem;color:#94a3b8}.separator[_ngcontent-%COMP%]{color:#cbd5e1}.version[_ngcontent-%COMP%]{font-weight:600;color:#0d47a1}.dark[_nghost-%COMP%]   .version[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .version[_ngcontent-%COMP%]{color:#60a5fa}.uae-themed[_ngcontent-%COMP%]{color:#f59e0b}@media (max-width: 768px){.footer-links[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.footer-info[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;text-align:center}}"]})}}return t})();const A_e=()=>({exact:!0});function d_e(t,n){if(1&t){const e=ti();h(0,"div",29)(1,"button",30)(2,"div",31),f(3),A(),h(4,"div",32)(5,"span",33),f(6),A(),h(7,"span",34),f(8),A()(),h(9,"span",35),f(10,"\u25bc"),A()(),h(11,"div",36)(12,"div",37)(13,"div",38),f(14),A(),h(15,"div",39)(16,"strong"),f(17),A(),h(18,"span"),f(19),A(),h(20,"span",40),f(21),A()()(),Cn(22,"div",41),h(23,"a",42),it("click",function(){return pt(e),gt(Fe(2).authService.logout())}),h(24,"span"),f(25,"\u{1f6aa}"),A(),f(26," Logout "),A()()()}if(2&t){const e=n.ngIf;S(3),Wo(" ",e.firstName.charAt(0),"",e.lastName.charAt(0)," "),S(3),Wo("",e.firstName," ",e.lastName,""),S(2),lt(e.role),S(6),Wo(" ",e.firstName.charAt(0),"",e.lastName.charAt(0)," "),S(3),Wo("",e.firstName," ",e.lastName,""),S(2),lt(e.email),S(2),lt(e.role)}}function h_e(t,n){if(1&t&&(M_(0),h(1,"nav",2)(2,"div",3)(3,"div",4),f(4,"\u{1f6e3}\ufe0f"),A(),h(5,"span",5),f(6,"Smart Mobility Simulator"),A()(),h(7,"div",6)(8,"a",7)(9,"span"),f(10,"\u{1f4ca}"),A(),f(11," Dashboard "),A(),h(12,"div",8)(13,"button",9)(14,"span"),f(15,"\u{1f50d}"),A(),f(16," Analysis \u25be"),A(),h(17,"div",10)(18,"a",11)(19,"span"),f(20,"\u{1f1e6}\u{1f1ea}"),A(),f(21," UAE Facts "),A(),h(22,"a",12)(23,"span"),f(24,"\u{1f3db}\ufe0f"),A(),f(25," Authority Selection "),A(),h(26,"a",13)(27,"span"),f(28,"\u2696\ufe0f"),A(),f(29," Authority Comparison "),A(),h(30,"a",14)(31,"span"),f(32,"\u270f\ufe0f"),A(),f(33," Zone Editor "),A()()(),h(34,"div",8)(35,"button",9)(36,"span"),f(37,"\u{1f6e0}\ufe0f"),A(),f(38," Tools \u25be"),A(),h(39,"div",10)(40,"a",15)(41,"span"),f(42,"\u{1f3af}"),A(),f(43," Workflow Wizard "),A(),h(44,"a",16)(45,"span"),f(46,"\u2696\ufe0f"),A(),f(47," Scenario Compare "),A(),h(48,"a",17)(49,"span"),f(50,"\u{1f4b0}"),A(),f(51," ROI Calculator "),A(),h(52,"a",18)(53,"span"),f(54,"\u{1f4f1}"),A(),f(55," Mobile Preview "),A()()(),h(56,"div",8)(57,"button",9)(58,"span"),f(59,"\u{1f4c4}"),A(),f(60," Reports \u25be"),A(),h(61,"div",10)(62,"a",19)(63,"span"),f(64,"\u{1f680}"),A(),f(65," Pilot Proposal "),A(),h(66,"a",20)(67,"span"),f(68,"\u{1f4bc}"),A(),f(69," Business Case "),A(),h(70,"a",21)(71,"span"),f(72,"\u{1f4d1}"),A(),f(73," Pitch Deck "),A()()(),h(74,"div",8)(75,"button",9)(76,"span"),f(77,"\u2699\ufe0f"),A(),f(78," Settings \u25be"),A(),h(79,"div",10)(80,"a",22)(81,"span"),f(82,"\u{1f465}"),A(),f(83," User Management "),A(),h(84,"a",23)(85,"span"),f(86,"\u{1f4cb}"),A(),f(87," Audit Trail "),A(),h(88,"a",24)(89,"span"),f(90,"\u{1f4d6}"),A(),f(91," Admin Guide "),A(),h(92,"a",25)(93,"span"),f(94,"\u{1f527}"),A(),f(95," Tech Guide "),A()()()(),h(96,"div",26),Cn(97,"app-language-switcher"),xt(98,d_e,27,11,"div",27),jt(99,"async"),A()(),h(100,"main",28),Cn(101,"router-outlet"),A(),Cn(102,"app-footer"),B_()),2&t){const e=Fe();S(8),ke("routerLinkActiveOptions",function bT(t,n,e){const i=xs()+t,r=Et();return r[i]===Ii?_A(r,i,e?n.call(e):n()):function v_(t,n){return t[n]}(r,i)}(4,A_e)),S(90),ke("ngIf",Br(99,2,e.authService.currentUser$))}}function f_e(t,n){1&t&&Cn(0,"router-outlet")}let p_e=(()=>{class t{constructor(e,i,r){this.themeService=e,this.router=i,this.authService=r,this.title="Smart Mobility Simulator",this.activeDropdown=null,this.isLoggedIn=!1}ngOnInit(){this.isLoggedIn=this.authService.isLoggedIn(),this.authService.currentUser$.subscribe(e=>{this.isLoggedIn=!!e}),this.router.events.pipe(xA(e=>e instanceof SA)).subscribe(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0})}toggleDropdown(e){this.activeDropdown=this.activeDropdown===e?null:e}openDropdown(e){this.activeDropdown=e}closeDropdown(e){this.activeDropdown===e&&(this.activeDropdown=null)}clearLocalStorage(){localStorage.clear(),window.location.reload()}static{this.\u0275fac=function(i){return new(i||t)(wt(Sz),wt(Ks),wt(vb))}}static{this.\u0275cmp=rr({type:t,selectors:[["app-root"]],decls:5,vars:2,consts:[["publicLayout",""],[4,"ngIf","ngIfElse"],[1,"main-nav"],[1,"brand"],[1,"brand-icon"],[1,"brand-text"],[1,"nav-links"],["routerLink","/","routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["routerLink","/uae-facts","routerLinkActive","active"],["routerLink","/authority-selection","routerLinkActive","active"],["routerLink","/authority-comparison","routerLinkActive","active"],["routerLink","/zone-editor","routerLinkActive","active"],["routerLink","/wizard","routerLinkActive","active"],["routerLink","/comparison","routerLinkActive","active"],["routerLink","/roi-calculator","routerLinkActive","active"],["routerLink","/mobile-preview","routerLinkActive","active"],["routerLink","/pilot-proposal","routerLinkActive","active"],["routerLink","/business-case","routerLinkActive","active"],["routerLink","/pitch-deck","routerLinkActive","active"],["routerLink","/user-management","routerLinkActive","active"],["routerLink","/audit-trail","routerLinkActive","active"],["routerLink","/business-admin-guide","routerLinkActive","active"],["routerLink","/technical-architecture-guide","routerLinkActive","active"],[1,"nav-actions"],["class","user-dropdown",4,"ngIf"],[1,"main-content"],[1,"user-dropdown"],[1,"user-profile-btn"],[1,"user-avatar"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"dropdown-arrow"],[1,"user-dropdown-content"],[1,"user-dropdown-header"],[1,"user-avatar-large"],[1,"user-details"],[1,"badge"],[1,"dropdown-divider"],[1,"logout-btn",3,"click"]],template:function(i,r){if(1&i&&(xt(0,h_e,103,5,"ng-container",1)(1,f_e,1,0,"ng-template",null,0,BD),Cn(3,"app-toast")(4,"app-loading-spinner")),2&i){const o=S0(2);ke("ngIf",r.isLoggedIn)("ngIfElse",o)}},dependencies:[cs,VE,n1,WR,Ez,Iz,Oz,u_e,aS],styles:['.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 2rem;background:#fffffff2;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid rgba(13,71,161,.08);position:sticky;top:0;z-index:9999;box-shadow:0 4px 30px #00000014;height:70px;box-sizing:border-box}[_nghost-%COMP%]{display:block;min-height:100vh}body[_ngcontent-%COMP%]{margin:0;padding:0}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-weight:800;font-size:1.35rem;letter-spacing:-.02em}.brand-icon[_ngcontent-%COMP%]{width:44px;height:44px;background:linear-gradient(135deg,#0d47a1,#1565c0,#f59e0b);border-radius:12px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.35rem;box-shadow:0 6px 20px #0d47a159}.brand-text[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d47a1,#1565c0,#f59e0b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.nav-links[_ngcontent-%COMP%]{display:flex;gap:.35rem;flex-wrap:wrap}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#475569;text-decoration:none;font-weight:500;font-size:.9rem;padding:.65rem 1rem;border-radius:10px;transition:all .2s ease;position:relative}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0d47a1;background:#0d47a10f}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#0d47a1;background:#0d47a11a;font-weight:600}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:2px;left:50%;transform:translate(-50%);width:18px;height:3px;background:linear-gradient(90deg,#0d47a1,#f59e0b);border-radius:3px}.nav-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.theme-toggle[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:12px;border:2px solid rgba(13,71,161,.1);background:#0d47a10d;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.25rem;transition:all .2s ease}.theme-toggle[_ngcontent-%COMP%]:hover{background:#0d47a11a;transform:scale(1.05)}.dark[_nghost-%COMP%]   .main-nav[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .main-nav[_ngcontent-%COMP%]{background:#0f172af2;border-bottom:1px solid rgba(255,255,255,.08)}.dark[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#94a3b8}.dark[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#60a5fa;background:#3b82f61a}.dark[_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#60a5fa;background:#3b82f626}.dark[_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%]{border-color:#3b82f633;background:#3b82f61a}.dark[_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%]:hover{background:#3b82f633}.main-content[_ngcontent-%COMP%]{padding:2rem;max-width:1600px;margin:0 auto;animation:_ngcontent-%COMP%_fadeIn .4s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 1200px){.nav-links[_ngcontent-%COMP%]{gap:.15rem}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.85rem}}@media (max-width: 1024px){.main-nav[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;padding:1rem}.nav-links[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{padding:1rem}.brand-text[_ngcontent-%COMP%]{font-size:1.1rem}.brand-icon[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1.1rem}}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropbtn[_ngcontent-%COMP%]{background:transparent;border:none;color:#475569;font-weight:500;font-size:.9rem;padding:.65rem 1rem;border-radius:10px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.25rem}.dropbtn[_ngcontent-%COMP%]:hover, .dropdown[_ngcontent-%COMP%]:hover   .dropbtn[_ngcontent-%COMP%]{color:#0d47a1;background:#0d47a10f}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;top:100%;left:50%;transform:translate(-50%);background:#fff;min-width:220px;box-shadow:0 10px 40px #00000026;border-radius:12px;z-index:10000;padding:.5rem 0;margin-top:0;border:1px solid rgba(13,71,161,.08);opacity:0;visibility:hidden;transform:translate(-50%) translateY(-10px);transition:opacity .2s ease,transform .2s ease,visibility .2s;pointer-events:none}.dropdown[_ngcontent-%COMP%]:hover > .dropdown-content[_ngcontent-%COMP%]{display:block;opacity:1;visibility:visible;transform:translate(-50%) translateY(0);pointer-events:auto}.dropdown-content[_ngcontent-%COMP%]:hover{display:block;opacity:1;visibility:visible;transform:translate(-50%) translateY(0)}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#475569;padding:.75rem 1rem;text-decoration:none;display:flex;align-items:center;gap:.5rem;font-size:.85rem;transition:all .15s ease;border-radius:0}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#0d47a10f;color:#0d47a1}.dropdown-content[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#0d47a11a;color:#0d47a1;font-weight:600}.dropdown-content[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{display:none}.dropdown-content.show[_ngcontent-%COMP%]{display:block!important}.dark[_nghost-%COMP%]   .dropbtn[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .dropbtn[_ngcontent-%COMP%]{color:#94a3b8}.dark[_nghost-%COMP%]   .dropbtn[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .dropbtn[_ngcontent-%COMP%]:hover{color:#60a5fa;background:#3b82f61a}.dark[_nghost-%COMP%]   .dropdown-content[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{background:#1e293b;border-color:#3b82f633}.dark[_nghost-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#94a3b8}.dark[_nghost-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#3b82f61a;color:#60a5fa}.user-dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.user-profile-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem 1rem;background:#0d47a114;border:1px solid rgba(13,71,161,.15);border-radius:12px;cursor:pointer;transition:all .2s ease}.user-profile-btn[_ngcontent-%COMP%]:hover{background:#0d47a11f}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#0d47a1,#1565c0);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.85rem}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.user-name[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem;color:#1e293b}.user-role[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b}.dropdown-arrow[_ngcontent-%COMP%]{font-size:.7rem;color:#64748b}.user-dropdown-content[_ngcontent-%COMP%]{display:block;position:absolute;top:calc(100% + 8px);right:0;background:#fff;min-width:280px;box-shadow:0 10px 40px #00000026;border-radius:12px;z-index:10000;padding:0;border:1px solid rgba(13,71,161,.08);opacity:0;visibility:hidden;transform:translateY(-10px);transition:opacity .2s ease,transform .2s ease,visibility .2s;pointer-events:none}.user-dropdown[_ngcontent-%COMP%]:hover   .user-dropdown-content[_ngcontent-%COMP%], .user-dropdown-content[_ngcontent-%COMP%]:hover{opacity:1;visibility:visible;transform:translateY(0);pointer-events:auto}.user-dropdown[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:0;right:0;height:15px;background:transparent;z-index:9999}.user-dropdown-header[_ngcontent-%COMP%]{padding:1.25rem;display:flex;align-items:center;gap:1rem;background:linear-gradient(135deg,#0d47a10d,#f59e0b0d);border-radius:12px 12px 0 0}.user-avatar-large[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,#0d47a1,#1565c0);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1rem;flex-shrink:0}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;overflow:hidden}.user-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1e293b;font-size:1rem}.user-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#64748b;font-size:.85rem}.user-details[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .5rem;background:#0d47a11a;color:#0d47a1;border-radius:6px;font-size:.75rem;font-weight:600;width:-moz-fit-content;width:fit-content}.dropdown-divider[_ngcontent-%COMP%]{height:1px;background:#0d47a11a;margin:0}.logout-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem 1.25rem;color:#dc2626!important;cursor:pointer;transition:all .15s ease;font-weight:500}.logout-btn[_ngcontent-%COMP%]:hover{background:#dc262614!important}.dark[_nghost-%COMP%]   .user-profile-btn[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]{background:#3b82f61a;border-color:#3b82f633}.dark[_nghost-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .user-profile-btn[_ngcontent-%COMP%]:hover{background:#3b82f626}.dark[_nghost-%COMP%]   .user-name[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#f1f5f9}.dark[_nghost-%COMP%]   .user-role[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-role[_ngcontent-%COMP%], .dark[_nghost-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{color:#94a3b8}.dark[_nghost-%COMP%]   .user-dropdown-content[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-dropdown-content[_ngcontent-%COMP%]{background:#1e293b;border-color:#3b82f633}.dark[_nghost-%COMP%]   .user-dropdown-header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-dropdown-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61a,#f59e0b0d)}.dark[_nghost-%COMP%]   .user-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f1f5f9}.dark[_nghost-%COMP%]   .user-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#94a3b8}.dark[_nghost-%COMP%]   .user-details[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-details[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#3b82f633;color:#60a5fa}.dark[_nghost-%COMP%]   .dropdown-divider[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{background:#3b82f633}']})}}return t})(),g_e=(()=>{class t{constructor(e){this.loadingService=e}intercept(e,i){const r=e.headers.has("X-Hide-Loading");return r||this.loadingService.show(),i.handle(e).pipe(fg(o=>{let s="An unexpected error occurred";if(o.error instanceof ErrorEvent)s=`Error: ${o.error.message}`;else switch(o.status){case 0:s="Unable to connect to server. Please check your internet connection.";break;case 400:s=o.error?.message||"Bad request. Please check your input.";break;case 401:s="Unauthorized. Please log in again.";break;case 403:s="Access denied. You do not have permission.";break;case 404:s="Resource not found.";break;case 500:s="Server error. Please try again later.";break;default:s=`Error ${o.status}: ${o.message}`}return console.error("HTTP Error:",o),cy(()=>new Error(s))}),N0(()=>{r||this.loadingService.hide()}))}static{this.\u0275fac=function(i){return new(i||t)(cn(Pz))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),m_e=(()=>{class t{constructor(e){this.authService=e}intercept(e,i){const r=this.authService.getToken();return r&&(e=e.clone({setHeaders:{Authorization:`Bearer ${r}`}})),i.handle(e)}static{this.\u0275fac=function(i){return new(i||t)(cn(vb))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})(),v_e=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ws({type:t,bootstrap:[p_e]})}static{this.\u0275inj=jn({providers:[{provide:nE,useClass:g_e,multi:!0},{provide:nE,useClass:m_e,multi:!0}],imports:[P8,Dne,Jve,Hie,Cf,Kre,Ez,Iz,t4,Cz,xz,Mz,Bz,Dz,Oz]})}}return t})();See().bootstrapModule(v_e).catch(t=>console.error(t))},7239:function(XA){XA.exports=function(){"use strict";var Ge=function(b,v){return(Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var O in w)Object.prototype.hasOwnProperty.call(w,O)&&(x[O]=w[O])})(b,v)};function Ve(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function x(){this.constructor=b}Ge(b,v),b.prototype=null===v?Object.create(v):(x.prototype=v.prototype,new x)}var qe=function(){return qe=Object.assign||function(v){for(var x,w=1,O=arguments.length;w<O;w++)for(var U in x=arguments[w])Object.prototype.hasOwnProperty.call(x,U)&&(v[U]=x[U]);return v},qe.apply(this,arguments)};function ue(b,v,x,w){return new(x||(x=Promise))(function(U,K){function le(Ye){try{je(w.next(Ye))}catch(nt){K(nt)}}function ae(Ye){try{je(w.throw(Ye))}catch(nt){K(nt)}}function je(Ye){Ye.done?U(Ye.value):function O(U){return U instanceof x?U:new x(function(K){K(U)})}(Ye.value).then(le,ae)}je((w=w.apply(b,v||[])).next())})}function ce(b,v){var w,O,U,K,x={label:0,sent:function(){if(1&U[0])throw U[1];return U[1]},trys:[],ops:[]};return K={next:le(0),throw:le(1),return:le(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function le(je){return function(Ye){return function ae(je){if(w)throw new TypeError("Generator is already executing.");for(;x;)try{if(w=1,O&&(U=2&je[0]?O.return:je[0]?O.throw||((U=O.return)&&U.call(O),0):O.next)&&!(U=U.call(O,je[1])).done)return U;switch(O=0,U&&(je=[2&je[0],U.value]),je[0]){case 0:case 1:U=je;break;case 4:return x.label++,{value:je[1],done:!1};case 5:x.label++,O=je[1],je=[0];continue;case 7:je=x.ops.pop(),x.trys.pop();continue;default:if(!(U=(U=x.trys).length>0&&U[U.length-1])&&(6===je[0]||2===je[0])){x=0;continue}if(3===je[0]&&(!U||je[1]>U[0]&&je[1]<U[3])){x.label=je[1];break}if(6===je[0]&&x.label<U[1]){x.label=U[1],U=je;break}if(U&&x.label<U[2]){x.label=U[2],x.ops.push(je);break}U[2]&&x.ops.pop(),x.trys.pop();continue}je=v.call(b,x)}catch(Ye){je=[6,Ye],O=0}finally{w=U=0}if(5&je[0])throw je[1];return{value:je[0]?je[1]:void 0,done:!0}}([je,Ye])}}}function X(b,v,x){if(x||2===arguments.length)for(var U,w=0,O=v.length;w<O;w++)(U||!(w in v))&&(U||(U=Array.prototype.slice.call(v,0,w)),U[w]=v[w]);return b.concat(U||v)}for(var _e=function(){function b(v,x,w,O){this.left=v,this.top=x,this.width=w,this.height=O}return b.prototype.add=function(v,x,w,O){return new b(this.left+v,this.top+x,this.width+w,this.height+O)},b.fromClientRect=function(v,x){return new b(x.left+v.windowBounds.left,x.top+v.windowBounds.top,x.width,x.height)},b.fromDOMRectList=function(v,x){var w=Array.from(x).find(function(O){return 0!==O.width});return w?new b(w.left+v.windowBounds.left,w.top+v.windowBounds.top,w.width,w.height):b.EMPTY},b.EMPTY=new b(0,0,0,0),b}(),xe=function(b,v){return _e.fromClientRect(b,v.getBoundingClientRect())},Ne=function(b){for(var v=[],x=0,w=b.length;x<w;){var O=b.charCodeAt(x++);if(O>=55296&&O<=56319&&x<w){var U=b.charCodeAt(x++);56320==(64512&U)?v.push(((1023&O)<<10)+(1023&U)+65536):(v.push(O),x--)}else v.push(O)}return v},Ce=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];if(String.fromCodePoint)return String.fromCodePoint.apply(String,b);var x=b.length;if(!x)return"";for(var w=[],O=-1,U="";++O<x;){var K=b[O];K<=65535?w.push(K):w.push(55296+((K-=65536)>>10),K%1024+56320),(O+1===x||w.length>16384)&&(U+=String.fromCharCode.apply(String,w),w.length=0)}return U},oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",De=typeof Uint8Array>"u"?[]:new Uint8Array(256),ne=0;ne<64;ne++)De[oe.charCodeAt(ne)]=ne;for(var fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",de=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ie=0;Ie<64;Ie++)de[fe.charCodeAt(Ie)]=Ie;for(var Je=function(b,v,x){return b.slice?b.slice(v,x):new Uint16Array(Array.prototype.slice.call(b,v,x))},ln=function(){function b(v,x,w,O,U,K){this.initialValue=v,this.errorValue=x,this.highStart=w,this.highValueIndex=O,this.index=U,this.data=K}return b.prototype.get=function(v){var x;if(v>=0){if(v<55296||v>56319&&v<=65535)return this.data[x=((x=this.index[v>>5])<<2)+(31&v)];if(v<=65535)return this.data[x=((x=this.index[2048+(v-55296>>5)])<<2)+(31&v)];if(v<this.highStart)return x=this.index[x=2080+(v>>11)],this.data[x=((x=this.index[x+=v>>5&63])<<2)+(31&v)];if(v<=1114111)return this.data[this.highValueIndex]}return this.errorValue},b}(),qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ei=typeof Uint8Array>"u"?[]:new Uint8Array(256),zn=0;zn<64;zn++)ei[qt.charCodeAt(zn)]=zn;var x,w,O,K,le,he=10,Gt=13,$t=15,rn=17,En=18,yr=19,Ui=20,es=21,ca=22,ys=24,Yi=25,ua=26,Ya=27,No=28,bs=30,eA=32,bl=33,wl=34,Xa=35,JA=37,bh=38,io=39,ed=40,wh=42,Pa=[9001,65288],Vn="\xd7",dn=(x=function(b){var w,U,K,le,ae,v=.75*b.length,x=b.length,O=0;"="===b[b.length-1]&&(v--,"="===b[b.length-2]&&v--);var je=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(v):new Array(v),Ye=Array.isArray(je)?je:new Uint8Array(je);for(w=0;w<x;w+=4)U=de[b.charCodeAt(w)],K=de[b.charCodeAt(w+1)],le=de[b.charCodeAt(w+2)],ae=de[b.charCodeAt(w+3)],Ye[O++]=U<<2|K>>4,Ye[O++]=(15&K)<<4|le>>2,Ye[O++]=(3&le)<<6|63&ae;return je}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),w=Array.isArray(x)?function(b){for(var v=b.length,x=[],w=0;w<v;w+=4)x.push(b[w+3]<<24|b[w+2]<<16|b[w+1]<<8|b[w]);return x}(x):new Uint32Array(x),O=Array.isArray(x)?function(b){for(var v=b.length,x=[],w=0;w<v;w+=2)x.push(b[w+1]<<8|b[w]);return x}(x):new Uint16Array(x),K=Je(O,12,w[4]/2),le=2===w[5]?Je(O,(24+w[4])/2):function(b,v,x){return b.slice?b.slice(v,x):new Uint32Array(Array.prototype.slice.call(b,v,x))}(w,Math.ceil((24+w[4])/4)),new ln(w[0],w[1],w[2],w[3],K,le)),Pr=[bs,36],Ch=[1,2,3,5],Xi=[he,8],im=[Ya,ua],xh=Ch.concat(Xi),mt=[bh,io,ed,wl,Xa],Ja=[$t,Gt],Mh=function(b,v,x,w){var O=w[x];if(Array.isArray(b)?-1!==b.indexOf(O):b===O)for(var U=x;U<=w.length;){if((K=w[++U])===v)return!0;if(K!==he)break}if(O===he)for(U=x;U>0;){var le=w[--U];if(Array.isArray(b)?-1!==b.indexOf(le):b===le)for(var ae=x;ae<=w.length;){var K;if((K=w[++ae])===v)return!0;if(K!==he)break}if(le!==he)break}return!1},Y1=function(b,v){for(var x=b;x>=0;){var w=v[x];if(w!==he)return w;x--}return 0},Wb=function(b,v,x,w,O){if(0===x[w])return Vn;var U=w-1;if(Array.isArray(O)&&!0===O[U])return Vn;var K=U-1,le=U+1,ae=v[U],je=K>=0?v[K]:0,Ye=v[le];if(2===ae&&3===Ye)return Vn;if(-1!==Ch.indexOf(ae))return"!";if(-1!==Ch.indexOf(Ye)||-1!==Xi.indexOf(Ye))return Vn;if(8===Y1(U,v))return"\xf7";if(11===dn.get(b[U])||(ae===eA||ae===bl)&&11===dn.get(b[le])||7===ae||7===Ye||9===ae||-1===[he,Gt,$t].indexOf(ae)&&9===Ye||-1!==[rn,En,yr,ys,No].indexOf(Ye)||Y1(U,v)===ca||Mh(23,ca,U,v)||Mh([rn,En],es,U,v)||Mh(12,12,U,v))return Vn;if(ae===he)return"\xf7";if(23===ae||23===Ye)return Vn;if(16===Ye||16===ae)return"\xf7";if(-1!==[Gt,$t,es].indexOf(Ye)||14===ae||36===je&&-1!==Ja.indexOf(ae)||ae===No&&36===Ye||Ye===Ui||-1!==Pr.indexOf(Ye)&&ae===Yi||-1!==Pr.indexOf(ae)&&Ye===Yi||ae===Ya&&-1!==[JA,eA,bl].indexOf(Ye)||-1!==[JA,eA,bl].indexOf(ae)&&Ye===ua||-1!==Pr.indexOf(ae)&&-1!==im.indexOf(Ye)||-1!==im.indexOf(ae)&&-1!==Pr.indexOf(Ye)||-1!==[Ya,ua].indexOf(ae)&&(Ye===Yi||-1!==[ca,$t].indexOf(Ye)&&v[le+1]===Yi)||-1!==[ca,$t].indexOf(ae)&&Ye===Yi||ae===Yi&&-1!==[Yi,No,ys].indexOf(Ye))return Vn;if(-1!==[Yi,No,ys,rn,En].indexOf(Ye))for(var nt=U;nt>=0;){if((St=v[nt])===Yi)return Vn;if(-1===[No,ys].indexOf(St))break;nt--}if(-1!==[Ya,ua].indexOf(Ye))for(nt=-1!==[rn,En].indexOf(ae)?K:U;nt>=0;){var St;if((St=v[nt])===Yi)return Vn;if(-1===[No,ys].indexOf(St))break;nt--}if(bh===ae&&-1!==[bh,io,wl,Xa].indexOf(Ye)||-1!==[io,wl].indexOf(ae)&&-1!==[io,ed].indexOf(Ye)||-1!==[ed,Xa].indexOf(ae)&&Ye===ed||-1!==mt.indexOf(ae)&&-1!==[Ui,ua].indexOf(Ye)||-1!==mt.indexOf(Ye)&&ae===Ya||-1!==Pr.indexOf(ae)&&-1!==Pr.indexOf(Ye)||ae===ys&&-1!==Pr.indexOf(Ye)||-1!==Pr.concat(Yi).indexOf(ae)&&Ye===ca&&-1===Pa.indexOf(b[le])||-1!==Pr.concat(Yi).indexOf(Ye)&&ae===En)return Vn;if(41===ae&&41===Ye){for(var yn=x[U],on=1;yn>0&&41===v[--yn];)on++;if(on%2!=0)return Vn}return ae===eA&&Ye===bl?Vn:"\xf7"},rm=function(b,v){v||(v={lineBreak:"normal",wordBreak:"normal"});var x=function(b,v){void 0===v&&(v="strict");var x=[],w=[],O=[];return b.forEach(function(U,K){var le=dn.get(U);if(le>50?(O.push(!0),le-=50):O.push(!1),-1!==["normal","auto","loose"].indexOf(v)&&-1!==[8208,8211,12316,12448].indexOf(U))return w.push(K),x.push(16);if(4===le||11===le){if(0===K)return w.push(K),x.push(bs);var ae=x[K-1];return-1===xh.indexOf(ae)?(w.push(w[K-1]),x.push(ae)):(w.push(K),x.push(bs))}return w.push(K),31===le?x.push("strict"===v?es:JA):le===wh||29===le?x.push(bs):43===le?x.push(U>=131072&&U<=196605||U>=196608&&U<=262141?JA:bs):void x.push(le)}),[w,x,O]}(b,v.lineBreak),w=x[0],O=x[1],U=x[2];return("break-all"===v.wordBreak||"break-word"===v.wordBreak)&&(O=O.map(function(le){return-1!==[Yi,bs,wh].indexOf(le)?JA:le})),[w,O,"keep-all"===v.wordBreak?U.map(function(le,ae){return le&&b[ae]>=19968&&b[ae]<=40959}):void 0]},Cl=function(){function b(v,x,w,O){this.codePoints=v,this.required="!"===x,this.start=w,this.end=O}return b.prototype.slice=function(){return Ce.apply(void 0,this.codePoints.slice(this.start,this.end))},b}(),Ls=function(b){return b>=48&&b<=57},Qi=function(b){return Ls(b)||b>=65&&b<=70||b>=97&&b<=102},sA=function(b){return 10===b||9===b||32===b},cu=function(b){return function(b){return function(b){return b>=97&&b<=122}(b)||function(b){return b>=65&&b<=90}(b)}(b)||function(b){return b>=128}(b)||95===b},Ml=function(b){return cu(b)||Ls(b)||45===b},aA=function(b){return b>=0&&b<=8||11===b||b>=14&&b<=31||127===b},Zl=function(b,v){return 92===b&&10!==v},ii=function(b,v,x){return 45===b?cu(v)||Zl(v,x):!!cu(b)||!(92!==b||!Zl(b,v))},er=function(b,v,x){return 43===b||45===b?!!Ls(v)||46===v&&Ls(x):Ls(46===b?v:b)},Zb=function(b){var v=0,x=1;(43===b[v]||45===b[v])&&(45===b[v]&&(x=-1),v++);for(var w=[];Ls(b[v]);)w.push(b[v++]);var O=w.length?parseInt(Ce.apply(void 0,w),10):0;46===b[v]&&v++;for(var U=[];Ls(b[v]);)U.push(b[v++]);var K=U.length,le=K?parseInt(Ce.apply(void 0,U),10):0;(69===b[v]||101===b[v])&&v++;var ae=1;(43===b[v]||45===b[v])&&(45===b[v]&&(ae=-1),v++);for(var je=[];Ls(b[v]);)je.push(b[v++]);var Ye=je.length?parseInt(Ce.apply(void 0,je),10):0;return x*(O+le*Math.pow(10,-K))*Math.pow(10,ae*Ye)},Bl={type:2},nv={type:3},iv={type:4},Oc={type:13},Th={type:8},Hi={type:21},ad={type:9},lm={type:10},Ns={type:11},pp={type:12},Yb={type:14},gp={type:23},uu={type:1},mp={type:25},ld={type:24},cm={type:26},Lh={type:27},Au={type:28},um={type:29},Dl={type:31},ta={type:32},Sl=function(){function b(){this._value=[]}return b.prototype.write=function(v){this._value=this._value.concat(Ne(v))},b.prototype.read=function(){for(var v=[],x=this.consumeToken();x!==ta;)v.push(x),x=this.consumeToken();return v},b.prototype.consumeToken=function(){var v=this.consumeCodePoint();switch(v){case 34:return this.consumeStringToken(34);case 35:var x=this.peekCodePoint(0),w=this.peekCodePoint(1),O=this.peekCodePoint(2);if(Ml(x)||Zl(w,O)){var U=ii(x,w,O)?2:1;return{type:5,value:this.consumeName(),flags:U}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Oc;break;case 39:return this.consumeStringToken(39);case 40:return Bl;case 41:return nv;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Yb;break;case 43:if(er(v,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(v),this.consumeNumericToken();break;case 44:return iv;case 45:var le=v,ae=this.peekCodePoint(0),je=this.peekCodePoint(1);if(er(le,ae,je))return this.reconsumeCodePoint(v),this.consumeNumericToken();if(ii(le,ae,je))return this.reconsumeCodePoint(v),this.consumeIdentLikeToken();if(45===ae&&62===je)return this.consumeCodePoint(),this.consumeCodePoint(),ld;break;case 46:if(er(v,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(v),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var Ye=this.consumeCodePoint();if(42===Ye&&47===(Ye=this.consumeCodePoint()))return this.consumeToken();if(-1===Ye)return this.consumeToken()}break;case 58:return cm;case 59:return Lh;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),mp;break;case 64:var nt=this.peekCodePoint(0),St=this.peekCodePoint(1),yn=this.peekCodePoint(2);if(ii(nt,St,yn))return{type:7,value:this.consumeName()};break;case 91:return Au;case 92:if(Zl(v,this.peekCodePoint(0)))return this.reconsumeCodePoint(v),this.consumeIdentLikeToken();break;case 93:return um;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Th;break;case 123:return Ns;case 125:return pp;case 117:case 85:var on=this.peekCodePoint(0),sn=this.peekCodePoint(1);return 43===on&&(Qi(sn)||63===sn)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(v),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ad;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Hi;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),lm;break;case-1:return ta}return sA(v)?(this.consumeWhiteSpace(),Dl):Ls(v)?(this.reconsumeCodePoint(v),this.consumeNumericToken()):cu(v)?(this.reconsumeCodePoint(v),this.consumeIdentLikeToken()):{type:6,value:Ce(v)}},b.prototype.consumeCodePoint=function(){var v=this._value.shift();return typeof v>"u"?-1:v},b.prototype.reconsumeCodePoint=function(v){this._value.unshift(v)},b.prototype.peekCodePoint=function(v){return v>=this._value.length?-1:this._value[v]},b.prototype.consumeUnicodeRangeToken=function(){for(var v=[],x=this.consumeCodePoint();Qi(x)&&v.length<6;)v.push(x),x=this.consumeCodePoint();for(var w=!1;63===x&&v.length<6;)v.push(x),x=this.consumeCodePoint(),w=!0;if(w)return{type:30,start:parseInt(Ce.apply(void 0,v.map(function(ae){return 63===ae?48:ae})),16),end:parseInt(Ce.apply(void 0,v.map(function(ae){return 63===ae?70:ae})),16)};var K=parseInt(Ce.apply(void 0,v),16);if(45===this.peekCodePoint(0)&&Qi(this.peekCodePoint(1))){this.consumeCodePoint(),x=this.consumeCodePoint();for(var le=[];Qi(x)&&le.length<6;)le.push(x),x=this.consumeCodePoint();return{type:30,start:K,end:parseInt(Ce.apply(void 0,le),16)}}return{type:30,start:K,end:K}},b.prototype.consumeIdentLikeToken=function(){var v=this.consumeName();return"url"===v.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:v}):{type:20,value:v}},b.prototype.consumeUrlToken=function(){var v=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var x=this.peekCodePoint(0);if(39===x||34===x){var w=this.consumeStringToken(this.consumeCodePoint());return 0===w.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:w.value}):(this.consumeBadUrlRemnants(),gp)}for(;;){var O=this.consumeCodePoint();if(-1===O||41===O)return{type:22,value:Ce.apply(void 0,v)};if(sA(O))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:Ce.apply(void 0,v)}):(this.consumeBadUrlRemnants(),gp);if(34===O||39===O||40===O||aA(O))return this.consumeBadUrlRemnants(),gp;if(92===O){if(!Zl(O,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),gp;v.push(this.consumeEscapedCodePoint())}else v.push(O)}},b.prototype.consumeWhiteSpace=function(){for(;sA(this.peekCodePoint(0));)this.consumeCodePoint()},b.prototype.consumeBadUrlRemnants=function(){for(;;){var v=this.consumeCodePoint();if(41===v||-1===v)return;Zl(v,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},b.prototype.consumeStringSlice=function(v){for(var w="";v>0;){var O=Math.min(5e4,v);w+=Ce.apply(void 0,this._value.splice(0,O)),v-=O}return this._value.shift(),w},b.prototype.consumeStringToken=function(v){for(var x="",w=0;;){var O=this._value[w];if(-1===O||void 0===O||O===v)return{type:0,value:x+=this.consumeStringSlice(w)};if(10===O)return this._value.splice(0,w),uu;if(92===O){var U=this._value[w+1];-1!==U&&void 0!==U&&(10===U?(x+=this.consumeStringSlice(w),w=-1,this._value.shift()):Zl(O,U)&&(x+=this.consumeStringSlice(w),x+=Ce(this.consumeEscapedCodePoint()),w=-1))}w++}},b.prototype.consumeNumber=function(){var v=[],x=4,w=this.peekCodePoint(0);for((43===w||45===w)&&v.push(this.consumeCodePoint());Ls(this.peekCodePoint(0));)v.push(this.consumeCodePoint());w=this.peekCodePoint(0);var O=this.peekCodePoint(1);if(46===w&&Ls(O))for(v.push(this.consumeCodePoint(),this.consumeCodePoint()),x=8;Ls(this.peekCodePoint(0));)v.push(this.consumeCodePoint());w=this.peekCodePoint(0),O=this.peekCodePoint(1);var U=this.peekCodePoint(2);if((69===w||101===w)&&((43===O||45===O)&&Ls(U)||Ls(O)))for(v.push(this.consumeCodePoint(),this.consumeCodePoint()),x=8;Ls(this.peekCodePoint(0));)v.push(this.consumeCodePoint());return[Zb(v),x]},b.prototype.consumeNumericToken=function(){var v=this.consumeNumber(),x=v[0],w=v[1],O=this.peekCodePoint(0),U=this.peekCodePoint(1),K=this.peekCodePoint(2);return ii(O,U,K)?{type:15,number:x,flags:w,unit:this.consumeName()}:37===O?(this.consumeCodePoint(),{type:16,number:x,flags:w}):{type:17,number:x,flags:w}},b.prototype.consumeEscapedCodePoint=function(){var v=this.consumeCodePoint();if(Qi(v)){for(var x=Ce(v);Qi(this.peekCodePoint(0))&&x.length<6;)x+=Ce(this.consumeCodePoint());sA(this.peekCodePoint(0))&&this.consumeCodePoint();var w=parseInt(x,16);return 0===w||function(b){return b>=55296&&b<=57343}(w)||w>1114111?65533:w}return-1===v?65533:v},b.prototype.consumeName=function(){for(var v="";;){var x=this.consumeCodePoint();if(Ml(x))v+=Ce(x);else{if(!Zl(x,this.peekCodePoint(0)))return this.reconsumeCodePoint(x),v;v+=Ce(this.consumeEscapedCodePoint())}}},b}(),vp=function(){function b(v){this._tokens=v}return b.create=function(v){var x=new Sl;return x.write(v),new b(x.read())},b.parseValue=function(v){return b.create(v).parseComponentValue()},b.parseValues=function(v){return b.create(v).parseComponentValues()},b.prototype.parseComponentValue=function(){for(var v=this.consumeToken();31===v.type;)v=this.consumeToken();if(32===v.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(v);var x=this.consumeComponentValue();do{v=this.consumeToken()}while(31===v.type);if(32===v.type)return x;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},b.prototype.parseComponentValues=function(){for(var v=[];;){var x=this.consumeComponentValue();if(32===x.type)return v;v.push(x),v.push()}},b.prototype.consumeComponentValue=function(){var v=this.consumeToken();switch(v.type){case 11:case 28:case 2:return this.consumeSimpleBlock(v.type);case 19:return this.consumeFunction(v)}return v},b.prototype.consumeSimpleBlock=function(v){for(var x={type:v,values:[]},w=this.consumeToken();;){if(32===w.type||cA(w,v))return x;this.reconsumeToken(w),x.values.push(this.consumeComponentValue()),w=this.consumeToken()}},b.prototype.consumeFunction=function(v){for(var x={name:v.value,values:[],type:18};;){var w=this.consumeToken();if(32===w.type||3===w.type)return x;this.reconsumeToken(w),x.values.push(this.consumeComponentValue())}},b.prototype.consumeToken=function(){var v=this._tokens.shift();return typeof v>"u"?ta:v},b.prototype.reconsumeToken=function(v){this._tokens.unshift(v)},b}(),cn=function(b){return 15===b.type},Yl=function(b){return 17===b.type},Mt=function(b){return 20===b.type},Nh=function(b){return 0===b.type},cd=function(b,v){return Mt(b)&&b.value===v},du=function(b){return 31!==b.type},lA=function(b){return 31!==b.type&&4!==b.type},Do=function(b){var v=[],x=[];return b.forEach(function(w){if(4===w.type){if(0===x.length)throw new Error("Error parsing function args, zero tokens for arg");return v.push(x),void(x=[])}31!==w.type&&x.push(w)}),x.length&&v.push(x),v},cA=function(b,v){return 11===v&&12===b.type||28===v&&29===b.type||2===v&&3===b.type},kc=function(b){return 17===b.type||15===b.type},fr=function(b){return 16===b.type||kc(b)},Am=function(b){return b.length>1?[b[0],b[1]]:[b[0]]},Gr={type:17,number:0,flags:4},_p={type:16,number:50,flags:4},zo={type:16,number:100,flags:4},uA=function(b,v,x){var w=b[0],O=b[1];return[Di(w,v),Di(typeof O<"u"?O:w,x)]},Di=function(b,v){if(16===b.type)return b.number/100*v;if(cn(b))switch(b.unit){case"rem":case"em":return 16*b.number;default:return b.number}return b.number},Tc_parse=function(b,v){if(15===v.type)switch(v.unit){case"deg":return Math.PI*v.number/180;case"grad":return Math.PI/200*v.number;case"rad":return v.number;case"turn":return 2*Math.PI*v.number}throw new Error("Unsupported angle type")},rv=function(b){return 15===b.type&&("deg"===b.unit||"grad"===b.unit||"rad"===b.unit||"turn"===b.unit)},tl=function(b){switch(b.filter(Mt).map(function(x){return x.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Gr,Gr];case"to top":case"bottom":return nl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Gr,zo];case"to right":case"left":return nl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[zo,zo];case"to bottom":case"top":return nl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[zo,Gr];case"to left":case"right":return nl(270)}return 0},nl=function(b){return Math.PI*b/180},Kr_parse=function(b,v){if(18===v.type){var x=Ad[v.name];if(typeof x>"u")throw new Error('Attempting to parse an unsupported color function "'+v.name+'"');return x(b,v.values)}if(5===v.type){if(3===v.value.length){var w=v.value.substring(0,1),O=v.value.substring(1,2),U=v.value.substring(2,3);return Il(parseInt(w+w,16),parseInt(O+O,16),parseInt(U+U,16),1)}if(4===v.value.length){w=v.value.substring(0,1),O=v.value.substring(1,2),U=v.value.substring(2,3);var K=v.value.substring(3,4);return Il(parseInt(w+w,16),parseInt(O+O,16),parseInt(U+U,16),parseInt(K+K,16)/255)}if(6===v.value.length)return w=v.value.substring(0,2),O=v.value.substring(2,4),U=v.value.substring(4,6),Il(parseInt(w,16),parseInt(O,16),parseInt(U,16),1);if(8===v.value.length)return w=v.value.substring(0,2),O=v.value.substring(2,4),U=v.value.substring(4,6),K=v.value.substring(6,8),Il(parseInt(w,16),parseInt(O,16),parseInt(U,16),parseInt(K,16)/255)}if(20===v.type){var le=Rs[v.value.toUpperCase()];if(typeof le<"u")return le}return Rs.TRANSPARENT},Pl=function(b){return!(255&b)},pr=function(b){var v=255&b,x=255&b>>8,w=255&b>>16,O=255&b>>24;return v<255?"rgba("+O+","+w+","+x+","+v/255+")":"rgb("+O+","+w+","+x+")"},Il=function(b,v,x,w){return(b<<24|v<<16|x<<8|Math.round(255*w))>>>0},Rh=function(b,v){if(17===b.type)return b.number;if(16===b.type){var x=3===v?1:255;return 3===v?b.number/100*x:Math.round(b.number/100*x)}return 0},ha=function(b,v){var x=v.filter(lA);if(3===x.length){var w=x.map(Rh);return Il(w[0],w[1],w[2],1)}if(4===x.length){var le=x.map(Rh);return Il(le[0],le[1],le[2],le[3])}return 0};function zi(b,v,x){return x<0&&(x+=1),x>=1&&(x-=1),x<1/6?(v-b)*x*6+b:x<.5?v:x<2/3?6*(v-b)*(2/3-x)+b:b}var Ol=function(b,v){var x=v.filter(lA),w=x[0],O=x[1],U=x[2],K=x[3],le=(17===w.type?nl(w.number):Tc_parse(b,w))/(2*Math.PI),ae=fr(O)?O.number/100:0,je=fr(U)?U.number/100:0,Ye=typeof K<"u"&&fr(K)?Di(K,1):1;if(0===ae)return Il(255*je,255*je,255*je,1);var nt=je<=.5?je*(ae+1):je+ae-je*ae,St=2*je-nt,yn=zi(St,nt,le+1/3),on=zi(St,nt,le),sn=zi(St,nt,le-1/3);return Il(255*yn,255*on,255*sn,Ye)},Ad={hsl:Ol,hsla:Ol,rgb:ha,rgba:ha},Ia=function(b,v){return Kr_parse(b,vp.create(v).parseComponentValue())},Rs={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},AA={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(b,v){return v.map(function(x){if(Mt(x))switch(x.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Oa={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ir=function(b,v){var x=Kr_parse(b,v[0]),w=v[1];return w&&fr(w)?{color:x,stop:w}:{color:x,stop:null}},dd=function(b,v){var x=b[0],w=b[b.length-1];null===x.stop&&(x.stop=Gr),null===w.stop&&(w.stop=zo);for(var O=[],U=0,K=0;K<b.length;K++){var le=b[K].stop;if(null!==le){var ae=Di(le,v);O.push(ae>U?ae:U),U=ae}else O.push(null)}var je=null;for(K=0;K<O.length;K++){var Ye=O[K];if(null===Ye)null===je&&(je=K);else if(null!==je){for(var nt=K-je,yn=(Ye-O[je-1])/(nt+1),on=1;on<=nt;on++)O[je+on-1]=yn*on;je=null}}return b.map(function(sn,Mi){return{color:sn.color,stop:Math.max(Math.min(1,O[Mi]/v),0)}})},bp=function(b,v,x){var w="number"==typeof b?b:function(b,v,x){var w=v/2,O=x/2,U=Di(b[0],v)-w,K=O-Di(b[1],x);return(Math.atan2(K,U)+2*Math.PI)%(2*Math.PI)}(b,v,x),O=Math.abs(v*Math.sin(w))+Math.abs(x*Math.cos(w)),U=v/2,K=x/2,le=O/2,ae=Math.sin(w-Math.PI/2)*le,je=Math.cos(w-Math.PI/2)*le;return[O,U-je,U+je,K-ae,K+ae]},ka=function(b,v){return Math.sqrt(b*b+v*v)},fu=function(b,v,x,w,O){return[[0,0],[0,v],[b,0],[b,v]].reduce(function(K,le){var Ye=ka(x-le[0],w-le[1]);return(O?Ye<K.optimumDistance:Ye>K.optimumDistance)?{optimumCorner:le,optimumDistance:Ye}:K},{optimumDistance:O?1/0:-1/0,optimumCorner:null}).optimumCorner},pu=function(b,v){var x=nl(180),w=[];return Do(v).forEach(function(O,U){if(0===U){var K=O[0];if(20===K.type&&-1!==["top","left","right","bottom"].indexOf(K.value))return void(x=tl(O));if(rv(K))return void(x=(Tc_parse(b,K)+nl(270))%nl(360))}var le=Ir(b,O);w.push(le)}),{angle:x,stops:w,type:1}},hd="closest-side",hm="farthest-side",fa="closest-corner",fm="farthest-corner",pm="ellipse",Cp="contain",fd=function(b,v){var x=0,w=3,O=[],U=[];return Do(v).forEach(function(K,le){var ae=!0;if(0===le?ae=K.reduce(function(Ye,nt){if(Mt(nt))switch(nt.value){case"center":return U.push(_p),!1;case"top":case"left":return U.push(Gr),!1;case"right":case"bottom":return U.push(zo),!1}else if(fr(nt)||kc(nt))return U.push(nt),!1;return Ye},ae):1===le&&(ae=K.reduce(function(Ye,nt){if(Mt(nt))switch(nt.value){case"circle":return x=0,!1;case pm:return x=1,!1;case Cp:case hd:return w=0,!1;case hm:return w=1,!1;case fa:return w=2,!1;case"cover":case fm:return w=3,!1}else if(kc(nt)||fr(nt))return Array.isArray(w)||(w=[]),w.push(nt),!1;return Ye},ae)),ae){var je=Ir(b,K);O.push(je)}}),{size:w,shape:x,stops:O,position:U,type:2}},Uh_parse=function(b,v){if(22===v.type){var x={url:v.value,type:0};return b.cache.addImage(v.value),x}if(18===v.type){var w=vm[v.name];if(typeof w>"u")throw new Error('Attempting to parse an unsupported image function "'+v.name+'"');return w(b,v.values)}throw new Error("Unsupported image type "+v.type)};for(var vm={"linear-gradient":function(b,v){var x=nl(180),w=[];return Do(v).forEach(function(O,U){if(0===U){var K=O[0];if(20===K.type&&"to"===K.value)return void(x=tl(O));if(rv(K))return void(x=Tc_parse(b,K))}var le=Ir(b,O);w.push(le)}),{angle:x,stops:w,type:1}},"-moz-linear-gradient":pu,"-ms-linear-gradient":pu,"-o-linear-gradient":pu,"-webkit-linear-gradient":pu,"radial-gradient":function(b,v){var x=0,w=3,O=[],U=[];return Do(v).forEach(function(K,le){var ae=!0;if(0===le){var je=!1;ae=K.reduce(function(nt,St){if(je)if(Mt(St))switch(St.value){case"center":return U.push(_p),nt;case"top":case"left":return U.push(Gr),nt;case"right":case"bottom":return U.push(zo),nt}else(fr(St)||kc(St))&&U.push(St);else if(Mt(St))switch(St.value){case"circle":return x=0,!1;case pm:return x=1,!1;case"at":return je=!0,!1;case hd:return w=0,!1;case"cover":case hm:return w=1,!1;case Cp:case fa:return w=2,!1;case fm:return w=3,!1}else if(kc(St)||fr(St))return Array.isArray(w)||(w=[]),w.push(St),!1;return nt},ae)}if(ae){var Ye=Ir(b,K);O.push(Ye)}}),{size:w,shape:x,stops:O,position:U,type:2}},"-moz-radial-gradient":fd,"-ms-radial-gradient":fd,"-o-radial-gradient":fd,"-webkit-radial-gradient":fd,"-webkit-gradient":function(b,v){var x=nl(180),w=[],O=1;return Do(v).forEach(function(ae,je){var Ye=ae[0];if(0===je){if(Mt(Ye)&&"linear"===Ye.value)return void(O=1);if(Mt(Ye)&&"radial"===Ye.value)return void(O=2)}if(18===Ye.type)if("from"===Ye.name){var nt=Kr_parse(b,Ye.values[0]);w.push({stop:Gr,color:nt})}else if("to"===Ye.name)nt=Kr_parse(b,Ye.values[0]),w.push({stop:zo,color:nt});else if("color-stop"===Ye.name){var St=Ye.values.filter(lA);if(2===St.length){nt=Kr_parse(b,St[1]);var yn=St[0];Yl(yn)&&w.push({stop:{type:16,number:100*yn.number,flags:yn.flags},color:nt})}}}),1===O?{angle:(x+nl(180))%nl(360),stops:w,type:O}:{size:3,shape:0,stops:w,position:[],type:O}}},Qh={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(b,v){if(0===v.length)return[];var x=v[0];return 20===x.type&&"none"===x.value?[]:v.filter(function(w){return lA(w)&&function rr(b){return!(20===b.type&&"none"===b.value||18===b.type&&!vm[b.name])}(w)}).map(function(w){return Uh_parse(b,w)})}},ws={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(b,v){return v.map(function(x){if(Mt(x))switch(x.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},xp={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(b,v){return Do(v).map(function(x){return x.filter(fr)}).map(Am)}},ri={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(b,v){return Do(v).map(function(x){return x.filter(Mt).map(function(w){return w.value}).join(" ")}).map(na)}},na=function(b){switch(b){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},mi=function(b){return b.AUTO="auto",b.CONTAIN="contain",b.COVER="cover",b}(mi||{}),So={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(b,v){return Do(v).map(function(x){return x.filter(Vo)})}},Vo=function(b){return Mt(b)||fr(b)},Fa=function(b){return{name:"border-"+b+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ts=Fa("top"),_m=Fa("right"),Mp=Fa("bottom"),pd=Fa("left"),Hh=function(b){return{name:"border-radius-"+b,initialValue:"0 0",prefix:!1,type:1,parse:function(v,x){return Am(x.filter(fr))}}},c=Hh("top-left"),p=Hh("top-right"),C=Hh("bottom-right"),E=Hh("bottom-left"),T=function(b){return{name:"border-"+b+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(v,x){switch(x){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},$=T("top"),Te=T("right"),ct=T("bottom"),vt=T("left"),Ht=function(b){return{name:"border-"+b+"-width",initialValue:"0",type:0,prefix:!1,parse:function(v,x){return cn(x)?x.number:0}}},pn=Ht("top"),Xn=Ht("right"),vi=Ht("bottom"),Us=Ht("left"),Eo={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Qs={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(b,v){return"rtl"===v?1:0}},ia={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(b,v){return v.filter(Mt).reduce(function(x,w){return x|Lc(w.value)},0)}},Lc=function(b){switch(b){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},zh={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(b,v){switch(v){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Hs={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(b,v){return 20===v.type&&"normal"===v.value?0:17===v.type||15===v.type?v.number:0}},Nc=function(b){return b.NORMAL="normal",b.STRICT="strict",b}(Nc||{}),Vh={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(b,v){return"strict"===v?Nc.STRICT:Nc.NORMAL}},ov={name:"line-height",initialValue:"normal",prefix:!1,type:4},Bp=function(b,v){return Mt(b)&&"normal"===b.value?1.2*v:17===b.type?v*b.number:fr(b)?Di(b,v):v},bo={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(b,v){return 20===v.type&&"none"===v.value?null:Uh_parse(b,v)}},Jl={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(b,v){return"inside"===v?0:1}},Dp={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(b,v){switch(v){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},jh=function(b){return{name:"margin-"+b,initialValue:"0",prefix:!1,type:4}},sv=jh("top"),gd=jh("right"),rl=jh("bottom"),ym=jh("left"),bm={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(b,v){return v.filter(Mt).map(function(x){switch(x.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Gh={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(b,v){return"break-word"===v?"break-word":"normal"}},wm=function(b){return{name:"padding-"+b,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},J5=wm("top"),ns=wm("right"),Xb=wm("bottom"),eM=wm("left"),Sp={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(b,v){switch(v){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},tM={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(b,v){switch(v){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},nM={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(b,v){return 1===v.length&&cd(v[0],"none")?[]:Do(v).map(function(x){for(var w={color:Rs.TRANSPARENT,offsetX:Gr,offsetY:Gr,blur:Gr},O=0,U=0;U<x.length;U++){var K=x[U];kc(K)?(0===O?w.offsetX=K:1===O?w.offsetY=K:w.blur=K,O++):w.color=Kr_parse(b,K)}return w})}},iM={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(b,v){switch(v){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},rM={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(b,v){if(20===v.type&&"none"===v.value)return null;if(18===v.type){var x=av[v.name];if(typeof x>"u")throw new Error('Attempting to parse an unsupported transform function "'+v.name+'"');return x(v.values)}return null}},av={matrix:function(b){var v=b.filter(function(x){return 17===x.type}).map(function(x){return x.number});return 6===v.length?v:null},matrix3d:function(b){var v=b.filter(function(ae){return 17===ae.type}).map(function(ae){return ae.number});return 16===v.length?[v[0],v[1],v[4],v[5],v[12],v[13]]:null}},Ep={type:16,number:50,flags:4},co=[Ep,Ep],an={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(b,v){var x=v.filter(fr);return 2!==x.length?co:[x[0],x[1]]}},Gn={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(b,v){switch(v){case"hidden":return 1;case"collapse":return 2;default:return 0}}},uo=function(b){return b.NORMAL="normal",b.BREAK_ALL="break-all",b.KEEP_ALL="keep-all",b}(uo||{}),ec={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(b,v){switch(v){case"break-all":return uo.BREAK_ALL;case"keep-all":return uo.KEEP_ALL;default:return uo.NORMAL}}},ra={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(b,v){if(20===v.type)return{auto:!0,order:0};if(Yl(v))return{auto:!1,order:v.number};throw new Error("Invalid z-index number parsed")}},Ta={name:"time",parse:function(b,v){if(15===v.type)switch(v.unit.toLowerCase()){case"s":return 1e3*v.number;case"ms":return v.number}throw new Error("Unsupported time type")}},Kh={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(b,v){return Yl(v)?v.number:1}},to={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jo={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(b,v){return v.filter(Mt).map(function(x){switch(x.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(x){return 0!==x})}},tc={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(b,v){var x=[],w=[];return v.forEach(function(O){switch(O.type){case 20:case 0:x.push(O.value);break;case 17:x.push(O.number.toString());break;case 4:w.push(x.join(" ")),x.length=0}}),x.length&&w.push(x.join(" ")),w.map(function(O){return-1===O.indexOf(" ")?O:"'"+O+"'"})}},ci={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Pp={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(b,v){return Yl(v)?v.number:Mt(v)&&"bold"===v.value?700:400}},Jb={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(b,v){return v.filter(Mt).map(function(x){return x.value})}},Wh={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(b,v){switch(v){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Fi=function(b,v){return!!(b&v)},Ip={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(b,v){if(0===v.length)return[];var x=v[0];return 20===x.type&&"none"===x.value?[]:v}},$h={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(b,v){if(0===v.length)return null;var x=v[0];if(20===x.type&&"none"===x.value)return null;for(var w=[],O=v.filter(du),U=0;U<O.length;U++){var K=O[U],le=O[U+1];if(20===K.type){var ae=le&&Yl(le)?le.number:1;w.push({counter:K.value,increment:ae})}}return w}},vu={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(b,v){if(0===v.length)return[];for(var x=[],w=v.filter(du),O=0;O<w.length;O++){var U=w[O],K=w[O+1];if(Mt(U)&&"none"!==U.value){var le=K&&Yl(K)?K.number:0;x.push({counter:U.value,reset:le})}}return x}},Op={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(b,v){return v.filter(cn).map(function(x){return Ta.parse(b,x)})}},e2={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(b,v){if(0===v.length)return null;var x=v[0];if(20===x.type&&"none"===x.value)return null;var w=[],O=v.filter(Nh);if(O.length%2!=0)return null;for(var U=0;U<O.length;U+=2)w.push({open:O[U].value,close:O[U+1].value});return w}},_u=function(b,v,x){if(!b)return"";var w=b[Math.min(v,b.length-1)];return w?x?w.open:w.close:""},Cm={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(b,v){return 1===v.length&&cd(v[0],"none")?[]:Do(v).map(function(x){for(var w={color:255,offsetX:Gr,offsetY:Gr,blur:Gr,spread:Gr,inset:!1},O=0,U=0;U<x.length;U++){var K=x[U];cd(K,"inset")?w.inset=!0:kc(K)?(0===O?w.offsetX=K:1===O?w.offsetY=K:2===O?w.blur=K:w.spread=K,O++):w.color=Kr_parse(b,K)}return w})}},md={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(b,v){var w=[];return v.filter(Mt).forEach(function(O){switch(O.value){case"stroke":w.push(1);break;case"fill":w.push(0);break;case"markers":w.push(2)}}),[0,1,2].forEach(function(O){-1===w.indexOf(O)&&w.push(O)}),w}},xi={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},lv={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(b,v){return cn(v)?v.number:0}},kp=function(){function b(v,x){var w,O;this.animationDuration=fn(v,Op,x.animationDuration),this.backgroundClip=fn(v,AA,x.backgroundClip),this.backgroundColor=fn(v,Oa,x.backgroundColor),this.backgroundImage=fn(v,Qh,x.backgroundImage),this.backgroundOrigin=fn(v,ws,x.backgroundOrigin),this.backgroundPosition=fn(v,xp,x.backgroundPosition),this.backgroundRepeat=fn(v,ri,x.backgroundRepeat),this.backgroundSize=fn(v,So,x.backgroundSize),this.borderTopColor=fn(v,ts,x.borderTopColor),this.borderRightColor=fn(v,_m,x.borderRightColor),this.borderBottomColor=fn(v,Mp,x.borderBottomColor),this.borderLeftColor=fn(v,pd,x.borderLeftColor),this.borderTopLeftRadius=fn(v,c,x.borderTopLeftRadius),this.borderTopRightRadius=fn(v,p,x.borderTopRightRadius),this.borderBottomRightRadius=fn(v,C,x.borderBottomRightRadius),this.borderBottomLeftRadius=fn(v,E,x.borderBottomLeftRadius),this.borderTopStyle=fn(v,$,x.borderTopStyle),this.borderRightStyle=fn(v,Te,x.borderRightStyle),this.borderBottomStyle=fn(v,ct,x.borderBottomStyle),this.borderLeftStyle=fn(v,vt,x.borderLeftStyle),this.borderTopWidth=fn(v,pn,x.borderTopWidth),this.borderRightWidth=fn(v,Xn,x.borderRightWidth),this.borderBottomWidth=fn(v,vi,x.borderBottomWidth),this.borderLeftWidth=fn(v,Us,x.borderLeftWidth),this.boxShadow=fn(v,Cm,x.boxShadow),this.color=fn(v,Eo,x.color),this.direction=fn(v,Qs,x.direction),this.display=fn(v,ia,x.display),this.float=fn(v,zh,x.cssFloat),this.fontFamily=fn(v,tc,x.fontFamily),this.fontSize=fn(v,ci,x.fontSize),this.fontStyle=fn(v,Wh,x.fontStyle),this.fontVariant=fn(v,Jb,x.fontVariant),this.fontWeight=fn(v,Pp,x.fontWeight),this.letterSpacing=fn(v,Hs,x.letterSpacing),this.lineBreak=fn(v,Vh,x.lineBreak),this.lineHeight=fn(v,ov,x.lineHeight),this.listStyleImage=fn(v,bo,x.listStyleImage),this.listStylePosition=fn(v,Jl,x.listStylePosition),this.listStyleType=fn(v,Dp,x.listStyleType),this.marginTop=fn(v,sv,x.marginTop),this.marginRight=fn(v,gd,x.marginRight),this.marginBottom=fn(v,rl,x.marginBottom),this.marginLeft=fn(v,ym,x.marginLeft),this.opacity=fn(v,Kh,x.opacity);var U=fn(v,bm,x.overflow);this.overflowX=U[0],this.overflowY=U[U.length>1?1:0],this.overflowWrap=fn(v,Gh,x.overflowWrap),this.paddingTop=fn(v,J5,x.paddingTop),this.paddingRight=fn(v,ns,x.paddingRight),this.paddingBottom=fn(v,Xb,x.paddingBottom),this.paddingLeft=fn(v,eM,x.paddingLeft),this.paintOrder=fn(v,md,x.paintOrder),this.position=fn(v,tM,x.position),this.textAlign=fn(v,Sp,x.textAlign),this.textDecorationColor=fn(v,to,null!==(w=x.textDecorationColor)&&void 0!==w?w:x.color),this.textDecorationLine=fn(v,jo,null!==(O=x.textDecorationLine)&&void 0!==O?O:x.textDecoration),this.textShadow=fn(v,nM,x.textShadow),this.textTransform=fn(v,iM,x.textTransform),this.transform=fn(v,rM,x.transform),this.transformOrigin=fn(v,an,x.transformOrigin),this.visibility=fn(v,Gn,x.visibility),this.webkitTextStrokeColor=fn(v,xi,x.webkitTextStrokeColor),this.webkitTextStrokeWidth=fn(v,lv,x.webkitTextStrokeWidth),this.wordBreak=fn(v,ec,x.wordBreak),this.zIndex=fn(v,ra,x.zIndex)}return b.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},b.prototype.isTransparent=function(){return Pl(this.backgroundColor)},b.prototype.isTransformed=function(){return null!==this.transform},b.prototype.isPositioned=function(){return 0!==this.position},b.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},b.prototype.isFloating=function(){return 0!==this.float},b.prototype.isInlineLevel=function(){return Fi(this.display,4)||Fi(this.display,33554432)||Fi(this.display,268435456)||Fi(this.display,536870912)||Fi(this.display,67108864)||Fi(this.display,134217728)},b}(),Rc=function(){return function b(v,x){this.content=fn(v,Ip,x.content),this.quotes=fn(v,e2,x.quotes)}}(),Fp=function(){return function b(v,x){this.counterIncrement=fn(v,$h,x.counterIncrement),this.counterReset=fn(v,vu,x.counterReset)}}(),fn=function(b,v,x){var w=new Sl,O=null!==x&&typeof x<"u"?x.toString():v.initialValue;w.write(O);var U=new vp(w.read());switch(v.type){case 2:var K=U.parseComponentValue();return v.parse(b,Mt(K)?K.value:v.initialValue);case 0:return v.parse(b,U.parseComponentValue());case 1:return v.parse(b,U.parseComponentValues());case 4:return U.parseComponentValue();case 3:switch(v.format){case"angle":return Tc_parse(b,U.parseComponentValue());case"color":return Kr_parse(b,U.parseComponentValue());case"image":return Uh_parse(b,U.parseComponentValue());case"length":var le=U.parseComponentValue();return kc(le)?le:Gr;case"length-percentage":var ae=U.parseComponentValue();return fr(ae)?ae:Gr;case"time":return Ta.parse(b,U.parseComponentValue())}}},Cs=function(b,v){var x=function(b){switch(b.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(b);return 1===x||v===x},ro=function(){return function b(v,x){this.context=v,this.textNodes=[],this.elements=[],this.flags=0,Cs(x,3),this.styles=new kp(v,window.getComputedStyle(x,null)),xv(x)&&(this.styles.animationDuration.some(function(w){return w>0})&&(x.style.animationDuration="0s"),null!==this.styles.transform&&(x.style.transform="none")),this.bounds=xe(this.context,x),Cs(x,4)&&(this.flags|=16)}}(),dA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hA=typeof Uint8Array>"u"?[]:new Uint8Array(256),La=0;La<64;La++)hA[dA.charCodeAt(La)]=La;for(var uM=function(b,v,x){return b.slice?b.slice(v,x):new Uint16Array(Array.prototype.slice.call(b,v,x))},V3=function(){function b(v,x,w,O,U,K){this.initialValue=v,this.errorValue=x,this.highStart=w,this.highValueIndex=O,this.index=U,this.data=K}return b.prototype.get=function(v){var x;if(v>=0){if(v<55296||v>56319&&v<=65535)return this.data[x=((x=this.index[v>>5])<<2)+(31&v)];if(v<=65535)return this.data[x=((x=this.index[2048+(v-55296>>5)])<<2)+(31&v)];if(v<this.highStart)return x=this.index[x=2080+(v>>11)],this.data[x=((x=this.index[x+=v>>5&63])<<2)+(31&v)];if(v<=1114111)return this.data[this.highValueIndex]}return this.errorValue},b}(),AM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j3=typeof Uint8Array>"u"?[]:new Uint8Array(256),fv=0;fv<64;fv++)j3[AM.charCodeAt(fv)]=fv;var gv=8,Bm=9,Dm=11,s2=12,fM=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];if(String.fromCodePoint)return String.fromCodePoint.apply(String,b);var x=b.length;if(!x)return"";for(var w=[],O=-1,U="";++O<x;){var K=b[O];K<=65535?w.push(K):w.push(55296+((K-=65536)>>10),K%1024+56320),(O+1===x||w.length>16384)&&(U+=String.fromCharCode.apply(String,w),w.length=0)}return U},G3=function(b,v){var x=function(b){var w,U,K,le,ae,v=.75*b.length,x=b.length,O=0;"="===b[b.length-1]&&(v--,"="===b[b.length-2]&&v--);var je=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(v):new Array(v),Ye=Array.isArray(je)?je:new Uint8Array(je);for(w=0;w<x;w+=4)U=hA[b.charCodeAt(w)],K=hA[b.charCodeAt(w+1)],le=hA[b.charCodeAt(w+2)],ae=hA[b.charCodeAt(w+3)],Ye[O++]=U<<2|K>>4,Ye[O++]=(15&K)<<4|le>>2,Ye[O++]=(3&le)<<6|63&ae;return je}(b),w=Array.isArray(x)?function(b){for(var v=b.length,x=[],w=0;w<v;w+=4)x.push(b[w+3]<<24|b[w+2]<<16|b[w+1]<<8|b[w]);return x}(x):new Uint32Array(x),O=Array.isArray(x)?function(b){for(var v=b.length,x=[],w=0;w<v;w+=2)x.push(b[w+1]<<8|b[w]);return x}(x):new Uint16Array(x),K=uM(O,12,w[4]/2),le=2===w[5]?uM(O,(24+w[4])/2):function(b,v,x){return b.slice?b.slice(v,x):new Uint32Array(Array.prototype.slice.call(b,v,x))}(w,Math.ceil((24+w[4])/4));return new V3(w[0],w[1],w[2],w[3],K,le)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),Lp=function(b){return G3.get(b)},ga=function(b,v,x){var w=x-2,O=v[w],U=v[x-1],K=v[x];if(2===U&&3===K)return"\xd7";if(2===U||3===U||4===U||2===K||3===K||4===K)return"\xf7";if(U===gv&&-1!==[gv,Bm,Dm,s2].indexOf(K)||(U===Dm||U===Bm)&&(K===Bm||10===K)||(U===s2||10===U)&&10===K||13===K||5===K||7===K||1===U)return"\xd7";if(13===U&&14===K){for(;5===O;)O=v[--w];if(14===O)return"\xd7"}if(15===U&&15===K){for(var le=0;15===O;)le++,O=v[--w];if(le%2==0)return"\xd7"}return"\xf7"},pM=function(b){var v=function(b){for(var v=[],x=0,w=b.length;x<w;){var O=b.charCodeAt(x++);if(O>=55296&&O<=56319&&x<w){var U=b.charCodeAt(x++);56320==(64512&U)?v.push(((1023&O)<<10)+(1023&U)+65536):(v.push(O),x--)}else v.push(O)}return v}(b),x=v.length,w=0,O=0,U=v.map(Lp);return{next:function(){if(w>=x)return{done:!0,value:null};for(var K="\xd7";w<x&&"\xd7"===(K=ga(0,U,++w)););if("\xd7"!==K||w===x){var le=fM.apply(null,v.slice(O,w));return O=w,{value:le,done:!1}}return{done:!0,value:null}}}},ic=function(b){return 0===b[0]&&255===b[1]&&0===b[2]&&255===b[3]},yv=function(b,v,x,w,O){var U="http://www.w3.org/2000/svg",K=document.createElementNS(U,"svg"),le=document.createElementNS(U,"foreignObject");return K.setAttributeNS(null,"width",b.toString()),K.setAttributeNS(null,"height",v.toString()),le.setAttributeNS(null,"width","100%"),le.setAttributeNS(null,"height","100%"),le.setAttributeNS(null,"x",x.toString()),le.setAttributeNS(null,"y",w.toString()),le.setAttributeNS(null,"externalResourcesRequired","true"),K.appendChild(le),le.appendChild(O),K},bv=function(b){return new Promise(function(v,x){var w=new Image;w.onload=function(){return v(w)},w.onerror=x,w.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(b))})},is={get SUPPORT_RANGE_BOUNDS(){var b=function(b){if(b.createRange){var x=b.createRange();if(x.getBoundingClientRect){var w=b.createElement("boundtest");w.style.height="123px",w.style.display="block",b.body.appendChild(w),x.selectNode(w);var O=x.getBoundingClientRect(),U=Math.round(O.height);if(b.body.removeChild(w),123===U)return!0}}return!1}(document);return Object.defineProperty(is,"SUPPORT_RANGE_BOUNDS",{value:b}),b},get SUPPORT_WORD_BREAKING(){var b=is.SUPPORT_RANGE_BOUNDS&&function(b){var v=b.createElement("boundtest");v.style.width="50px",v.style.display="block",v.style.fontSize="12px",v.style.letterSpacing="0px",v.style.wordSpacing="0px",b.body.appendChild(v);var x=b.createRange();v.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var w=v.firstChild,O=Ne(w.data).map(function(ae){return Ce(ae)}),U=0,K={},le=O.every(function(ae,je){x.setStart(w,U),x.setEnd(w,U+ae.length);var Ye=x.getBoundingClientRect();U+=ae.length;var nt=Ye.x>K.x||Ye.y>K.y;return K=Ye,0===je||nt});return b.body.removeChild(v),le}(document);return Object.defineProperty(is,"SUPPORT_WORD_BREAKING",{value:b}),b},get SUPPORT_SVG_DRAWING(){var b=function(b){var v=new Image,x=b.createElement("canvas"),w=x.getContext("2d");if(!w)return!1;v.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{w.drawImage(v,0,0),x.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(is,"SUPPORT_SVG_DRAWING",{value:b}),b},get SUPPORT_FOREIGNOBJECT_DRAWING(){var b="function"==typeof Array.from&&"function"==typeof window.fetch?function(b){var v=b.createElement("canvas"),x=100;v.width=x,v.height=x;var w=v.getContext("2d");if(!w)return Promise.reject(!1);w.fillStyle="rgb(0, 255, 0)",w.fillRect(0,0,x,x);var O=new Image,U=v.toDataURL();O.src=U;var K=yv(x,x,0,0,O);return w.fillStyle="red",w.fillRect(0,0,x,x),bv(K).then(function(le){w.drawImage(le,0,0);var ae=w.getImageData(0,0,x,x).data;w.fillStyle="red",w.fillRect(0,0,x,x);var je=b.createElement("div");return je.style.backgroundImage="url("+U+")",je.style.height=x+"px",ic(ae)?bv(yv(x,x,0,0,je)):Promise.reject(!1)}).then(function(le){return w.drawImage(le,0,0),ic(w.getImageData(0,0,x,x).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(is,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:b}),b},get SUPPORT_CORS_IMAGES(){var b=typeof(new Image).crossOrigin<"u";return Object.defineProperty(is,"SUPPORT_CORS_IMAGES",{value:b}),b},get SUPPORT_RESPONSE_TYPE(){var b="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(is,"SUPPORT_RESPONSE_TYPE",{value:b}),b},get SUPPORT_CORS_XHR(){var b="withCredentials"in new XMLHttpRequest;return Object.defineProperty(is,"SUPPORT_CORS_XHR",{value:b}),b},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var b=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(is,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:b}),b}},vd=function(){return function b(v,x){this.text=v,this.bounds=x}}(),Em=function(b,v){var x=v.ownerDocument;if(x){var w=x.createElement("html2canvaswrapper");w.appendChild(v.cloneNode(!0));var O=v.parentNode;if(O){O.replaceChild(w,v);var U=xe(b,w);return w.firstChild&&O.replaceChild(w.firstChild,w),U}}return _e.EMPTY},Pm=function(b,v,x){var w=b.ownerDocument;if(!w)throw new Error("Node has no owner document");var O=w.createRange();return O.setStart(b,v),O.setEnd(b,v+x),O},bu=function(b){if(is.SUPPORT_NATIVE_TEXT_SEGMENTATION){var v=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(v.segment(b)).map(function(x){return x.segment})}return function(b){for(var w,v=pM(b),x=[];!(w=v.next()).done;)w.value&&x.push(w.value.slice());return x}(b)},c2=function(b,v){return 0!==v.letterSpacing?bu(b):function(b,v){if(is.SUPPORT_NATIVE_TEXT_SEGMENTATION){var x=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(x.segment(b)).map(function(w){return w.segment})}return vM(b,v)}(b,v)},K3=[32,160,4961,65792,65793,4153,4241],vM=function(b,v){for(var O,x=function(b,v){var x=Ne(b),w=rm(x,v),O=w[0],U=w[1],K=w[2],le=x.length,ae=0,je=0;return{next:function(){if(je>=le)return{done:!0,value:null};for(var Ye=Vn;je<le&&(Ye=Wb(x,U,O,++je,K))===Vn;);if(Ye!==Vn||je===le){var nt=new Cl(x,Ye,ae,je);return ae=je,{value:nt,done:!1}}return{done:!0,value:null}}}}(b,{lineBreak:v.lineBreak,wordBreak:"break-word"===v.overflowWrap?"break-word":v.wordBreak}),w=[],U=function(){if(O.value){var K=O.value.slice(),le=Ne(K),ae="";le.forEach(function(je){-1===K3.indexOf(je)?ae+=Ce(je):(ae.length&&w.push(ae),w.push(Ce(je)),ae="")}),ae.length&&w.push(ae)}};!(O=x.next()).done;)U();return w},_M=function(){return function b(v,x,w){this.text=yM(x.data,w.textTransform),this.textBounds=function(b,v,x,w){var O=c2(v,x),U=[],K=0;return O.forEach(function(le){if(x.textDecorationLine.length||le.trim().length>0)if(is.SUPPORT_RANGE_BOUNDS){var ae=Pm(w,K,le.length).getClientRects();if(ae.length>1){var je=bu(le),Ye=0;je.forEach(function(St){U.push(new vd(St,_e.fromDOMRectList(b,Pm(w,Ye+K,St.length).getClientRects()))),Ye+=St.length})}else U.push(new vd(le,_e.fromDOMRectList(b,ae)))}else{var nt=w.splitText(le.length);U.push(new vd(le,Em(b,w))),w=nt}else is.SUPPORT_RANGE_BOUNDS||(w=w.splitText(le.length));K+=le.length}),U}(v,this.text,w,x)}}(),yM=function(b,v){switch(v){case 1:return b.toLowerCase();case 3:return b.replace(u2,Zh);case 2:return b.toUpperCase();default:return b}},u2=/(^|\s|:|-|\(|\))([a-z])/g,Zh=function(b,v,x){return b.length>0?v+x.toUpperCase():b},A2=function(b){function v(x,w){var O=b.call(this,x,w)||this;return O.src=w.currentSrc||w.src,O.intrinsicWidth=w.naturalWidth,O.intrinsicHeight=w.naturalHeight,O.context.cache.addImage(O.src),O}return Ve(v,b),v}(ro),d2=function(b){function v(x,w){var O=b.call(this,x,w)||this;return O.canvas=w,O.intrinsicWidth=w.width,O.intrinsicHeight=w.height,O}return Ve(v,b),v}(ro),h2=function(b){function v(x,w){var O=b.call(this,x,w)||this,U=new XMLSerializer,K=xe(x,w);return w.setAttribute("width",K.width+"px"),w.setAttribute("height",K.height+"px"),O.svg="data:image/svg+xml,"+encodeURIComponent(U.serializeToString(w)),O.intrinsicWidth=w.width.baseVal.value,O.intrinsicHeight=w.height.baseVal.value,O.context.cache.addImage(O.svg),O}return Ve(v,b),v}(ro),f2=function(b){function v(x,w){var O=b.call(this,x,w)||this;return O.value=w.value,O}return Ve(v,b),v}(ro),wv=function(b){function v(x,w){var O=b.call(this,x,w)||this;return O.start=w.start,O.reversed="boolean"==typeof w.reversed&&!0===w.reversed,O}return Ve(v,b),v}(ro),Et=[{type:15,flags:0,unit:"px",number:3}],tr=[{type:16,flags:0,number:50}],br="checkbox",Up="radio",Qp="password",rc=707406591,Hp=function(b){function v(x,w){var O=b.call(this,x,w)||this;switch(O.type=w.type.toLowerCase(),O.checked=w.checked,O.value=function(b){var v=b.type===Qp?new Array(b.value.length+1).join("\u2022"):b.value;return 0===v.length?b.placeholder||"":v}(w),(O.type===br||O.type===Up)&&(O.styles.backgroundColor=3739148031,O.styles.borderTopColor=O.styles.borderRightColor=O.styles.borderBottomColor=O.styles.borderLeftColor=2779096575,O.styles.borderTopWidth=O.styles.borderRightWidth=O.styles.borderBottomWidth=O.styles.borderLeftWidth=1,O.styles.borderTopStyle=O.styles.borderRightStyle=O.styles.borderBottomStyle=O.styles.borderLeftStyle=1,O.styles.backgroundClip=[0],O.styles.backgroundOrigin=[0],O.bounds=function(b){return b.width>b.height?new _e(b.left+(b.width-b.height)/2,b.top,b.height,b.height):b.width<b.height?new _e(b.left,b.top+(b.height-b.width)/2,b.width,b.width):b}(O.bounds)),O.type){case br:O.styles.borderTopRightRadius=O.styles.borderTopLeftRadius=O.styles.borderBottomRightRadius=O.styles.borderBottomLeftRadius=Et;break;case Up:O.styles.borderTopRightRadius=O.styles.borderTopLeftRadius=O.styles.borderBottomRightRadius=O.styles.borderBottomLeftRadius=tr}return O}return Ve(v,b),v}(ro),Im=function(b){function v(x,w){var O=b.call(this,x,w)||this,U=w.options[w.selectedIndex||0];return O.value=U&&U.text||"",O}return Ve(v,b),v}(ro),p2=function(b){function v(x,w){var O=b.call(this,x,w)||this;return O.value=w.value,O}return Ve(v,b),v}(ro),bM=function(b){function v(x,w){var O=b.call(this,x,w)||this;O.src=w.src,O.width=parseInt(w.width,10)||0,O.height=parseInt(w.height,10)||0,O.backgroundColor=O.styles.backgroundColor;try{if(w.contentWindow&&w.contentWindow.document&&w.contentWindow.document.documentElement){O.tree=Cv(x,w.contentWindow.document.documentElement);var U=w.contentWindow.document.documentElement?Ia(x,getComputedStyle(w.contentWindow.document.documentElement).backgroundColor):Rs.TRANSPARENT,K=w.contentWindow.document.body?Ia(x,getComputedStyle(w.contentWindow.document.body).backgroundColor):Rs.TRANSPARENT;O.backgroundColor=Pl(U)?Pl(K)?O.styles.backgroundColor:K:U}}catch{}return O}return Ve(v,b),v}(ro),g2=["OL","UL","MENU"],xs=function(b,v,x,w){for(var O=v.firstChild,U=void 0;O;O=U)if(U=O.nextSibling,m2(O)&&O.data.trim().length>0)x.textNodes.push(new _M(b,O,x.styles));else if(_d(O))if(fA(O)&&O.assignedNodes)O.assignedNodes().forEach(function(le){return xs(b,le,x,w)});else{var K=Uc(b,O);K.styles.isVisible()&&(oc(O,K,w)?K.flags|=4:wu(K.styles)&&(K.flags|=2),-1!==g2.indexOf(O.tagName)&&(K.flags|=8),x.elements.push(K),O.shadowRoot?xs(b,O.shadowRoot,K,w):!Nm(O)&&!v2(O)&&!rs(O)&&xs(b,O,K,w))}},Uc=function(b,v){return Lm(v)?new A2(b,v):Tm(v)?new d2(b,v):v2(v)?new h2(b,v):Mv(v)?new f2(b,v):Bv(v)?new wv(b,v):Dv(v)?new Hp(b,v):rs(v)?new Im(b,v):Nm(v)?new p2(b,v):Ev(v)?new bM(b,v):new ro(b,v)},Cv=function(b,v){var x=Uc(b,v);return x.flags|=4,xs(b,v,x,x),x},oc=function(b,v,x){return v.styles.isPositionedWithZIndex()||v.styles.opacity<1||v.styles.isTransformed()||Fm(b)&&x.styles.isTransparent()},wu=function(b){return b.isPositioned()||b.isFloating()},m2=function(b){return b.nodeType===Node.TEXT_NODE},_d=function(b){return b.nodeType===Node.ELEMENT_NODE},xv=function(b){return _d(b)&&typeof b.style<"u"&&!Om(b)},Om=function(b){return"object"==typeof b.className},Mv=function(b){return"LI"===b.tagName},Bv=function(b){return"OL"===b.tagName},Dv=function(b){return"INPUT"===b.tagName},v2=function(b){return"svg"===b.tagName},Fm=function(b){return"BODY"===b.tagName},Tm=function(b){return"CANVAS"===b.tagName},Sv=function(b){return"VIDEO"===b.tagName},Lm=function(b){return"IMG"===b.tagName},Ev=function(b){return"IFRAME"===b.tagName},Pv=function(b){return"STYLE"===b.tagName},Nm=function(b){return"TEXTAREA"===b.tagName},rs=function(b){return"SELECT"===b.tagName},fA=function(b){return"SLOT"===b.tagName},Wr=function(b){return b.tagName.indexOf("-")>0},Rm=function(){function b(){this.counters={}}return b.prototype.getCounterValue=function(v){var x=this.counters[v];return x&&x.length?x[x.length-1]:1},b.prototype.getCounterValues=function(v){return this.counters[v]||[]},b.prototype.pop=function(v){var x=this;v.forEach(function(w){return x.counters[w].pop()})},b.prototype.parse=function(v){var x=this,w=v.counterIncrement,O=v.counterReset,U=!0;null!==w&&w.forEach(function(le){var ae=x.counters[le.counter];ae&&0!==le.increment&&(U=!1,ae.length||ae.push(1),ae[Math.max(0,ae.length-1)]+=le.increment)});var K=[];return U&&O.forEach(function(le){var ae=x.counters[le.counter];K.push(le.counter),ae||(ae=x.counters[le.counter]=[]),ae.push(le.reset)}),K},b}(),_2={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ov={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},wM={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},y2={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},yd=function(b,v,x,w,O,U){return b<v||b>x?zp(b,O,U.length>0):w.integers.reduce(function(K,le,ae){for(;b>=le;)b-=le,K+=w.values[ae];return K},"")+U},Yh=function(b,v,x,w){var O="";do{x||b--,O=w(b)+O,b/=v}while(b*v>=v);return O},Or=function(b,v,x,w,O){var U=x-v+1;return(b<0?"-":"")+(Yh(Math.abs(b),U,w,function(K){return Ce(Math.floor(K%U)+v)})+O)},bd=function(b,v,x){void 0===x&&(x=". ");var w=v.length;return Yh(Math.abs(b),w,!1,function(O){return v[Math.floor(O%w)]})+x},Qc=function(b,v,x,w,O,U){if(b<-9999||b>9999)return zp(b,4,O.length>0);var K=Math.abs(b),le=O;if(0===K)return v[0]+le;for(var ae=0;K>0&&ae<=4;ae++){var je=K%10;0===je&&Fi(U,1)&&""!==le?le=v[je]+le:je>1||1===je&&0===ae||1===je&&1===ae&&Fi(U,2)||1===je&&1===ae&&Fi(U,4)&&b>100||1===je&&ae>1&&Fi(U,8)?le=v[je]+(ae>0?x[ae-1]:"")+le:1===je&&ae>0&&(le=x[ae-1]+le),K=Math.floor(K/10)}return(b<0?w:"")+le},xd="\ub9c8\uc774\ub108\uc2a4",zp=function(b,v,x){var w=x?". ":"",O=x?"\u3001":"",U=x?", ":"",K=x?" ":"";switch(v){case 0:return"\u2022"+K;case 1:return"\u25e6"+K;case 2:return"\u25fe"+K;case 5:var le=Or(b,48,57,!0,w);return le.length<4?"0"+le:le;case 4:return bd(b,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",O);case 6:return yd(b,1,3999,_2,3,w).toLowerCase();case 7:return yd(b,1,3999,_2,3,w);case 8:return Or(b,945,969,!1,w);case 9:return Or(b,97,122,!1,w);case 10:return Or(b,65,90,!1,w);case 11:return Or(b,1632,1641,!0,w);case 12:case 49:return yd(b,1,9999,Ov,3,w);case 35:return yd(b,1,9999,Ov,3,w).toLowerCase();case 13:return Or(b,2534,2543,!0,w);case 14:case 30:return Or(b,6112,6121,!0,w);case 15:return bd(b,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",O);case 16:return bd(b,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",O);case 17:case 48:return Qc(b,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",O,14);case 47:return Qc(b,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",O,15);case 42:return Qc(b,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",O,14);case 41:return Qc(b,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",O,15);case 26:return Qc(b,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",O,0);case 25:return Qc(b,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",O,7);case 31:return Qc(b,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",xd,U,7);case 33:return Qc(b,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",xd,U,0);case 32:return Qc(b,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",xd,U,7);case 18:return Or(b,2406,2415,!0,w);case 20:return yd(b,1,19999,y2,3,w);case 21:return Or(b,2790,2799,!0,w);case 22:return Or(b,2662,2671,!0,w);case 22:return yd(b,1,10999,wM,3,w);case 23:return bd(b,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return bd(b,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Or(b,3302,3311,!0,w);case 28:return bd(b,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",O);case 29:return bd(b,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",O);case 34:return Or(b,3792,3801,!0,w);case 37:return Or(b,6160,6169,!0,w);case 38:return Or(b,4160,4169,!0,w);case 39:return Or(b,2918,2927,!0,w);case 40:return Or(b,1776,1785,!0,w);case 43:return Or(b,3046,3055,!0,w);case 44:return Or(b,3174,3183,!0,w);case 45:return Or(b,3664,3673,!0,w);case 46:return Or(b,3872,3881,!0,w);default:return Or(b,48,57,!0,w)}},Um="data-html2canvas-ignore",w2=function(){function b(v,x,w){if(this.context=v,this.options=w,this.scrolledElements=[],this.referenceElement=x,this.counters=new Rm,this.quoteDepth=0,!x.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(x.ownerDocument.documentElement,!1)}return b.prototype.toIFrame=function(v,x){var w=this,O=CM(v,x);if(!O.contentWindow)return Promise.reject("Unable to find iframe window");var U=v.defaultView.pageXOffset,K=v.defaultView.pageYOffset,le=O.contentWindow,ae=le.document,je=Fv(O).then(function(){return ue(w,void 0,void 0,function(){var Ye,nt;return ce(this,function(St){switch(St.label){case 0:return this.scrolledElements.forEach(Hm),le&&(le.scrollTo(x.left,x.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(le.scrollY!==x.top||le.scrollX!==x.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(le.scrollX-x.left,le.scrollY-x.top,0,0))),Ye=this.options.onclone,typeof(nt=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ae.fonts&&ae.fonts.ready?[4,ae.fonts.ready]:[3,2];case 1:St.sent(),St.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,$3(ae)]:[3,4];case 3:St.sent(),St.label=4;case 4:return"function"==typeof Ye?[2,Promise.resolve().then(function(){return Ye(ae,nt)}).then(function(){return O})]:[2,O]}})})});return ae.open(),ae.write(jp(document.doctype)+"<html></html>"),Lv(this.referenceElement.ownerDocument,U,K),ae.replaceChild(ae.adoptNode(this.documentElement),ae.documentElement),ae.close(),je},b.prototype.createElementClone=function(v){if(Cs(v,2),Tm(v))return this.createCanvasClone(v);if(Sv(v))return this.createVideoClone(v);if(Pv(v))return this.createStyleClone(v);var x=v.cloneNode(!1);return Lm(x)&&(Lm(v)&&v.currentSrc&&v.currentSrc!==v.src&&(x.src=v.currentSrc,x.srcset=""),"lazy"===x.loading&&(x.loading="eager")),Wr(x)?this.createCustomElementClone(x):x},b.prototype.createCustomElementClone=function(v){var x=document.createElement("html2canvascustomelement");return Tv(v.style,x),x},b.prototype.createStyleClone=function(v){try{var x=v.sheet;if(x&&x.cssRules){var w=[].slice.call(x.cssRules,0).reduce(function(U,K){return K&&"string"==typeof K.cssText?U+K.cssText:U},""),O=v.cloneNode(!1);return O.textContent=w,O}}catch(U){if(this.context.logger.error("Unable to access cssRules property",U),"SecurityError"!==U.name)throw U}return v.cloneNode(!1)},b.prototype.createCanvasClone=function(v){var x;if(this.options.inlineImages&&v.ownerDocument){var w=v.ownerDocument.createElement("img");try{return w.src=v.toDataURL(),w}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",v)}}var O=v.cloneNode(!1);try{O.width=v.width,O.height=v.height;var U=v.getContext("2d"),K=O.getContext("2d");if(K)if(!this.options.allowTaint&&U)K.putImageData(U.getImageData(0,0,v.width,v.height),0,0);else{var le=null!==(x=v.getContext("webgl2"))&&void 0!==x?x:v.getContext("webgl");if(le){var ae=le.getContextAttributes();!1===ae?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",v)}K.drawImage(v,0,0)}return O}catch{this.context.logger.info("Unable to clone canvas as it is tainted",v)}return O},b.prototype.createVideoClone=function(v){var x=v.ownerDocument.createElement("canvas");x.width=v.offsetWidth,x.height=v.offsetHeight;var w=x.getContext("2d");try{return w&&(w.drawImage(v,0,0,x.width,x.height),this.options.allowTaint||w.getImageData(0,0,x.width,x.height)),x}catch{this.context.logger.info("Unable to clone video as it is tainted",v)}var O=v.ownerDocument.createElement("canvas");return O.width=v.offsetWidth,O.height=v.offsetHeight,O},b.prototype.appendChildNode=function(v,x,w){(!_d(x)||!function(b){return"SCRIPT"===b.tagName}(x)&&!x.hasAttribute(Um)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(x)))&&(!this.options.copyStyles||!_d(x)||!Pv(x))&&v.appendChild(this.cloneNode(x,w))},b.prototype.cloneChildNodes=function(v,x,w){for(var O=this,U=v.shadowRoot?v.shadowRoot.firstChild:v.firstChild;U;U=U.nextSibling)if(_d(U)&&fA(U)&&"function"==typeof U.assignedNodes){var K=U.assignedNodes();K.length&&K.forEach(function(le){return O.appendChildNode(x,le,w)})}else this.appendChildNode(x,U,w)},b.prototype.cloneNode=function(v,x){if(m2(v))return document.createTextNode(v.data);if(!v.ownerDocument)return v.cloneNode(!1);var w=v.ownerDocument.defaultView;if(w&&_d(v)&&(xv(v)||Om(v))){var O=this.createElementClone(v);O.style.transitionProperty="none";var U=w.getComputedStyle(v),K=w.getComputedStyle(v,":before"),le=w.getComputedStyle(v,":after");this.referenceElement===v&&xv(O)&&(this.clonedReferenceElement=O),Fm(O)&&xM(O);var ae=this.counters.parse(new Fp(this.context,U)),je=this.resolvePseudoContent(v,O,K,Qm.BEFORE);Wr(v)&&(x=!0),Sv(v)||this.cloneChildNodes(v,O,x),je&&O.insertBefore(je,O.firstChild);var Ye=this.resolvePseudoContent(v,O,le,Qm.AFTER);return Ye&&O.appendChild(Ye),this.counters.pop(ae),(U&&(this.options.copyStyles||Om(v))&&!Ev(v)||x)&&Tv(U,O),(0!==v.scrollTop||0!==v.scrollLeft)&&this.scrolledElements.push([O,v.scrollLeft,v.scrollTop]),(Nm(v)||rs(v))&&(Nm(O)||rs(O))&&(O.value=v.value),O}return v.cloneNode(!1)},b.prototype.resolvePseudoContent=function(v,x,w,O){var U=this;if(w){var K=w.content,le=x.ownerDocument;if(le&&K&&"none"!==K&&"-moz-alt-content"!==K&&"none"!==w.display){this.counters.parse(new Fp(this.context,w));var ae=new Rc(this.context,w),je=le.createElement("html2canvaspseudoelement");Tv(w,je),ae.content.forEach(function(nt){if(0===nt.type)je.appendChild(le.createTextNode(nt.value));else if(22===nt.type){var St=le.createElement("img");St.src=nt.value,St.style.opacity="1",je.appendChild(St)}else if(18===nt.type){if("attr"===nt.name){var yn=nt.values.filter(Mt);yn.length&&je.appendChild(le.createTextNode(v.getAttribute(yn[0].value)||""))}else if("counter"===nt.name){var on=nt.values.filter(lA),Mi=on[1];if((sn=on[0])&&Mt(sn)){var Pn=U.counters.getCounterValue(sn.value),xn=Mi&&Mt(Mi)?Dp.parse(U.context,Mi.value):3;je.appendChild(le.createTextNode(zp(Pn,xn,!1)))}}else if("counters"===nt.name){var sn,wr=nt.values.filter(lA),Ti=wr[1];if(Mi=wr[2],(sn=wr[0])&&Mt(sn)){var hi=U.counters.getCounterValues(sn.value),mn=Mi&&Mt(Mi)?Dp.parse(U.context,Mi.value):3,ur=Ti&&0===Ti.type?Ti.value:"",ar=hi.map(function(Na){return zp(Na,mn,!1)}).join(ur);je.appendChild(le.createTextNode(ar))}}}else if(20===nt.type)switch(nt.value){case"open-quote":je.appendChild(le.createTextNode(_u(ae.quotes,U.quoteDepth++,!0)));break;case"close-quote":je.appendChild(le.createTextNode(_u(ae.quotes,--U.quoteDepth,!1)));break;default:je.appendChild(le.createTextNode(nt.value))}}),je.className=zm+" "+Nv;var Ye=O===Qm.BEFORE?" "+zm:" "+Nv;return Om(x)?x.className.baseValue+=Ye:x.className+=Ye,je}}},b.destroy=function(v){return!!v.parentNode&&(v.parentNode.removeChild(v),!0)},b}(),Qm=function(b){return b[b.BEFORE=0]="BEFORE",b[b.AFTER=1]="AFTER",b}(Qm||{}),CM=function(b,v){var x=b.createElement("iframe");return x.className="html2canvas-container",x.style.visibility="hidden",x.style.position="fixed",x.style.left="-10000px",x.style.top="0px",x.style.border="0",x.width=v.width.toString(),x.height=v.height.toString(),x.scrolling="no",x.setAttribute(Um,"true"),b.body.appendChild(x),x},W3=function(b){return new Promise(function(v){b.complete?v():b.src?(b.onload=v,b.onerror=v):v()})},$3=function(b){return Promise.all([].slice.call(b.images,0).map(W3))},Fv=function(b){return new Promise(function(v,x){var w=b.contentWindow;if(!w)return x("No window assigned for iframe");var O=w.document;w.onload=b.onload=function(){w.onload=b.onload=null;var U=setInterval(function(){O.body.childNodes.length>0&&"complete"===O.readyState&&(clearInterval(U),v(b))},50)}})},Vp=["all","d","content"],Tv=function(b,v){for(var x=b.length-1;x>=0;x--){var w=b.item(x);-1===Vp.indexOf(w)&&v.style.setProperty(w,b.getPropertyValue(w))}return v},jp=function(b){var v="";return b&&(v+="<!DOCTYPE ",b.name&&(v+=b.name),b.internalSubset&&(v+=b.internalSubset),b.publicId&&(v+='"'+b.publicId+'"'),b.systemId&&(v+='"'+b.systemId+'"'),v+=">"),v},Lv=function(b,v,x){b&&b.defaultView&&(v!==b.defaultView.pageXOffset||x!==b.defaultView.pageYOffset)&&b.defaultView.scrollTo(v,x)},Hm=function(b){var v=b[0],w=b[2];v.scrollLeft=b[1],v.scrollTop=w},zm="___html2canvas___pseudoelement_before",Nv="___html2canvas___pseudoelement_after",lc='{\n    content: "" !important;\n    display: none !important;\n}',xM=function(b){Vm(b,"."+zm+":before"+lc+"\n         ."+Nv+":after"+lc)},Vm=function(b,v){var x=b.ownerDocument;if(x){var w=x.createElement("style");w.textContent=v,b.appendChild(w)}},jm=function(){function b(){}return b.getOrigin=function(v){var x=b._link;return x?(x.href=v,x.href=x.href,x.protocol+x.hostname+x.port):"about:blank"},b.isSameOrigin=function(v){return b.getOrigin(v)===b._origin},b.setContext=function(v){b._link=v.document.createElement("a"),b._origin=b.getOrigin(v.location.href)},b._origin="about:blank",b}(),x2=function(){function b(v,x){this.context=v,this._options=x,this._cache={}}return b.prototype.addImage=function(v){var x=Promise.resolve();return this.has(v)||(Wm(v)||M2(v))&&(this._cache[v]=this.loadImage(v)).catch(function(){}),x},b.prototype.match=function(v){return this._cache[v]},b.prototype.loadImage=function(v){return ue(this,void 0,void 0,function(){var x,w,O,U,K=this;return ce(this,function(le){switch(le.label){case 0:return x=jm.isSameOrigin(v),w=!Km(v)&&!0===this._options.useCORS&&is.SUPPORT_CORS_IMAGES&&!x,O=!Km(v)&&!x&&!Wm(v)&&"string"==typeof this._options.proxy&&is.SUPPORT_CORS_XHR&&!w,x||!1!==this._options.allowTaint||Km(v)||Wm(v)||O||w?(U=v,O?[4,this.proxy(U)]:[3,2]):[2];case 1:U=le.sent(),le.label=2;case 2:return this.context.logger.debug("Added image "+v.substring(0,256)),[4,new Promise(function(ae,je){var Ye=new Image;Ye.onload=function(){return ae(Ye)},Ye.onerror=je,(B2(U)||w)&&(Ye.crossOrigin="anonymous"),Ye.src=U,!0===Ye.complete&&setTimeout(function(){return ae(Ye)},500),K._options.imageTimeout>0&&setTimeout(function(){return je("Timed out ("+K._options.imageTimeout+"ms) loading image")},K._options.imageTimeout)})];case 3:return[2,le.sent()]}})})},b.prototype.has=function(v){return typeof this._cache[v]<"u"},b.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},b.prototype.proxy=function(v){var x=this,w=this._options.proxy;if(!w)throw new Error("No proxy defined");var O=v.substring(0,256);return new Promise(function(U,K){var le=is.SUPPORT_RESPONSE_TYPE?"blob":"text",ae=new XMLHttpRequest;ae.onload=function(){if(200===ae.status)if("text"===le)U(ae.response);else{var nt=new FileReader;nt.addEventListener("load",function(){return U(nt.result)},!1),nt.addEventListener("error",function(St){return K(St)},!1),nt.readAsDataURL(ae.response)}else K("Failed to proxy resource "+O+" with status code "+ae.status)},ae.onerror=K;var je=w.indexOf("?")>-1?"&":"?";if(ae.open("GET",""+w+je+"url="+encodeURIComponent(v)+"&responseType="+le),"text"!==le&&ae instanceof XMLHttpRequest&&(ae.responseType=le),x._options.imageTimeout){var Ye=x._options.imageTimeout;ae.timeout=Ye,ae.ontimeout=function(){return K("Timed out ("+Ye+"ms) proxying "+O)}}ae.send()})},b}(),Gm=/^data:image\/svg\+xml/i,Rv=/^data:image\/.*;base64,/i,MM=/^data:image\/.*/i,M2=function(b){return is.SUPPORT_SVG_DRAWING||!BM(b)},Km=function(b){return MM.test(b)},B2=function(b){return Rv.test(b)},Wm=function(b){return"blob"===b.substr(0,4)},BM=function(b){return"svg"===b.substr(-3).toLowerCase()||Gm.test(b)},hn=function(){function b(v,x){this.type=0,this.x=v,this.y=x}return b.prototype.add=function(v,x){return new b(this.x+v,this.y+x)},b}(),kl=function(b,v,x){return new hn(b.x+(v.x-b.x)*x,b.y+(v.y-b.y)*x)},$m=function(){function b(v,x,w,O){this.type=1,this.start=v,this.startControl=x,this.endControl=w,this.end=O}return b.prototype.subdivide=function(v,x){var w=kl(this.start,this.startControl,v),O=kl(this.startControl,this.endControl,v),U=kl(this.endControl,this.end,v),K=kl(w,O,v),le=kl(O,U,v),ae=kl(K,le,v);return x?new b(this.start,w,K,ae):new b(ae,le,U,this.end)},b.prototype.add=function(v,x){return new b(this.start.add(v,x),this.startControl.add(v,x),this.endControl.add(v,x),this.end.add(v,x))},b.prototype.reverse=function(){return new b(this.end,this.endControl,this.startControl,this.start)},b}(),sl=function(b){return 1===b.type},D2=function(){return function b(v){var x=v.styles,w=v.bounds,O=uA(x.borderTopLeftRadius,w.width,w.height),U=O[0],K=O[1],le=uA(x.borderTopRightRadius,w.width,w.height),ae=le[0],je=le[1],Ye=uA(x.borderBottomRightRadius,w.width,w.height),nt=Ye[0],St=Ye[1],yn=uA(x.borderBottomLeftRadius,w.width,w.height),on=yn[0],sn=yn[1],Mi=[];Mi.push((U+ae)/w.width),Mi.push((on+nt)/w.width),Mi.push((K+sn)/w.height),Mi.push((je+St)/w.height);var Pn=Math.max.apply(Math,Mi);Pn>1&&(U/=Pn,K/=Pn,ae/=Pn,je/=Pn,nt/=Pn,St/=Pn,on/=Pn,sn/=Pn);var xn=w.width-ae,wr=w.height-St,Ti=w.width-nt,hi=w.height-sn,mn=x.borderTopWidth,ur=x.borderRightWidth,ar=x.borderBottomWidth,_i=x.borderLeftWidth,Go=Di(x.paddingTop,v.bounds.width),Na=Di(x.paddingRight,v.bounds.width),ul=Di(x.paddingBottom,v.bounds.width),Tr=Di(x.paddingLeft,v.bounds.width);this.topLeftBorderDoubleOuterBox=U>0||K>0?Fr(w.left+_i/3,w.top+mn/3,U-_i/3,K-mn/3,cr.TOP_LEFT):new hn(w.left+_i/3,w.top+mn/3),this.topRightBorderDoubleOuterBox=U>0||K>0?Fr(w.left+xn,w.top+mn/3,ae-ur/3,je-mn/3,cr.TOP_RIGHT):new hn(w.left+w.width-ur/3,w.top+mn/3),this.bottomRightBorderDoubleOuterBox=nt>0||St>0?Fr(w.left+Ti,w.top+wr,nt-ur/3,St-ar/3,cr.BOTTOM_RIGHT):new hn(w.left+w.width-ur/3,w.top+w.height-ar/3),this.bottomLeftBorderDoubleOuterBox=on>0||sn>0?Fr(w.left+_i/3,w.top+hi,on-_i/3,sn-ar/3,cr.BOTTOM_LEFT):new hn(w.left+_i/3,w.top+w.height-ar/3),this.topLeftBorderDoubleInnerBox=U>0||K>0?Fr(w.left+2*_i/3,w.top+2*mn/3,U-2*_i/3,K-2*mn/3,cr.TOP_LEFT):new hn(w.left+2*_i/3,w.top+2*mn/3),this.topRightBorderDoubleInnerBox=U>0||K>0?Fr(w.left+xn,w.top+2*mn/3,ae-2*ur/3,je-2*mn/3,cr.TOP_RIGHT):new hn(w.left+w.width-2*ur/3,w.top+2*mn/3),this.bottomRightBorderDoubleInnerBox=nt>0||St>0?Fr(w.left+Ti,w.top+wr,nt-2*ur/3,St-2*ar/3,cr.BOTTOM_RIGHT):new hn(w.left+w.width-2*ur/3,w.top+w.height-2*ar/3),this.bottomLeftBorderDoubleInnerBox=on>0||sn>0?Fr(w.left+2*_i/3,w.top+hi,on-2*_i/3,sn-2*ar/3,cr.BOTTOM_LEFT):new hn(w.left+2*_i/3,w.top+w.height-2*ar/3),this.topLeftBorderStroke=U>0||K>0?Fr(w.left+_i/2,w.top+mn/2,U-_i/2,K-mn/2,cr.TOP_LEFT):new hn(w.left+_i/2,w.top+mn/2),this.topRightBorderStroke=U>0||K>0?Fr(w.left+xn,w.top+mn/2,ae-ur/2,je-mn/2,cr.TOP_RIGHT):new hn(w.left+w.width-ur/2,w.top+mn/2),this.bottomRightBorderStroke=nt>0||St>0?Fr(w.left+Ti,w.top+wr,nt-ur/2,St-ar/2,cr.BOTTOM_RIGHT):new hn(w.left+w.width-ur/2,w.top+w.height-ar/2),this.bottomLeftBorderStroke=on>0||sn>0?Fr(w.left+_i/2,w.top+hi,on-_i/2,sn-ar/2,cr.BOTTOM_LEFT):new hn(w.left+_i/2,w.top+w.height-ar/2),this.topLeftBorderBox=U>0||K>0?Fr(w.left,w.top,U,K,cr.TOP_LEFT):new hn(w.left,w.top),this.topRightBorderBox=ae>0||je>0?Fr(w.left+xn,w.top,ae,je,cr.TOP_RIGHT):new hn(w.left+w.width,w.top),this.bottomRightBorderBox=nt>0||St>0?Fr(w.left+Ti,w.top+wr,nt,St,cr.BOTTOM_RIGHT):new hn(w.left+w.width,w.top+w.height),this.bottomLeftBorderBox=on>0||sn>0?Fr(w.left,w.top+hi,on,sn,cr.BOTTOM_LEFT):new hn(w.left,w.top+w.height),this.topLeftPaddingBox=U>0||K>0?Fr(w.left+_i,w.top+mn,Math.max(0,U-_i),Math.max(0,K-mn),cr.TOP_LEFT):new hn(w.left+_i,w.top+mn),this.topRightPaddingBox=ae>0||je>0?Fr(w.left+Math.min(xn,w.width-ur),w.top+mn,xn>w.width+ur?0:Math.max(0,ae-ur),Math.max(0,je-mn),cr.TOP_RIGHT):new hn(w.left+w.width-ur,w.top+mn),this.bottomRightPaddingBox=nt>0||St>0?Fr(w.left+Math.min(Ti,w.width-_i),w.top+Math.min(wr,w.height-ar),Math.max(0,nt-ur),Math.max(0,St-ar),cr.BOTTOM_RIGHT):new hn(w.left+w.width-ur,w.top+w.height-ar),this.bottomLeftPaddingBox=on>0||sn>0?Fr(w.left+_i,w.top+Math.min(hi,w.height-ar),Math.max(0,on-_i),Math.max(0,sn-ar),cr.BOTTOM_LEFT):new hn(w.left+_i,w.top+w.height-ar),this.topLeftContentBox=U>0||K>0?Fr(w.left+_i+Tr,w.top+mn+Go,Math.max(0,U-(_i+Tr)),Math.max(0,K-(mn+Go)),cr.TOP_LEFT):new hn(w.left+_i+Tr,w.top+mn+Go),this.topRightContentBox=ae>0||je>0?Fr(w.left+Math.min(xn,w.width+_i+Tr),w.top+mn+Go,xn>w.width+_i+Tr?0:ae-_i+Tr,je-(mn+Go),cr.TOP_RIGHT):new hn(w.left+w.width-(ur+Na),w.top+mn+Go),this.bottomRightContentBox=nt>0||St>0?Fr(w.left+Math.min(Ti,w.width-(_i+Tr)),w.top+Math.min(wr,w.height+mn+Go),Math.max(0,nt-(ur+Na)),St-(ar+ul),cr.BOTTOM_RIGHT):new hn(w.left+w.width-(ur+Na),w.top+w.height-(ar+ul)),this.bottomLeftContentBox=on>0||sn>0?Fr(w.left+_i+Tr,w.top+hi,Math.max(0,on-(_i+Tr)),sn-(ar+ul),cr.BOTTOM_LEFT):new hn(w.left+_i+Tr,w.top+w.height-(ar+ul))}}(),cr=function(b){return b[b.TOP_LEFT=0]="TOP_LEFT",b[b.TOP_RIGHT=1]="TOP_RIGHT",b[b.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",b[b.BOTTOM_LEFT=3]="BOTTOM_LEFT",b}(cr||{}),Fr=function(b,v,x,w,O){var U=(Math.sqrt(2)-1)/3*4,K=x*U,le=w*U,ae=b+x,je=v+w;switch(O){case cr.TOP_LEFT:return new $m(new hn(b,je),new hn(b,je-le),new hn(ae-K,v),new hn(ae,v));case cr.TOP_RIGHT:return new $m(new hn(b,v),new hn(b+K,v),new hn(ae,je-le),new hn(ae,je));case cr.BOTTOM_RIGHT:return new $m(new hn(ae,v),new hn(ae,v+le),new hn(b+K,je),new hn(b,je));default:return new $m(new hn(ae,je),new hn(ae-K,je),new hn(b,v+le),new hn(b,v))}},Po=function(b){return[b.topLeftBorderBox,b.topRightBorderBox,b.bottomRightBorderBox,b.bottomLeftBorderBox]},Qo=function(b){return[b.topLeftPaddingBox,b.topRightPaddingBox,b.bottomRightPaddingBox,b.bottomLeftPaddingBox]},Uv=function(){return function b(v,x,w){this.offsetX=v,this.offsetY=x,this.matrix=w,this.type=0,this.target=6}}(),qm=function(){return function b(v,x){this.path=v,this.target=x,this.type=1}}(),S2=function(){return function b(v){this.opacity=v,this.type=2,this.target=6}}(),E2=function(b){return 1===b.type},Zm=function(b,v){return b.length===v.length&&b.some(function(x,w){return x===v[w]})},Qv=function(){return function b(v){this.element=v,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),I2=function(){function b(v,x){if(this.container=v,this.parent=x,this.effects=[],this.curves=new D2(this.container),this.container.styles.opacity<1&&this.effects.push(new S2(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new Uv(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var K=Po(this.curves),le=Qo(this.curves);Zm(K,le)?this.effects.push(new qm(K,6)):(this.effects.push(new qm(K,2)),this.effects.push(new qm(le,4)))}}return b.prototype.getEffects=function(v){for(var x=-1===[2,3].indexOf(this.container.styles.position),w=this.parent,O=this.effects.slice(0);w;){var U=w.effects.filter(function(ae){return!E2(ae)});if(x||0!==w.container.styles.position||!w.parent){if(O.unshift.apply(O,U),x=-1===[2,3].indexOf(w.container.styles.position),0!==w.container.styles.overflowX){var K=Po(w.curves),le=Qo(w.curves);Zm(K,le)||O.unshift(new qm(le,6))}}else O.unshift.apply(O,U);w=w.parent}return O.filter(function(ae){return Fi(ae.target,v)})},b}(),Hv=function(b,v,x,w){b.container.elements.forEach(function(O){var U=Fi(O.flags,4),K=Fi(O.flags,2),le=new I2(O,b);Fi(O.styles.display,2048)&&w.push(le);var ae=Fi(O.flags,8)?[]:w;if(U||K){var je=U||O.styles.isPositioned()?x:v,Ye=new Qv(le);if(O.styles.isPositioned()||O.styles.opacity<1||O.styles.isTransformed()){var nt=O.styles.zIndex.order;if(nt<0){var St=0;je.negativeZIndex.some(function(on,sn){return nt>on.element.container.styles.zIndex.order?(St=sn,!1):St>0}),je.negativeZIndex.splice(St,0,Ye)}else if(nt>0){var yn=0;je.positiveZIndex.some(function(on,sn){return nt>=on.element.container.styles.zIndex.order?(yn=sn+1,!1):yn>0}),je.positiveZIndex.splice(yn,0,Ye)}else je.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ye)}else O.styles.isFloating()?je.nonPositionedFloats.push(Ye):je.nonPositionedInlineLevel.push(Ye);Hv(le,Ye,U?Ye:x,ae)}else O.styles.isInlineLevel()?v.inlineLevel.push(le):v.nonInlineLevel.push(le),Hv(le,v,x,ae);Fi(O.flags,8)&&O2(O,ae)})},O2=function(b,v){for(var x=b instanceof wv?b.start:1,w=b instanceof wv&&b.reversed,O=0;O<v.length;O++){var U=v[O];U.container instanceof f2&&"number"==typeof U.container.value&&0!==U.container.value&&(x=U.container.value),U.listValue=zp(x,U.container.styles.listStyleType,!0),x+=w?-1:1}},F2=function(b,v){switch(v){case 0:return al(b.topLeftBorderBox,b.topLeftPaddingBox,b.topRightBorderBox,b.topRightPaddingBox);case 1:return al(b.topRightBorderBox,b.topRightPaddingBox,b.bottomRightBorderBox,b.bottomRightPaddingBox);case 2:return al(b.bottomRightBorderBox,b.bottomRightPaddingBox,b.bottomLeftBorderBox,b.bottomLeftPaddingBox);default:return al(b.bottomLeftBorderBox,b.bottomLeftPaddingBox,b.topLeftBorderBox,b.topLeftPaddingBox)}},zv=function(b,v){var x=[];return sl(b)?x.push(b.subdivide(.5,!1)):x.push(b),sl(v)?x.push(v.subdivide(.5,!0)):x.push(v),x},al=function(b,v,x,w){var O=[];return sl(b)?O.push(b.subdivide(.5,!1)):O.push(b),sl(x)?O.push(x.subdivide(.5,!0)):O.push(x),sl(w)?O.push(w.subdivide(.5,!0).reverse()):O.push(w),sl(v)?O.push(v.subdivide(.5,!1).reverse()):O.push(v),O},Vv=function(b){var x=b.styles;return b.bounds.add(x.borderLeftWidth,x.borderTopWidth,-(x.borderRightWidth+x.borderLeftWidth),-(x.borderTopWidth+x.borderBottomWidth))},Ms=function(b){var v=b.styles,x=b.bounds,w=Di(v.paddingLeft,x.width),O=Di(v.paddingRight,x.width),U=Di(v.paddingTop,x.width),K=Di(v.paddingBottom,x.width);return x.add(w+v.borderLeftWidth,U+v.borderTopWidth,-(v.borderRightWidth+v.borderLeftWidth+w+O),-(v.borderTopWidth+v.borderBottomWidth+U+K))},N2=function(b,v,x){var w=function(b,v){return 0===b?v.bounds:2===b?Ms(v):Vv(v)}(cc(b.styles.backgroundOrigin,v),b),O=function(b,v){return 0===b?v.bounds:2===b?Ms(v):Vv(v)}(cc(b.styles.backgroundClip,v),b),U=R2(cc(b.styles.backgroundSize,v),x,w),K=U[0],le=U[1],ae=uA(cc(b.styles.backgroundPosition,v),w.width-K,w.height-le);return[PM(cc(b.styles.backgroundRepeat,v),ae,U,w,O),Math.round(w.left+ae[0]),Math.round(w.top+ae[1]),K,le]},pA=function(b){return Mt(b)&&b.value===mi.AUTO},ll=function(b){return"number"==typeof b},R2=function(b,v,x){var w=v[0],O=v[1],U=v[2],K=b[0],le=b[1];if(!K)return[0,0];if(fr(K)&&le&&fr(le))return[Di(K,x.width),Di(le,x.height)];var ae=ll(U);if(Mt(K)&&(K.value===mi.CONTAIN||K.value===mi.COVER))return ll(U)?x.width/x.height<U!=(K.value===mi.COVER)?[x.width,x.width/U]:[x.height*U,x.height]:[x.width,x.height];var Ye=ll(w),nt=ll(O),St=Ye||nt;if(pA(K)&&(!le||pA(le)))return Ye&&nt?[w,O]:ae||St?St&&ae?[Ye?w:O*U,nt?O:w/U]:[Ye?w:x.width,nt?O:x.height]:[x.width,x.height];if(ae){var Pn=0,xn=0;return fr(K)?Pn=Di(K,x.width):fr(le)&&(xn=Di(le,x.height)),pA(K)?Pn=xn*U:(!le||pA(le))&&(xn=Pn/U),[Pn,xn]}var wr=null,Ti=null;if(fr(K)?wr=Di(K,x.width):le&&fr(le)&&(Ti=Di(le,x.height)),null!==wr&&(!le||pA(le))&&(Ti=Ye&&nt?wr/w*O:x.height),null!==Ti&&pA(K)&&(wr=Ye&&nt?Ti/O*w:x.width),null!==wr&&null!==Ti)return[wr,Ti];throw new Error("Unable to calculate background-size for element")},cc=function(b,v){var x=b[v];return typeof x>"u"?b[0]:x},PM=function(b,v,x,w,O){var U=v[0],K=v[1],le=x[0],ae=x[1];switch(b){case 2:return[new hn(Math.round(w.left),Math.round(w.top+K)),new hn(Math.round(w.left+w.width),Math.round(w.top+K)),new hn(Math.round(w.left+w.width),Math.round(ae+w.top+K)),new hn(Math.round(w.left),Math.round(ae+w.top+K))];case 3:return[new hn(Math.round(w.left+U),Math.round(w.top)),new hn(Math.round(w.left+U+le),Math.round(w.top)),new hn(Math.round(w.left+U+le),Math.round(w.height+w.top)),new hn(Math.round(w.left+U),Math.round(w.height+w.top))];case 1:return[new hn(Math.round(w.left+U),Math.round(w.top+K)),new hn(Math.round(w.left+U+le),Math.round(w.top+K)),new hn(Math.round(w.left+U+le),Math.round(w.top+K+ae)),new hn(Math.round(w.left+U),Math.round(w.top+K+ae))];default:return[new hn(Math.round(O.left),Math.round(O.top)),new hn(Math.round(O.left+O.width),Math.round(O.top)),new hn(Math.round(O.left+O.width),Math.round(O.height+O.top)),new hn(Math.round(O.left),Math.round(O.height+O.top))]}},jv="Hidden Text",Y3=function(){function b(v){this._data={},this._document=v}return b.prototype.parseMetrics=function(v,x){var w=this._document.createElement("div"),O=this._document.createElement("img"),U=this._document.createElement("span"),K=this._document.body;w.style.visibility="hidden",w.style.fontFamily=v,w.style.fontSize=x,w.style.margin="0",w.style.padding="0",w.style.whiteSpace="nowrap",K.appendChild(w),O.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",O.width=1,O.height=1,O.style.margin="0",O.style.padding="0",O.style.verticalAlign="baseline",U.style.fontFamily=v,U.style.fontSize=x,U.style.margin="0",U.style.padding="0",U.appendChild(this._document.createTextNode(jv)),w.appendChild(U),w.appendChild(O);var le=O.offsetTop-U.offsetTop+2;w.removeChild(U),w.appendChild(this._document.createTextNode(jv)),w.style.lineHeight="normal",O.style.verticalAlign="super";var ae=O.offsetTop-w.offsetTop+2;return K.removeChild(w),{baseline:le,middle:ae}},b.prototype.getMetrics=function(v,x){var w=v+" "+x;return typeof this._data[w]>"u"&&(this._data[w]=this.parseMetrics(v,x)),this._data[w]},b}(),OM=function(){return function b(v,x){this.context=v,this.options=x}}(),J3=function(b){function v(x,w){var O=b.call(this,x,w)||this;return O._activeEffects=[],O.canvas=w.canvas?w.canvas:document.createElement("canvas"),O.ctx=O.canvas.getContext("2d"),w.canvas||(O.canvas.width=Math.floor(w.width*w.scale),O.canvas.height=Math.floor(w.height*w.scale),O.canvas.style.width=w.width+"px",O.canvas.style.height=w.height+"px"),O.fontMetrics=new Y3(document),O.ctx.scale(O.options.scale,O.options.scale),O.ctx.translate(-w.x,-w.y),O.ctx.textBaseline="bottom",O._activeEffects=[],O.context.logger.debug("Canvas renderer initialized ("+w.width+"x"+w.height+") with scale "+w.scale),O}return Ve(v,b),v.prototype.applyEffects=function(x){for(var w=this;this._activeEffects.length;)this.popEffect();x.forEach(function(O){return w.applyEffect(O)})},v.prototype.applyEffect=function(x){this.ctx.save(),function(b){return 2===b.type}(x)&&(this.ctx.globalAlpha=x.opacity),function(b){return 0===b.type}(x)&&(this.ctx.translate(x.offsetX,x.offsetY),this.ctx.transform(x.matrix[0],x.matrix[1],x.matrix[2],x.matrix[3],x.matrix[4],x.matrix[5]),this.ctx.translate(-x.offsetX,-x.offsetY)),E2(x)&&(this.path(x.path),this.ctx.clip()),this._activeEffects.push(x)},v.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},v.prototype.renderStack=function(x){return ue(this,void 0,void 0,function(){return ce(this,function(O){switch(O.label){case 0:return x.element.container.styles.isVisible()?[4,this.renderStackContent(x)]:[3,2];case 1:O.sent(),O.label=2;case 2:return[2]}})})},v.prototype.renderNode=function(x){return ue(this,void 0,void 0,function(){return ce(this,function(w){switch(w.label){case 0:return Fi(x.container.flags,16),x.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(x)]:[3,3];case 1:return w.sent(),[4,this.renderNodeContent(x)];case 2:w.sent(),w.label=3;case 3:return[2]}})})},v.prototype.renderTextWithLetterSpacing=function(x,w,O){var U=this;0===w?this.ctx.fillText(x.text,x.bounds.left,x.bounds.top+O):bu(x.text).reduce(function(le,ae){return U.ctx.fillText(ae,le,x.bounds.top+O),le+U.ctx.measureText(ae).width},x.bounds.left)},v.prototype.createFontStyle=function(x){var w=x.fontVariant.filter(function(K){return"normal"===K||"small-caps"===K}).join(""),O=U2(x.fontFamily).join(", "),U=cn(x.fontSize)?""+x.fontSize.number+x.fontSize.unit:x.fontSize.number+"px";return[[x.fontStyle,w,x.fontWeight,U,O].join(" "),O,U]},v.prototype.renderTextNode=function(x,w){return ue(this,void 0,void 0,function(){var O,K,le,ae,je,Ye,nt,St=this;return ce(this,function(yn){return O=this.createFontStyle(w),K=O[1],le=O[2],this.ctx.font=O[0],this.ctx.direction=1===w.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ae=this.fontMetrics.getMetrics(K,le),je=ae.baseline,Ye=ae.middle,nt=w.paintOrder,x.textBounds.forEach(function(on){nt.forEach(function(sn){switch(sn){case 0:St.ctx.fillStyle=pr(w.color),St.renderTextWithLetterSpacing(on,w.letterSpacing,je);var Mi=w.textShadow;Mi.length&&on.text.trim().length&&(Mi.slice(0).reverse().forEach(function(Pn){St.ctx.shadowColor=pr(Pn.color),St.ctx.shadowOffsetX=Pn.offsetX.number*St.options.scale,St.ctx.shadowOffsetY=Pn.offsetY.number*St.options.scale,St.ctx.shadowBlur=Pn.blur.number,St.renderTextWithLetterSpacing(on,w.letterSpacing,je)}),St.ctx.shadowColor="",St.ctx.shadowOffsetX=0,St.ctx.shadowOffsetY=0,St.ctx.shadowBlur=0),w.textDecorationLine.length&&(St.ctx.fillStyle=pr(w.textDecorationColor||w.color),w.textDecorationLine.forEach(function(Pn){switch(Pn){case 1:St.ctx.fillRect(on.bounds.left,Math.round(on.bounds.top+je),on.bounds.width,1);break;case 2:St.ctx.fillRect(on.bounds.left,Math.round(on.bounds.top),on.bounds.width,1);break;case 3:St.ctx.fillRect(on.bounds.left,Math.ceil(on.bounds.top+Ye),on.bounds.width,1)}}));break;case 1:w.webkitTextStrokeWidth&&on.text.trim().length&&(St.ctx.strokeStyle=pr(w.webkitTextStrokeColor),St.ctx.lineWidth=w.webkitTextStrokeWidth,St.ctx.lineJoin=window.chrome?"miter":"round",St.ctx.strokeText(on.text,on.bounds.left,on.bounds.top+je)),St.ctx.strokeStyle="",St.ctx.lineWidth=0,St.ctx.lineJoin="miter"}})}),[2]})})},v.prototype.renderReplacedElement=function(x,w,O){if(O&&x.intrinsicWidth>0&&x.intrinsicHeight>0){var U=Ms(x),K=Qo(w);this.path(K),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(O,0,0,x.intrinsicWidth,x.intrinsicHeight,U.left,U.top,U.width,U.height),this.ctx.restore()}},v.prototype.renderNodeContent=function(x){return ue(this,void 0,void 0,function(){var w,O,U,K,le,Ye,nt,St,on,sn,Mi,Pn,xn,wr,Ti,hi;return ce(this,function(mn){switch(mn.label){case 0:this.applyEffects(x.getEffects(4)),O=x.curves,U=(w=x.container).styles,K=0,le=w.textNodes,mn.label=1;case 1:return K<le.length?[4,this.renderTextNode(le[K],U)]:[3,4];case 2:mn.sent(),mn.label=3;case 3:return K++,[3,1];case 4:if(!(w instanceof A2))return[3,8];mn.label=5;case 5:return mn.trys.push([5,7,,8]),[4,this.context.cache.match(w.src)];case 6:return xn=mn.sent(),this.renderReplacedElement(w,O,xn),[3,8];case 7:return mn.sent(),this.context.logger.error("Error loading image "+w.src),[3,8];case 8:if(w instanceof d2&&this.renderReplacedElement(w,O,w.canvas),!(w instanceof h2))return[3,12];mn.label=9;case 9:return mn.trys.push([9,11,,12]),[4,this.context.cache.match(w.svg)];case 10:return xn=mn.sent(),this.renderReplacedElement(w,O,xn),[3,12];case 11:return mn.sent(),this.context.logger.error("Error loading svg "+w.svg.substring(0,255)),[3,12];case 12:return w instanceof bM&&w.tree?[4,new v(this.context,{scale:this.options.scale,backgroundColor:w.backgroundColor,x:0,y:0,width:w.width,height:w.height}).render(w.tree)]:[3,14];case 13:Ye=mn.sent(),w.width&&w.height&&this.ctx.drawImage(Ye,0,0,w.width,w.height,w.bounds.left,w.bounds.top,w.bounds.width,w.bounds.height),mn.label=14;case 14:if(w instanceof Hp&&(nt=Math.min(w.bounds.width,w.bounds.height),w.type===br?w.checked&&(this.ctx.save(),this.path([new hn(w.bounds.left+.39363*nt,w.bounds.top+.79*nt),new hn(w.bounds.left+.16*nt,w.bounds.top+.5549*nt),new hn(w.bounds.left+.27347*nt,w.bounds.top+.44071*nt),new hn(w.bounds.left+.39694*nt,w.bounds.top+.5649*nt),new hn(w.bounds.left+.72983*nt,w.bounds.top+.23*nt),new hn(w.bounds.left+.84*nt,w.bounds.top+.34085*nt),new hn(w.bounds.left+.39363*nt,w.bounds.top+.79*nt)]),this.ctx.fillStyle=pr(rc),this.ctx.fill(),this.ctx.restore()):w.type===Up&&w.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(w.bounds.left+nt/2,w.bounds.top+nt/2,nt/4,0,2*Math.PI,!0),this.ctx.fillStyle=pr(rc),this.ctx.fill(),this.ctx.restore())),eI(w)&&w.value.length){switch(St=this.createFontStyle(U),on=this.fontMetrics.getMetrics(Ti=St[0],St[1]).baseline,this.ctx.font=Ti,this.ctx.fillStyle=pr(U.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Xh(w.styles.textAlign),hi=Ms(w),sn=0,w.styles.textAlign){case 1:sn+=hi.width/2;break;case 2:sn+=hi.width}Mi=hi.add(sn,0,0,-hi.height/2+1),this.ctx.save(),this.path([new hn(hi.left,hi.top),new hn(hi.left+hi.width,hi.top),new hn(hi.left+hi.width,hi.top+hi.height),new hn(hi.left,hi.top+hi.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new vd(w.value,Mi),U.letterSpacing,on),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Fi(w.styles.display,2048))return[3,20];if(null===w.styles.listStyleImage)return[3,19];if(0!==(Pn=w.styles.listStyleImage).type)return[3,18];xn=void 0,wr=Pn.url,mn.label=15;case 15:return mn.trys.push([15,17,,18]),[4,this.context.cache.match(wr)];case 16:return xn=mn.sent(),this.ctx.drawImage(xn,w.bounds.left-(xn.width+10),w.bounds.top),[3,18];case 17:return mn.sent(),this.context.logger.error("Error loading list-style-image "+wr),[3,18];case 18:return[3,20];case 19:x.listValue&&-1!==w.styles.listStyleType&&(Ti=this.createFontStyle(U)[0],this.ctx.font=Ti,this.ctx.fillStyle=pr(U.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",hi=new _e(w.bounds.left,w.bounds.top+Di(w.styles.paddingTop,w.bounds.width),w.bounds.width,Bp(U.lineHeight,U.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new vd(x.listValue,hi),U.letterSpacing,Bp(U.lineHeight,U.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),mn.label=20;case 20:return[2]}})})},v.prototype.renderStackContent=function(x){return ue(this,void 0,void 0,function(){var w,O,U,K,le,ae,je,Ye,nt,St,yn,on,sn,Mi;return ce(this,function(xn){switch(xn.label){case 0:return Fi(x.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(x.element)];case 1:xn.sent(),w=0,O=x.negativeZIndex,xn.label=2;case 2:return w<O.length?[4,this.renderStack(O[w])]:[3,5];case 3:xn.sent(),xn.label=4;case 4:return w++,[3,2];case 5:return[4,this.renderNodeContent(x.element)];case 6:xn.sent(),U=0,K=x.nonInlineLevel,xn.label=7;case 7:return U<K.length?[4,this.renderNode(K[U])]:[3,10];case 8:xn.sent(),xn.label=9;case 9:return U++,[3,7];case 10:le=0,ae=x.nonPositionedFloats,xn.label=11;case 11:return le<ae.length?[4,this.renderStack(ae[le])]:[3,14];case 12:xn.sent(),xn.label=13;case 13:return le++,[3,11];case 14:je=0,Ye=x.nonPositionedInlineLevel,xn.label=15;case 15:return je<Ye.length?[4,this.renderStack(Ye[je])]:[3,18];case 16:xn.sent(),xn.label=17;case 17:return je++,[3,15];case 18:nt=0,St=x.inlineLevel,xn.label=19;case 19:return nt<St.length?[4,this.renderNode(St[nt])]:[3,22];case 20:xn.sent(),xn.label=21;case 21:return nt++,[3,19];case 22:yn=0,on=x.zeroOrAutoZIndexOrTransformedOrOpacity,xn.label=23;case 23:return yn<on.length?[4,this.renderStack(on[yn])]:[3,26];case 24:xn.sent(),xn.label=25;case 25:return yn++,[3,23];case 26:sn=0,Mi=x.positiveZIndex,xn.label=27;case 27:return sn<Mi.length?[4,this.renderStack(Mi[sn])]:[3,30];case 28:xn.sent(),xn.label=29;case 29:return sn++,[3,27];case 30:return[2]}})})},v.prototype.mask=function(x){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(x.slice(0).reverse()),this.ctx.closePath()},v.prototype.path=function(x){this.ctx.beginPath(),this.formatPath(x),this.ctx.closePath()},v.prototype.formatPath=function(x){var w=this;x.forEach(function(O,U){var K=sl(O)?O.start:O;0===U?w.ctx.moveTo(K.x,K.y):w.ctx.lineTo(K.x,K.y),sl(O)&&w.ctx.bezierCurveTo(O.startControl.x,O.startControl.y,O.endControl.x,O.endControl.y,O.end.x,O.end.y)})},v.prototype.renderRepeat=function(x,w,O,U){this.path(x),this.ctx.fillStyle=w,this.ctx.translate(O,U),this.ctx.fill(),this.ctx.translate(-O,-U)},v.prototype.resizeImage=function(x,w,O){var U;if(x.width===w&&x.height===O)return x;var le=(null!==(U=this.canvas.ownerDocument)&&void 0!==U?U:document).createElement("canvas");return le.width=Math.max(1,w),le.height=Math.max(1,O),le.getContext("2d").drawImage(x,0,0,x.width,x.height,0,0,w,O),le},v.prototype.renderBackgroundImage=function(x){return ue(this,void 0,void 0,function(){var w,O,U,K,le;return ce(this,function(je){switch(je.label){case 0:w=x.styles.backgroundImage.length-1,O=function(Ye){var nt,St,yn,on,sn,Mi,Pn,xn,wr,Ti,hi,mn,ur,ar,_i,Go,Na,ul,Tr,Bs,xu,zs,ma,gA,uc,Mu,Md,Bd,Bu,Dd,Hc;return ce(this,function(Wp){switch(Wp.label){case 0:if(0!==Ye.type)return[3,5];nt=void 0,St=Ye.url,Wp.label=1;case 1:return Wp.trys.push([1,3,,4]),[4,U.context.cache.match(St)];case 2:return nt=Wp.sent(),[3,4];case 3:return Wp.sent(),U.context.logger.error("Error loading background-image "+St),[3,4];case 4:return nt&&(yn=N2(x,w,[nt.width,nt.height,nt.width/nt.height]),Go=yn[0],zs=yn[1],ma=yn[2],ar=U.ctx.createPattern(U.resizeImage(nt,Tr=yn[3],Bs=yn[4]),"repeat"),U.renderRepeat(Go,ar,zs,ma)),[3,6];case 5:!function(b){return 1===b.type}(Ye)?function(b){return 2===b.type}(Ye)&&(_i=N2(x,w,[null,null,null]),Go=_i[0],Na=_i[1],ul=_i[2],Bs=_i[4],zs=Di((xu=0===Ye.position.length?[_p]:Ye.position)[0],Tr=_i[3]),ma=Di(xu[xu.length-1],Bs),gA=function(b,v,x,w,O){var U=0,K=0;switch(b.size){case 0:0===b.shape?U=K=Math.min(Math.abs(v),Math.abs(v-w),Math.abs(x),Math.abs(x-O)):1===b.shape&&(U=Math.min(Math.abs(v),Math.abs(v-w)),K=Math.min(Math.abs(x),Math.abs(x-O)));break;case 2:if(0===b.shape)U=K=Math.min(ka(v,x),ka(v,x-O),ka(v-w,x),ka(v-w,x-O));else if(1===b.shape){var le=Math.min(Math.abs(x),Math.abs(x-O))/Math.min(Math.abs(v),Math.abs(v-w)),ae=fu(w,O,v,x,!0);K=le*(U=ka(ae[0]-v,(ae[1]-x)/le))}break;case 1:0===b.shape?U=K=Math.max(Math.abs(v),Math.abs(v-w),Math.abs(x),Math.abs(x-O)):1===b.shape&&(U=Math.max(Math.abs(v),Math.abs(v-w)),K=Math.max(Math.abs(x),Math.abs(x-O)));break;case 3:if(0===b.shape)U=K=Math.max(ka(v,x),ka(v,x-O),ka(v-w,x),ka(v-w,x-O));else if(1===b.shape){le=Math.max(Math.abs(x),Math.abs(x-O))/Math.max(Math.abs(v),Math.abs(v-w));var nt=fu(w,O,v,x,!1);K=le*(U=ka(nt[0]-v,(nt[1]-x)/le))}}return Array.isArray(b.size)&&(U=Di(b.size[0],w),K=2===b.size.length?Di(b.size[1],O):U),[U,K]}(Ye,zs,ma,Tr,Bs),Mu=gA[1],(uc=gA[0])>0&&Mu>0&&(Md=U.ctx.createRadialGradient(Na+zs,ul+ma,0,Na+zs,ul+ma,uc),dd(Ye.stops,2*uc).forEach(function(Jh){return Md.addColorStop(Jh.stop,pr(Jh.color))}),U.path(Go),U.ctx.fillStyle=Md,uc!==Mu?(Bd=x.bounds.left+.5*x.bounds.width,Bu=x.bounds.top+.5*x.bounds.height,Hc=1/(Dd=Mu/uc),U.ctx.save(),U.ctx.translate(Bd,Bu),U.ctx.transform(1,0,0,Dd,0,0),U.ctx.translate(-Bd,-Bu),U.ctx.fillRect(Na,Hc*(ul-Bu)+Bu,Tr,Bs*Hc),U.ctx.restore()):U.ctx.fill())):(on=N2(x,w,[null,null,null]),Go=on[0],zs=on[1],ma=on[2],sn=bp(Ye.angle,Tr=on[3],Bs=on[4]),Mi=sn[0],Pn=sn[1],xn=sn[2],wr=sn[3],Ti=sn[4],(hi=document.createElement("canvas")).width=Tr,hi.height=Bs,mn=hi.getContext("2d"),ur=mn.createLinearGradient(Pn,wr,xn,Ti),dd(Ye.stops,Mi).forEach(function(Jh){return ur.addColorStop(Jh.stop,pr(Jh.color))}),mn.fillStyle=ur,mn.fillRect(0,0,Tr,Bs),Tr>0&&Bs>0&&(ar=U.ctx.createPattern(hi,"repeat"),U.renderRepeat(Go,ar,zs,ma))),Wp.label=6;case 6:return w--,[2]}})},U=this,K=0,le=x.styles.backgroundImage.slice(0).reverse(),je.label=1;case 1:return K<le.length?[5,O(le[K])]:[3,4];case 2:je.sent(),je.label=3;case 3:return K++,[3,1];case 4:return[2]}})})},v.prototype.renderSolidBorder=function(x,w,O){return ue(this,void 0,void 0,function(){return ce(this,function(U){return this.path(F2(O,w)),this.ctx.fillStyle=pr(x),this.ctx.fill(),[2]})})},v.prototype.renderDoubleBorder=function(x,w,O,U){return ue(this,void 0,void 0,function(){var K,le;return ce(this,function(ae){switch(ae.label){case 0:return w<3?[4,this.renderSolidBorder(x,O,U)]:[3,2];case 1:return ae.sent(),[2];case 2:return K=function(b,v){switch(v){case 0:return al(b.topLeftBorderBox,b.topLeftBorderDoubleOuterBox,b.topRightBorderBox,b.topRightBorderDoubleOuterBox);case 1:return al(b.topRightBorderBox,b.topRightBorderDoubleOuterBox,b.bottomRightBorderBox,b.bottomRightBorderDoubleOuterBox);case 2:return al(b.bottomRightBorderBox,b.bottomRightBorderDoubleOuterBox,b.bottomLeftBorderBox,b.bottomLeftBorderDoubleOuterBox);default:return al(b.bottomLeftBorderBox,b.bottomLeftBorderDoubleOuterBox,b.topLeftBorderBox,b.topLeftBorderDoubleOuterBox)}}(U,O),this.path(K),this.ctx.fillStyle=pr(x),this.ctx.fill(),le=function(b,v){switch(v){case 0:return al(b.topLeftBorderDoubleInnerBox,b.topLeftPaddingBox,b.topRightBorderDoubleInnerBox,b.topRightPaddingBox);case 1:return al(b.topRightBorderDoubleInnerBox,b.topRightPaddingBox,b.bottomRightBorderDoubleInnerBox,b.bottomRightPaddingBox);case 2:return al(b.bottomRightBorderDoubleInnerBox,b.bottomRightPaddingBox,b.bottomLeftBorderDoubleInnerBox,b.bottomLeftPaddingBox);default:return al(b.bottomLeftBorderDoubleInnerBox,b.bottomLeftPaddingBox,b.topLeftBorderDoubleInnerBox,b.topLeftPaddingBox)}}(U,O),this.path(le),this.ctx.fill(),[2]}})})},v.prototype.renderNodeBackgroundAndBorders=function(x){return ue(this,void 0,void 0,function(){var w,O,U,K,le,ae,je,Ye,nt=this;return ce(this,function(St){switch(St.label){case 0:return this.applyEffects(x.getEffects(2)),O=!Pl((w=x.container.styles).backgroundColor)||w.backgroundImage.length,U=[{style:w.borderTopStyle,color:w.borderTopColor,width:w.borderTopWidth},{style:w.borderRightStyle,color:w.borderRightColor,width:w.borderRightWidth},{style:w.borderBottomStyle,color:w.borderBottomColor,width:w.borderBottomWidth},{style:w.borderLeftStyle,color:w.borderLeftColor,width:w.borderLeftWidth}],K=kM(cc(w.backgroundClip,0),x.curves),O||w.boxShadow.length?(this.ctx.save(),this.path(K),this.ctx.clip(),Pl(w.backgroundColor)||(this.ctx.fillStyle=pr(w.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(x.container)]):[3,2];case 1:St.sent(),this.ctx.restore(),w.boxShadow.slice(0).reverse().forEach(function(yn){nt.ctx.save();var on=Po(x.curves),sn=yn.inset?0:1e4,Mi=function(b,v,x,w,O){return b.map(function(U,K){switch(K){case 0:return U.add(v,x);case 1:return U.add(v+w,x);case 2:return U.add(v+w,x+O);case 3:return U.add(v,x+O)}return U})}(on,(yn.inset?1:-1)*yn.spread.number-sn,(yn.inset?1:-1)*yn.spread.number,yn.spread.number*(yn.inset?-2:2),yn.spread.number*(yn.inset?-2:2));yn.inset?(nt.path(on),nt.ctx.clip(),nt.mask(Mi)):(nt.mask(on),nt.ctx.clip(),nt.path(Mi)),nt.ctx.shadowOffsetX=yn.offsetX.number+sn,nt.ctx.shadowOffsetY=yn.offsetY.number,nt.ctx.shadowColor=pr(yn.color),nt.ctx.shadowBlur=yn.blur.number,nt.ctx.fillStyle=yn.inset?pr(yn.color):"rgba(0,0,0,1)",nt.ctx.fill(),nt.ctx.restore()}),St.label=2;case 2:le=0,ae=0,je=U,St.label=3;case 3:return ae<je.length?0!==(Ye=je[ae]).style&&!Pl(Ye.color)&&Ye.width>0?2!==Ye.style?[3,5]:[4,this.renderDashedDottedBorder(Ye.color,Ye.width,le,x.curves,2)]:[3,11]:[3,13];case 4:return St.sent(),[3,11];case 5:return 3!==Ye.style?[3,7]:[4,this.renderDashedDottedBorder(Ye.color,Ye.width,le,x.curves,3)];case 6:return St.sent(),[3,11];case 7:return 4!==Ye.style?[3,9]:[4,this.renderDoubleBorder(Ye.color,Ye.width,le,x.curves)];case 8:return St.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ye.color,le,x.curves)];case 10:St.sent(),St.label=11;case 11:le++,St.label=12;case 12:return ae++,[3,3];case 13:return[2]}})})},v.prototype.renderDashedDottedBorder=function(x,w,O,U,K){return ue(this,void 0,void 0,function(){var le,ae,je,Ye,nt,St,yn,on,sn,Mi,Pn,xn,wr,Ti,hi,mn;return ce(this,function(ur){return this.ctx.save(),le=function(b,v){switch(v){case 0:return zv(b.topLeftBorderStroke,b.topRightBorderStroke);case 1:return zv(b.topRightBorderStroke,b.bottomRightBorderStroke);case 2:return zv(b.bottomRightBorderStroke,b.bottomLeftBorderStroke);default:return zv(b.bottomLeftBorderStroke,b.topLeftBorderStroke)}}(U,O),ae=F2(U,O),2===K&&(this.path(ae),this.ctx.clip()),sl(ae[0])?(je=ae[0].start.x,Ye=ae[0].start.y):(je=ae[0].x,Ye=ae[0].y),sl(ae[1])?(nt=ae[1].end.x,St=ae[1].end.y):(nt=ae[1].x,St=ae[1].y),yn=0===O||2===O?Math.abs(je-nt):Math.abs(Ye-St),this.ctx.beginPath(),this.formatPath(3===K?le:ae.slice(0,2)),on=w<3?3*w:2*w,sn=w<3?2*w:w,3===K&&(on=w,sn=w),Mi=!0,yn<=2*on?Mi=!1:yn<=2*on+sn?(on*=Pn=yn/(2*on+sn),sn*=Pn):(xn=Math.floor((yn+sn)/(on+sn)),wr=(yn-xn*on)/(xn-1),sn=(Ti=(yn-(xn+1)*on)/xn)<=0||Math.abs(sn-wr)<Math.abs(sn-Ti)?wr:Ti),Mi&&this.ctx.setLineDash(3===K?[0,on+sn]:[on,sn]),3===K?(this.ctx.lineCap="round",this.ctx.lineWidth=w):this.ctx.lineWidth=2*w+1.1,this.ctx.strokeStyle=pr(x),this.ctx.stroke(),this.ctx.setLineDash([]),2===K&&(sl(ae[0])&&(hi=ae[3],mn=ae[0],this.ctx.beginPath(),this.formatPath([new hn(hi.end.x,hi.end.y),new hn(mn.start.x,mn.start.y)]),this.ctx.stroke()),sl(ae[1])&&(hi=ae[1],mn=ae[2],this.ctx.beginPath(),this.formatPath([new hn(hi.end.x,hi.end.y),new hn(mn.start.x,mn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},v.prototype.render=function(x){return ue(this,void 0,void 0,function(){var w;return ce(this,function(O){switch(O.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),w=function(b){var v=new I2(b,null),x=new Qv(v),w=[];return Hv(v,x,x,w),O2(v.container,w),x}(x),[4,this.renderStack(w)];case 1:return O.sent(),this.applyEffects([]),[2,this.canvas]}})})},v}(OM),eI=function(b){return b instanceof p2||b instanceof Im||b instanceof Hp&&b.type!==Up&&b.type!==br},kM=function(b,v){switch(b){case 0:return Po(v);case 2:return function(b){return[b.topLeftContentBox,b.topRightContentBox,b.bottomRightContentBox,b.bottomLeftContentBox]}(v);default:return Qo(v)}},Xh=function(b){switch(b){case 1:return"center";case 2:return"right";default:return"left"}},cl=["-apple-system","system-ui"],U2=function(b){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?b.filter(function(v){return-1===cl.indexOf(v)}):b},FM=function(b){function v(x,w){var O=b.call(this,x,w)||this;return O.canvas=w.canvas?w.canvas:document.createElement("canvas"),O.ctx=O.canvas.getContext("2d"),O.options=w,O.canvas.width=Math.floor(w.width*w.scale),O.canvas.height=Math.floor(w.height*w.scale),O.canvas.style.width=w.width+"px",O.canvas.style.height=w.height+"px",O.ctx.scale(O.options.scale,O.options.scale),O.ctx.translate(-w.x,-w.y),O.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+w.width+"x"+w.height+" at "+w.x+","+w.y+") with scale "+w.scale),O}return Ve(v,b),v.prototype.render=function(x){return ue(this,void 0,void 0,function(){var w,O;return ce(this,function(U){switch(U.label){case 0:return w=yv(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,x),[4,Gv(w)];case 1:return O=U.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(O,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},v}(OM),Gv=function(b){return new Promise(function(v,x){var w=new Image;w.onload=function(){v(w)},w.onerror=x,w.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(b))})},Io=function(){function b(v){var w=v.enabled;this.id=v.id,this.enabled=w,this.start=Date.now()}return b.prototype.debug=function(){for(var v=[],x=0;x<arguments.length;x++)v[x]=arguments[x];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,X([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},b.prototype.getTime=function(){return Date.now()-this.start},b.prototype.info=function(){for(var v=[],x=0;x<arguments.length;x++)v[x]=arguments[x];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,X([this.id,this.getTime()+"ms"],v))},b.prototype.warn=function(){for(var v=[],x=0;x<arguments.length;x++)v[x]=arguments[x];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,X([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},b.prototype.error=function(){for(var v=[],x=0;x<arguments.length;x++)v[x]=arguments[x];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,X([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},b.instances={},b}(),TM=function(){function b(v,x){var w;this.windowBounds=x,this.instanceName="#"+b.instanceCount++,this.logger=new Io({id:this.instanceName,enabled:v.logging}),this.cache=null!==(w=v.cache)&&void 0!==w?w:new x2(this,v)}return b.instanceCount=1,b}();typeof window<"u"&&jm.setContext(window);var Kp=function(b,v){return ue(void 0,void 0,void 0,function(){var x,w,O,U,K,le,ae,je,Ye,nt,St,yn,on,sn,Mi,Pn,xn,wr,Ti,hi,mn,ar,_i,Go,Na,ul,Tr,Bs,xu,zs,ma,gA,uc,Mu,Md,Bd,Bu,Dd;return ce(this,function(Hc){switch(Hc.label){case 0:if(!b||"object"!=typeof b)return[2,Promise.reject("Invalid element provided as first argument")];if(!(x=b.ownerDocument))throw new Error("Element is not attached to a Document");if(!(w=x.defaultView))throw new Error("Document is not attached to a Window");return O={allowTaint:null!==(ar=v.allowTaint)&&void 0!==ar&&ar,imageTimeout:null!==(_i=v.imageTimeout)&&void 0!==_i?_i:15e3,proxy:v.proxy,useCORS:null!==(Go=v.useCORS)&&void 0!==Go&&Go},U=qe({logging:null===(Na=v.logging)||void 0===Na||Na,cache:v.cache},O),K={windowWidth:null!==(ul=v.windowWidth)&&void 0!==ul?ul:w.innerWidth,windowHeight:null!==(Tr=v.windowHeight)&&void 0!==Tr?Tr:w.innerHeight,scrollX:null!==(Bs=v.scrollX)&&void 0!==Bs?Bs:w.pageXOffset,scrollY:null!==(xu=v.scrollY)&&void 0!==xu?xu:w.pageYOffset},le=new _e(K.scrollX,K.scrollY,K.windowWidth,K.windowHeight),ae=new TM(U,le),je=null!==(zs=v.foreignObjectRendering)&&void 0!==zs&&zs,Ye={allowTaint:null!==(ma=v.allowTaint)&&void 0!==ma&&ma,onclone:v.onclone,ignoreElements:v.ignoreElements,inlineImages:je,copyStyles:je},ae.logger.debug("Starting document clone with size "+le.width+"x"+le.height+" scrolled to "+-le.left+","+-le.top),nt=new w2(ae,b,Ye),(St=nt.clonedReferenceElement)?[4,nt.toIFrame(x,le)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return yn=Hc.sent(),on=Fm(St)||function(b){return"HTML"===b.tagName}(St)?function(b){var v=b.body,x=b.documentElement;if(!v||!x)throw new Error("Unable to get document size");var w=Math.max(Math.max(v.scrollWidth,x.scrollWidth),Math.max(v.offsetWidth,x.offsetWidth),Math.max(v.clientWidth,x.clientWidth)),O=Math.max(Math.max(v.scrollHeight,x.scrollHeight),Math.max(v.offsetHeight,x.offsetHeight),Math.max(v.clientHeight,x.clientHeight));return new _e(0,0,w,O)}(St.ownerDocument):xe(ae,St),sn=on.width,Mi=on.height,Pn=on.left,xn=on.top,wr=LM(ae,St,v.backgroundColor),Ti={canvas:v.canvas,backgroundColor:wr,scale:null!==(uc=null!==(gA=v.scale)&&void 0!==gA?gA:w.devicePixelRatio)&&void 0!==uc?uc:1,x:(null!==(Mu=v.x)&&void 0!==Mu?Mu:0)+Pn,y:(null!==(Md=v.y)&&void 0!==Md?Md:0)+xn,width:null!==(Bd=v.width)&&void 0!==Bd?Bd:Math.ceil(sn),height:null!==(Bu=v.height)&&void 0!==Bu?Bu:Math.ceil(Mi)},je?(ae.logger.debug("Document cloned, using foreign object rendering"),[4,new FM(ae,Ti).render(St)]):[3,3];case 2:return hi=Hc.sent(),[3,5];case 3:return ae.logger.debug("Document cloned, element located at "+Pn+","+xn+" with size "+sn+"x"+Mi+" using computed rendering"),ae.logger.debug("Starting DOM parsing"),mn=Cv(ae,St),wr===mn.styles.backgroundColor&&(mn.styles.backgroundColor=Rs.TRANSPARENT),ae.logger.debug("Starting renderer for element at "+Ti.x+","+Ti.y+" with size "+Ti.width+"x"+Ti.height),[4,new J3(ae,Ti).render(mn)];case 4:hi=Hc.sent(),Hc.label=5;case 5:return(!(null!==(Dd=v.removeContainer)&&void 0!==Dd)||Dd)&&(w2.destroy(yn)||ae.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ae.logger.debug("Finished rendering"),[2,hi]}})})},LM=function(b,v,x){var w=v.ownerDocument,O=w.documentElement?Ia(b,getComputedStyle(w.documentElement).backgroundColor):Rs.TRANSPARENT,U=w.body?Ia(b,getComputedStyle(w.body).backgroundColor):Rs.TRANSPARENT,K="string"==typeof x?Ia(b,x):null===x?Rs.TRANSPARENT:4294967295;return v===w.documentElement?Pl(O)?Pl(U)?K:U:O:K};return function(b,v){return void 0===v&&(v={}),Kp(b,v)}}()},7247:XA=>{XA.exports=function Ge(Ve,qe,ue){function ce(xe,Pe){if(!qe[xe]){if(!Ve[xe]){if(X)return X(xe,!0);var Ce=new Error("Cannot find module '"+xe+"'");throw Ce.code="MODULE_NOT_FOUND",Ce}var oe=qe[xe]={exports:{}};Ve[xe][0].call(oe.exports,function(De){return ce(Ve[xe][1][De]||De)},oe,oe.exports,Ge,Ve,qe,ue)}return qe[xe].exports}for(var X=void 0,_e=0;_e<ue.length;_e++)ce(ue[_e]);return ce}({1:[function(Ge,Ve,qe){"use strict";var ue=Ge("./utils"),ce=Ge("./support"),X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";qe.encode=function(_e){for(var xe,Pe,Ne,oe,De,ne,fe=[],de=0,Ie=_e.length,Ze=Ie,st="string"!==ue.getTypeOf(_e);de<_e.length;)Ze=Ie-de,Ne=st?(xe=_e[de++],Pe=de<Ie?_e[de++]:0,de<Ie?_e[de++]:0):(xe=_e.charCodeAt(de++),Pe=de<Ie?_e.charCodeAt(de++):0,de<Ie?_e.charCodeAt(de++):0),oe=(3&xe)<<4|Pe>>4,De=1<Ze?(15&Pe)<<2|Ne>>6:64,ne=2<Ze?63&Ne:64,fe.push(X.charAt(xe>>2)+X.charAt(oe)+X.charAt(De)+X.charAt(ne));return fe.join("")},qe.decode=function(_e){var xe,Pe,Ne,Ce,oe,De,ne=0,fe=0;if("data:"===_e.substr(0,5))throw new Error("Invalid base64 input, it looks like a data url.");var Ie,Ze=3*(_e=_e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(_e.charAt(_e.length-1)===X.charAt(64)&&Ze--,_e.charAt(_e.length-2)===X.charAt(64)&&Ze--,Ze%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Ie=ce.uint8array?new Uint8Array(0|Ze):new Array(0|Ze);ne<_e.length;)xe=X.indexOf(_e.charAt(ne++))<<2|(Ce=X.indexOf(_e.charAt(ne++)))>>4,Pe=(15&Ce)<<4|(oe=X.indexOf(_e.charAt(ne++)))>>2,Ne=(3&oe)<<6|(De=X.indexOf(_e.charAt(ne++))),Ie[fe++]=xe,64!==oe&&(Ie[fe++]=Pe),64!==De&&(Ie[fe++]=Ne);return Ie}},{"./support":30,"./utils":32}],2:[function(Ge,Ve,qe){"use strict";var ue=Ge("./external"),ce=Ge("./stream/DataWorker"),X=Ge("./stream/Crc32Probe"),_e=Ge("./stream/DataLengthProbe");function xe(Pe,Ne,Ce,oe,De){this.compressedSize=Pe,this.uncompressedSize=Ne,this.crc32=Ce,this.compression=oe,this.compressedContent=De}xe.prototype={getContentWorker:function(){var Pe=new ce(ue.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new _e("data_length")),Ne=this;return Pe.on("end",function(){if(this.streamInfo.data_length!==Ne.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Pe},getCompressedWorker:function(){return new ce(ue.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},xe.createWorkerFrom=function(Pe,Ne,Ce){return Pe.pipe(new X).pipe(new _e("uncompressedSize")).pipe(Ne.compressWorker(Ce)).pipe(new _e("compressedSize")).withStreamInfo("compression",Ne)},Ve.exports=xe},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(Ge,Ve,qe){"use strict";var ue=Ge("./stream/GenericWorker");qe.STORE={magic:"\0\0",compressWorker:function(){return new ue("STORE compression")},uncompressWorker:function(){return new ue("STORE decompression")}},qe.DEFLATE=Ge("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(Ge,Ve,qe){"use strict";var ue=Ge("./utils"),ce=function(){for(var X,_e=[],xe=0;xe<256;xe++){X=xe;for(var Pe=0;Pe<8;Pe++)X=1&X?3988292384^X>>>1:X>>>1;_e[xe]=X}return _e}();Ve.exports=function(X,_e){return void 0!==X&&X.length?"string"!==ue.getTypeOf(X)?function(xe,Pe,Ne,Ce){var oe=ce,De=0+Ne;xe^=-1;for(var ne=0;ne<De;ne++)xe=xe>>>8^oe[255&(xe^Pe[ne])];return~xe}(0|_e,X,X.length):function(xe,Pe,Ne,Ce){var oe=ce,De=0+Ne;xe^=-1;for(var ne=0;ne<De;ne++)xe=xe>>>8^oe[255&(xe^Pe.charCodeAt(ne))];return~xe}(0|_e,X,X.length):0}},{"./utils":32}],5:[function(Ge,Ve,qe){"use strict";qe.base64=!1,qe.binary=!1,qe.dir=!1,qe.createFolders=!0,qe.date=null,qe.compression=null,qe.compressionOptions=null,qe.comment=null,qe.unixPermissions=null,qe.dosPermissions=null},{}],6:[function(Ge,Ve,qe){"use strict";var ue;ue=typeof Promise<"u"?Promise:Ge("lie"),Ve.exports={Promise:ue}},{lie:37}],7:[function(Ge,Ve,qe){"use strict";var ue=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",ce=Ge("pako"),X=Ge("./utils"),_e=Ge("./stream/GenericWorker"),xe=ue?"uint8array":"array";function Pe(Ne,Ce){_e.call(this,"FlateWorker/"+Ne),this._pako=null,this._pakoAction=Ne,this._pakoOptions=Ce,this.meta={}}qe.magic="\b\0",X.inherits(Pe,_e),Pe.prototype.processChunk=function(Ne){this.meta=Ne.meta,null===this._pako&&this._createPako(),this._pako.push(X.transformTo(xe,Ne.data),!1)},Pe.prototype.flush=function(){_e.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},Pe.prototype.cleanUp=function(){_e.prototype.cleanUp.call(this),this._pako=null},Pe.prototype._createPako=function(){this._pako=new ce[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var Ne=this;this._pako.onData=function(Ce){Ne.push({data:Ce,meta:Ne.meta})}},qe.compressWorker=function(Ne){return new Pe("Deflate",Ne)},qe.uncompressWorker=function(){return new Pe("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(Ge,Ve,qe){"use strict";function ue(oe,De){var ne,fe="";for(ne=0;ne<De;ne++)fe+=String.fromCharCode(255&oe),oe>>>=8;return fe}function ce(oe,De,ne,fe,de,Ie){var Ze,st,At=oe.file,Lt=oe.compression,It=Ie!==xe.utf8encode,Zt=X.transformTo("string",Ie(At.name)),Pt=X.transformTo("string",xe.utf8encode(At.name)),en=At.comment,Nn=X.transformTo("string",Ie(en)),Oe=X.transformTo("string",xe.utf8encode(en)),Bt=Pt.length!==At.name.length,Z=Oe.length!==en.length,Nt="",pi="",Vt="",gi=At.dir,Dt=At.date,Zn={crc32:0,compressedSize:0,uncompressedSize:0};De&&!ne||(Zn.crc32=oe.crc32,Zn.compressedSize=oe.compressedSize,Zn.uncompressedSize=oe.uncompressedSize);var Je=0;De&&(Je|=8),It||!Bt&&!Z||(Je|=2048);var qt,zn,at=0,bn=0;gi&&(at|=16),"UNIX"===de?(bn=798,at|=(zn=qt=At.unixPermissions,qt||(zn=gi?16893:33204),(65535&zn)<<16)):(bn=20,at|=function(qt){return 63&(qt||0)}(At.dosPermissions)),Ze=Dt.getUTCHours(),Ze<<=6,Ze|=Dt.getUTCMinutes(),Ze<<=5,Ze|=Dt.getUTCSeconds()/2,st=Dt.getUTCFullYear()-1980,st<<=4,st|=Dt.getUTCMonth()+1,st<<=5,st|=Dt.getUTCDate(),Bt&&(pi=ue(1,1)+ue(Pe(Zt),4)+Pt,Nt+="up"+ue(pi.length,2)+pi),Z&&(Vt=ue(1,1)+ue(Pe(Nn),4)+Oe,Nt+="uc"+ue(Vt.length,2)+Vt);var ln="";return ln+="\n\0",ln+=ue(Je,2),ln+=Lt.magic,ln+=ue(Ze,2),ln+=ue(st,2),ln+=ue(Zn.crc32,4),ln+=ue(Zn.compressedSize,4),ln+=ue(Zn.uncompressedSize,4),ln+=ue(Zt.length,2),ln+=ue(Nt.length,2),{fileRecord:Ne.LOCAL_FILE_HEADER+ln+Zt+Nt,dirRecord:Ne.CENTRAL_FILE_HEADER+ue(bn,2)+ln+ue(Nn.length,2)+"\0\0\0\0"+ue(at,4)+ue(fe,4)+Zt+Nt+Nn}}var X=Ge("../utils"),_e=Ge("../stream/GenericWorker"),xe=Ge("../utf8"),Pe=Ge("../crc32"),Ne=Ge("../signature");function Ce(oe,De,ne,fe){_e.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=De,this.zipPlatform=ne,this.encodeFileName=fe,this.streamFiles=oe,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}X.inherits(Ce,_e),Ce.prototype.push=function(oe){var De=oe.meta.percent||0,ne=this.entriesCount,fe=this._sources.length;this.accumulate?this.contentBuffer.push(oe):(this.bytesWritten+=oe.data.length,_e.prototype.push.call(this,{data:oe.data,meta:{currentFile:this.currentFile,percent:ne?(De+100*(ne-fe-1))/ne:100}}))},Ce.prototype.openedSource=function(oe){this.currentSourceOffset=this.bytesWritten,this.currentFile=oe.file.name;var De=this.streamFiles&&!oe.file.dir;if(De){var ne=ce(oe,De,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:ne.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Ce.prototype.closedSource=function(oe){this.accumulate=!1;var fe,De=this.streamFiles&&!oe.file.dir,ne=ce(oe,De,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(ne.dirRecord),De)this.push({data:(fe=oe,Ne.DATA_DESCRIPTOR+ue(fe.crc32,4)+ue(fe.compressedSize,4)+ue(fe.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:ne.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Ce.prototype.flush=function(){for(var oe=this.bytesWritten,De=0;De<this.dirRecords.length;De++)this.push({data:this.dirRecords[De],meta:{percent:100}});var de,Ie,Ze,Lt,fe=(de=this.dirRecords.length,Ie=this.bytesWritten-oe,Ze=oe,Lt=X.transformTo("string",(0,this.encodeFileName)(this.zipComment)),Ne.CENTRAL_DIRECTORY_END+"\0\0\0\0"+ue(de,2)+ue(de,2)+ue(Ie,4)+ue(Ze,4)+ue(Lt.length,2)+Lt);this.push({data:fe,meta:{percent:100}})},Ce.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Ce.prototype.registerPrevious=function(oe){this._sources.push(oe);var De=this;return oe.on("data",function(ne){De.processChunk(ne)}),oe.on("end",function(){De.closedSource(De.previous.streamInfo),De._sources.length?De.prepareNextSource():De.end()}),oe.on("error",function(ne){De.error(ne)}),this},Ce.prototype.resume=function(){return!!_e.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Ce.prototype.error=function(oe){var De=this._sources;if(!_e.prototype.error.call(this,oe))return!1;for(var ne=0;ne<De.length;ne++)try{De[ne].error(oe)}catch{}return!0},Ce.prototype.lock=function(){_e.prototype.lock.call(this);for(var oe=this._sources,De=0;De<oe.length;De++)oe[De].lock()},Ve.exports=Ce},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(Ge,Ve,qe){"use strict";var ue=Ge("../compressions"),ce=Ge("./ZipFileWorker");qe.generateWorker=function(X,_e,xe){var Pe=new ce(_e.streamFiles,xe,_e.platform,_e.encodeFileName),Ne=0;try{X.forEach(function(Ce,oe){Ne++;var De=function(Ie,Ze){var st=Ie||Ze,At=ue[st];if(!At)throw new Error(st+" is not a valid compression method !");return At}(oe.options.compression,_e.compression),fe=oe.dir,de=oe.date;oe._compressWorker(De,oe.options.compressionOptions||_e.compressionOptions||{}).withStreamInfo("file",{name:Ce,dir:fe,date:de,comment:oe.comment||"",unixPermissions:oe.unixPermissions,dosPermissions:oe.dosPermissions}).pipe(Pe)}),Pe.entriesCount=Ne}catch(Ce){Pe.error(Ce)}return Pe}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(Ge,Ve,qe){"use strict";function ue(){if(!(this instanceof ue))return new ue;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var ce=new ue;for(var X in this)"function"!=typeof this[X]&&(ce[X]=this[X]);return ce}}(ue.prototype=Ge("./object")).loadAsync=Ge("./load"),ue.support=Ge("./support"),ue.defaults=Ge("./defaults"),ue.version="3.10.1",ue.loadAsync=function(ce,X){return(new ue).loadAsync(ce,X)},ue.external=Ge("./external"),Ve.exports=ue},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(Ge,Ve,qe){"use strict";var ue=Ge("./utils"),ce=Ge("./external"),X=Ge("./utf8"),_e=Ge("./zipEntries"),xe=Ge("./stream/Crc32Probe"),Pe=Ge("./nodejsUtils");function Ne(Ce){return new ce.Promise(function(oe,De){var ne=Ce.decompressed.getContentWorker().pipe(new xe);ne.on("error",function(fe){De(fe)}).on("end",function(){ne.streamInfo.crc32!==Ce.decompressed.crc32?De(new Error("Corrupted zip : CRC32 mismatch")):oe()}).resume()})}Ve.exports=function(Ce,oe){var De=this;return oe=ue.extend(oe||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:X.utf8decode}),Pe.isNode&&Pe.isStream(Ce)?ce.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):ue.prepareContent("the loaded zip file",Ce,!0,oe.optimizedBinaryString,oe.base64).then(function(ne){var fe=new _e(oe);return fe.load(ne),fe}).then(function(ne){var fe=[ce.Promise.resolve(ne)],de=ne.files;if(oe.checkCRC32)for(var Ie=0;Ie<de.length;Ie++)fe.push(Ne(de[Ie]));return ce.Promise.all(fe)}).then(function(ne){for(var fe=ne.shift(),de=fe.files,Ie=0;Ie<de.length;Ie++){var Ze=de[Ie],st=Ze.fileNameStr,At=ue.resolve(Ze.fileNameStr);De.file(At,Ze.decompressed,{binary:!0,optimizedBinaryString:!0,date:Ze.date,dir:Ze.dir,comment:Ze.fileCommentStr.length?Ze.fileCommentStr:null,unixPermissions:Ze.unixPermissions,dosPermissions:Ze.dosPermissions,createFolders:oe.createFolders}),Ze.dir||(De.file(At).unsafeOriginalName=st)}return fe.zipComment.length&&(De.comment=fe.zipComment),De})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(Ge,Ve,qe){"use strict";var ue=Ge("../utils"),ce=Ge("../stream/GenericWorker");function X(_e,xe){ce.call(this,"Nodejs stream input adapter for "+_e),this._upstreamEnded=!1,this._bindStream(xe)}ue.inherits(X,ce),X.prototype._bindStream=function(_e){var xe=this;(this._stream=_e).pause(),_e.on("data",function(Pe){xe.push({data:Pe,meta:{percent:0}})}).on("error",function(Pe){xe.isPaused?this.generatedError=Pe:xe.error(Pe)}).on("end",function(){xe.isPaused?xe._upstreamEnded=!0:xe.end()})},X.prototype.pause=function(){return!!ce.prototype.pause.call(this)&&(this._stream.pause(),!0)},X.prototype.resume=function(){return!!ce.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},Ve.exports=X},{"../stream/GenericWorker":28,"../utils":32}],13:[function(Ge,Ve,qe){"use strict";var ue=Ge("readable-stream").Readable;function ce(X,_e,xe){ue.call(this,_e),this._helper=X;var Pe=this;X.on("data",function(Ne,Ce){Pe.push(Ne)||Pe._helper.pause(),xe&&xe(Ce)}).on("error",function(Ne){Pe.emit("error",Ne)}).on("end",function(){Pe.push(null)})}Ge("../utils").inherits(ce,ue),ce.prototype._read=function(){this._helper.resume()},Ve.exports=ce},{"../utils":32,"readable-stream":16}],14:[function(Ge,Ve,qe){"use strict";Ve.exports={isNode:typeof Buffer<"u",newBufferFrom:function(ue,ce){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(ue,ce);if("number"==typeof ue)throw new Error('The "data" argument must not be a number');return new Buffer(ue,ce)},allocBuffer:function(ue){if(Buffer.alloc)return Buffer.alloc(ue);var ce=new Buffer(ue);return ce.fill(0),ce},isBuffer:function(ue){return Buffer.isBuffer(ue)},isStream:function(ue){return ue&&"function"==typeof ue.on&&"function"==typeof ue.pause&&"function"==typeof ue.resume}}},{}],15:[function(Ge,Ve,qe){"use strict";function ue(At,Lt,It){var Zt,Pt=X.getTypeOf(Lt),en=X.extend(It||{},Pe);en.date=en.date||new Date,null!==en.compression&&(en.compression=en.compression.toUpperCase()),"string"==typeof en.unixPermissions&&(en.unixPermissions=parseInt(en.unixPermissions,8)),en.unixPermissions&&16384&en.unixPermissions&&(en.dir=!0),en.dosPermissions&&16&en.dosPermissions&&(en.dir=!0),en.dir&&(At=de(At)),en.createFolders&&(Zt=fe(At))&&Ie.call(this,Zt,!0),It&&void 0!==It.binary||(en.binary=!("string"===Pt&&!1===en.binary&&!1===en.base64)),(Lt instanceof Ne&&0===Lt.uncompressedSize||en.dir||!Lt||0===Lt.length)&&(en.base64=!1,en.binary=!0,Lt="",en.compression="STORE",Pt="string");var Oe;Oe=Lt instanceof Ne||Lt instanceof _e?Lt:De.isNode&&De.isStream(Lt)?new ne(At,Lt):X.prepareContent(At,Lt,en.binary,en.optimizedBinaryString,en.base64);var Bt=new Ce(At,Oe,en);this.files[At]=Bt}var ce=Ge("./utf8"),X=Ge("./utils"),_e=Ge("./stream/GenericWorker"),xe=Ge("./stream/StreamHelper"),Pe=Ge("./defaults"),Ne=Ge("./compressedObject"),Ce=Ge("./zipObject"),oe=Ge("./generate"),De=Ge("./nodejsUtils"),ne=Ge("./nodejs/NodejsStreamInputAdapter"),fe=function(At){"/"===At.slice(-1)&&(At=At.substring(0,At.length-1));var Lt=At.lastIndexOf("/");return 0<Lt?At.substring(0,Lt):""},de=function(At){return"/"!==At.slice(-1)&&(At+="/"),At},Ie=function(At,Lt){return Lt=void 0!==Lt?Lt:Pe.createFolders,At=de(At),this.files[At]||ue.call(this,At,null,{dir:!0,createFolders:Lt}),this.files[At]};function Ze(At){return"[object RegExp]"===Object.prototype.toString.call(At)}var st={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(At){var Lt,It,Zt;for(Lt in this.files)Zt=this.files[Lt],(It=Lt.slice(this.root.length,Lt.length))&&Lt.slice(0,this.root.length)===this.root&&At(It,Zt)},filter:function(At){var Lt=[];return this.forEach(function(It,Zt){At(It,Zt)&&Lt.push(Zt)}),Lt},file:function(At,Lt,It){if(1!==arguments.length)return ue.call(this,At=this.root+At,Lt,It),this;if(Ze(At)){var Zt=At;return this.filter(function(en,Nn){return!Nn.dir&&Zt.test(en)})}var Pt=this.files[this.root+At];return Pt&&!Pt.dir?Pt:null},folder:function(At){if(!At)return this;if(Ze(At))return this.filter(function(Pt,en){return en.dir&&At.test(Pt)});var It=Ie.call(this,this.root+At),Zt=this.clone();return Zt.root=It.name,Zt},remove:function(At){var Lt=this.files[At=this.root+At];if(Lt||("/"!==At.slice(-1)&&(At+="/"),Lt=this.files[At]),Lt&&!Lt.dir)delete this.files[At];else for(var It=this.filter(function(Pt,en){return en.name.slice(0,At.length)===At}),Zt=0;Zt<It.length;Zt++)delete this.files[It[Zt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(At){var Lt,It={};try{if((It=X.extend(At||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:ce.utf8encode})).type=It.type.toLowerCase(),It.compression=It.compression.toUpperCase(),"binarystring"===It.type&&(It.type="string"),!It.type)throw new Error("No output type specified.");X.checkSupport(It.type),"darwin"!==It.platform&&"freebsd"!==It.platform&&"linux"!==It.platform&&"sunos"!==It.platform||(It.platform="UNIX"),"win32"===It.platform&&(It.platform="DOS"),Lt=oe.generateWorker(this,It,It.comment||this.comment||"")}catch(Pt){(Lt=new _e("error")).error(Pt)}return new xe(Lt,It.type||"string",It.mimeType)},generateAsync:function(At,Lt){return this.generateInternalStream(At).accumulate(Lt)},generateNodeStream:function(At,Lt){return(At=At||{}).type||(At.type="nodebuffer"),this.generateInternalStream(At).toNodejsStream(Lt)}};Ve.exports=st},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(Ge,Ve,qe){"use strict";Ve.exports=Ge("stream")},{stream:void 0}],17:[function(Ge,Ve,qe){"use strict";var ue=Ge("./DataReader");function ce(X){ue.call(this,X);for(var _e=0;_e<this.data.length;_e++)X[_e]=255&X[_e]}Ge("../utils").inherits(ce,ue),ce.prototype.byteAt=function(X){return this.data[this.zero+X]},ce.prototype.lastIndexOfSignature=function(X){for(var _e=X.charCodeAt(0),xe=X.charCodeAt(1),Pe=X.charCodeAt(2),Ne=X.charCodeAt(3),Ce=this.length-4;0<=Ce;--Ce)if(this.data[Ce]===_e&&this.data[Ce+1]===xe&&this.data[Ce+2]===Pe&&this.data[Ce+3]===Ne)return Ce-this.zero;return-1},ce.prototype.readAndCheckSignature=function(X){var _e=X.charCodeAt(0),xe=X.charCodeAt(1),Pe=X.charCodeAt(2),Ne=X.charCodeAt(3),Ce=this.readData(4);return _e===Ce[0]&&xe===Ce[1]&&Pe===Ce[2]&&Ne===Ce[3]},ce.prototype.readData=function(X){if(this.checkOffset(X),0===X)return[];var _e=this.data.slice(this.zero+this.index,this.zero+this.index+X);return this.index+=X,_e},Ve.exports=ce},{"../utils":32,"./DataReader":18}],18:[function(Ge,Ve,qe){"use strict";var ue=Ge("../utils");function ce(X){this.data=X,this.length=X.length,this.index=0,this.zero=0}ce.prototype={checkOffset:function(X){this.checkIndex(this.index+X)},checkIndex:function(X){if(this.length<this.zero+X||X<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+X+"). Corrupted zip ?")},setIndex:function(X){this.checkIndex(X),this.index=X},skip:function(X){this.setIndex(this.index+X)},byteAt:function(){},readInt:function(X){var _e,xe=0;for(this.checkOffset(X),_e=this.index+X-1;_e>=this.index;_e--)xe=(xe<<8)+this.byteAt(_e);return this.index+=X,xe},readString:function(X){return ue.transformTo("string",this.readData(X))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var X=this.readInt(4);return new Date(Date.UTC(1980+(X>>25&127),(X>>21&15)-1,X>>16&31,X>>11&31,X>>5&63,(31&X)<<1))}},Ve.exports=ce},{"../utils":32}],19:[function(Ge,Ve,qe){"use strict";var ue=Ge("./Uint8ArrayReader");function ce(X){ue.call(this,X)}Ge("../utils").inherits(ce,ue),ce.prototype.readData=function(X){this.checkOffset(X);var _e=this.data.slice(this.zero+this.index,this.zero+this.index+X);return this.index+=X,_e},Ve.exports=ce},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(Ge,Ve,qe){"use strict";var ue=Ge("./DataReader");function ce(X){ue.call(this,X)}Ge("../utils").inherits(ce,ue),ce.prototype.byteAt=function(X){return this.data.charCodeAt(this.zero+X)},ce.prototype.lastIndexOfSignature=function(X){return this.data.lastIndexOf(X)-this.zero},ce.prototype.readAndCheckSignature=function(X){return X===this.readData(4)},ce.prototype.readData=function(X){this.checkOffset(X);var _e=this.data.slice(this.zero+this.index,this.zero+this.index+X);return this.index+=X,_e},Ve.exports=ce},{"../utils":32,"./DataReader":18}],21:[function(Ge,Ve,qe){"use strict";var ue=Ge("./ArrayReader");function ce(X){ue.call(this,X)}Ge("../utils").inherits(ce,ue),ce.prototype.readData=function(X){if(this.checkOffset(X),0===X)return new Uint8Array(0);var _e=this.data.subarray(this.zero+this.index,this.zero+this.index+X);return this.index+=X,_e},Ve.exports=ce},{"../utils":32,"./ArrayReader":17}],22:[function(Ge,Ve,qe){"use strict";var ue=Ge("../utils"),ce=Ge("../support"),X=Ge("./ArrayReader"),_e=Ge("./StringReader"),xe=Ge("./NodeBufferReader"),Pe=Ge("./Uint8ArrayReader");Ve.exports=function(Ne){var Ce=ue.getTypeOf(Ne);return ue.checkSupport(Ce),"string"!==Ce||ce.uint8array?"nodebuffer"===Ce?new xe(Ne):ce.uint8array?new Pe(ue.transformTo("uint8array",Ne)):new X(ue.transformTo("array",Ne)):new _e(Ne)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(Ge,Ve,qe){"use strict";qe.LOCAL_FILE_HEADER="PK\x03\x04",qe.CENTRAL_FILE_HEADER="PK\x01\x02",qe.CENTRAL_DIRECTORY_END="PK\x05\x06",qe.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",qe.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",qe.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(Ge,Ve,qe){"use strict";var ue=Ge("./GenericWorker"),ce=Ge("../utils");function X(_e){ue.call(this,"ConvertWorker to "+_e),this.destType=_e}ce.inherits(X,ue),X.prototype.processChunk=function(_e){this.push({data:ce.transformTo(this.destType,_e.data),meta:_e.meta})},Ve.exports=X},{"../utils":32,"./GenericWorker":28}],25:[function(Ge,Ve,qe){"use strict";var ue=Ge("./GenericWorker"),ce=Ge("../crc32");function X(){ue.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}Ge("../utils").inherits(X,ue),X.prototype.processChunk=function(_e){this.streamInfo.crc32=ce(_e.data,this.streamInfo.crc32||0),this.push(_e)},Ve.exports=X},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(Ge,Ve,qe){"use strict";var ue=Ge("../utils"),ce=Ge("./GenericWorker");function X(_e){ce.call(this,"DataLengthProbe for "+_e),this.propName=_e,this.withStreamInfo(_e,0)}ue.inherits(X,ce),X.prototype.processChunk=function(_e){_e&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+_e.data.length),ce.prototype.processChunk.call(this,_e)},Ve.exports=X},{"../utils":32,"./GenericWorker":28}],27:[function(Ge,Ve,qe){"use strict";var ue=Ge("../utils"),ce=Ge("./GenericWorker");function X(_e){ce.call(this,"DataWorker");var xe=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,_e.then(function(Pe){xe.dataIsReady=!0,xe.data=Pe,xe.max=Pe&&Pe.length||0,xe.type=ue.getTypeOf(Pe),xe.isPaused||xe._tickAndRepeat()},function(Pe){xe.error(Pe)})}ue.inherits(X,ce),X.prototype.cleanUp=function(){ce.prototype.cleanUp.call(this),this.data=null},X.prototype.resume=function(){return!!ce.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,ue.delay(this._tickAndRepeat,[],this)),!0)},X.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(ue.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},X.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var _e=null,xe=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":_e=this.data.substring(this.index,xe);break;case"uint8array":_e=this.data.subarray(this.index,xe);break;case"array":case"nodebuffer":_e=this.data.slice(this.index,xe)}return this.index=xe,this.push({data:_e,meta:{percent:this.max?this.index/this.max*100:0}})},Ve.exports=X},{"../utils":32,"./GenericWorker":28}],28:[function(Ge,Ve,qe){"use strict";function ue(ce){this.name=ce||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}ue.prototype={push:function(ce){this.emit("data",ce)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(ce){this.emit("error",ce)}return!0},error:function(ce){return!this.isFinished&&(this.isPaused?this.generatedError=ce:(this.isFinished=!0,this.emit("error",ce),this.previous&&this.previous.error(ce),this.cleanUp()),!0)},on:function(ce,X){return this._listeners[ce].push(X),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(ce,X){if(this._listeners[ce])for(var _e=0;_e<this._listeners[ce].length;_e++)this._listeners[ce][_e].call(this,X)},pipe:function(ce){return ce.registerPrevious(this)},registerPrevious:function(ce){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=ce.streamInfo,this.mergeStreamInfo(),this.previous=ce;var X=this;return ce.on("data",function(_e){X.processChunk(_e)}),ce.on("end",function(){X.end()}),ce.on("error",function(_e){X.error(_e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var ce=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),ce=!0),this.previous&&this.previous.resume(),!ce},flush:function(){},processChunk:function(ce){this.push(ce)},withStreamInfo:function(ce,X){return this.extraStreamInfo[ce]=X,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var ce in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,ce)&&(this.streamInfo[ce]=this.extraStreamInfo[ce])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var ce="Worker "+this.name;return this.previous?this.previous+" -> "+ce:ce}},Ve.exports=ue},{}],29:[function(Ge,Ve,qe){"use strict";var ue=Ge("../utils"),ce=Ge("./ConvertWorker"),X=Ge("./GenericWorker"),_e=Ge("../base64"),xe=Ge("../support"),Pe=Ge("../external"),Ne=null;if(xe.nodestream)try{Ne=Ge("../nodejs/NodejsStreamOutputAdapter")}catch{}function oe(De,ne,fe){var de=ne;switch(ne){case"blob":case"arraybuffer":de="uint8array";break;case"base64":de="string"}try{this._internalType=de,this._outputType=ne,this._mimeType=fe,ue.checkSupport(de),this._worker=De.pipe(new ce(de)),De.lock()}catch(Ie){this._worker=new X("error"),this._worker.error(Ie)}}oe.prototype={accumulate:function(De){return function Ce(De,ne){return new Pe.Promise(function(fe,de){var Ie=[],Ze=De._internalType,st=De._outputType,At=De._mimeType;De.on("data",function(Lt,It){Ie.push(Lt),ne&&ne(It)}).on("error",function(Lt){Ie=[],de(Lt)}).on("end",function(){try{var Lt=function(It,Zt,Pt){switch(It){case"blob":return ue.newBlob(ue.transformTo("arraybuffer",Zt),Pt);case"base64":return _e.encode(Zt);default:return ue.transformTo(It,Zt)}}(st,function(It,Zt){var Pt,en=0,Nn=null,Oe=0;for(Pt=0;Pt<Zt.length;Pt++)Oe+=Zt[Pt].length;switch(It){case"string":return Zt.join("");case"array":return Array.prototype.concat.apply([],Zt);case"uint8array":for(Nn=new Uint8Array(Oe),Pt=0;Pt<Zt.length;Pt++)Nn.set(Zt[Pt],en),en+=Zt[Pt].length;return Nn;case"nodebuffer":return Buffer.concat(Zt);default:throw new Error("concat : unsupported type '"+It+"'")}}(Ze,Ie),At);fe(Lt)}catch(It){de(It)}Ie=[]}).resume()})}(this,De)},on:function(De,ne){var fe=this;return this._worker.on(De,"data"===De?function(de){ne.call(fe,de.data,de.meta)}:function(){ue.delay(ne,arguments,fe)}),this},resume:function(){return ue.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(De){if(ue.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new Ne(this,{objectMode:"nodebuffer"!==this._outputType},De)}},Ve.exports=oe},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(Ge,Ve,qe){"use strict";if(qe.base64=!0,qe.array=!0,qe.string=!0,qe.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",qe.nodebuffer=typeof Buffer<"u",qe.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")qe.blob=!1;else{var ue=new ArrayBuffer(0);try{qe.blob=0===new Blob([ue],{type:"application/zip"}).size}catch{try{var ce=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);ce.append(ue),qe.blob=0===ce.getBlob("application/zip").size}catch{qe.blob=!1}}}try{qe.nodestream=!!Ge("readable-stream").Readable}catch{qe.nodestream=!1}},{"readable-stream":16}],31:[function(Ge,Ve,qe){"use strict";for(var ue=Ge("./utils"),ce=Ge("./support"),X=Ge("./nodejsUtils"),_e=Ge("./stream/GenericWorker"),xe=new Array(256),Pe=0;Pe<256;Pe++)xe[Pe]=252<=Pe?6:248<=Pe?5:240<=Pe?4:224<=Pe?3:192<=Pe?2:1;function Ne(){_e.call(this,"utf-8 decode"),this.leftOver=null}function Ce(){_e.call(this,"utf-8 encode")}xe[254]=xe[254]=1,qe.utf8encode=function(oe){return ce.nodebuffer?X.newBufferFrom(oe,"utf-8"):function(De){var ne,fe,de,Ie,Ze,st=De.length,At=0;for(Ie=0;Ie<st;Ie++)55296==(64512&(fe=De.charCodeAt(Ie)))&&Ie+1<st&&56320==(64512&(de=De.charCodeAt(Ie+1)))&&(fe=65536+(fe-55296<<10)+(de-56320),Ie++),At+=fe<128?1:fe<2048?2:fe<65536?3:4;for(ne=ce.uint8array?new Uint8Array(At):new Array(At),Ie=Ze=0;Ze<At;Ie++)55296==(64512&(fe=De.charCodeAt(Ie)))&&Ie+1<st&&56320==(64512&(de=De.charCodeAt(Ie+1)))&&(fe=65536+(fe-55296<<10)+(de-56320),Ie++),fe<128?ne[Ze++]=fe:(fe<2048?ne[Ze++]=192|fe>>>6:(fe<65536?ne[Ze++]=224|fe>>>12:(ne[Ze++]=240|fe>>>18,ne[Ze++]=128|fe>>>12&63),ne[Ze++]=128|fe>>>6&63),ne[Ze++]=128|63&fe);return ne}(oe)},qe.utf8decode=function(oe){return ce.nodebuffer?ue.transformTo("nodebuffer",oe).toString("utf-8"):function(De){var ne,fe,de,Ie,Ze=De.length,st=new Array(2*Ze);for(ne=fe=0;ne<Ze;)if((de=De[ne++])<128)st[fe++]=de;else if(4<(Ie=xe[de]))st[fe++]=65533,ne+=Ie-1;else{for(de&=2===Ie?31:3===Ie?15:7;1<Ie&&ne<Ze;)de=de<<6|63&De[ne++],Ie--;1<Ie?st[fe++]=65533:de<65536?st[fe++]=de:(st[fe++]=55296|(de-=65536)>>10&1023,st[fe++]=56320|1023&de)}return st.length!==fe&&(st.subarray?st=st.subarray(0,fe):st.length=fe),ue.applyFromCharCode(st)}(oe=ue.transformTo(ce.uint8array?"uint8array":"array",oe))},ue.inherits(Ne,_e),Ne.prototype.processChunk=function(oe){var De=ue.transformTo(ce.uint8array?"uint8array":"array",oe.data);if(this.leftOver&&this.leftOver.length){if(ce.uint8array){var ne=De;(De=new Uint8Array(ne.length+this.leftOver.length)).set(this.leftOver,0),De.set(ne,this.leftOver.length)}else De=this.leftOver.concat(De);this.leftOver=null}var fe=function(Ie,Ze){var st;for((Ze=Ze||Ie.length)>Ie.length&&(Ze=Ie.length),st=Ze-1;0<=st&&128==(192&Ie[st]);)st--;return st<0||0===st?Ze:st+xe[Ie[st]]>Ze?st:Ze}(De),de=De;fe!==De.length&&(ce.uint8array?(de=De.subarray(0,fe),this.leftOver=De.subarray(fe,De.length)):(de=De.slice(0,fe),this.leftOver=De.slice(fe,De.length))),this.push({data:qe.utf8decode(de),meta:oe.meta})},Ne.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:qe.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},qe.Utf8DecodeWorker=Ne,ue.inherits(Ce,_e),Ce.prototype.processChunk=function(oe){this.push({data:qe.utf8encode(oe.data),meta:oe.meta})},qe.Utf8EncodeWorker=Ce},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(Ge,Ve,qe){"use strict";var ue=Ge("./support"),ce=Ge("./base64"),X=Ge("./nodejsUtils"),_e=Ge("./external");function xe(ne){return ne}function Pe(ne,fe){for(var de=0;de<ne.length;++de)fe[de]=255&ne.charCodeAt(de);return fe}Ge("setimmediate"),qe.newBlob=function(ne,fe){qe.checkSupport("blob");try{return new Blob([ne],{type:fe})}catch{try{var de=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return de.append(ne),de.getBlob(fe)}catch{throw new Error("Bug : can't construct the Blob.")}}};var Ne={stringifyByChunk:function(ne,fe,de){var Ie=[],Ze=0,st=ne.length;if(st<=de)return String.fromCharCode.apply(null,ne);for(;Ze<st;)Ie.push(String.fromCharCode.apply(null,"array"===fe||"nodebuffer"===fe?ne.slice(Ze,Math.min(Ze+de,st)):ne.subarray(Ze,Math.min(Ze+de,st)))),Ze+=de;return Ie.join("")},stringifyByChar:function(ne){for(var fe="",de=0;de<ne.length;de++)fe+=String.fromCharCode(ne[de]);return fe},applyCanBeUsed:{uint8array:function(){try{return ue.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return ue.nodebuffer&&1===String.fromCharCode.apply(null,X.allocBuffer(1)).length}catch{return!1}}()}};function Ce(ne){var fe=65536,de=qe.getTypeOf(ne),Ie=!0;if("uint8array"===de?Ie=Ne.applyCanBeUsed.uint8array:"nodebuffer"===de&&(Ie=Ne.applyCanBeUsed.nodebuffer),Ie)for(;1<fe;)try{return Ne.stringifyByChunk(ne,de,fe)}catch{fe=Math.floor(fe/2)}return Ne.stringifyByChar(ne)}function oe(ne,fe){for(var de=0;de<ne.length;de++)fe[de]=ne[de];return fe}qe.applyFromCharCode=Ce;var De={};De.string={string:xe,array:function(ne){return Pe(ne,new Array(ne.length))},arraybuffer:function(ne){return De.string.uint8array(ne).buffer},uint8array:function(ne){return Pe(ne,new Uint8Array(ne.length))},nodebuffer:function(ne){return Pe(ne,X.allocBuffer(ne.length))}},De.array={string:Ce,array:xe,arraybuffer:function(ne){return new Uint8Array(ne).buffer},uint8array:function(ne){return new Uint8Array(ne)},nodebuffer:function(ne){return X.newBufferFrom(ne)}},De.arraybuffer={string:function(ne){return Ce(new Uint8Array(ne))},array:function(ne){return oe(new Uint8Array(ne),new Array(ne.byteLength))},arraybuffer:xe,uint8array:function(ne){return new Uint8Array(ne)},nodebuffer:function(ne){return X.newBufferFrom(new Uint8Array(ne))}},De.uint8array={string:Ce,array:function(ne){return oe(ne,new Array(ne.length))},arraybuffer:function(ne){return ne.buffer},uint8array:xe,nodebuffer:function(ne){return X.newBufferFrom(ne)}},De.nodebuffer={string:Ce,array:function(ne){return oe(ne,new Array(ne.length))},arraybuffer:function(ne){return De.nodebuffer.uint8array(ne).buffer},uint8array:function(ne){return oe(ne,new Uint8Array(ne.length))},nodebuffer:xe},qe.transformTo=function(ne,fe){if(fe=fe||"",!ne)return fe;qe.checkSupport(ne);var de=qe.getTypeOf(fe);return De[de][ne](fe)},qe.resolve=function(ne){for(var fe=ne.split("/"),de=[],Ie=0;Ie<fe.length;Ie++){var Ze=fe[Ie];"."===Ze||""===Ze&&0!==Ie&&Ie!==fe.length-1||(".."===Ze?de.pop():de.push(Ze))}return de.join("/")},qe.getTypeOf=function(ne){return"string"==typeof ne?"string":"[object Array]"===Object.prototype.toString.call(ne)?"array":ue.nodebuffer&&X.isBuffer(ne)?"nodebuffer":ue.uint8array&&ne instanceof Uint8Array?"uint8array":ue.arraybuffer&&ne instanceof ArrayBuffer?"arraybuffer":void 0},qe.checkSupport=function(ne){if(!ue[ne.toLowerCase()])throw new Error(ne+" is not supported by this platform")},qe.MAX_VALUE_16BITS=65535,qe.MAX_VALUE_32BITS=-1,qe.pretty=function(ne){var fe,de,Ie="";for(de=0;de<(ne||"").length;de++)Ie+="\\x"+((fe=ne.charCodeAt(de))<16?"0":"")+fe.toString(16).toUpperCase();return Ie},qe.delay=function(ne,fe,de){setImmediate(function(){ne.apply(de||null,fe||[])})},qe.inherits=function(ne,fe){function de(){}de.prototype=fe.prototype,ne.prototype=new de},qe.extend=function(){var ne,fe,de={};for(ne=0;ne<arguments.length;ne++)for(fe in arguments[ne])Object.prototype.hasOwnProperty.call(arguments[ne],fe)&&void 0===de[fe]&&(de[fe]=arguments[ne][fe]);return de},qe.prepareContent=function(ne,fe,de,Ie,Ze){return _e.Promise.resolve(fe).then(function(st){return ue.blob&&(st instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(st)))&&typeof FileReader<"u"?new _e.Promise(function(At,Lt){var It=new FileReader;It.onload=function(Zt){At(Zt.target.result)},It.onerror=function(Zt){Lt(Zt.target.error)},It.readAsArrayBuffer(st)}):st}).then(function(st){var Lt,At=qe.getTypeOf(st);return At?("arraybuffer"===At?st=qe.transformTo("uint8array",st):"string"===At&&(Ze?st=ce.decode(st):de&&!0!==Ie&&(st=Pe(Lt=st,ue.uint8array?new Uint8Array(Lt.length):new Array(Lt.length)))),st):_e.Promise.reject(new Error("Can't read the data of '"+ne+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(Ge,Ve,qe){"use strict";var ue=Ge("./reader/readerFor"),ce=Ge("./utils"),X=Ge("./signature"),_e=Ge("./zipEntry"),xe=Ge("./support");function Pe(Ne){this.files=[],this.loadOptions=Ne}Pe.prototype={checkSignature:function(Ne){if(!this.reader.readAndCheckSignature(Ne)){this.reader.index-=4;var Ce=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+ce.pretty(Ce)+", expected "+ce.pretty(Ne)+")")}},isSignature:function(Ne,Ce){var oe=this.reader.index;this.reader.setIndex(Ne);var De=this.reader.readString(4)===Ce;return this.reader.setIndex(oe),De},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var Ne=this.reader.readData(this.zipCommentLength),oe=ce.transformTo(xe.uint8array?"uint8array":"array",Ne);this.zipComment=this.loadOptions.decodeFileName(oe)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var Ne,Ce,oe,De=this.zip64EndOfCentralSize-44;0<De;)Ne=this.reader.readInt(2),Ce=this.reader.readInt(4),oe=this.reader.readData(Ce),this.zip64ExtensibleData[Ne]={id:Ne,length:Ce,value:oe}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var Ne,Ce;for(Ne=0;Ne<this.files.length;Ne++)this.reader.setIndex((Ce=this.files[Ne]).localHeaderOffset),this.checkSignature(X.LOCAL_FILE_HEADER),Ce.readLocalPart(this.reader),Ce.handleUTF8(),Ce.processAttributes()},readCentralDir:function(){var Ne;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(X.CENTRAL_FILE_HEADER);)(Ne=new _e({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(Ne);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var Ne=this.reader.lastIndexOfSignature(X.CENTRAL_DIRECTORY_END);if(Ne<0)throw this.isSignature(0,X.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(Ne);var Ce=Ne;if(this.checkSignature(X.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===ce.MAX_VALUE_16BITS||this.diskWithCentralDirStart===ce.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===ce.MAX_VALUE_16BITS||this.centralDirRecords===ce.MAX_VALUE_16BITS||this.centralDirSize===ce.MAX_VALUE_32BITS||this.centralDirOffset===ce.MAX_VALUE_32BITS){if(this.zip64=!0,(Ne=this.reader.lastIndexOfSignature(X.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(Ne),this.checkSignature(X.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,X.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(X.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(X.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var oe=this.centralDirOffset+this.centralDirSize;this.zip64&&(oe+=20,oe+=12+this.zip64EndOfCentralSize);var De=Ce-oe;if(0<De)this.isSignature(Ce,X.CENTRAL_FILE_HEADER)||(this.reader.zero=De);else if(De<0)throw new Error("Corrupted zip: missing "+Math.abs(De)+" bytes.")},prepareReader:function(Ne){this.reader=ue(Ne)},load:function(Ne){this.prepareReader(Ne),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Ve.exports=Pe},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(Ge,Ve,qe){"use strict";var ue=Ge("./reader/readerFor"),ce=Ge("./utils"),X=Ge("./compressedObject"),_e=Ge("./crc32"),xe=Ge("./utf8"),Pe=Ge("./compressions"),Ne=Ge("./support");function Ce(oe,De){this.options=oe,this.loadOptions=De}Ce.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(oe){var De,ne;if(oe.skip(22),this.fileNameLength=oe.readInt(2),ne=oe.readInt(2),this.fileName=oe.readData(this.fileNameLength),oe.skip(ne),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(De=function(fe){for(var de in Pe)if(Object.prototype.hasOwnProperty.call(Pe,de)&&Pe[de].magic===fe)return Pe[de];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+ce.pretty(this.compressionMethod)+" unknown (inner file : "+ce.transformTo("string",this.fileName)+")");this.decompressed=new X(this.compressedSize,this.uncompressedSize,this.crc32,De,oe.readData(this.compressedSize))},readCentralPart:function(oe){this.versionMadeBy=oe.readInt(2),oe.skip(2),this.bitFlag=oe.readInt(2),this.compressionMethod=oe.readString(2),this.date=oe.readDate(),this.crc32=oe.readInt(4),this.compressedSize=oe.readInt(4),this.uncompressedSize=oe.readInt(4);var De=oe.readInt(2);if(this.extraFieldsLength=oe.readInt(2),this.fileCommentLength=oe.readInt(2),this.diskNumberStart=oe.readInt(2),this.internalFileAttributes=oe.readInt(2),this.externalFileAttributes=oe.readInt(4),this.localHeaderOffset=oe.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");oe.skip(De),this.readExtraFields(oe),this.parseZIP64ExtraField(oe),this.fileComment=oe.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var oe=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==oe&&(this.dosPermissions=63&this.externalFileAttributes),3==oe&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var oe=ue(this.extraFields[1].value);this.uncompressedSize===ce.MAX_VALUE_32BITS&&(this.uncompressedSize=oe.readInt(8)),this.compressedSize===ce.MAX_VALUE_32BITS&&(this.compressedSize=oe.readInt(8)),this.localHeaderOffset===ce.MAX_VALUE_32BITS&&(this.localHeaderOffset=oe.readInt(8)),this.diskNumberStart===ce.MAX_VALUE_32BITS&&(this.diskNumberStart=oe.readInt(4))}},readExtraFields:function(oe){var De,ne,fe,de=oe.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});oe.index+4<de;)De=oe.readInt(2),ne=oe.readInt(2),fe=oe.readData(ne),this.extraFields[De]={id:De,length:ne,value:fe};oe.setIndex(de)},handleUTF8:function(){var oe=Ne.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=xe.utf8decode(this.fileName),this.fileCommentStr=xe.utf8decode(this.fileComment);else{var De=this.findExtraFieldUnicodePath();if(null!==De)this.fileNameStr=De;else{var ne=ce.transformTo(oe,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(ne)}var fe=this.findExtraFieldUnicodeComment();if(null!==fe)this.fileCommentStr=fe;else{var de=ce.transformTo(oe,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(de)}}},findExtraFieldUnicodePath:function(){var oe=this.extraFields[28789];if(oe){var De=ue(oe.value);return 1!==De.readInt(1)||_e(this.fileName)!==De.readInt(4)?null:xe.utf8decode(De.readData(oe.length-5))}return null},findExtraFieldUnicodeComment:function(){var oe=this.extraFields[25461];if(oe){var De=ue(oe.value);return 1!==De.readInt(1)||_e(this.fileComment)!==De.readInt(4)?null:xe.utf8decode(De.readData(oe.length-5))}return null}},Ve.exports=Ce},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(Ge,Ve,qe){"use strict";function ue(De,ne,fe){this.name=De,this.dir=fe.dir,this.date=fe.date,this.comment=fe.comment,this.unixPermissions=fe.unixPermissions,this.dosPermissions=fe.dosPermissions,this._data=ne,this._dataBinary=fe.binary,this.options={compression:fe.compression,compressionOptions:fe.compressionOptions}}var ce=Ge("./stream/StreamHelper"),X=Ge("./stream/DataWorker"),_e=Ge("./utf8"),xe=Ge("./compressedObject"),Pe=Ge("./stream/GenericWorker");ue.prototype={internalStream:function(De){var ne=null,fe="string";try{if(!De)throw new Error("No output type specified.");var de="string"===(fe=De.toLowerCase())||"text"===fe;"binarystring"!==fe&&"text"!==fe||(fe="string"),ne=this._decompressWorker();var Ie=!this._dataBinary;Ie&&!de&&(ne=ne.pipe(new _e.Utf8EncodeWorker)),!Ie&&de&&(ne=ne.pipe(new _e.Utf8DecodeWorker))}catch(Ze){(ne=new Pe("error")).error(Ze)}return new ce(ne,fe,"")},async:function(De,ne){return this.internalStream(De).accumulate(ne)},nodeStream:function(De,ne){return this.internalStream(De||"nodebuffer").toNodejsStream(ne)},_compressWorker:function(De,ne){if(this._data instanceof xe&&this._data.compression.magic===De.magic)return this._data.getCompressedWorker();var fe=this._decompressWorker();return this._dataBinary||(fe=fe.pipe(new _e.Utf8EncodeWorker)),xe.createWorkerFrom(fe,De,ne)},_decompressWorker:function(){return this._data instanceof xe?this._data.getContentWorker():this._data instanceof Pe?this._data:new X(this._data)}};for(var Ne=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Ce=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},oe=0;oe<Ne.length;oe++)ue.prototype[Ne[oe]]=Ce;Ve.exports=ue},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(Ge,Ve,qe){(function(ue){"use strict";var ce,X,_e=ue.MutationObserver||ue.WebKitMutationObserver;if(_e){var xe=0,Pe=new _e(De),Ne=ue.document.createTextNode("");Pe.observe(Ne,{characterData:!0}),ce=function(){Ne.data=xe=++xe%2}}else if(ue.setImmediate||void 0===ue.MessageChannel)ce="document"in ue&&"onreadystatechange"in ue.document.createElement("script")?function(){var ne=ue.document.createElement("script");ne.onreadystatechange=function(){De(),ne.onreadystatechange=null,ne.parentNode.removeChild(ne),ne=null},ue.document.documentElement.appendChild(ne)}:function(){setTimeout(De,0)};else{var Ce=new ue.MessageChannel;Ce.port1.onmessage=De,ce=function(){Ce.port2.postMessage(0)}}var oe=[];function De(){var ne,fe;X=!0;for(var de=oe.length;de;){for(fe=oe,oe=[],ne=-1;++ne<de;)fe[ne]();de=oe.length}X=!1}Ve.exports=function(ne){1!==oe.push(ne)||X||ce()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(Ge,Ve,qe){"use strict";var ue=Ge("immediate");function ce(){}var X={},_e=["REJECTED"],xe=["FULFILLED"],Pe=["PENDING"];function Ne(de){if("function"!=typeof de)throw new TypeError("resolver must be a function");this.state=Pe,this.queue=[],this.outcome=void 0,de!==ce&&ne(this,de)}function Ce(de,Ie,Ze){this.promise=de,"function"==typeof Ie&&(this.onFulfilled=Ie,this.callFulfilled=this.otherCallFulfilled),"function"==typeof Ze&&(this.onRejected=Ze,this.callRejected=this.otherCallRejected)}function oe(de,Ie,Ze){ue(function(){var st;try{st=Ie(Ze)}catch(At){return X.reject(de,At)}st===de?X.reject(de,new TypeError("Cannot resolve promise with itself")):X.resolve(de,st)})}function De(de){var Ie=de&&de.then;if(de&&("object"==typeof de||"function"==typeof de)&&"function"==typeof Ie)return function(){Ie.apply(de,arguments)}}function ne(de,Ie){var Ze=!1;function st(It){Ze||(Ze=!0,X.reject(de,It))}function At(It){Ze||(Ze=!0,X.resolve(de,It))}var Lt=fe(function(){Ie(At,st)});"error"===Lt.status&&st(Lt.value)}function fe(de,Ie){var Ze={};try{Ze.value=de(Ie),Ze.status="success"}catch(st){Ze.status="error",Ze.value=st}return Ze}(Ve.exports=Ne).prototype.finally=function(de){if("function"!=typeof de)return this;var Ie=this.constructor;return this.then(function(Ze){return Ie.resolve(de()).then(function(){return Ze})},function(Ze){return Ie.resolve(de()).then(function(){throw Ze})})},Ne.prototype.catch=function(de){return this.then(null,de)},Ne.prototype.then=function(de,Ie){if("function"!=typeof de&&this.state===xe||"function"!=typeof Ie&&this.state===_e)return this;var Ze=new this.constructor(ce);return this.state!==Pe?oe(Ze,this.state===xe?de:Ie,this.outcome):this.queue.push(new Ce(Ze,de,Ie)),Ze},Ce.prototype.callFulfilled=function(de){X.resolve(this.promise,de)},Ce.prototype.otherCallFulfilled=function(de){oe(this.promise,this.onFulfilled,de)},Ce.prototype.callRejected=function(de){X.reject(this.promise,de)},Ce.prototype.otherCallRejected=function(de){oe(this.promise,this.onRejected,de)},X.resolve=function(de,Ie){var Ze=fe(De,Ie);if("error"===Ze.status)return X.reject(de,Ze.value);var st=Ze.value;if(st)ne(de,st);else{de.state=xe,de.outcome=Ie;for(var At=-1,Lt=de.queue.length;++At<Lt;)de.queue[At].callFulfilled(Ie)}return de},X.reject=function(de,Ie){de.state=_e,de.outcome=Ie;for(var Ze=-1,st=de.queue.length;++Ze<st;)de.queue[Ze].callRejected(Ie);return de},Ne.resolve=function(de){return de instanceof this?de:X.resolve(new this(ce),de)},Ne.reject=function(de){var Ie=new this(ce);return X.reject(Ie,de)},Ne.all=function(de){var Ie=this;if("[object Array]"!==Object.prototype.toString.call(de))return this.reject(new TypeError("must be an array"));var Ze=de.length,st=!1;if(!Ze)return this.resolve([]);for(var At=new Array(Ze),Lt=0,It=-1,Zt=new this(ce);++It<Ze;)Pt(de[It],It);return Zt;function Pt(en,Nn){Ie.resolve(en).then(function(Oe){At[Nn]=Oe,++Lt!==Ze||st||(st=!0,X.resolve(Zt,At))},function(Oe){st||(st=!0,X.reject(Zt,Oe))})}},Ne.race=function(de){if("[object Array]"!==Object.prototype.toString.call(de))return this.reject(new TypeError("must be an array"));var Ze=de.length,st=!1;if(!Ze)return this.resolve([]);for(var At=-1,Lt=new this(ce);++At<Ze;)this.resolve(de[At]).then(function(Zt){st||(st=!0,X.resolve(Lt,Zt))},function(Zt){st||(st=!0,X.reject(Lt,Zt))});return Lt}},{immediate:36}],38:[function(Ge,Ve,qe){"use strict";var ue={};(0,Ge("./lib/utils/common").assign)(ue,Ge("./lib/deflate"),Ge("./lib/inflate"),Ge("./lib/zlib/constants")),Ve.exports=ue},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(Ge,Ve,qe){"use strict";var ue=Ge("./zlib/deflate"),ce=Ge("./utils/common"),X=Ge("./utils/strings"),_e=Ge("./zlib/messages"),xe=Ge("./zlib/zstream"),Pe=Object.prototype.toString,Ne=0,Ce=-1,oe=0,De=8;function ne(de){if(!(this instanceof ne))return new ne(de);this.options=ce.assign({level:Ce,method:De,chunkSize:16384,windowBits:15,memLevel:8,strategy:oe,to:""},de||{});var Ie=this.options;Ie.raw&&0<Ie.windowBits?Ie.windowBits=-Ie.windowBits:Ie.gzip&&0<Ie.windowBits&&Ie.windowBits<16&&(Ie.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xe,this.strm.avail_out=0;var Ze=ue.deflateInit2(this.strm,Ie.level,Ie.method,Ie.windowBits,Ie.memLevel,Ie.strategy);if(Ze!==Ne)throw new Error(_e[Ze]);if(Ie.header&&ue.deflateSetHeader(this.strm,Ie.header),Ie.dictionary){var st;if(st="string"==typeof Ie.dictionary?X.string2buf(Ie.dictionary):"[object ArrayBuffer]"===Pe.call(Ie.dictionary)?new Uint8Array(Ie.dictionary):Ie.dictionary,(Ze=ue.deflateSetDictionary(this.strm,st))!==Ne)throw new Error(_e[Ze]);this._dict_set=!0}}function fe(de,Ie){var Ze=new ne(Ie);if(Ze.push(de,!0),Ze.err)throw Ze.msg||_e[Ze.err];return Ze.result}ne.prototype.push=function(de,Ie){var Ze,st,At=this.strm,Lt=this.options.chunkSize;if(this.ended)return!1;st=Ie===~~Ie?Ie:!0===Ie?4:0,At.input="string"==typeof de?X.string2buf(de):"[object ArrayBuffer]"===Pe.call(de)?new Uint8Array(de):de,At.next_in=0,At.avail_in=At.input.length;do{if(0===At.avail_out&&(At.output=new ce.Buf8(Lt),At.next_out=0,At.avail_out=Lt),1!==(Ze=ue.deflate(At,st))&&Ze!==Ne)return this.onEnd(Ze),!(this.ended=!0);0!==At.avail_out&&(0!==At.avail_in||4!==st&&2!==st)||this.onData("string"===this.options.to?X.buf2binstring(ce.shrinkBuf(At.output,At.next_out)):ce.shrinkBuf(At.output,At.next_out))}while((0<At.avail_in||0===At.avail_out)&&1!==Ze);return 4===st?(Ze=ue.deflateEnd(this.strm),this.onEnd(Ze),this.ended=!0,Ze===Ne):2!==st||(this.onEnd(Ne),!(At.avail_out=0))},ne.prototype.onData=function(de){this.chunks.push(de)},ne.prototype.onEnd=function(de){de===Ne&&(this.result="string"===this.options.to?this.chunks.join(""):ce.flattenChunks(this.chunks)),this.chunks=[],this.err=de,this.msg=this.strm.msg},qe.Deflate=ne,qe.deflate=fe,qe.deflateRaw=function(de,Ie){return(Ie=Ie||{}).raw=!0,fe(de,Ie)},qe.gzip=function(de,Ie){return(Ie=Ie||{}).gzip=!0,fe(de,Ie)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(Ge,Ve,qe){"use strict";var ue=Ge("./zlib/inflate"),ce=Ge("./utils/common"),X=Ge("./utils/strings"),_e=Ge("./zlib/constants"),xe=Ge("./zlib/messages"),Pe=Ge("./zlib/zstream"),Ne=Ge("./zlib/gzheader"),Ce=Object.prototype.toString;function oe(ne){if(!(this instanceof oe))return new oe(ne);this.options=ce.assign({chunkSize:16384,windowBits:0,to:""},ne||{});var fe=this.options;fe.raw&&0<=fe.windowBits&&fe.windowBits<16&&(fe.windowBits=-fe.windowBits,0===fe.windowBits&&(fe.windowBits=-15)),!(0<=fe.windowBits&&fe.windowBits<16)||ne&&ne.windowBits||(fe.windowBits+=32),15<fe.windowBits&&fe.windowBits<48&&!(15&fe.windowBits)&&(fe.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Pe,this.strm.avail_out=0;var de=ue.inflateInit2(this.strm,fe.windowBits);if(de!==_e.Z_OK)throw new Error(xe[de]);this.header=new Ne,ue.inflateGetHeader(this.strm,this.header)}function De(ne,fe){var de=new oe(fe);if(de.push(ne,!0),de.err)throw de.msg||xe[de.err];return de.result}oe.prototype.push=function(ne,fe){var de,Ie,Ze,st,At,Lt,It=this.strm,Zt=this.options.chunkSize,Pt=this.options.dictionary,en=!1;if(this.ended)return!1;Ie=fe===~~fe?fe:!0===fe?_e.Z_FINISH:_e.Z_NO_FLUSH,It.input="string"==typeof ne?X.binstring2buf(ne):"[object ArrayBuffer]"===Ce.call(ne)?new Uint8Array(ne):ne,It.next_in=0,It.avail_in=It.input.length;do{if(0===It.avail_out&&(It.output=new ce.Buf8(Zt),It.next_out=0,It.avail_out=Zt),(de=ue.inflate(It,_e.Z_NO_FLUSH))===_e.Z_NEED_DICT&&Pt&&(Lt="string"==typeof Pt?X.string2buf(Pt):"[object ArrayBuffer]"===Ce.call(Pt)?new Uint8Array(Pt):Pt,de=ue.inflateSetDictionary(this.strm,Lt)),de===_e.Z_BUF_ERROR&&!0===en&&(de=_e.Z_OK,en=!1),de!==_e.Z_STREAM_END&&de!==_e.Z_OK)return this.onEnd(de),!(this.ended=!0);It.next_out&&(0!==It.avail_out&&de!==_e.Z_STREAM_END&&(0!==It.avail_in||Ie!==_e.Z_FINISH&&Ie!==_e.Z_SYNC_FLUSH)||("string"===this.options.to?(Ze=X.utf8border(It.output,It.next_out),st=It.next_out-Ze,At=X.buf2string(It.output,Ze),It.next_out=st,It.avail_out=Zt-st,st&&ce.arraySet(It.output,It.output,Ze,st,0),this.onData(At)):this.onData(ce.shrinkBuf(It.output,It.next_out)))),0===It.avail_in&&0===It.avail_out&&(en=!0)}while((0<It.avail_in||0===It.avail_out)&&de!==_e.Z_STREAM_END);return de===_e.Z_STREAM_END&&(Ie=_e.Z_FINISH),Ie===_e.Z_FINISH?(de=ue.inflateEnd(this.strm),this.onEnd(de),this.ended=!0,de===_e.Z_OK):Ie!==_e.Z_SYNC_FLUSH||(this.onEnd(_e.Z_OK),!(It.avail_out=0))},oe.prototype.onData=function(ne){this.chunks.push(ne)},oe.prototype.onEnd=function(ne){ne===_e.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):ce.flattenChunks(this.chunks)),this.chunks=[],this.err=ne,this.msg=this.strm.msg},qe.Inflate=oe,qe.inflate=De,qe.inflateRaw=function(ne,fe){return(fe=fe||{}).raw=!0,De(ne,fe)},qe.ungzip=De},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(Ge,Ve,qe){"use strict";var ue=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";qe.assign=function(_e){for(var xe=Array.prototype.slice.call(arguments,1);xe.length;){var Pe=xe.shift();if(Pe){if("object"!=typeof Pe)throw new TypeError(Pe+"must be non-object");for(var Ne in Pe)Pe.hasOwnProperty(Ne)&&(_e[Ne]=Pe[Ne])}}return _e},qe.shrinkBuf=function(_e,xe){return _e.length===xe?_e:_e.subarray?_e.subarray(0,xe):(_e.length=xe,_e)};var ce={arraySet:function(_e,xe,Pe,Ne,Ce){if(xe.subarray&&_e.subarray)_e.set(xe.subarray(Pe,Pe+Ne),Ce);else for(var oe=0;oe<Ne;oe++)_e[Ce+oe]=xe[Pe+oe]},flattenChunks:function(_e){var xe,Pe,Ne,Ce,oe,De;for(xe=Ne=0,Pe=_e.length;xe<Pe;xe++)Ne+=_e[xe].length;for(De=new Uint8Array(Ne),xe=Ce=0,Pe=_e.length;xe<Pe;xe++)De.set(oe=_e[xe],Ce),Ce+=oe.length;return De}},X={arraySet:function(_e,xe,Pe,Ne,Ce){for(var oe=0;oe<Ne;oe++)_e[Ce+oe]=xe[Pe+oe]},flattenChunks:function(_e){return[].concat.apply([],_e)}};qe.setTyped=function(_e){_e?(qe.Buf8=Uint8Array,qe.Buf16=Uint16Array,qe.Buf32=Int32Array,qe.assign(qe,ce)):(qe.Buf8=Array,qe.Buf16=Array,qe.Buf32=Array,qe.assign(qe,X))},qe.setTyped(ue)},{}],42:[function(Ge,Ve,qe){"use strict";var ue=Ge("./common"),ce=!0,X=!0;try{String.fromCharCode.apply(null,[0])}catch{ce=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{X=!1}for(var _e=new ue.Buf8(256),xe=0;xe<256;xe++)_e[xe]=252<=xe?6:248<=xe?5:240<=xe?4:224<=xe?3:192<=xe?2:1;function Pe(Ne,Ce){if(Ce<65537&&(Ne.subarray&&X||!Ne.subarray&&ce))return String.fromCharCode.apply(null,ue.shrinkBuf(Ne,Ce));for(var oe="",De=0;De<Ce;De++)oe+=String.fromCharCode(Ne[De]);return oe}_e[254]=_e[254]=1,qe.string2buf=function(Ne){var Ce,oe,De,ne,fe,de=Ne.length,Ie=0;for(ne=0;ne<de;ne++)55296==(64512&(oe=Ne.charCodeAt(ne)))&&ne+1<de&&56320==(64512&(De=Ne.charCodeAt(ne+1)))&&(oe=65536+(oe-55296<<10)+(De-56320),ne++),Ie+=oe<128?1:oe<2048?2:oe<65536?3:4;for(Ce=new ue.Buf8(Ie),ne=fe=0;fe<Ie;ne++)55296==(64512&(oe=Ne.charCodeAt(ne)))&&ne+1<de&&56320==(64512&(De=Ne.charCodeAt(ne+1)))&&(oe=65536+(oe-55296<<10)+(De-56320),ne++),oe<128?Ce[fe++]=oe:(oe<2048?Ce[fe++]=192|oe>>>6:(oe<65536?Ce[fe++]=224|oe>>>12:(Ce[fe++]=240|oe>>>18,Ce[fe++]=128|oe>>>12&63),Ce[fe++]=128|oe>>>6&63),Ce[fe++]=128|63&oe);return Ce},qe.buf2binstring=function(Ne){return Pe(Ne,Ne.length)},qe.binstring2buf=function(Ne){for(var Ce=new ue.Buf8(Ne.length),oe=0,De=Ce.length;oe<De;oe++)Ce[oe]=Ne.charCodeAt(oe);return Ce},qe.buf2string=function(Ne,Ce){var oe,De,ne,fe,de=Ce||Ne.length,Ie=new Array(2*de);for(oe=De=0;oe<de;)if((ne=Ne[oe++])<128)Ie[De++]=ne;else if(4<(fe=_e[ne]))Ie[De++]=65533,oe+=fe-1;else{for(ne&=2===fe?31:3===fe?15:7;1<fe&&oe<de;)ne=ne<<6|63&Ne[oe++],fe--;1<fe?Ie[De++]=65533:ne<65536?Ie[De++]=ne:(Ie[De++]=55296|(ne-=65536)>>10&1023,Ie[De++]=56320|1023&ne)}return Pe(Ie,De)},qe.utf8border=function(Ne,Ce){var oe;for((Ce=Ce||Ne.length)>Ne.length&&(Ce=Ne.length),oe=Ce-1;0<=oe&&128==(192&Ne[oe]);)oe--;return oe<0||0===oe?Ce:oe+_e[Ne[oe]]>Ce?oe:Ce}},{"./common":41}],43:[function(Ge,Ve,qe){"use strict";Ve.exports=function(ue,ce,X,_e){for(var xe=65535&ue,Pe=ue>>>16&65535,Ne=0;0!==X;){for(X-=Ne=2e3<X?2e3:X;Pe=Pe+(xe=xe+ce[_e++]|0)|0,--Ne;);xe%=65521,Pe%=65521}return xe|Pe<<16}},{}],44:[function(Ge,Ve,qe){"use strict";Ve.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(Ge,Ve,qe){"use strict";var ue=function(){for(var ce,X=[],_e=0;_e<256;_e++){ce=_e;for(var xe=0;xe<8;xe++)ce=1&ce?3988292384^ce>>>1:ce>>>1;X[_e]=ce}return X}();Ve.exports=function(ce,X,_e,xe){var Pe=ue,Ne=xe+_e;ce^=-1;for(var Ce=xe;Ce<Ne;Ce++)ce=ce>>>8^Pe[255&(ce^X[Ce])];return~ce}},{}],46:[function(Ge,Ve,qe){"use strict";var ue,ce=Ge("../utils/common"),X=Ge("./trees"),_e=Ge("./adler32"),xe=Ge("./crc32"),Pe=Ge("./messages"),Ne=0,oe=0,De=-2,de=2,Ie=8,st=286,At=30,Lt=19,It=2*st+1,Zt=15,Pt=3,en=258,Nn=en+Pt+1,Oe=42,Bt=113;function gi(Q,bt){return Q.msg=Pe[bt],bt}function Dt(Q){return(Q<<1)-(4<Q?9:0)}function Zn(Q){for(var bt=Q.length;0<=--bt;)Q[bt]=0}function Je(Q){var bt=Q.state,Ct=bt.pending;Ct>Q.avail_out&&(Ct=Q.avail_out),0!==Ct&&(ce.arraySet(Q.output,bt.pending_buf,bt.pending_out,Ct,Q.next_out),Q.next_out+=Ct,bt.pending_out+=Ct,Q.total_out+=Ct,Q.avail_out-=Ct,bt.pending-=Ct,0===bt.pending&&(bt.pending_out=0))}function at(Q,bt){X._tr_flush_block(Q,0<=Q.block_start?Q.block_start:-1,Q.strstart-Q.block_start,bt),Q.block_start=Q.strstart,Je(Q.strm)}function bn(Q,bt){Q.pending_buf[Q.pending++]=bt}function ln(Q,bt){Q.pending_buf[Q.pending++]=bt>>>8&255,Q.pending_buf[Q.pending++]=255&bt}function qt(Q,bt){var Ct,we,he=Q.max_chain_length,We=Q.strstart,zt=Q.prev_length,Gt=Q.nice_match,dt=Q.strstart>Q.w_size-Nn?Q.strstart-(Q.w_size-Nn):0,$t=Q.window,An=Q.w_mask,rn=Q.prev,En=Q.strstart+en,yr=$t[We+zt-1],Ui=$t[We+zt];Q.prev_length>=Q.good_match&&(he>>=2),Gt>Q.lookahead&&(Gt=Q.lookahead);do{if($t[(Ct=bt)+zt]===Ui&&$t[Ct+zt-1]===yr&&$t[Ct]===$t[We]&&$t[++Ct]===$t[We+1]){We+=2,Ct++;do{}while($t[++We]===$t[++Ct]&&$t[++We]===$t[++Ct]&&$t[++We]===$t[++Ct]&&$t[++We]===$t[++Ct]&&$t[++We]===$t[++Ct]&&$t[++We]===$t[++Ct]&&$t[++We]===$t[++Ct]&&$t[++We]===$t[++Ct]&&We<En);if(we=en-(En-We),We=En-en,zt<we){if(Q.match_start=bt,Gt<=(zt=we))break;yr=$t[We+zt-1],Ui=$t[We+zt]}}}while((bt=rn[bt&An])>dt&&0!=--he);return zt<=Q.lookahead?zt:Q.lookahead}function ei(Q){var bt,Ct,we,he,We,zt,Gt,dt,$t,An,rn=Q.w_size;do{if(he=Q.window_size-Q.lookahead-Q.strstart,Q.strstart>=rn+(rn-Nn)){for(ce.arraySet(Q.window,Q.window,rn,rn,0),Q.match_start-=rn,Q.strstart-=rn,Q.block_start-=rn,bt=Ct=Q.hash_size;we=Q.head[--bt],Q.head[bt]=rn<=we?we-rn:0,--Ct;);for(bt=Ct=rn;we=Q.prev[--bt],Q.prev[bt]=rn<=we?we-rn:0,--Ct;);he+=rn}if(0===Q.strm.avail_in)break;if(Gt=Q.window,dt=Q.strstart+Q.lookahead,An=void 0,($t=he)<(An=(zt=Q.strm).avail_in)&&(An=$t),Ct=0===An?0:(zt.avail_in-=An,ce.arraySet(Gt,zt.input,zt.next_in,An,dt),1===zt.state.wrap?zt.adler=_e(zt.adler,Gt,An,dt):2===zt.state.wrap&&(zt.adler=xe(zt.adler,Gt,An,dt)),zt.next_in+=An,zt.total_in+=An,An),Q.lookahead+=Ct,Q.lookahead+Q.insert>=Pt)for(Q.ins_h=Q.window[We=Q.strstart-Q.insert],Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[We+1])&Q.hash_mask;Q.insert&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[We+Pt-1])&Q.hash_mask,Q.prev[We&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=We,We++,Q.insert--,!(Q.lookahead+Q.insert<Pt)););}while(Q.lookahead<Nn&&0!==Q.strm.avail_in)}function zn(Q,bt){for(var Ct,we;;){if(Q.lookahead<Nn){if(ei(Q),Q.lookahead<Nn&&bt===Ne)return 1;if(0===Q.lookahead)break}if(Ct=0,Q.lookahead>=Pt&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+Pt-1])&Q.hash_mask,Ct=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),0!==Ct&&Q.strstart-Ct<=Q.w_size-Nn&&(Q.match_length=qt(Q,Ct)),Q.match_length>=Pt)if(we=X._tr_tally(Q,Q.strstart-Q.match_start,Q.match_length-Pt),Q.lookahead-=Q.match_length,Q.match_length<=Q.max_lazy_match&&Q.lookahead>=Pt){for(Q.match_length--;Q.strstart++,Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+Pt-1])&Q.hash_mask,Ct=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart,0!=--Q.match_length;);Q.strstart++}else Q.strstart+=Q.match_length,Q.match_length=0,Q.ins_h=Q.window[Q.strstart],Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+1])&Q.hash_mask;else we=X._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++;if(we&&(at(Q,!1),0===Q.strm.avail_out))return 1}return Q.insert=Q.strstart<Pt-1?Q.strstart:Pt-1,4===bt?(at(Q,!0),0===Q.strm.avail_out?3:4):Q.last_lit&&(at(Q,!1),0===Q.strm.avail_out)?1:2}function wi(Q,bt){for(var Ct,we,he;;){if(Q.lookahead<Nn){if(ei(Q),Q.lookahead<Nn&&bt===Ne)return 1;if(0===Q.lookahead)break}if(Ct=0,Q.lookahead>=Pt&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+Pt-1])&Q.hash_mask,Ct=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),Q.prev_length=Q.match_length,Q.prev_match=Q.match_start,Q.match_length=Pt-1,0!==Ct&&Q.prev_length<Q.max_lazy_match&&Q.strstart-Ct<=Q.w_size-Nn&&(Q.match_length=qt(Q,Ct),Q.match_length<=5&&(1===Q.strategy||Q.match_length===Pt&&4096<Q.strstart-Q.match_start)&&(Q.match_length=Pt-1)),Q.prev_length>=Pt&&Q.match_length<=Q.prev_length){for(he=Q.strstart+Q.lookahead-Pt,we=X._tr_tally(Q,Q.strstart-1-Q.prev_match,Q.prev_length-Pt),Q.lookahead-=Q.prev_length-1,Q.prev_length-=2;++Q.strstart<=he&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+Pt-1])&Q.hash_mask,Ct=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),0!=--Q.prev_length;);if(Q.match_available=0,Q.match_length=Pt-1,Q.strstart++,we&&(at(Q,!1),0===Q.strm.avail_out))return 1}else if(Q.match_available){if((we=X._tr_tally(Q,0,Q.window[Q.strstart-1]))&&at(Q,!1),Q.strstart++,Q.lookahead--,0===Q.strm.avail_out)return 1}else Q.match_available=1,Q.strstart++,Q.lookahead--}return Q.match_available&&(we=X._tr_tally(Q,0,Q.window[Q.strstart-1]),Q.match_available=0),Q.insert=Q.strstart<Pt-1?Q.strstart:Pt-1,4===bt?(at(Q,!0),0===Q.strm.avail_out?3:4):Q.last_lit&&(at(Q,!1),0===Q.strm.avail_out)?1:2}function Pi(Q,bt,Ct,we,he){this.good_length=Q,this.max_lazy=bt,this.nice_length=Ct,this.max_chain=we,this.func=he}function _o(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ie,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ce.Buf16(2*It),this.dyn_dtree=new ce.Buf16(2*(2*At+1)),this.bl_tree=new ce.Buf16(2*(2*Lt+1)),Zn(this.dyn_ltree),Zn(this.dyn_dtree),Zn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ce.Buf16(Zt+1),this.heap=new ce.Buf16(2*st+1),Zn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ce.Buf16(2*st+1),Zn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Vr(Q){var bt;return Q&&Q.state?(Q.total_in=Q.total_out=0,Q.data_type=de,(bt=Q.state).pending=0,bt.pending_out=0,bt.wrap<0&&(bt.wrap=-bt.wrap),bt.status=bt.wrap?Oe:Bt,Q.adler=2===bt.wrap?0:1,bt.last_flush=Ne,X._tr_init(bt),oe):gi(Q,De)}function _s(Q){var Ct,bt=Vr(Q);return bt===oe&&((Ct=Q.state).window_size=2*Ct.w_size,Zn(Ct.head),Ct.max_lazy_match=ue[Ct.level].max_lazy,Ct.good_match=ue[Ct.level].good_length,Ct.nice_match=ue[Ct.level].nice_length,Ct.max_chain_length=ue[Ct.level].max_chain,Ct.strstart=0,Ct.block_start=0,Ct.lookahead=0,Ct.insert=0,Ct.match_length=Ct.prev_length=Pt-1,Ct.match_available=0,Ct.ins_h=0),bt}function Jo(Q,bt,Ct,we,he,We){if(!Q)return De;var zt=1;if(-1===bt&&(bt=6),we<0?(zt=0,we=-we):15<we&&(zt=2,we-=16),he<1||9<he||Ct!==Ie||we<8||15<we||bt<0||9<bt||We<0||4<We)return gi(Q,De);8===we&&(we=9);var Gt=new _o;return(Q.state=Gt).strm=Q,Gt.wrap=zt,Gt.gzhead=null,Gt.w_bits=we,Gt.w_size=1<<Gt.w_bits,Gt.w_mask=Gt.w_size-1,Gt.hash_bits=he+7,Gt.hash_size=1<<Gt.hash_bits,Gt.hash_mask=Gt.hash_size-1,Gt.hash_shift=~~((Gt.hash_bits+Pt-1)/Pt),Gt.window=new ce.Buf8(2*Gt.w_size),Gt.head=new ce.Buf16(Gt.hash_size),Gt.prev=new ce.Buf16(Gt.w_size),Gt.lit_bufsize=1<<he+6,Gt.pending_buf_size=4*Gt.lit_bufsize,Gt.pending_buf=new ce.Buf8(Gt.pending_buf_size),Gt.d_buf=1*Gt.lit_bufsize,Gt.l_buf=3*Gt.lit_bufsize,Gt.level=bt,Gt.strategy=We,Gt.method=Ct,_s(Q)}ue=[new Pi(0,0,0,0,function(Q,bt){var Ct=65535;for(Ct>Q.pending_buf_size-5&&(Ct=Q.pending_buf_size-5);;){if(Q.lookahead<=1){if(ei(Q),0===Q.lookahead&&bt===Ne)return 1;if(0===Q.lookahead)break}Q.strstart+=Q.lookahead,Q.lookahead=0;var we=Q.block_start+Ct;if((0===Q.strstart||Q.strstart>=we)&&(Q.lookahead=Q.strstart-we,Q.strstart=we,at(Q,!1),0===Q.strm.avail_out)||Q.strstart-Q.block_start>=Q.w_size-Nn&&(at(Q,!1),0===Q.strm.avail_out))return 1}return Q.insert=0,4===bt?(at(Q,!0),0===Q.strm.avail_out?3:4):(Q.strstart>Q.block_start&&at(Q,!1),1)}),new Pi(4,4,8,4,zn),new Pi(4,5,16,8,zn),new Pi(4,6,32,32,zn),new Pi(4,4,16,16,wi),new Pi(8,16,32,32,wi),new Pi(8,16,128,128,wi),new Pi(8,32,128,256,wi),new Pi(32,128,258,1024,wi),new Pi(32,258,258,4096,wi)],qe.deflateInit=function(Q,bt){return Jo(Q,bt,Ie,15,8,0)},qe.deflateInit2=Jo,qe.deflateReset=_s,qe.deflateResetKeep=Vr,qe.deflateSetHeader=function(Q,bt){return Q&&Q.state?2!==Q.state.wrap?De:(Q.state.gzhead=bt,oe):De},qe.deflate=function(Q,bt){var Ct,we,he,We;if(!Q||!Q.state||5<bt||bt<0)return Q?gi(Q,De):De;if(we=Q.state,!Q.output||!Q.input&&0!==Q.avail_in||666===we.status&&4!==bt)return gi(Q,0===Q.avail_out?-5:De);if(we.strm=Q,Ct=we.last_flush,we.last_flush=bt,we.status===Oe)if(2===we.wrap)Q.adler=0,bn(we,31),bn(we,139),bn(we,8),we.gzhead?(bn(we,(we.gzhead.text?1:0)+(we.gzhead.hcrc?2:0)+(we.gzhead.extra?4:0)+(we.gzhead.name?8:0)+(we.gzhead.comment?16:0)),bn(we,255&we.gzhead.time),bn(we,we.gzhead.time>>8&255),bn(we,we.gzhead.time>>16&255),bn(we,we.gzhead.time>>24&255),bn(we,9===we.level?2:2<=we.strategy||we.level<2?4:0),bn(we,255&we.gzhead.os),we.gzhead.extra&&we.gzhead.extra.length&&(bn(we,255&we.gzhead.extra.length),bn(we,we.gzhead.extra.length>>8&255)),we.gzhead.hcrc&&(Q.adler=xe(Q.adler,we.pending_buf,we.pending,0)),we.gzindex=0,we.status=69):(bn(we,0),bn(we,0),bn(we,0),bn(we,0),bn(we,0),bn(we,9===we.level?2:2<=we.strategy||we.level<2?4:0),bn(we,3),we.status=Bt);else{var zt=Ie+(we.w_bits-8<<4)<<8;zt|=(2<=we.strategy||we.level<2?0:we.level<6?1:6===we.level?2:3)<<6,0!==we.strstart&&(zt|=32),zt+=31-zt%31,we.status=Bt,ln(we,zt),0!==we.strstart&&(ln(we,Q.adler>>>16),ln(we,65535&Q.adler)),Q.adler=1}if(69===we.status)if(we.gzhead.extra){for(he=we.pending;we.gzindex<(65535&we.gzhead.extra.length)&&(we.pending!==we.pending_buf_size||(we.gzhead.hcrc&&we.pending>he&&(Q.adler=xe(Q.adler,we.pending_buf,we.pending-he,he)),Je(Q),he=we.pending,we.pending!==we.pending_buf_size));)bn(we,255&we.gzhead.extra[we.gzindex]),we.gzindex++;we.gzhead.hcrc&&we.pending>he&&(Q.adler=xe(Q.adler,we.pending_buf,we.pending-he,he)),we.gzindex===we.gzhead.extra.length&&(we.gzindex=0,we.status=73)}else we.status=73;if(73===we.status)if(we.gzhead.name){he=we.pending;do{if(we.pending===we.pending_buf_size&&(we.gzhead.hcrc&&we.pending>he&&(Q.adler=xe(Q.adler,we.pending_buf,we.pending-he,he)),Je(Q),he=we.pending,we.pending===we.pending_buf_size)){We=1;break}We=we.gzindex<we.gzhead.name.length?255&we.gzhead.name.charCodeAt(we.gzindex++):0,bn(we,We)}while(0!==We);we.gzhead.hcrc&&we.pending>he&&(Q.adler=xe(Q.adler,we.pending_buf,we.pending-he,he)),0===We&&(we.gzindex=0,we.status=91)}else we.status=91;if(91===we.status)if(we.gzhead.comment){he=we.pending;do{if(we.pending===we.pending_buf_size&&(we.gzhead.hcrc&&we.pending>he&&(Q.adler=xe(Q.adler,we.pending_buf,we.pending-he,he)),Je(Q),he=we.pending,we.pending===we.pending_buf_size)){We=1;break}We=we.gzindex<we.gzhead.comment.length?255&we.gzhead.comment.charCodeAt(we.gzindex++):0,bn(we,We)}while(0!==We);we.gzhead.hcrc&&we.pending>he&&(Q.adler=xe(Q.adler,we.pending_buf,we.pending-he,he)),0===We&&(we.status=103)}else we.status=103;if(103===we.status&&(we.gzhead.hcrc?(we.pending+2>we.pending_buf_size&&Je(Q),we.pending+2<=we.pending_buf_size&&(bn(we,255&Q.adler),bn(we,Q.adler>>8&255),Q.adler=0,we.status=Bt)):we.status=Bt),0!==we.pending){if(Je(Q),0===Q.avail_out)return we.last_flush=-1,oe}else if(0===Q.avail_in&&Dt(bt)<=Dt(Ct)&&4!==bt)return gi(Q,-5);if(666===we.status&&0!==Q.avail_in)return gi(Q,-5);if(0!==Q.avail_in||0!==we.lookahead||bt!==Ne&&666!==we.status){var Gt=2===we.strategy?function(dt,$t){for(var An;;){if(0===dt.lookahead&&(ei(dt),0===dt.lookahead)){if($t===Ne)return 1;break}if(dt.match_length=0,An=X._tr_tally(dt,0,dt.window[dt.strstart]),dt.lookahead--,dt.strstart++,An&&(at(dt,!1),0===dt.strm.avail_out))return 1}return dt.insert=0,4===$t?(at(dt,!0),0===dt.strm.avail_out?3:4):dt.last_lit&&(at(dt,!1),0===dt.strm.avail_out)?1:2}(we,bt):3===we.strategy?function(dt,$t){for(var An,rn,En,yr,Ui=dt.window;;){if(dt.lookahead<=en){if(ei(dt),dt.lookahead<=en&&$t===Ne)return 1;if(0===dt.lookahead)break}if(dt.match_length=0,dt.lookahead>=Pt&&0<dt.strstart&&(rn=Ui[En=dt.strstart-1])===Ui[++En]&&rn===Ui[++En]&&rn===Ui[++En]){yr=dt.strstart+en;do{}while(rn===Ui[++En]&&rn===Ui[++En]&&rn===Ui[++En]&&rn===Ui[++En]&&rn===Ui[++En]&&rn===Ui[++En]&&rn===Ui[++En]&&rn===Ui[++En]&&En<yr);dt.match_length=en-(yr-En),dt.match_length>dt.lookahead&&(dt.match_length=dt.lookahead)}if(dt.match_length>=Pt?(An=X._tr_tally(dt,1,dt.match_length-Pt),dt.lookahead-=dt.match_length,dt.strstart+=dt.match_length,dt.match_length=0):(An=X._tr_tally(dt,0,dt.window[dt.strstart]),dt.lookahead--,dt.strstart++),An&&(at(dt,!1),0===dt.strm.avail_out))return 1}return dt.insert=0,4===$t?(at(dt,!0),0===dt.strm.avail_out?3:4):dt.last_lit&&(at(dt,!1),0===dt.strm.avail_out)?1:2}(we,bt):ue[we.level].func(we,bt);if(3!==Gt&&4!==Gt||(we.status=666),1===Gt||3===Gt)return 0===Q.avail_out&&(we.last_flush=-1),oe;if(2===Gt&&(1===bt?X._tr_align(we):5!==bt&&(X._tr_stored_block(we,0,0,!1),3===bt&&(Zn(we.head),0===we.lookahead&&(we.strstart=0,we.block_start=0,we.insert=0))),Je(Q),0===Q.avail_out))return we.last_flush=-1,oe}return 4!==bt?oe:we.wrap<=0?1:(2===we.wrap?(bn(we,255&Q.adler),bn(we,Q.adler>>8&255),bn(we,Q.adler>>16&255),bn(we,Q.adler>>24&255),bn(we,255&Q.total_in),bn(we,Q.total_in>>8&255),bn(we,Q.total_in>>16&255),bn(we,Q.total_in>>24&255)):(ln(we,Q.adler>>>16),ln(we,65535&Q.adler)),Je(Q),0<we.wrap&&(we.wrap=-we.wrap),0!==we.pending?oe:1)},qe.deflateEnd=function(Q){var bt;return Q&&Q.state?(bt=Q.state.status)!==Oe&&69!==bt&&73!==bt&&91!==bt&&103!==bt&&bt!==Bt&&666!==bt?gi(Q,De):(Q.state=null,bt===Bt?gi(Q,-3):oe):De},qe.deflateSetDictionary=function(Q,bt){var Ct,we,he,We,zt,Gt,dt,$t,An=bt.length;if(!Q||!Q.state||2===(We=(Ct=Q.state).wrap)||1===We&&Ct.status!==Oe||Ct.lookahead)return De;for(1===We&&(Q.adler=_e(Q.adler,bt,An,0)),Ct.wrap=0,An>=Ct.w_size&&(0===We&&(Zn(Ct.head),Ct.strstart=0,Ct.block_start=0,Ct.insert=0),$t=new ce.Buf8(Ct.w_size),ce.arraySet($t,bt,An-Ct.w_size,Ct.w_size,0),bt=$t,An=Ct.w_size),zt=Q.avail_in,Gt=Q.next_in,dt=Q.input,Q.avail_in=An,Q.next_in=0,Q.input=bt,ei(Ct);Ct.lookahead>=Pt;){for(we=Ct.strstart,he=Ct.lookahead-(Pt-1);Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[we+Pt-1])&Ct.hash_mask,Ct.prev[we&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=we,we++,--he;);Ct.strstart=we,Ct.lookahead=Pt-1,ei(Ct)}return Ct.strstart+=Ct.lookahead,Ct.block_start=Ct.strstart,Ct.insert=Ct.lookahead,Ct.lookahead=0,Ct.match_length=Ct.prev_length=Pt-1,Ct.match_available=0,Q.next_in=Gt,Q.input=dt,Q.avail_in=zt,Ct.wrap=We,oe},qe.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(Ge,Ve,qe){"use strict";Ve.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(Ge,Ve,qe){"use strict";Ve.exports=function(ue,ce){var X,_e,xe,Pe,Ne,Ce,oe,De,ne,fe,de,Ie,Ze,st,At,Lt,It,Zt,Pt,en,Nn,Oe,Bt,Z,Nt;Z=ue.input,xe=(_e=ue.next_in)+(ue.avail_in-5),Nt=ue.output,Ne=(Pe=ue.next_out)-(ce-ue.avail_out),Ce=Pe+(ue.avail_out-257),oe=(X=ue.state).dmax,De=X.wsize,ne=X.whave,fe=X.wnext,de=X.window,Ie=X.hold,Ze=X.bits,st=X.lencode,At=X.distcode,Lt=(1<<X.lenbits)-1,It=(1<<X.distbits)-1;e:do{Ze<15&&(Ie+=Z[_e++]<<Ze,Ie+=Z[_e++]<<(Ze+=8),Ze+=8),Zt=st[Ie&Lt];t:for(;;){if(Ie>>>=Pt=Zt>>>24,Ze-=Pt,0==(Pt=Zt>>>16&255))Nt[Pe++]=65535&Zt;else{if(!(16&Pt)){if(!(64&Pt)){Zt=st[(65535&Zt)+(Ie&(1<<Pt)-1)];continue t}if(32&Pt){X.mode=12;break e}ue.msg="invalid literal/length code",X.mode=30;break e}en=65535&Zt,(Pt&=15)&&(Ze<Pt&&(Ie+=Z[_e++]<<Ze,Ze+=8),en+=Ie&(1<<Pt)-1,Ie>>>=Pt,Ze-=Pt),Ze<15&&(Ie+=Z[_e++]<<Ze,Ie+=Z[_e++]<<(Ze+=8),Ze+=8),Zt=At[Ie&It];n:for(;;){if(Ie>>>=Pt=Zt>>>24,Ze-=Pt,!(16&(Pt=Zt>>>16&255))){if(!(64&Pt)){Zt=At[(65535&Zt)+(Ie&(1<<Pt)-1)];continue n}ue.msg="invalid distance code",X.mode=30;break e}if(Nn=65535&Zt,Ze<(Pt&=15)&&(Ie+=Z[_e++]<<Ze,(Ze+=8)<Pt&&(Ie+=Z[_e++]<<Ze,Ze+=8)),oe<(Nn+=Ie&(1<<Pt)-1)){ue.msg="invalid distance too far back",X.mode=30;break e}if(Ie>>>=Pt,Ze-=Pt,(Pt=Pe-Ne)<Nn){if(ne<(Pt=Nn-Pt)&&X.sane){ue.msg="invalid distance too far back",X.mode=30;break e}if(Bt=de,(Oe=0)===fe){if(Oe+=De-Pt,Pt<en){for(en-=Pt;Nt[Pe++]=de[Oe++],--Pt;);Oe=Pe-Nn,Bt=Nt}}else if(fe<Pt){if(Oe+=De+fe-Pt,(Pt-=fe)<en){for(en-=Pt;Nt[Pe++]=de[Oe++],--Pt;);if(Oe=0,fe<en){for(en-=Pt=fe;Nt[Pe++]=de[Oe++],--Pt;);Oe=Pe-Nn,Bt=Nt}}}else if(Oe+=fe-Pt,Pt<en){for(en-=Pt;Nt[Pe++]=de[Oe++],--Pt;);Oe=Pe-Nn,Bt=Nt}for(;2<en;)Nt[Pe++]=Bt[Oe++],Nt[Pe++]=Bt[Oe++],Nt[Pe++]=Bt[Oe++],en-=3;en&&(Nt[Pe++]=Bt[Oe++],1<en&&(Nt[Pe++]=Bt[Oe++]))}else{for(Oe=Pe-Nn;Nt[Pe++]=Nt[Oe++],Nt[Pe++]=Nt[Oe++],Nt[Pe++]=Nt[Oe++],2<(en-=3););en&&(Nt[Pe++]=Nt[Oe++],1<en&&(Nt[Pe++]=Nt[Oe++]))}break}}break}}while(_e<xe&&Pe<Ce);_e-=en=Ze>>3,Ie&=(1<<(Ze-=en<<3))-1,ue.next_in=_e,ue.next_out=Pe,ue.avail_in=_e<xe?xe-_e+5:5-(_e-xe),ue.avail_out=Pe<Ce?Ce-Pe+257:257-(Pe-Ce),X.hold=Ie,X.bits=Ze}},{}],49:[function(Ge,Ve,qe){"use strict";var ue=Ge("../utils/common"),ce=Ge("./adler32"),X=Ge("./crc32"),_e=Ge("./inffast"),xe=Ge("./inftrees"),Ce=0,oe=-2,De=1,ne=852,fe=592;function de(Oe){return(Oe>>>24&255)+(Oe>>>8&65280)+((65280&Oe)<<8)+((255&Oe)<<24)}function Ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ue.Buf16(320),this.work=new ue.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ze(Oe){var Bt;return Oe&&Oe.state?(Oe.total_in=Oe.total_out=(Bt=Oe.state).total=0,Oe.msg="",Bt.wrap&&(Oe.adler=1&Bt.wrap),Bt.mode=De,Bt.last=0,Bt.havedict=0,Bt.dmax=32768,Bt.head=null,Bt.hold=0,Bt.bits=0,Bt.lencode=Bt.lendyn=new ue.Buf32(ne),Bt.distcode=Bt.distdyn=new ue.Buf32(fe),Bt.sane=1,Bt.back=-1,Ce):oe}function st(Oe){var Bt;return Oe&&Oe.state?((Bt=Oe.state).wsize=0,Bt.whave=0,Bt.wnext=0,Ze(Oe)):oe}function At(Oe,Bt){var Z,Nt;return Oe&&Oe.state?(Nt=Oe.state,Bt<0?(Z=0,Bt=-Bt):(Z=1+(Bt>>4),Bt<48&&(Bt&=15)),Bt&&(Bt<8||15<Bt)?oe:(null!==Nt.window&&Nt.wbits!==Bt&&(Nt.window=null),Nt.wrap=Z,Nt.wbits=Bt,st(Oe))):oe}function Lt(Oe,Bt){var Z,Nt;return Oe?(Nt=new Ie,(Oe.state=Nt).window=null,(Z=At(Oe,Bt))!==Ce&&(Oe.state=null),Z):oe}var It,Zt,Pt=!0;function en(Oe){if(Pt){var Bt;for(It=new ue.Buf32(512),Zt=new ue.Buf32(32),Bt=0;Bt<144;)Oe.lens[Bt++]=8;for(;Bt<256;)Oe.lens[Bt++]=9;for(;Bt<280;)Oe.lens[Bt++]=7;for(;Bt<288;)Oe.lens[Bt++]=8;for(xe(1,Oe.lens,0,288,It,0,Oe.work,{bits:9}),Bt=0;Bt<32;)Oe.lens[Bt++]=5;xe(2,Oe.lens,0,32,Zt,0,Oe.work,{bits:5}),Pt=!1}Oe.lencode=It,Oe.lenbits=9,Oe.distcode=Zt,Oe.distbits=5}function Nn(Oe,Bt,Z,Nt){var pi,Vt=Oe.state;return null===Vt.window&&(Vt.wsize=1<<Vt.wbits,Vt.wnext=0,Vt.whave=0,Vt.window=new ue.Buf8(Vt.wsize)),Nt>=Vt.wsize?(ue.arraySet(Vt.window,Bt,Z-Vt.wsize,Vt.wsize,0),Vt.wnext=0,Vt.whave=Vt.wsize):(Nt<(pi=Vt.wsize-Vt.wnext)&&(pi=Nt),ue.arraySet(Vt.window,Bt,Z-Nt,pi,Vt.wnext),(Nt-=pi)?(ue.arraySet(Vt.window,Bt,Z-Nt,Nt,0),Vt.wnext=Nt,Vt.whave=Vt.wsize):(Vt.wnext+=pi,Vt.wnext===Vt.wsize&&(Vt.wnext=0),Vt.whave<Vt.wsize&&(Vt.whave+=pi))),0}qe.inflateReset=st,qe.inflateReset2=At,qe.inflateResetKeep=Ze,qe.inflateInit=function(Oe){return Lt(Oe,15)},qe.inflateInit2=Lt,qe.inflate=function(Oe,Bt){var Z,Nt,pi,Vt,gi,Dt,Zn,Je,at,bn,ln,qt,ei,zn,wi,Pi,_o,Vr,_s,Jo,Q,bt,Ct,we,he=0,We=new ue.Buf8(4),zt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Oe||!Oe.state||!Oe.output||!Oe.input&&0!==Oe.avail_in)return oe;12===(Z=Oe.state).mode&&(Z.mode=13),gi=Oe.next_out,pi=Oe.output,Vt=Oe.next_in,Nt=Oe.input,Je=Z.hold,at=Z.bits,bn=Dt=Oe.avail_in,ln=Zn=Oe.avail_out,bt=Ce;e:for(;;)switch(Z.mode){case De:if(0===Z.wrap){Z.mode=13;break}for(;at<16;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}if(2&Z.wrap&&35615===Je){We[Z.check=0]=255&Je,We[1]=Je>>>8&255,Z.check=X(Z.check,We,2,0),at=Je=0,Z.mode=2;break}if(Z.flags=0,Z.head&&(Z.head.done=!1),!(1&Z.wrap)||(((255&Je)<<8)+(Je>>8))%31){Oe.msg="incorrect header check",Z.mode=30;break}if(8!=(15&Je)){Oe.msg="unknown compression method",Z.mode=30;break}if(at-=4,Q=8+(15&(Je>>>=4)),0===Z.wbits)Z.wbits=Q;else if(Q>Z.wbits){Oe.msg="invalid window size",Z.mode=30;break}Z.dmax=1<<Q,Oe.adler=Z.check=1,Z.mode=512&Je?10:12,at=Je=0;break;case 2:for(;at<16;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}if(Z.flags=Je,8!=(255&Z.flags)){Oe.msg="unknown compression method",Z.mode=30;break}if(57344&Z.flags){Oe.msg="unknown header flags set",Z.mode=30;break}Z.head&&(Z.head.text=Je>>8&1),512&Z.flags&&(We[0]=255&Je,We[1]=Je>>>8&255,Z.check=X(Z.check,We,2,0)),at=Je=0,Z.mode=3;case 3:for(;at<32;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}Z.head&&(Z.head.time=Je),512&Z.flags&&(We[0]=255&Je,We[1]=Je>>>8&255,We[2]=Je>>>16&255,We[3]=Je>>>24&255,Z.check=X(Z.check,We,4,0)),at=Je=0,Z.mode=4;case 4:for(;at<16;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}Z.head&&(Z.head.xflags=255&Je,Z.head.os=Je>>8),512&Z.flags&&(We[0]=255&Je,We[1]=Je>>>8&255,Z.check=X(Z.check,We,2,0)),at=Je=0,Z.mode=5;case 5:if(1024&Z.flags){for(;at<16;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}Z.length=Je,Z.head&&(Z.head.extra_len=Je),512&Z.flags&&(We[0]=255&Je,We[1]=Je>>>8&255,Z.check=X(Z.check,We,2,0)),at=Je=0}else Z.head&&(Z.head.extra=null);Z.mode=6;case 6:if(1024&Z.flags&&(Dt<(qt=Z.length)&&(qt=Dt),qt&&(Z.head&&(Q=Z.head.extra_len-Z.length,Z.head.extra||(Z.head.extra=new Array(Z.head.extra_len)),ue.arraySet(Z.head.extra,Nt,Vt,qt,Q)),512&Z.flags&&(Z.check=X(Z.check,Nt,qt,Vt)),Dt-=qt,Vt+=qt,Z.length-=qt),Z.length))break e;Z.length=0,Z.mode=7;case 7:if(2048&Z.flags){if(0===Dt)break e;for(qt=0;Q=Nt[Vt+qt++],Z.head&&Q&&Z.length<65536&&(Z.head.name+=String.fromCharCode(Q)),Q&&qt<Dt;);if(512&Z.flags&&(Z.check=X(Z.check,Nt,qt,Vt)),Dt-=qt,Vt+=qt,Q)break e}else Z.head&&(Z.head.name=null);Z.length=0,Z.mode=8;case 8:if(4096&Z.flags){if(0===Dt)break e;for(qt=0;Q=Nt[Vt+qt++],Z.head&&Q&&Z.length<65536&&(Z.head.comment+=String.fromCharCode(Q)),Q&&qt<Dt;);if(512&Z.flags&&(Z.check=X(Z.check,Nt,qt,Vt)),Dt-=qt,Vt+=qt,Q)break e}else Z.head&&(Z.head.comment=null);Z.mode=9;case 9:if(512&Z.flags){for(;at<16;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}if(Je!==(65535&Z.check)){Oe.msg="header crc mismatch",Z.mode=30;break}at=Je=0}Z.head&&(Z.head.hcrc=Z.flags>>9&1,Z.head.done=!0),Oe.adler=Z.check=0,Z.mode=12;break;case 10:for(;at<32;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}Oe.adler=Z.check=de(Je),at=Je=0,Z.mode=11;case 11:if(0===Z.havedict)return Oe.next_out=gi,Oe.avail_out=Zn,Oe.next_in=Vt,Oe.avail_in=Dt,Z.hold=Je,Z.bits=at,2;Oe.adler=Z.check=1,Z.mode=12;case 12:if(5===Bt||6===Bt)break e;case 13:if(Z.last){Je>>>=7&at,at-=7&at,Z.mode=27;break}for(;at<3;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}switch(Z.last=1&Je,at-=1,3&(Je>>>=1)){case 0:Z.mode=14;break;case 1:if(en(Z),Z.mode=20,6!==Bt)break;Je>>>=2,at-=2;break e;case 2:Z.mode=17;break;case 3:Oe.msg="invalid block type",Z.mode=30}Je>>>=2,at-=2;break;case 14:for(Je>>>=7&at,at-=7&at;at<32;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}if((65535&Je)!=(Je>>>16^65535)){Oe.msg="invalid stored block lengths",Z.mode=30;break}if(Z.length=65535&Je,at=Je=0,Z.mode=15,6===Bt)break e;case 15:Z.mode=16;case 16:if(qt=Z.length){if(Dt<qt&&(qt=Dt),Zn<qt&&(qt=Zn),0===qt)break e;ue.arraySet(pi,Nt,Vt,qt,gi),Dt-=qt,Vt+=qt,Zn-=qt,gi+=qt,Z.length-=qt;break}Z.mode=12;break;case 17:for(;at<14;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}if(Z.nlen=257+(31&Je),at-=5,Z.ndist=1+(31&(Je>>>=5)),at-=5,Z.ncode=4+(15&(Je>>>=5)),Je>>>=4,at-=4,286<Z.nlen||30<Z.ndist){Oe.msg="too many length or distance symbols",Z.mode=30;break}Z.have=0,Z.mode=18;case 18:for(;Z.have<Z.ncode;){for(;at<3;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}Z.lens[zt[Z.have++]]=7&Je,Je>>>=3,at-=3}for(;Z.have<19;)Z.lens[zt[Z.have++]]=0;if(Z.lencode=Z.lendyn,Z.lenbits=7,bt=xe(0,Z.lens,0,19,Z.lencode,0,Z.work,Ct={bits:Z.lenbits}),Z.lenbits=Ct.bits,bt){Oe.msg="invalid code lengths set",Z.mode=30;break}Z.have=0,Z.mode=19;case 19:for(;Z.have<Z.nlen+Z.ndist;){for(;Pi=(he=Z.lencode[Je&(1<<Z.lenbits)-1])>>>16&255,_o=65535&he,!((wi=he>>>24)<=at);){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}if(_o<16)Je>>>=wi,at-=wi,Z.lens[Z.have++]=_o;else{if(16===_o){for(we=wi+2;at<we;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}if(Je>>>=wi,at-=wi,0===Z.have){Oe.msg="invalid bit length repeat",Z.mode=30;break}Q=Z.lens[Z.have-1],qt=3+(3&Je),Je>>>=2,at-=2}else if(17===_o){for(we=wi+3;at<we;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}at-=wi,Q=0,qt=3+(7&(Je>>>=wi)),Je>>>=3,at-=3}else{for(we=wi+7;at<we;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}at-=wi,Q=0,qt=11+(127&(Je>>>=wi)),Je>>>=7,at-=7}if(Z.have+qt>Z.nlen+Z.ndist){Oe.msg="invalid bit length repeat",Z.mode=30;break}for(;qt--;)Z.lens[Z.have++]=Q}}if(30===Z.mode)break;if(0===Z.lens[256]){Oe.msg="invalid code -- missing end-of-block",Z.mode=30;break}if(Z.lenbits=9,bt=xe(1,Z.lens,0,Z.nlen,Z.lencode,0,Z.work,Ct={bits:Z.lenbits}),Z.lenbits=Ct.bits,bt){Oe.msg="invalid literal/lengths set",Z.mode=30;break}if(Z.distbits=6,Z.distcode=Z.distdyn,bt=xe(2,Z.lens,Z.nlen,Z.ndist,Z.distcode,0,Z.work,Ct={bits:Z.distbits}),Z.distbits=Ct.bits,bt){Oe.msg="invalid distances set",Z.mode=30;break}if(Z.mode=20,6===Bt)break e;case 20:Z.mode=21;case 21:if(6<=Dt&&258<=Zn){Oe.next_out=gi,Oe.avail_out=Zn,Oe.next_in=Vt,Oe.avail_in=Dt,Z.hold=Je,Z.bits=at,_e(Oe,ln),gi=Oe.next_out,pi=Oe.output,Zn=Oe.avail_out,Vt=Oe.next_in,Nt=Oe.input,Dt=Oe.avail_in,Je=Z.hold,at=Z.bits,12===Z.mode&&(Z.back=-1);break}for(Z.back=0;Pi=(he=Z.lencode[Je&(1<<Z.lenbits)-1])>>>16&255,_o=65535&he,!((wi=he>>>24)<=at);){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}if(Pi&&!(240&Pi)){for(Vr=wi,_s=Pi,Jo=_o;Pi=(he=Z.lencode[Jo+((Je&(1<<Vr+_s)-1)>>Vr)])>>>16&255,_o=65535&he,!(Vr+(wi=he>>>24)<=at);){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}Je>>>=Vr,at-=Vr,Z.back+=Vr}if(Je>>>=wi,at-=wi,Z.back+=wi,Z.length=_o,0===Pi){Z.mode=26;break}if(32&Pi){Z.back=-1,Z.mode=12;break}if(64&Pi){Oe.msg="invalid literal/length code",Z.mode=30;break}Z.extra=15&Pi,Z.mode=22;case 22:if(Z.extra){for(we=Z.extra;at<we;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}Z.length+=Je&(1<<Z.extra)-1,Je>>>=Z.extra,at-=Z.extra,Z.back+=Z.extra}Z.was=Z.length,Z.mode=23;case 23:for(;Pi=(he=Z.distcode[Je&(1<<Z.distbits)-1])>>>16&255,_o=65535&he,!((wi=he>>>24)<=at);){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}if(!(240&Pi)){for(Vr=wi,_s=Pi,Jo=_o;Pi=(he=Z.distcode[Jo+((Je&(1<<Vr+_s)-1)>>Vr)])>>>16&255,_o=65535&he,!(Vr+(wi=he>>>24)<=at);){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}Je>>>=Vr,at-=Vr,Z.back+=Vr}if(Je>>>=wi,at-=wi,Z.back+=wi,64&Pi){Oe.msg="invalid distance code",Z.mode=30;break}Z.offset=_o,Z.extra=15&Pi,Z.mode=24;case 24:if(Z.extra){for(we=Z.extra;at<we;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}Z.offset+=Je&(1<<Z.extra)-1,Je>>>=Z.extra,at-=Z.extra,Z.back+=Z.extra}if(Z.offset>Z.dmax){Oe.msg="invalid distance too far back",Z.mode=30;break}Z.mode=25;case 25:if(0===Zn)break e;if(Z.offset>(qt=ln-Zn)){if((qt=Z.offset-qt)>Z.whave&&Z.sane){Oe.msg="invalid distance too far back",Z.mode=30;break}ei=qt>Z.wnext?Z.wsize-(qt-=Z.wnext):Z.wnext-qt,qt>Z.length&&(qt=Z.length),zn=Z.window}else zn=pi,ei=gi-Z.offset,qt=Z.length;for(Zn<qt&&(qt=Zn),Zn-=qt,Z.length-=qt;pi[gi++]=zn[ei++],--qt;);0===Z.length&&(Z.mode=21);break;case 26:if(0===Zn)break e;pi[gi++]=Z.length,Zn--,Z.mode=21;break;case 27:if(Z.wrap){for(;at<32;){if(0===Dt)break e;Dt--,Je|=Nt[Vt++]<<at,at+=8}if(Oe.total_out+=ln-=Zn,Z.total+=ln,ln&&(Oe.adler=Z.check=Z.flags?X(Z.check,pi,ln,gi-ln):ce(Z.check,pi,ln,gi-ln)),ln=Zn,(Z.flags?Je:de(Je))!==Z.check){Oe.msg="incorrect data check",Z.mode=30;break}at=Je=0}Z.mode=28;case 28:if(Z.wrap&&Z.flags){for(;at<32;){if(0===Dt)break e;Dt--,Je+=Nt[Vt++]<<at,at+=8}if(Je!==(4294967295&Z.total)){Oe.msg="incorrect length check",Z.mode=30;break}at=Je=0}Z.mode=29;case 29:bt=1;break e;case 30:bt=-3;break e;case 31:return-4;default:return oe}return Oe.next_out=gi,Oe.avail_out=Zn,Oe.next_in=Vt,Oe.avail_in=Dt,Z.hold=Je,Z.bits=at,(Z.wsize||ln!==Oe.avail_out&&Z.mode<30&&(Z.mode<27||4!==Bt))&&Nn(Oe,Oe.output,Oe.next_out,ln-Oe.avail_out)?(Z.mode=31,-4):(ln-=Oe.avail_out,Oe.total_in+=bn-=Oe.avail_in,Oe.total_out+=ln,Z.total+=ln,Z.wrap&&ln&&(Oe.adler=Z.check=Z.flags?X(Z.check,pi,ln,Oe.next_out-ln):ce(Z.check,pi,ln,Oe.next_out-ln)),Oe.data_type=Z.bits+(Z.last?64:0)+(12===Z.mode?128:0)+(20===Z.mode||15===Z.mode?256:0),(0==bn&&0===ln||4===Bt)&&bt===Ce&&(bt=-5),bt)},qe.inflateEnd=function(Oe){if(!Oe||!Oe.state)return oe;var Bt=Oe.state;return Bt.window&&(Bt.window=null),Oe.state=null,Ce},qe.inflateGetHeader=function(Oe,Bt){var Z;return Oe&&Oe.state&&2&(Z=Oe.state).wrap?((Z.head=Bt).done=!1,Ce):oe},qe.inflateSetDictionary=function(Oe,Bt){var Z,Nt=Bt.length;return Oe&&Oe.state?0!==(Z=Oe.state).wrap&&11!==Z.mode?oe:11===Z.mode&&ce(1,Bt,Nt,0)!==Z.check?-3:Nn(Oe,Bt,Nt,Nt)?(Z.mode=31,-4):(Z.havedict=1,Ce):oe},qe.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(Ge,Ve,qe){"use strict";var ue=Ge("../utils/common"),ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],X=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_e=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],xe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Ve.exports=function(Pe,Ne,Ce,oe,De,ne,fe,de){var Ie,Ze,st,At,Lt,It,Zt,Pt,en,Nn=de.bits,Oe=0,Bt=0,Z=0,Nt=0,pi=0,Vt=0,gi=0,Dt=0,Zn=0,Je=0,at=null,bn=0,ln=new ue.Buf16(16),qt=new ue.Buf16(16),ei=null,zn=0;for(Oe=0;Oe<=15;Oe++)ln[Oe]=0;for(Bt=0;Bt<oe;Bt++)ln[Ne[Ce+Bt]]++;for(pi=Nn,Nt=15;1<=Nt&&0===ln[Nt];Nt--);if(Nt<pi&&(pi=Nt),0===Nt)return De[ne++]=20971520,De[ne++]=20971520,de.bits=1,0;for(Z=1;Z<Nt&&0===ln[Z];Z++);for(pi<Z&&(pi=Z),Oe=Dt=1;Oe<=15;Oe++)if(Dt<<=1,(Dt-=ln[Oe])<0)return-1;if(0<Dt&&(0===Pe||1!==Nt))return-1;for(qt[1]=0,Oe=1;Oe<15;Oe++)qt[Oe+1]=qt[Oe]+ln[Oe];for(Bt=0;Bt<oe;Bt++)0!==Ne[Ce+Bt]&&(fe[qt[Ne[Ce+Bt]]++]=Bt);if(It=0===Pe?(at=ei=fe,19):1===Pe?(at=ce,bn-=257,ei=X,zn-=257,256):(at=_e,ei=xe,-1),Oe=Z,Lt=ne,gi=Bt=Je=0,st=-1,At=(Zn=1<<(Vt=pi))-1,1===Pe&&852<Zn||2===Pe&&592<Zn)return 1;for(;;){for(Zt=Oe-gi,en=fe[Bt]<It?(Pt=0,fe[Bt]):fe[Bt]>It?(Pt=ei[zn+fe[Bt]],at[bn+fe[Bt]]):(Pt=96,0),Ie=1<<Oe-gi,Z=Ze=1<<Vt;De[Lt+(Je>>gi)+(Ze-=Ie)]=Zt<<24|Pt<<16|en,0!==Ze;);for(Ie=1<<Oe-1;Je&Ie;)Ie>>=1;if(0!==Ie?(Je&=Ie-1,Je+=Ie):Je=0,Bt++,0==--ln[Oe]){if(Oe===Nt)break;Oe=Ne[Ce+fe[Bt]]}if(pi<Oe&&(Je&At)!==st){for(0===gi&&(gi=pi),Lt+=Z,Dt=1<<(Vt=Oe-gi);Vt+gi<Nt&&!((Dt-=ln[Vt+gi])<=0);)Vt++,Dt<<=1;if(Zn+=1<<Vt,1===Pe&&852<Zn||2===Pe&&592<Zn)return 1;De[st=Je&At]=pi<<24|Vt<<16|Lt-ne}}return 0!==Je&&(De[Lt+Je]=Oe-gi<<24|64<<16),de.bits=pi,0}},{"../utils/common":41}],51:[function(Ge,Ve,qe){"use strict";Ve.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(Ge,Ve,qe){"use strict";var ue=Ge("../utils/common");function _e(he){for(var We=he.length;0<=--We;)he[We]=0}var fe=15,de=16,It=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Zt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Pt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],en=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Nn=new Array(576);_e(Nn);var Oe=new Array(60);_e(Oe);var Bt=new Array(512);_e(Bt);var Z=new Array(256);_e(Z);var Nt=new Array(29);_e(Nt);var pi,Vt,gi,Dt=new Array(30);function Zn(he,We,zt,Gt,dt){this.static_tree=he,this.extra_bits=We,this.extra_base=zt,this.elems=Gt,this.max_length=dt,this.has_stree=he&&he.length}function Je(he,We){this.dyn_tree=he,this.max_code=0,this.stat_desc=We}function at(he){return he<256?Bt[he]:Bt[256+(he>>>7)]}function bn(he,We){he.pending_buf[he.pending++]=255&We,he.pending_buf[he.pending++]=We>>>8&255}function ln(he,We,zt){he.bi_valid>de-zt?(he.bi_buf|=We<<he.bi_valid&65535,bn(he,he.bi_buf),he.bi_buf=We>>de-he.bi_valid,he.bi_valid+=zt-de):(he.bi_buf|=We<<he.bi_valid&65535,he.bi_valid+=zt)}function qt(he,We,zt){ln(he,zt[2*We],zt[2*We+1])}function ei(he,We){for(var zt=0;zt|=1&he,he>>>=1,zt<<=1,0<--We;);return zt>>>1}function zn(he,We,zt){var Gt,dt,$t=new Array(fe+1),An=0;for(Gt=1;Gt<=fe;Gt++)$t[Gt]=An=An+zt[Gt-1]<<1;for(dt=0;dt<=We;dt++){var rn=he[2*dt+1];0!==rn&&(he[2*dt]=ei($t[rn]++,rn))}}function wi(he){var We;for(We=0;We<286;We++)he.dyn_ltree[2*We]=0;for(We=0;We<30;We++)he.dyn_dtree[2*We]=0;for(We=0;We<19;We++)he.bl_tree[2*We]=0;he.dyn_ltree[512]=1,he.opt_len=he.static_len=0,he.last_lit=he.matches=0}function Pi(he){8<he.bi_valid?bn(he,he.bi_buf):0<he.bi_valid&&(he.pending_buf[he.pending++]=he.bi_buf),he.bi_buf=0,he.bi_valid=0}function _o(he,We,zt,Gt){var dt=2*We,$t=2*zt;return he[dt]<he[$t]||he[dt]===he[$t]&&Gt[We]<=Gt[zt]}function Vr(he,We,zt){for(var Gt=he.heap[zt],dt=zt<<1;dt<=he.heap_len&&(dt<he.heap_len&&_o(We,he.heap[dt+1],he.heap[dt],he.depth)&&dt++,!_o(We,Gt,he.heap[dt],he.depth));)he.heap[zt]=he.heap[dt],zt=dt,dt<<=1;he.heap[zt]=Gt}function _s(he,We,zt){var Gt,dt,$t,An,rn=0;if(0!==he.last_lit)for(;Gt=he.pending_buf[he.d_buf+2*rn]<<8|he.pending_buf[he.d_buf+2*rn+1],dt=he.pending_buf[he.l_buf+rn],rn++,0===Gt?qt(he,dt,We):(qt(he,($t=Z[dt])+256+1,We),0!==(An=It[$t])&&ln(he,dt-=Nt[$t],An),qt(he,$t=at(--Gt),zt),0!==(An=Zt[$t])&&ln(he,Gt-=Dt[$t],An)),rn<he.last_lit;);qt(he,256,We)}function Jo(he,We){var zt,Gt,dt,$t=We.dyn_tree,An=We.stat_desc.static_tree,rn=We.stat_desc.has_stree,En=We.stat_desc.elems,yr=-1;for(he.heap_len=0,he.heap_max=573,zt=0;zt<En;zt++)0!==$t[2*zt]?(he.heap[++he.heap_len]=yr=zt,he.depth[zt]=0):$t[2*zt+1]=0;for(;he.heap_len<2;)$t[2*(dt=he.heap[++he.heap_len]=yr<2?++yr:0)]=1,he.depth[dt]=0,he.opt_len--,rn&&(he.static_len-=An[2*dt+1]);for(We.max_code=yr,zt=he.heap_len>>1;1<=zt;zt--)Vr(he,$t,zt);for(dt=En;zt=he.heap[1],he.heap[1]=he.heap[he.heap_len--],Vr(he,$t,1),Gt=he.heap[1],he.heap[--he.heap_max]=zt,he.heap[--he.heap_max]=Gt,$t[2*dt]=$t[2*zt]+$t[2*Gt],he.depth[dt]=(he.depth[zt]>=he.depth[Gt]?he.depth[zt]:he.depth[Gt])+1,$t[2*zt+1]=$t[2*Gt+1]=dt,he.heap[1]=dt++,Vr(he,$t,1),2<=he.heap_len;);he.heap[--he.heap_max]=he.heap[1],function(Ui,es){var ca,yo,ys,Yi,ua,Ya,No=es.dyn_tree,yh=es.max_code,bs=es.stat_desc.static_tree,Ju=es.stat_desc.has_stree,eA=es.stat_desc.extra_bits,bl=es.stat_desc.extra_base,wl=es.stat_desc.max_length,Xa=0;for(Yi=0;Yi<=fe;Yi++)Ui.bl_count[Yi]=0;for(No[2*Ui.heap[Ui.heap_max]+1]=0,ca=Ui.heap_max+1;ca<573;ca++)wl<(Yi=No[2*No[2*(yo=Ui.heap[ca])+1]+1]+1)&&(Yi=wl,Xa++),No[2*yo+1]=Yi,yh<yo||(Ui.bl_count[Yi]++,ua=0,bl<=yo&&(ua=eA[yo-bl]),Ui.opt_len+=(Ya=No[2*yo])*(Yi+ua),Ju&&(Ui.static_len+=Ya*(bs[2*yo+1]+ua)));if(0!==Xa){do{for(Yi=wl-1;0===Ui.bl_count[Yi];)Yi--;Ui.bl_count[Yi]--,Ui.bl_count[Yi+1]+=2,Ui.bl_count[wl]--,Xa-=2}while(0<Xa);for(Yi=wl;0!==Yi;Yi--)for(yo=Ui.bl_count[Yi];0!==yo;)yh<(ys=Ui.heap[--ca])||(No[2*ys+1]!==Yi&&(Ui.opt_len+=(Yi-No[2*ys+1])*No[2*ys],No[2*ys+1]=Yi),yo--)}}(he,We),zn($t,yr,he.bl_count)}function Q(he,We,zt){var Gt,dt,$t=-1,An=We[1],rn=0,En=7,yr=4;for(0===An&&(En=138,yr=3),We[2*(zt+1)+1]=65535,Gt=0;Gt<=zt;Gt++)dt=An,An=We[2*(Gt+1)+1],++rn<En&&dt===An||(rn<yr?he.bl_tree[2*dt]+=rn:0!==dt?(dt!==$t&&he.bl_tree[2*dt]++,he.bl_tree[32]++):rn<=10?he.bl_tree[34]++:he.bl_tree[36]++,$t=dt,yr=(rn=0)===An?(En=138,3):dt===An?(En=6,3):(En=7,4))}function bt(he,We,zt){var Gt,dt,$t=-1,An=We[1],rn=0,En=7,yr=4;for(0===An&&(En=138,yr=3),Gt=0;Gt<=zt;Gt++)if(dt=An,An=We[2*(Gt+1)+1],!(++rn<En&&dt===An)){if(rn<yr)for(;qt(he,dt,he.bl_tree),0!=--rn;);else 0!==dt?(dt!==$t&&(qt(he,dt,he.bl_tree),rn--),qt(he,16,he.bl_tree),ln(he,rn-3,2)):rn<=10?(qt(he,17,he.bl_tree),ln(he,rn-3,3)):(qt(he,18,he.bl_tree),ln(he,rn-11,7));$t=dt,yr=(rn=0)===An?(En=138,3):dt===An?(En=6,3):(En=7,4)}}_e(Dt);var Ct=!1;function we(he,We,zt,Gt){var dt,$t,An;ln(he,0+(Gt?1:0),3),$t=We,An=zt,Pi(dt=he),bn(dt,An),bn(dt,~An),ue.arraySet(dt.pending_buf,dt.window,$t,An,dt.pending),dt.pending+=An}qe._tr_init=function(he){Ct||(function(){var We,zt,Gt,dt,$t,An=new Array(fe+1);for(dt=Gt=0;dt<28;dt++)for(Nt[dt]=Gt,We=0;We<1<<It[dt];We++)Z[Gt++]=dt;for(Z[Gt-1]=dt,dt=$t=0;dt<16;dt++)for(Dt[dt]=$t,We=0;We<1<<Zt[dt];We++)Bt[$t++]=dt;for($t>>=7;dt<30;dt++)for(Dt[dt]=$t<<7,We=0;We<1<<Zt[dt]-7;We++)Bt[256+$t++]=dt;for(zt=0;zt<=fe;zt++)An[zt]=0;for(We=0;We<=143;)Nn[2*We+1]=8,We++,An[8]++;for(;We<=255;)Nn[2*We+1]=9,We++,An[9]++;for(;We<=279;)Nn[2*We+1]=7,We++,An[7]++;for(;We<=287;)Nn[2*We+1]=8,We++,An[8]++;for(zn(Nn,287,An),We=0;We<30;We++)Oe[2*We+1]=5,Oe[2*We]=ei(We,5);pi=new Zn(Nn,It,257,286,fe),Vt=new Zn(Oe,Zt,0,30,fe),gi=new Zn(new Array(0),Pt,0,19,7)}(),Ct=!0),he.l_desc=new Je(he.dyn_ltree,pi),he.d_desc=new Je(he.dyn_dtree,Vt),he.bl_desc=new Je(he.bl_tree,gi),he.bi_buf=0,he.bi_valid=0,wi(he)},qe._tr_stored_block=we,qe._tr_flush_block=function(he,We,zt,Gt){var dt,$t,An=0;0<he.level?(2===he.strm.data_type&&(he.strm.data_type=function(rn){var En,yr=4093624447;for(En=0;En<=31;En++,yr>>>=1)if(1&yr&&0!==rn.dyn_ltree[2*En])return 0;if(0!==rn.dyn_ltree[18]||0!==rn.dyn_ltree[20]||0!==rn.dyn_ltree[26])return 1;for(En=32;En<256;En++)if(0!==rn.dyn_ltree[2*En])return 1;return 0}(he)),Jo(he,he.l_desc),Jo(he,he.d_desc),An=function(rn){var En;for(Q(rn,rn.dyn_ltree,rn.l_desc.max_code),Q(rn,rn.dyn_dtree,rn.d_desc.max_code),Jo(rn,rn.bl_desc),En=18;3<=En&&0===rn.bl_tree[2*en[En]+1];En--);return rn.opt_len+=3*(En+1)+5+5+4,En}(he),($t=he.static_len+3+7>>>3)<=(dt=he.opt_len+3+7>>>3)&&(dt=$t)):dt=$t=zt+5,zt+4<=dt&&-1!==We?we(he,We,zt,Gt):4===he.strategy||$t===dt?(ln(he,2+(Gt?1:0),3),_s(he,Nn,Oe)):(ln(he,4+(Gt?1:0),3),function(rn,En,yr,Ui){var es;for(ln(rn,En-257,5),ln(rn,yr-1,5),ln(rn,Ui-4,4),es=0;es<Ui;es++)ln(rn,rn.bl_tree[2*en[es]+1],3);bt(rn,rn.dyn_ltree,En-1),bt(rn,rn.dyn_dtree,yr-1)}(he,he.l_desc.max_code+1,he.d_desc.max_code+1,An+1),_s(he,he.dyn_ltree,he.dyn_dtree)),wi(he),Gt&&Pi(he)},qe._tr_tally=function(he,We,zt){return he.pending_buf[he.d_buf+2*he.last_lit]=We>>>8&255,he.pending_buf[he.d_buf+2*he.last_lit+1]=255&We,he.pending_buf[he.l_buf+he.last_lit]=255&zt,he.last_lit++,0===We?he.dyn_ltree[2*zt]++:(he.matches++,We--,he.dyn_ltree[2*(Z[zt]+256+1)]++,he.dyn_dtree[2*at(We)]++),he.last_lit===he.lit_bufsize-1},qe._tr_align=function(he){var We;ln(he,2,3),qt(he,256,Nn),16===(We=he).bi_valid?(bn(We,We.bi_buf),We.bi_buf=0,We.bi_valid=0):8<=We.bi_valid&&(We.pending_buf[We.pending++]=255&We.bi_buf,We.bi_buf>>=8,We.bi_valid-=8)}},{"../utils/common":41}],53:[function(Ge,Ve,qe){"use strict";Ve.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(Ge,Ve,qe){(function(ue){!function(ce,X){"use strict";if(!ce.setImmediate){var _e,xe,Pe,Ne,Ce=1,oe={},De=!1,ne=ce.document,fe=Object.getPrototypeOf&&Object.getPrototypeOf(ce);fe=fe&&fe.setTimeout?fe:ce,_e="[object process]"==={}.toString.call(ce.process)?function(st){process.nextTick(function(){Ie(st)})}:function(){if(ce.postMessage&&!ce.importScripts){var st=!0,At=ce.onmessage;return ce.onmessage=function(){st=!1},ce.postMessage("","*"),ce.onmessage=At,st}}()?(Ne="setImmediate$"+Math.random()+"$",ce.addEventListener?ce.addEventListener("message",Ze,!1):ce.attachEvent("onmessage",Ze),function(st){ce.postMessage(Ne+st,"*")}):ce.MessageChannel?((Pe=new MessageChannel).port1.onmessage=function(st){Ie(st.data)},function(st){Pe.port2.postMessage(st)}):ne&&"onreadystatechange"in ne.createElement("script")?(xe=ne.documentElement,function(st){var At=ne.createElement("script");At.onreadystatechange=function(){Ie(st),At.onreadystatechange=null,xe.removeChild(At),At=null},xe.appendChild(At)}):function(st){setTimeout(Ie,0,st)},fe.setImmediate=function(st){"function"!=typeof st&&(st=new Function(""+st));for(var At=new Array(arguments.length-1),Lt=0;Lt<At.length;Lt++)At[Lt]=arguments[Lt+1];return oe[Ce]={callback:st,args:At},_e(Ce),Ce++},fe.clearImmediate=de}function de(st){delete oe[st]}function Ie(st){if(De)setTimeout(Ie,0,st);else{var At=oe[st];if(At){De=!0;try{!function(Lt){var It=Lt.callback,Zt=Lt.args;switch(Zt.length){case 0:It();break;case 1:It(Zt[0]);break;case 2:It(Zt[0],Zt[1]);break;case 3:It(Zt[0],Zt[1],Zt[2]);break;default:It.apply(X,Zt)}}(At)}finally{de(st),De=!1}}}}function Ze(st){st.source===ce&&"string"==typeof st.data&&0===st.data.indexOf(Ne)&&Ie(+st.data.slice(Ne.length))}}(typeof self>"u"?void 0===ue?this:ue:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)},8244:function(XA,Ge){!function(Ve){"use strict";function ue(c){var p,C,E,T;for(C=1,E=arguments.length;C<E;C++)for(p in T=arguments[C])c[p]=T[p];return c}var ce=Object.create||function(){function c(){}return function(p){return c.prototype=p,new c}}();function X(c,p){var C=Array.prototype.slice;if(c.bind)return c.bind.apply(c,C.call(arguments,1));var E=C.call(arguments,2);return function(){return c.apply(p,E.length?E.concat(C.call(arguments)):arguments)}}var _e=0;function xe(c){return"_leaflet_id"in c||(c._leaflet_id=++_e),c._leaflet_id}function Pe(c,p,C){var E,T,$,Te;return Te=function(){E=!1,T&&($.apply(C,T),T=!1)},$=function(){E?T=arguments:(c.apply(C,arguments),setTimeout(Te,p),E=!0)},$}function Ne(c,p,C){var E=p[1],T=p[0],$=E-T;return c===E&&C?c:((c-T)%$+$)%$+T}function Ce(){return!1}function oe(c,p){if(!1===p)return c;var C=Math.pow(10,void 0===p?6:p);return Math.round(c*C)/C}function De(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function ne(c){return De(c).split(/\s+/)}function fe(c,p){for(var C in Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?ce(c.options):{}),p)c.options[C]=p[C];return c.options}function de(c,p,C){var E=[];for(var T in c)E.push(encodeURIComponent(C?T.toUpperCase():T)+"="+encodeURIComponent(c[T]));return(p&&-1!==p.indexOf("?")?"&":"?")+E.join("&")}var Ie=/\{ *([\w_ -]+) *\}/g;function Ze(c,p){return c.replace(Ie,function(C,E){var T=p[E];if(void 0===T)throw new Error("No value provided for variable "+C);return"function"==typeof T&&(T=T(p)),T})}var st=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)};function At(c,p){for(var C=0;C<c.length;C++)if(c[C]===p)return C;return-1}var Lt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function It(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}var Zt=0;function Pt(c){var p=+new Date,C=Math.max(0,16-(p-Zt));return Zt=p+C,window.setTimeout(c,C)}var en=window.requestAnimationFrame||It("RequestAnimationFrame")||Pt,Nn=window.cancelAnimationFrame||It("CancelAnimationFrame")||It("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)};function Oe(c,p,C){if(!C||en!==Pt)return en.call(window,X(c,p));c.call(p)}function Bt(c){c&&Nn.call(window,c)}var Z={__proto__:null,extend:ue,create:ce,bind:X,get lastId(){return _e},stamp:xe,throttle:Pe,wrapNum:Ne,falseFn:Ce,formatNum:oe,trim:De,splitWords:ne,setOptions:fe,getParamString:de,template:Ze,isArray:st,indexOf:At,emptyImageUrl:Lt,requestFn:en,cancelFn:Nn,requestAnimFrame:Oe,cancelAnimFrame:Bt};function Nt(){}Nt.extend=function(c){var p=function(){fe(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},C=p.__super__=this.prototype,E=ce(C);for(var T in E.constructor=p,p.prototype=E,this)Object.prototype.hasOwnProperty.call(this,T)&&"prototype"!==T&&"__super__"!==T&&(p[T]=this[T]);return c.statics&&ue(p,c.statics),c.includes&&(function pi(c){if(!(typeof L>"u")&&L&&L.Mixin){c=st(c)?c:[c];for(var p=0;p<c.length;p++)c[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(c.includes),ue.apply(null,[E].concat(c.includes))),ue(E,c),delete E.statics,delete E.includes,E.options&&(E.options=C.options?ce(C.options):{},ue(E.options,c.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){C.callInitHooks&&C.callInitHooks.call(this),this._initHooksCalled=!0;for(var $=0,Te=E._initHooks.length;$<Te;$++)E._initHooks[$].call(this)}},p},Nt.include=function(c){var p=this.prototype.options;return ue(this.prototype,c),c.options&&(this.prototype.options=p,this.mergeOptions(c.options)),this},Nt.mergeOptions=function(c){return ue(this.prototype.options,c),this},Nt.addInitHook=function(c){var p=Array.prototype.slice.call(arguments,1),C="function"==typeof c?c:function(){this[c].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(C),this};var Vt={on:function(c,p,C){if("object"==typeof c)for(var E in c)this._on(E,c[E],p);else for(var T=0,$=(c=ne(c)).length;T<$;T++)this._on(c[T],p,C);return this},off:function(c,p,C){if(arguments.length)if("object"==typeof c)for(var E in c)this._off(E,c[E],p);else{c=ne(c);for(var T=1===arguments.length,$=0,Te=c.length;$<Te;$++)T?this._off(c[$]):this._off(c[$],p,C)}else delete this._events;return this},_on:function(c,p,C,E){if("function"==typeof p){if(!1===this._listens(c,p,C)){C===this&&(C=void 0);var T={fn:p,ctx:C};E&&(T.once=!0),this._events=this._events||{},this._events[c]=this._events[c]||[],this._events[c].push(T)}}else console.warn("wrong listener type: "+typeof p)},_off:function(c,p,C){var E,T,$;if(this._events&&(E=this._events[c])){if(1===arguments.length){if(this._firingCount)for(T=0,$=E.length;T<$;T++)E[T].fn=Ce;return void delete this._events[c]}if("function"!=typeof p)return void console.warn("wrong listener type: "+typeof p);var Te=this._listens(c,p,C);!1!==Te&&(this._firingCount&&(E[Te].fn=Ce,this._events[c]=E=E.slice()),E.splice(Te,1))}},fire:function(c,p,C){if(!this.listens(c,C))return this;var E=ue({},p,{type:c,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var T=this._events[c];if(T){this._firingCount=this._firingCount+1||1;for(var $=0,Te=T.length;$<Te;$++){var ct=T[$],vt=ct.fn;ct.once&&this.off(c,vt,ct.ctx),vt.call(ct.ctx||this,E)}this._firingCount--}}return C&&this._propagateEvent(E),this},listens:function(c,p,C,E){"string"!=typeof c&&console.warn('"string" type argument expected');var T=p;"function"!=typeof p&&(E=!!p,T=void 0,C=void 0);var $=this._events&&this._events[c];if($&&$.length&&!1!==this._listens(c,T,C))return!0;if(E)for(var Te in this._eventParents)if(this._eventParents[Te].listens(c,p,C,E))return!0;return!1},_listens:function(c,p,C){if(!this._events)return!1;var E=this._events[c]||[];if(!p)return!!E.length;C===this&&(C=void 0);for(var T=0,$=E.length;T<$;T++)if(E[T].fn===p&&E[T].ctx===C)return T;return!1},once:function(c,p,C){if("object"==typeof c)for(var E in c)this._on(E,c[E],p,!0);else for(var T=0,$=(c=ne(c)).length;T<$;T++)this._on(c[T],p,C,!0);return this},addEventParent:function(c){return this._eventParents=this._eventParents||{},this._eventParents[xe(c)]=c,this},removeEventParent:function(c){return this._eventParents&&delete this._eventParents[xe(c)],this},_propagateEvent:function(c){for(var p in this._eventParents)this._eventParents[p].fire(c.type,ue({layer:c.target,propagatedFrom:c.target},c),!0)}};Vt.addEventListener=Vt.on,Vt.removeEventListener=Vt.clearAllEventListeners=Vt.off,Vt.addOneTimeEventListener=Vt.once,Vt.fireEvent=Vt.fire,Vt.hasEventListeners=Vt.listens;var gi=Nt.extend(Vt);function Dt(c,p,C){this.x=C?Math.round(c):c,this.y=C?Math.round(p):p}var Zn=Math.trunc||function(c){return c>0?Math.floor(c):Math.ceil(c)};function Je(c,p,C){return c instanceof Dt?c:st(c)?new Dt(c[0],c[1]):null==c?c:"object"==typeof c&&"x"in c&&"y"in c?new Dt(c.x,c.y):new Dt(c,p,C)}function at(c,p){if(c)for(var C=p?[c,p]:c,E=0,T=C.length;E<T;E++)this.extend(C[E])}function bn(c,p){return!c||c instanceof at?c:new at(c,p)}function ln(c,p){if(c)for(var C=p?[c,p]:c,E=0,T=C.length;E<T;E++)this.extend(C[E])}function qt(c,p){return c instanceof ln?c:new ln(c,p)}function ei(c,p,C){if(isNaN(c)||isNaN(p))throw new Error("Invalid LatLng object: ("+c+", "+p+")");this.lat=+c,this.lng=+p,void 0!==C&&(this.alt=+C)}function zn(c,p,C){return c instanceof ei?c:st(c)&&"object"!=typeof c[0]?3===c.length?new ei(c[0],c[1],c[2]):2===c.length?new ei(c[0],c[1]):null:null==c?c:"object"==typeof c&&"lat"in c?new ei(c.lat,"lng"in c?c.lng:c.lon,c.alt):void 0===p?null:new ei(c,p,C)}Dt.prototype={clone:function(){return new Dt(this.x,this.y)},add:function(c){return this.clone()._add(Je(c))},_add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.clone()._subtract(Je(c))},_subtract:function(c){return this.x-=c.x,this.y-=c.y,this},divideBy:function(c){return this.clone()._divideBy(c)},_divideBy:function(c){return this.x/=c,this.y/=c,this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){return this.x*=c,this.y*=c,this},scaleBy:function(c){return new Dt(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new Dt(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Zn(this.x),this.y=Zn(this.y),this},distanceTo:function(c){var p=(c=Je(c)).x-this.x,C=c.y-this.y;return Math.sqrt(p*p+C*C)},equals:function(c){return(c=Je(c)).x===this.x&&c.y===this.y},contains:function(c){return c=Je(c),Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=Math.abs(this.y)},toString:function(){return"Point("+oe(this.x)+", "+oe(this.y)+")"}},at.prototype={extend:function(c){var p,C;if(!c)return this;if(c instanceof Dt||"number"==typeof c[0]||"x"in c)p=C=Je(c);else if(C=(c=bn(c)).max,!(p=c.min)||!C)return this;return this.min||this.max?(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(C.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(C.y,this.max.y)):(this.min=p.clone(),this.max=C.clone()),this},getCenter:function(c){return Je((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return Je(this.min.x,this.max.y)},getTopRight:function(){return Je(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){var p,C;return(c="number"==typeof c[0]||c instanceof Dt?Je(c):bn(c))instanceof at?(p=c.min,C=c.max):p=C=c,p.x>=this.min.x&&C.x<=this.max.x&&p.y>=this.min.y&&C.y<=this.max.y},intersects:function(c){c=bn(c);var p=this.min,C=this.max,E=c.min,T=c.max;return T.x>=p.x&&E.x<=C.x&&T.y>=p.y&&E.y<=C.y},overlaps:function(c){c=bn(c);var p=this.min,C=this.max,E=c.min,T=c.max;return T.x>p.x&&E.x<C.x&&T.y>p.y&&E.y<C.y},isValid:function(){return!(!this.min||!this.max)},pad:function(c){var p=this.min,C=this.max,E=Math.abs(p.x-C.x)*c,T=Math.abs(p.y-C.y)*c;return bn(Je(p.x-E,p.y-T),Je(C.x+E,C.y+T))},equals:function(c){return!!c&&(c=bn(c),this.min.equals(c.getTopLeft())&&this.max.equals(c.getBottomRight()))}},ln.prototype={extend:function(c){var E,T,p=this._southWest,C=this._northEast;if(c instanceof ei)E=c,T=c;else{if(!(c instanceof ln))return c?this.extend(zn(c)||qt(c)):this;if(T=c._northEast,!(E=c._southWest)||!T)return this}return p||C?(p.lat=Math.min(E.lat,p.lat),p.lng=Math.min(E.lng,p.lng),C.lat=Math.max(T.lat,C.lat),C.lng=Math.max(T.lng,C.lng)):(this._southWest=new ei(E.lat,E.lng),this._northEast=new ei(T.lat,T.lng)),this},pad:function(c){var p=this._southWest,C=this._northEast,E=Math.abs(p.lat-C.lat)*c,T=Math.abs(p.lng-C.lng)*c;return new ln(new ei(p.lat-E,p.lng-T),new ei(C.lat+E,C.lng+T))},getCenter:function(){return new ei((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ei(this.getNorth(),this.getWest())},getSouthEast:function(){return new ei(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){c="number"==typeof c[0]||c instanceof ei||"lat"in c?zn(c):qt(c);var E,T,p=this._southWest,C=this._northEast;return c instanceof ln?(E=c.getSouthWest(),T=c.getNorthEast()):E=T=c,E.lat>=p.lat&&T.lat<=C.lat&&E.lng>=p.lng&&T.lng<=C.lng},intersects:function(c){c=qt(c);var p=this._southWest,C=this._northEast,E=c.getSouthWest(),T=c.getNorthEast();return T.lat>=p.lat&&E.lat<=C.lat&&T.lng>=p.lng&&E.lng<=C.lng},overlaps:function(c){c=qt(c);var p=this._southWest,C=this._northEast,E=c.getSouthWest(),T=c.getNorthEast();return T.lat>p.lat&&E.lat<C.lat&&T.lng>p.lng&&E.lng<C.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(c,p){return!!c&&(c=qt(c),this._southWest.equals(c.getSouthWest(),p)&&this._northEast.equals(c.getNorthEast(),p))},isValid:function(){return!(!this._southWest||!this._northEast)}},ei.prototype={equals:function(c,p){return!!c&&(c=zn(c),Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng))<=(void 0===p?1e-9:p))},toString:function(c){return"LatLng("+oe(this.lat,c)+", "+oe(this.lng,c)+")"},distanceTo:function(c){return Pi.distance(this,zn(c))},wrap:function(){return Pi.wrapLatLng(this)},toBounds:function(c){var p=180*c/40075017,C=p/Math.cos(Math.PI/180*this.lat);return qt([this.lat-p,this.lng-C],[this.lat+p,this.lng+C])},clone:function(){return new ei(this.lat,this.lng,this.alt)}};var c,wi={latLngToPoint:function(c,p){var C=this.projection.project(c),E=this.scale(p);return this.transformation._transform(C,E)},pointToLatLng:function(c,p){var C=this.scale(p),E=this.transformation.untransform(c,C);return this.projection.unproject(E)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var p=this.projection.bounds,C=this.scale(c);return new at(this.transformation.transform(p.min,C),this.transformation.transform(p.max,C))},infinite:!1,wrapLatLng:function(c){var p=this.wrapLng?Ne(c.lng,this.wrapLng,!0):c.lng;return new ei(this.wrapLat?Ne(c.lat,this.wrapLat,!0):c.lat,p,c.alt)},wrapLatLngBounds:function(c){var p=c.getCenter(),C=this.wrapLatLng(p),E=p.lat-C.lat,T=p.lng-C.lng;if(0===E&&0===T)return c;var $=c.getSouthWest(),Te=c.getNorthEast();return new ln(new ei($.lat-E,$.lng-T),new ei(Te.lat-E,Te.lng-T))}},Pi=ue({},wi,{wrapLng:[-180,180],R:6371e3,distance:function(c,p){var C=Math.PI/180,E=c.lat*C,T=p.lat*C,$=Math.sin((p.lat-c.lat)*C/2),Te=Math.sin((p.lng-c.lng)*C/2),ct=$*$+Math.cos(E)*Math.cos(T)*Te*Te,vt=2*Math.atan2(Math.sqrt(ct),Math.sqrt(1-ct));return this.R*vt}}),Vr={R:6378137,MAX_LATITUDE:85.0511287798,project:function(c){var p=Math.PI/180,C=this.MAX_LATITUDE,E=Math.max(Math.min(C,c.lat),-C),T=Math.sin(E*p);return new Dt(this.R*c.lng*p,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(c){var p=180/Math.PI;return new ei((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*p,c.x*p/this.R)},bounds:(c=6378137*Math.PI,new at([-c,-c],[c,c]))};function _s(c,p,C,E){if(st(c))return this._a=c[0],this._b=c[1],this._c=c[2],void(this._d=c[3]);this._a=c,this._b=p,this._c=C,this._d=E}function Jo(c,p,C,E){return new _s(c,p,C,E)}_s.prototype={transform:function(c,p){return this._transform(c.clone(),p)},_transform:function(c,p){return c.x=(p=p||1)*(this._a*c.x+this._b),c.y=p*(this._c*c.y+this._d),c},untransform:function(c,p){return new Dt((c.x/(p=p||1)-this._b)/this._a,(c.y/p-this._d)/this._c)}};var Q=ue({},Pi,{code:"EPSG:3857",projection:Vr,transformation:function(){var c=.5/(Math.PI*Vr.R);return Jo(c,.5,-c,.5)}()}),bt=ue({},Q,{code:"EPSG:900913"});function Ct(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function we(c,p){var E,T,$,Te,ct,vt,C="";for(E=0,$=c.length;E<$;E++){for(T=0,Te=(ct=c[E]).length;T<Te;T++)C+=(T?"L":"M")+(vt=ct[T]).x+" "+vt.y;C+=p?dn.svg?"z":"x":""}return C||"M0 0"}var he=document.documentElement.style,We="ActiveXObject"in window,zt=We&&!document.addEventListener,Gt="msLaunchUri"in navigator&&!("documentMode"in document),dt=ea("webkit"),$t=ea("android"),An=ea("android 2")||ea("android 3"),rn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),En=$t&&ea("Google")&&rn<537&&!("AudioNode"in window),yr=!!window.opera,Ui=!Gt&&ea("chrome"),es=ea("gecko")&&!dt&&!yr&&!We,ca=!Ui&&ea("safari"),yo=ea("phantom"),ys="OTransition"in he,Yi=0===navigator.platform.indexOf("Win"),ua=We&&"transition"in he,Ya="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!An,No="MozPerspective"in he,yh=!window.L_DISABLE_3D&&(ua||Ya||No)&&!ys&&!yo,bs=typeof orientation<"u"||ea("mobile"),Ju=bs&&dt,eA=bs&&Ya,bl=!window.PointerEvent&&window.MSPointerEvent,wl=!(!window.PointerEvent&&!bl),Xa="ontouchstart"in window||!!window.TouchEvent,Vl=!window.L_NO_TOUCH&&(Xa||wl),JA=bs&&yr,bh=bs&&es,io=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ed=function(){var c=!1;try{var p=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",Ce,p),window.removeEventListener("testPassiveEventSupport",Ce,p)}catch{}return c}(),lp=!!document.createElement("canvas").getContext,wh=!(!document.createElementNS||!Ct("svg").createSVGRect),Z1=!!wh&&function(){var c=document.createElement("div");return c.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(c.firstChild&&c.firstChild.namespaceURI)}(),Pa=!wh&&function(){try{var c=document.createElement("div");c.innerHTML='<v:shape adj="1"/>';var p=c.firstChild;return p.style.behavior="url(#default#VML)",p&&"object"==typeof p.adj}catch{return!1}}();function ea(c){return navigator.userAgent.toLowerCase().indexOf(c)>=0}var dn={ie:We,ielt9:zt,edge:Gt,webkit:dt,android:$t,android23:An,androidStock:En,opera:yr,chrome:Ui,gecko:es,safari:ca,phantom:yo,opera12:ys,win:Yi,ie3d:ua,webkit3d:Ya,gecko3d:No,any3d:yh,mobile:bs,mobileWebkit:Ju,mobileWebkit3d:eA,msPointer:bl,pointer:wl,touch:Vl,touchNative:Xa,mobileOpera:JA,mobileGecko:bh,retina:io,passiveEvents:ed,canvas:lp,svg:wh,vml:Pa,inlineSvg:Z1,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Pr=dn.msPointer?"MSPointerDown":"pointerdown",Ch=dn.msPointer?"MSPointerMove":"pointermove",Xi=dn.msPointer?"MSPointerUp":"pointerup",im=dn.msPointer?"MSPointerCancel":"pointercancel",xh={touchstart:Pr,touchmove:Ch,touchend:Xi,touchcancel:im},mt={touchstart:function nA(c,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&nn(p),jl(c,p)},touchmove:jl,touchend:jl,touchcancel:jl},Ja={},td=!1;function Mh(c,p,C){return"touchstart"===p&&function tA(){td||(document.addEventListener(Pr,Wb,!0),document.addEventListener(Ch,rm,!0),document.addEventListener(Xi,Cl,!0),document.addEventListener(im,Cl,!0),td=!0)}(),mt[p]?(C=mt[p].bind(this,C),c.addEventListener(xh[p],C,!1),C):(console.warn("wrong event specified:",p),Ce)}function Wb(c){Ja[c.pointerId]=c}function rm(c){Ja[c.pointerId]&&(Ja[c.pointerId]=c)}function Cl(c){delete Ja[c.pointerId]}function jl(c,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){for(var C in p.touches=[],Ja)p.touches.push(Ja[C]);p.changedTouches=[p],c(p)}}var Bh=200;var Pc,Eh,Ph,nd,Ic,qi=Ap(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Dh=Ap(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),J1="webkitTransition"===Dh||"OTransition"===Dh?Dh+"End":"transitionend";function sr(c){return"string"==typeof c?document.getElementById(c):c}function Kl(c,p){var C=c.style[p]||c.currentStyle&&c.currentStyle[p];if((!C||"auto"===C)&&document.defaultView){var E=document.defaultView.getComputedStyle(c,null);C=E?E[p]:null}return"auto"===C?null:C}function Yn(c,p,C){var E=document.createElement(c);return E.className=p||"",C&&C.appendChild(E),E}function jr(c){var p=c.parentNode;p&&p.removeChild(c)}function up(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function Wl(c){var p=c.parentNode;p&&p.lastChild!==c&&p.appendChild(c)}function Ji(c){var p=c.parentNode;p&&p.firstChild!==c&&p.insertBefore(c,p.firstChild)}function Rn(c,p){if(void 0!==c.classList)return c.classList.contains(p);var C=Sh(c);return C.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(C)}function Ci(c,p){if(void 0!==c.classList)for(var C=ne(p),E=0,T=C.length;E<T;E++)c.classList.add(C[E]);else if(!Rn(c,p)){var $=Sh(c);om(c,($?$+" ":"")+p)}}function li(c,p){void 0!==c.classList?c.classList.remove(p):om(c,De((" "+Sh(c)+" ").replace(" "+p+" "," ")))}function om(c,p){void 0===c.className.baseVal?c.className=p:c.className.baseVal=p}function Sh(c){return c.correspondingElement&&(c=c.correspondingElement),void 0===c.className.baseVal?c.className:c.className.baseVal}function el(c,p){"opacity"in c.style?c.style.opacity=p:"filter"in c.style&&function Ec(c,p){var C=!1,E="DXImageTransform.Microsoft.Alpha";try{C=c.filters.item(E)}catch{if(1===p)return}p=Math.round(100*p),C?(C.Enabled=100!==p,C.Opacity=p):c.style.filter+=" progid:"+E+"(opacity="+p+")"}(c,p)}function Ap(c){for(var p=document.documentElement.style,C=0;C<c.length;C++)if(c[C]in p)return c[C];return!1}function rA(c,p,C){var E=p||new Dt(0,0);c.style[qi]=(dn.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(C?" scale("+C+")":"")}function Ro(c,p){c._leaflet_pos=p,dn.any3d?rA(c,p):(c.style.left=p.x+"px",c.style.top=p.y+"px")}function oA(c){return c._leaflet_pos||new Dt(0,0)}if("onselectstart"in document)Pc=function(){jn(window,"selectstart",nn)},Eh=function(){Ur(window,"selectstart",nn)};else{var Ih=Ap(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Pc=function(){if(Ih){var c=document.documentElement.style;Ph=c[Ih],c[Ih]="none"}},Eh=function(){Ih&&(document.documentElement.style[Ih]=Ph,Ph=void 0)}}function Fs(){jn(window,"dragstart",nn)}function Wn(){Ur(window,"dragstart",nn)}function sm(c){for(;-1===c.tabIndex;)c=c.parentNode;c.style&&(dp(),nd=c,Ic=c.style.outlineStyle,c.style.outlineStyle="none",jn(window,"keydown",dp))}function dp(){nd&&(nd.style.outlineStyle=Ic,nd=void 0,Ic=void 0,Ur(window,"keydown",dp))}function ev(c){do{c=c.parentNode}while(!(c.offsetWidth&&c.offsetHeight||c===document.body));return c}function tn(c){var p=c.getBoundingClientRect();return{x:p.width/c.offsetWidth||1,y:p.height/c.offsetHeight||1,boundingClientRect:p}}var $b={__proto__:null,TRANSFORM:qi,TRANSITION:Dh,TRANSITION_END:J1,get:sr,getStyle:Kl,create:Yn,remove:jr,empty:up,toFront:Wl,toBack:Ji,hasClass:Rn,addClass:Ci,removeClass:li,setClass:om,getClass:Sh,setOpacity:el,testProp:Ap,setTransform:rA,setPosition:Ro,getPosition:oA,get disableTextSelection(){return Pc},get enableTextSelection(){return Eh},disableImageDrag:Fs,enableImageDrag:Wn,preventOutline:sm,restoreOutline:dp,getSizedParentNode:ev,getScale:tn};function jn(c,p,C,E){if(p&&"object"==typeof p)for(var T in p)Ts(c,T,p[T],C);else for(var $=0,Te=(p=ne(p)).length;$<Te;$++)Ts(c,p[$],C,E);return this}var Aa="_leaflet_events";function Ur(c,p,C,E){if(1===arguments.length)hp(c),delete c[Aa];else if(p&&"object"==typeof p)for(var T in p)lu(c,T,p[T],C);else if(p=ne(p),2===arguments.length)hp(c,function(ct){return-1!==At(p,ct)});else for(var $=0,Te=p.length;$<Te;$++)lu(c,p[$],C,E);return this}function hp(c,p){for(var C in c[Aa]){var E=C.split(/\d/)[0];(!p||p(E))&&lu(c,E,null,null,C)}}var fp={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ts(c,p,C,E){var T=p+xe(C)+(E?"_"+xe(E):"");if(c[Aa]&&c[Aa][T])return this;var $=function(ct){return C.call(E||c,ct||window.event)},Te=$;!dn.touchNative&&dn.pointer&&0===p.indexOf("touch")?$=Mh(c,p,$):dn.touch&&"dblclick"===p?$=function Gl(c,p){c.addEventListener("dblclick",p);var E,C=0;function T($){if(1===$.detail){if("mouse"!==$.pointerType&&(!$.sourceCapabilities||$.sourceCapabilities.firesTouchEvents)){var Te=od($);if(!Te.some(function(vt){return vt instanceof HTMLLabelElement&&vt.attributes.for})||Te.some(function(vt){return vt instanceof HTMLInputElement||vt instanceof HTMLSelectElement})){var ct=Date.now();ct-C<=Bh?2==++E&&p(function iA(c){var C,E,p={};for(E in c)p[E]=(C=c[E])&&C.bind?C.bind(c):C;return c=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}($)):E=1,C=ct}}}else E=$.detail}return c.addEventListener("click",T),{dblclick:p,simDblclick:T}}(c,$):"addEventListener"in c?"touchstart"===p||"touchmove"===p||"wheel"===p||"mousewheel"===p?c.addEventListener(fp[p]||p,$,!!dn.passiveEvents&&{passive:!1}):"mouseenter"===p||"mouseleave"===p?c.addEventListener(fp[p],$=function(ct){ct=ct||window.event,sd(c,ct)&&Te(ct)},!1):c.addEventListener(p,Te,!1):c.attachEvent("on"+p,$),c[Aa]=c[Aa]||{},c[Aa][T]=$}function lu(c,p,C,E,T){T=T||p+xe(C)+(E?"_"+xe(E):"");var $=c[Aa]&&c[Aa][T];if(!$)return this;!dn.touchNative&&dn.pointer&&0===p.indexOf("touch")?function Y1(c,p,C){xh[p]?c.removeEventListener(xh[p],C,!1):console.warn("wrong event specified:",p)}(c,p,$):dn.touch&&"dblclick"===p?function X1(c,p){c.removeEventListener("dblclick",p.dblclick),c.removeEventListener("click",p.simDblclick)}(c,$):"removeEventListener"in c?c.removeEventListener(fp[p]||p,$,!1):c.detachEvent("on"+p,$),c[Aa][T]=null}function xl(c){return c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0,this}function id(c){return Ts(c,"wheel",xl),this}function rd(c){return jn(c,"mousedown touchstart dblclick contextmenu",xl),c._leaflet_disable_click=!0,this}function nn(c){return c.preventDefault?c.preventDefault():c.returnValue=!1,this}function $l(c){return nn(c),xl(c),this}function od(c){if(c.composedPath)return c.composedPath();for(var p=[],C=c.target;C;)p.push(C),C=C.parentNode;return p}function Oh(c,p){if(!p)return new Dt(c.clientX,c.clientY);var C=tn(p),E=C.boundingClientRect;return new Dt((c.clientX-E.left)/C.x-p.clientLeft,(c.clientY-E.top)/C.y-p.clientTop)}var kh=dn.linux&&dn.chrome?window.devicePixelRatio:dn.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function am(c){return dn.edge?c.wheelDeltaY/2:c.deltaY&&0===c.deltaMode?-c.deltaY/kh:c.deltaY&&1===c.deltaMode?20*-c.deltaY:c.deltaY&&2===c.deltaMode?60*-c.deltaY:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&Math.abs(c.detail)<32765?20*-c.detail:c.detail?c.detail/-32765*60:0}function sd(c,p){var C=p.relatedTarget;if(!C)return!0;try{for(;C&&C!==c;)C=C.parentNode}catch{return!1}return C!==c}var Ls={__proto__:null,on:jn,off:Ur,stopPropagation:xl,disableScrollPropagation:id,disableClickPropagation:rd,preventDefault:nn,stop:$l,getPropagationPath:od,getMousePosition:Oh,getWheelDelta:am,isExternalTarget:sd,addListener:jn,removeListener:Ur},tv=gi.extend({run:function(c,p,C,E){this.stop(),this._el=c,this._inProgress=!0,this._duration=C||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=oA(c),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Oe(this._animate,this),this._step()},_step:function(c){var p=+new Date-this._startTime,C=1e3*this._duration;p<C?this._runFrame(this._easeOut(p/C),c):(this._runFrame(1),this._complete())},_runFrame:function(c,p){var C=this._startPos.add(this._offset.multiplyBy(c));p&&C._round(),Ro(this._el,C),this.fire("step")},_complete:function(){Bt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),Qi=gi.extend({options:{crs:Q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,p){p=fe(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(c),this._initLayout(),this._onResize=X(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),void 0!==p.zoom&&(this._zoom=this._limitZoom(p.zoom)),p.center&&void 0!==p.zoom&&this.setView(zn(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Dh&&dn.any3d&&!dn.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),jn(this._proxy,J1,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,p,C){return p=void 0===p?this._zoom:this._limitZoom(p),c=this._limitCenter(zn(c),p,this.options.maxBounds),C=C||{},this._stop(),this._loaded&&!C.reset&&!0!==C&&(void 0!==C.animate&&(C.zoom=ue({animate:C.animate},C.zoom),C.pan=ue({animate:C.animate,duration:C.duration},C.pan)),this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,p,C.zoom):this._tryAnimatedPan(c,C.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(c,p,C.pan&&C.pan.noMoveStart),this)},setZoom:function(c,p){return this._loaded?this.setView(this.getCenter(),c,{zoom:p}):(this._zoom=c,this)},zoomIn:function(c,p){return this.setZoom(this._zoom+(c=c||(dn.any3d?this.options.zoomDelta:1)),p)},zoomOut:function(c,p){return this.setZoom(this._zoom-(c=c||(dn.any3d?this.options.zoomDelta:1)),p)},setZoomAround:function(c,p,C){var E=this.getZoomScale(p),T=this.getSize().divideBy(2),Te=(c instanceof Dt?c:this.latLngToContainerPoint(c)).subtract(T).multiplyBy(1-1/E),ct=this.containerPointToLatLng(T.add(Te));return this.setView(ct,p,{zoom:C})},_getBoundsCenterZoom:function(c,p){p=p||{},c=c.getBounds?c.getBounds():qt(c);var C=Je(p.paddingTopLeft||p.padding||[0,0]),E=Je(p.paddingBottomRight||p.padding||[0,0]),T=this.getBoundsZoom(c,!1,C.add(E));if((T="number"==typeof p.maxZoom?Math.min(p.maxZoom,T):T)===1/0)return{center:c.getCenter(),zoom:T};var $=E.subtract(C).divideBy(2),Te=this.project(c.getSouthWest(),T),ct=this.project(c.getNorthEast(),T);return{center:this.unproject(Te.add(ct).divideBy(2).add($),T),zoom:T}},fitBounds:function(c,p){if(!(c=qt(c)).isValid())throw new Error("Bounds are not valid.");var C=this._getBoundsCenterZoom(c,p);return this.setView(C.center,C.zoom,p)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,p){return this.setView(c,this._zoom,{pan:p})},panBy:function(c,p){if(p=p||{},!(c=Je(c).round()).x&&!c.y)return this.fire("moveend");if(!0!==p.animate&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tv,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),!1!==p.animate){Ci(this._mapPane,"leaflet-pan-anim");var C=this._getMapPanePos().subtract(c).round();this._panAnim.run(this._mapPane,C,p.duration||.25,p.easeLinearity)}else this._rawPanBy(c),this.fire("move").fire("moveend");return this},flyTo:function(c,p,C){if(!1===(C=C||{}).animate||!dn.any3d)return this.setView(c,p,C);this._stop();var E=this.project(this.getCenter()),T=this.project(c),$=this.getSize(),Te=this._zoom;c=zn(c),p=void 0===p?Te:p;var ct=Math.max($.x,$.y),vt=ct*this.getZoomScale(Te,p),Ht=T.distanceTo(E)||1,pn=1.42,Xn=pn*pn;function vi(bo){var gd=(vt*vt-ct*ct+(bo?-1:1)*Xn*Xn*Ht*Ht)/(2*(bo?vt:ct)*Xn*Ht),rl=Math.sqrt(gd*gd+1)-gd;return rl<1e-9?-18:Math.log(rl)}function Us(bo){return(Math.exp(bo)-Math.exp(-bo))/2}function Eo(bo){return(Math.exp(bo)+Math.exp(-bo))/2}var ia=vi(0);function zh(bo){return ct*(Eo(ia)*function Qs(bo){return Us(bo)/Eo(bo)}(ia+pn*bo)-Us(ia))/Xn}var Nc=Date.now(),Vh=(vi(1)-ia)/pn,ov=C.duration?1e3*C.duration:1e3*Vh*.8;return this._moveStart(!0,C.noMoveStart),function Bp(){var bo=(Date.now()-Nc)/ov,Jl=function Hs(bo){return 1-Math.pow(1-bo,1.5)}(bo)*Vh;bo<=1?(this._flyToFrame=Oe(Bp,this),this._move(this.unproject(E.add(T.subtract(E).multiplyBy(zh(Jl)/Ht)),Te),this.getScaleZoom(ct/function Lc(bo){return ct*(Eo(ia)/Eo(ia+pn*bo))}(Jl),Te),{flyTo:!0})):this._move(c,p)._moveEnd(!0)}.call(this),this},flyToBounds:function(c,p){var C=this._getBoundsCenterZoom(c,p);return this.flyTo(C.center,C.zoom,p)},setMaxBounds:function(c){return c=qt(c),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),c.isValid()?(this.options.maxBounds=c,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(c){var p=this.options.minZoom;return this.options.minZoom=c,this._loaded&&p!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var p=this.options.maxZoom;return this.options.maxZoom=c,this._loaded&&p!==c&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,p){this._enforcingBounds=!0;var C=this.getCenter(),E=this._limitCenter(C,this._zoom,qt(c));return C.equals(E)||this.panTo(E,p),this._enforcingBounds=!1,this},panInside:function(c,p){var C=Je((p=p||{}).paddingTopLeft||p.padding||[0,0]),E=Je(p.paddingBottomRight||p.padding||[0,0]),T=this.project(this.getCenter()),$=this.project(c),Te=this.getPixelBounds(),ct=bn([Te.min.add(C),Te.max.subtract(E)]),vt=ct.getSize();if(!ct.contains($)){this._enforcingBounds=!0;var Ht=$.subtract(ct.getCenter()),pn=ct.extend($).getSize().subtract(vt);T.x+=Ht.x<0?-pn.x:pn.x,T.y+=Ht.y<0?-pn.y:pn.y,this.panTo(this.unproject(T),p),this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=ue({animate:!1,pan:!0},!0===c?{animate:!0}:c);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var C=this.getSize(),E=p.divideBy(2).round(),T=C.divideBy(2).round(),$=E.subtract(T);return $.x||$.y?(c.animate&&c.pan?this.panBy($):(c.pan&&this._rawPanBy($),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(X(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:C})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(c){if(c=this._locateOptions=ue({timeout:1e4,watch:!1},c),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=X(this._handleGeolocationResponse,this),C=X(this._handleGeolocationError,this);return c.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,C,c):navigator.geolocation.getCurrentPosition(p,C,c),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(c){if(this._container._leaflet_id){var p=c.code,C=c.message||(1===p?"permission denied":2===p?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+C+"."})}},_handleGeolocationResponse:function(c){if(this._container._leaflet_id){var E=new ei(c.coords.latitude,c.coords.longitude),T=E.toBounds(2*c.coords.accuracy),$=this._locateOptions;if($.setView){var Te=this.getBoundsZoom(T);this.setView(E,$.maxZoom?Math.min(Te,$.maxZoom):Te)}var ct={latlng:E,bounds:T,timestamp:c.timestamp};for(var vt in c.coords)"number"==typeof c.coords[vt]&&(ct[vt]=c.coords[vt]);this.fire("locationfound",ct)}},addHandler:function(c,p){if(!p)return this;var C=this[c]=new p(this);return this._handlers.push(C),this.options[c]&&C.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var c;for(c in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),jr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Bt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[c].remove();for(c in this._panes)jr(this._panes[c]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(c,p){var E=Yn("div","leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":""),p||this._mapPane);return c&&(this._panes[c]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=this.getPixelBounds();return new ln(this.unproject(c.getBottomLeft()),this.unproject(c.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,p,C){c=qt(c),C=Je(C||[0,0]);var E=this.getZoom()||0,T=this.getMinZoom(),$=this.getMaxZoom(),Te=c.getNorthWest(),ct=c.getSouthEast(),vt=this.getSize().subtract(C),Ht=bn(this.project(ct,E),this.project(Te,E)).getSize(),pn=dn.any3d?this.options.zoomSnap:1,Xn=vt.x/Ht.x,vi=vt.y/Ht.y,Us=p?Math.max(Xn,vi):Math.min(Xn,vi);return E=this.getScaleZoom(Us,E),pn&&(E=Math.round(E/(pn/100))*(pn/100),E=p?Math.ceil(E/pn)*pn:Math.floor(E/pn)*pn),Math.max(T,Math.min($,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Dt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(c,p){var C=this._getTopLeftPoint(c,p);return new at(C,C.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(void 0===c?this.getZoom():c)},getPane:function(c){return"string"==typeof c?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,p){var C=this.options.crs;return p=void 0===p?this._zoom:p,C.scale(c)/C.scale(p)},getScaleZoom:function(c,p){var C=this.options.crs,E=C.zoom(c*C.scale(p=void 0===p?this._zoom:p));return isNaN(E)?1/0:E},project:function(c,p){return p=void 0===p?this._zoom:p,this.options.crs.latLngToPoint(zn(c),p)},unproject:function(c,p){return p=void 0===p?this._zoom:p,this.options.crs.pointToLatLng(Je(c),p)},layerPointToLatLng:function(c){var p=Je(c).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(c){return this.project(zn(c))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(c){return this.options.crs.wrapLatLng(zn(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(qt(c))},distance:function(c,p){return this.options.crs.distance(zn(c),zn(p))},containerPointToLayerPoint:function(c){return Je(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return Je(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){var p=this.containerPointToLayerPoint(Je(c));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(zn(c)))},mouseEventToContainerPoint:function(c){return Oh(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){var p=this._container=sr(c);if(!p)throw new Error("Map container not found.");if(p._leaflet_id)throw new Error("Map container is already initialized.");jn(p,"scroll",this._onScroll,this),this._containerId=xe(p)},_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&dn.any3d,Ci(c,"leaflet-container"+(dn.touch?" leaflet-touch":"")+(dn.retina?" leaflet-retina":"")+(dn.ielt9?" leaflet-oldie":"")+(dn.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=Kl(c,"position");"absolute"!==p&&"relative"!==p&&"fixed"!==p&&"sticky"!==p&&(c.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ro(this._mapPane,new Dt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ci(c.markerPane,"leaflet-zoom-hide"),Ci(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,p,C){Ro(this._mapPane,new Dt(0,0));var E=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var T=this._zoom!==p;this._moveStart(T,C)._move(c,p)._moveEnd(T),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(c,p){return c&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(c,p,C,E){void 0===p&&(p=this._zoom);var T=this._zoom!==p;return this._zoom=p,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),E?C&&C.pinch&&this.fire("zoom",C):((T||C&&C.pinch)&&this.fire("zoom",C),this.fire("move",C)),this},_moveEnd:function(c){return c&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Bt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(c){Ro(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(c){this._targets={},this._targets[xe(this._container)]=this;var p=c?Ur:jn;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),dn.any3d&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Bt(this._resizeRequest),this._resizeRequest=Oe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,p){for(var E,C=[],T="mouseout"===p||"mouseover"===p,$=c.target||c.srcElement,Te=!1;$;){if((E=this._targets[xe($)])&&("click"===p||"preclick"===p)&&this._draggableMoved(E)){Te=!0;break}if(E&&E.listens(p,!0)&&(T&&!sd($,c)||(C.push(E),T))||$===this._container)break;$=$.parentNode}return!C.length&&!Te&&!T&&this.listens(p,!0)&&(C=[this]),C},_isClickDisabled:function(c){for(;c&&c!==this._container;){if(c._leaflet_disable_click)return!0;c=c.parentNode}},_handleDOMEvent:function(c){var p=c.target||c.srcElement;if(!(!this._loaded||p._leaflet_disable_events||"click"===c.type&&this._isClickDisabled(p))){var C=c.type;"mousedown"===C&&sm(p),this._fireDOMEvent(c,C)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,p,C){if("click"===c.type){var E=ue({},c);E.type="preclick",this._fireDOMEvent(E,E.type,C)}var T=this._findEventTargets(c,p);if(C){for(var $=[],Te=0;Te<C.length;Te++)C[Te].listens(p,!0)&&$.push(C[Te]);T=$.concat(T)}if(T.length){"contextmenu"===p&&nn(c);var ct=T[0],vt={originalEvent:c};if("keypress"!==c.type&&"keydown"!==c.type&&"keyup"!==c.type){var Ht=ct.getLatLng&&(!ct._radius||ct._radius<=10);vt.containerPoint=Ht?this.latLngToContainerPoint(ct.getLatLng()):this.mouseEventToContainerPoint(c),vt.layerPoint=this.containerPointToLayerPoint(vt.containerPoint),vt.latlng=Ht?ct.getLatLng():this.layerPointToLatLng(vt.layerPoint)}for(Te=0;Te<T.length;Te++)if(T[Te].fire(p,vt,!0),vt.originalEvent._stopped||!1===T[Te].options.bubblingMouseEvents&&-1!==At(this._mouseEvents,p))return}},_draggableMoved:function(c){return(c=c.dragging&&c.dragging.enabled()?c:this).dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,p=this._handlers.length;c<p;c++)this._handlers[c].disable()},whenReady:function(c,p){return this._loaded?c.call(p||this,{target:this}):this.on("load",c,p),this},_getMapPanePos:function(){return oA(this._mapPane)||new Dt(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,p){return(c&&void 0!==p?this._getNewPixelOrigin(c,p):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,p){var C=this.getSize()._divideBy(2);return this.project(c,p)._subtract(C)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,p,C){var E=this._getNewPixelOrigin(C,p);return this.project(c,p)._subtract(E)},_latLngBoundsToNewLayerBounds:function(c,p,C){var E=this._getNewPixelOrigin(C,p);return bn([this.project(c.getSouthWest(),p)._subtract(E),this.project(c.getNorthWest(),p)._subtract(E),this.project(c.getSouthEast(),p)._subtract(E),this.project(c.getNorthEast(),p)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,p,C){if(!C)return c;var E=this.project(c,p),T=this.getSize().divideBy(2),$=new at(E.subtract(T),E.add(T)),Te=this._getBoundsOffset($,C,p);return Math.abs(Te.x)<=1&&Math.abs(Te.y)<=1?c:this.unproject(E.add(Te),p)},_limitOffset:function(c,p){if(!p)return c;var C=this.getPixelBounds(),E=new at(C.min.add(c),C.max.add(c));return c.add(this._getBoundsOffset(E,p))},_getBoundsOffset:function(c,p,C){var E=bn(this.project(p.getNorthEast(),C),this.project(p.getSouthWest(),C)),T=E.min.subtract(c.min),$=E.max.subtract(c.max);return new Dt(this._rebound(T.x,-$.x),this._rebound(T.y,-$.y))},_rebound:function(c,p){return c+p>0?Math.round(c-p)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(p))},_limitZoom:function(c){var p=this.getMinZoom(),C=this.getMaxZoom(),E=dn.any3d?this.options.zoomSnap:1;return E&&(c=Math.round(c/E)*E),Math.max(p,Math.min(C,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){li(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,p){var C=this._getCenterOffset(c)._trunc();return!(!0!==(p&&p.animate)&&!this.getSize().contains(C)||(this.panBy(C,p),0))},_createAnimProxy:function(){var c=this._proxy=Yn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c),this.on("zoomanim",function(p){var C=qi,E=this._proxy.style[C];rA(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),E===this._proxy.style[C]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){jr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),p=this.getZoom();rA(this._proxy,this.project(c,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(c){this._animatingZoom&&c.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,p,C){if(this._animatingZoom)return!0;if(C=C||{},!this._zoomAnimated||!1===C.animate||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(p),T=this._getCenterOffset(c)._divideBy(1-1/E);return!(!0!==C.animate&&!this.getSize().contains(T)||(Oe(function(){this._moveStart(!0,C.noMoveStart||!1)._animateZoom(c,p,!0)},this),0))},_animateZoom:function(c,p,C,E){this._mapPane&&(C&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=p,Ci(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:p,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(X(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&li(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var da=Nt.extend({options:{position:"topright"},initialize:function(c){fe(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var p=this._map;return p&&p.removeControl(this),this.options.position=c,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(c){this.remove(),this._map=c;var p=this._container=this.onAdd(c),C=this.getPosition(),E=c._controlCorners[C];return Ci(p,"leaflet-control"),-1!==C.indexOf("bottom")?E.insertBefore(p,E.firstChild):E.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(jr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(c){this._map&&c&&c.screenX>0&&c.screenY>0&&this._map.getContainer().focus()}}),ql=function(c){return new da(c)};Qi.include({addControl:function(c){return c.addTo(this),this},removeControl:function(c){return c.remove(),this},_initControlPos:function(){var c=this._controlCorners={},p="leaflet-",C=this._controlContainer=Yn("div",p+"control-container",this._container);function E(T,$){c[T+$]=Yn("div",p+T+" "+p+$,C)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)jr(this._controlCorners[c]);jr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Fh=da.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,p,C,E){return C<E?-1:E<C?1:0}},initialize:function(c,p,C){for(var E in fe(this,C),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,c)this._addLayer(c[E],E);for(E in p)this._addLayer(p[E],E,!0)},onAdd:function(c){this._initLayout(),this._update(),this._map=c,c.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){return da.prototype.addTo.call(this,c),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,p){return this._addLayer(c,p),this._map?this._update():this},addOverlay:function(c,p){return this._addLayer(c,p,!0),this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);var p=this._getLayer(xe(c));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){Ci(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);return c<this._section.clientHeight?(Ci(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=c+"px"):li(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return li(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var c="leaflet-control-layers",p=this._container=Yn("div",c),C=this.options.collapsed;p.setAttribute("aria-haspopup",!0),rd(p),id(p);var E=this._section=Yn("section",c+"-list");C&&(this._map.on("click",this.collapse,this),jn(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=Yn("a",c+"-toggle",p);T.href="#",T.title="Layers",T.setAttribute("role","button"),jn(T,{keydown:function($){13===$.keyCode&&this._expandSafely()},click:function($){nn($),this._expandSafely()}},this),C||this.expand(),this._baseLayersList=Yn("div",c+"-base",E),this._separator=Yn("div",c+"-separator",E),this._overlaysList=Yn("div",c+"-overlays",E),p.appendChild(E)},_getLayer:function(c){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&xe(this._layers[p].layer)===c)return this._layers[p]},_addLayer:function(c,p,C){this._map&&c.on("add remove",this._onLayerChange,this),this._layers.push({layer:c,name:p,overlay:C}),this.options.sortLayers&&this._layers.sort(X(function(E,T){return this.options.sortFunction(E.layer,T.layer,E.name,T.name)},this)),this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;up(this._baseLayersList),up(this._overlaysList),this._layerControlInputs=[];var c,p,C,E,T=0;for(C=0;C<this._layers.length;C++)this._addItem(E=this._layers[C]),p=p||E.overlay,c=c||!E.overlay,T+=E.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(c=c&&T>1)?"":"none"),this._separator.style.display=p&&c?"":"none",this},_onLayerChange:function(c){this._handlingClick||this._update();var p=this._getLayer(xe(c.target)),C=p.overlay?"add"===c.type?"overlayadd":"overlayremove":"add"===c.type?"baselayerchange":null;C&&this._map.fire(C,p)},_createRadioElement:function(c,p){var C='<input type="radio" class="leaflet-control-layers-selector" name="'+c+'"'+(p?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=C,E.firstChild},_addItem:function(c){var E,p=document.createElement("label"),C=this._map.hasLayer(c.layer);c.overlay?((E=document.createElement("input")).type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=C):E=this._createRadioElement("leaflet-base-layers_"+xe(this),C),this._layerControlInputs.push(E),E.layerId=xe(c.layer),jn(E,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+c.name;var $=document.createElement("span");return p.appendChild($),$.appendChild(E),$.appendChild(T),(c.overlay?this._overlaysList:this._baseLayersList).appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var p,C,c=this._layerControlInputs,E=[],T=[];this._handlingClick=!0;for(var $=c.length-1;$>=0;$--)C=this._getLayer((p=c[$]).layerId).layer,p.checked?E.push(C):p.checked||T.push(C);for($=0;$<T.length;$++)this._map.hasLayer(T[$])&&this._map.removeLayer(T[$]);for($=0;$<E.length;$++)this._map.hasLayer(E[$])||this._map.addLayer(E[$]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p,C,c=this._layerControlInputs,E=this._map.getZoom(),T=c.length-1;T>=0;T--)C=this._getLayer((p=c[T]).layerId).layer,p.disabled=void 0!==C.options.minZoom&&E<C.options.minZoom||void 0!==C.options.maxZoom&&E>C.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var c=this._section;this._preventClick=!0,jn(c,"click",nn),this.expand();var p=this;setTimeout(function(){Ur(c,"click",nn),p._preventClick=!1})}}),cu=da.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(c){var p="leaflet-control-zoom",C=Yn("div",p+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,p+"-in",C,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,p+"-out",C,this._zoomOut),this._updateDisabled(),c.on("zoomend zoomlevelschange",this._updateDisabled,this),C},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,p,C,E,T){var $=Yn("a",C,E);return $.innerHTML=c,$.href="#",$.title=p,$.setAttribute("role","button"),$.setAttribute("aria-label",p),rd($),jn($,"click",$l),jn($,"click",T,this),jn($,"click",this._refocusOnMap,this),$},_updateDisabled:function(){var c=this._map,p="leaflet-disabled";li(this._zoomInButton,p),li(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||c._zoom===c.getMinZoom())&&(Ci(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||c._zoom===c.getMaxZoom())&&(Ci(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qi.mergeOptions({zoomControl:!0}),Qi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cu,this.addControl(this.zoomControl))});var aA=da.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var p="leaflet-control-scale",C=Yn("div",p),E=this.options;return this._addScales(E,p+"-line",C),c.on(E.updateWhenIdle?"moveend":"move",this._update,this),c.whenReady(this._update,this),C},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,p,C){c.metric&&(this._mScale=Yn("div",p,C)),c.imperial&&(this._iScale=Yn("div",p,C))},_update:function(){var c=this._map,p=c.getSize().y/2,C=c.distance(c.containerPointToLatLng([0,p]),c.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(C)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c),this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var p=this._getRoundNum(c);this._updateScale(this._mScale,p<1e3?p+" m":p/1e3+" km",p/c)},_updateImperial:function(c){var C,E,T,p=3.2808399*c;p>5280?(E=this._getRoundNum(C=p/5280),this._updateScale(this._iScale,E+" mi",E/C)):(T=this._getRoundNum(p),this._updateScale(this._iScale,T+" ft",T/p))},_updateScale:function(c,p,C){c.style.width=Math.round(this.options.maxWidth*C)+"px",c.innerHTML=p},_getRoundNum:function(c){var p=Math.pow(10,(Math.floor(c)+"").length-1),C=c/p;return p*(C>=10?10:C>=5?5:C>=3?3:C>=2?2:1)}}),er=da.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(dn.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(c){fe(this,c),this._attributions={}},onAdd:function(c){for(var p in c.attributionControl=this,this._container=Yn("div","leaflet-control-attribution"),rd(this._container),c._layers)c._layers[p].getAttribution&&this.addAttribution(c._layers[p].getAttribution());return this._update(),c.on("layeradd",this._addAttribution,this),this._container},onRemove:function(c){c.off("layeradd",this._addAttribution,this)},_addAttribution:function(c){c.layer.getAttribution&&(this.addAttribution(c.layer.getAttribution()),c.layer.once("remove",function(){this.removeAttribution(c.layer.getAttribution())},this))},setPrefix:function(c){return this.options.prefix=c,this._update(),this},addAttribution:function(c){return c?(this._attributions[c]||(this._attributions[c]=0),this._attributions[c]++,this._update(),this):this},removeAttribution:function(c){return c?(this._attributions[c]&&(this._attributions[c]--,this._update()),this):this},_update:function(){if(this._map){var c=[];for(var p in this._attributions)this._attributions[p]&&c.push(p);var C=[];this.options.prefix&&C.push(this.options.prefix),c.length&&C.push(c.join(", ")),this._container.innerHTML=C.join(' <span aria-hidden="true">|</span> ')}}});Qi.mergeOptions({attributionControl:!0}),Qi.addInitHook(function(){this.options.attributionControl&&(new er).addTo(this)});da.Layers=Fh,da.Zoom=cu,da.Scale=aA,da.Attribution=er,ql.layers=function(c,p,C){return new Fh(c,p,C)},ql.zoom=function(c){return new cu(c)},ql.scale=function(c){return new aA(c)},ql.attribution=function(c){return new er(c)};var Bl=Nt.extend({initialize:function(c){this._map=c},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Bl.addTo=function(c,p){return c.addHandler(p,this),this};var nv={Events:Vt},iv=dn.touch?"touchstart mousedown":"mousedown",Oc=gi.extend({options:{clickTolerance:3},initialize:function(c,p,C,E){fe(this,E),this._element=c,this._dragStartTarget=p||c,this._preventOutline=C},enable:function(){this._enabled||(jn(this._dragStartTarget,iv,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Oc._dragging===this&&this.finishDrag(!0),Ur(this._dragStartTarget,iv,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(c){if(this._enabled&&(this._moved=!1,!Rn(this._element,"leaflet-zoom-anim"))){if(c.touches&&1!==c.touches.length)return void(Oc._dragging===this&&this.finishDrag());if(!(Oc._dragging||c.shiftKey||1!==c.which&&1!==c.button&&!c.touches||(Oc._dragging=this,this._preventOutline&&sm(this._element),Fs(),Pc(),this._moving))){this.fire("down");var p=c.touches?c.touches[0]:c,C=ev(this._element);this._startPoint=new Dt(p.clientX,p.clientY),this._startPos=oA(this._element),this._parentScale=tn(C);var E="mousedown"===c.type;jn(document,E?"mousemove":"touchmove",this._onMove,this),jn(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(c){if(this._enabled){if(c.touches&&c.touches.length>1)return void(this._moved=!0);var p=c.touches&&1===c.touches.length?c.touches[0]:c,C=new Dt(p.clientX,p.clientY)._subtract(this._startPoint);!C.x&&!C.y||Math.abs(C.x)+Math.abs(C.y)<this.options.clickTolerance||(C.x/=this._parentScale.x,C.y/=this._parentScale.y,nn(c),this._moved||(this.fire("dragstart"),this._moved=!0,Ci(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ci(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(C),this._moving=!0,this._lastEvent=c,this._updatePosition())}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c),Ro(this._element,this._newPos),this.fire("drag",c)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(c){li(document.body,"leaflet-dragging"),this._lastTarget&&(li(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ur(document,"mousemove touchmove",this._onMove,this),Ur(document,"mouseup touchend touchcancel",this._onUp,this),Wn(),Eh();var p=this._moved&&this._moving;this._moving=!1,Oc._dragging=!1,p&&this.fire("dragend",{noInertia:c,distance:this._newPos.distanceTo(this._startPos)})}});function Th(c,p,C){var E,$,Te,ct,vt,Ht,pn,Xn,vi,T=[1,4,2,8];for($=0,pn=c.length;$<pn;$++)c[$]._code=Au(c[$],p);for(ct=0;ct<4;ct++){for(Xn=T[ct],E=[],$=0,Te=(pn=c.length)-1;$<pn;Te=$++)Ht=c[Te],(vt=c[$])._code&Xn?Ht._code&Xn||((vi=Lh(Ht,vt,Xn,p,C))._code=Au(vi,p),E.push(vi)):(Ht._code&Xn&&((vi=Lh(Ht,vt,Xn,p,C))._code=Au(vi,p),E.push(vi)),E.push(vt));c=E}return c}function Hi(c,p){var C,E,T,$,Te,ct,vt,Ht;if(!c||0===c.length)throw new Error("latlngs not passed");ta(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var Xn=zn([0,0]),vi=qt(c);vi.getNorthWest().distanceTo(vi.getSouthWest())*vi.getNorthEast().distanceTo(vi.getNorthWest())<1700&&(Xn=ad(c));var Eo=c.length,Qs=[];for(C=0;C<Eo;C++){var ia=zn(c[C]);Qs.push(p.project(zn([ia.lat-Xn.lat,ia.lng-Xn.lng])))}for(ct=vt=Ht=0,C=0,E=Eo-1;C<Eo;E=C++)vt+=((T=Qs[C]).x+($=Qs[E]).x)*(Te=T.y*$.x-$.y*T.x),Ht+=(T.y+$.y)*Te,ct+=3*Te;var Lc=p.unproject(Je(0===ct?Qs[0]:[vt/ct,Ht/ct]));return zn([Lc.lat+Xn.lat,Lc.lng+Xn.lng])}function ad(c){for(var p=0,C=0,E=0,T=0;T<c.length;T++){var $=zn(c[T]);p+=$.lat,C+=$.lng,E++}return zn([p/E,C/E])}var ld,lm={__proto__:null,clipPolygon:Th,polygonCenter:Hi,centroid:ad};function Ns(c,p){if(!p||!c.length)return c.slice();var C=p*p;return function gp(c,p){var C=c.length,T=new(typeof Uint8Array<"u"?Uint8Array:Array)(C);T[0]=T[C-1]=1,uu(c,T,p,0,C-1);var $,Te=[];for($=0;$<C;$++)T[$]&&Te.push(c[$]);return Te}(c=function mp(c,p){for(var C=[c[0]],E=1,T=0,$=c.length;E<$;E++)um(c[E],c[T])>p&&(C.push(c[E]),T=E);return T<$-1&&C.push(c[$-1]),C}(c,C),C)}function pp(c,p,C){return Math.sqrt(Dl(c,p,C,!0))}function uu(c,p,C,E,T){var Te,ct,vt,$=0;for(ct=E+1;ct<=T-1;ct++)(vt=Dl(c[ct],c[E],c[T],!0))>$&&(Te=ct,$=vt);$>C&&(p[Te]=1,uu(c,p,C,E,Te),uu(c,p,C,Te,T))}function cm(c,p,C,E,T){var ct,vt,Ht,$=E?ld:Au(c,C),Te=Au(p,C);for(ld=Te;;){if(!($|Te))return[c,p];if($&Te)return!1;Ht=Au(vt=Lh(c,p,ct=$||Te,C,T),C),ct===$?(c=vt,$=Ht):(p=vt,Te=Ht)}}function Lh(c,p,C,E,T){var Ht,pn,$=p.x-c.x,Te=p.y-c.y,ct=E.min,vt=E.max;return 8&C?(Ht=c.x+$*(vt.y-c.y)/Te,pn=vt.y):4&C?(Ht=c.x+$*(ct.y-c.y)/Te,pn=ct.y):2&C?(Ht=vt.x,pn=c.y+Te*(vt.x-c.x)/$):1&C&&(Ht=ct.x,pn=c.y+Te*(ct.x-c.x)/$),new Dt(Ht,pn,T)}function Au(c,p){var C=0;return c.x<p.min.x?C|=1:c.x>p.max.x&&(C|=2),c.y<p.min.y?C|=4:c.y>p.max.y&&(C|=8),C}function um(c,p){var C=p.x-c.x,E=p.y-c.y;return C*C+E*E}function Dl(c,p,C,E){var Ht,T=p.x,$=p.y,Te=C.x-T,ct=C.y-$,vt=Te*Te+ct*ct;return vt>0&&((Ht=((c.x-T)*Te+(c.y-$)*ct)/vt)>1?(T=C.x,$=C.y):Ht>0&&(T+=Te*Ht,$+=ct*Ht)),Te=c.x-T,ct=c.y-$,E?Te*Te+ct*ct:new Dt(T,$)}function ta(c){return!st(c[0])||"object"!=typeof c[0][0]&&typeof c[0][0]<"u"}function Sl(c){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ta(c)}function vp(c,p){var C,E,T,$,Te,ct,vt,Ht;if(!c||0===c.length)throw new Error("latlngs not passed");ta(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var pn=zn([0,0]),Xn=qt(c);Xn.getNorthWest().distanceTo(Xn.getSouthWest())*Xn.getNorthEast().distanceTo(Xn.getNorthWest())<1700&&(pn=ad(c));var Us=c.length,Eo=[];for(C=0;C<Us;C++){var Qs=zn(c[C]);Eo.push(p.project(zn([Qs.lat-pn.lat,Qs.lng-pn.lng])))}for(C=0,E=0;C<Us-1;C++)E+=Eo[C].distanceTo(Eo[C+1])/2;if(0===E)Ht=Eo[0];else for(C=0,$=0;C<Us-1;C++)if(($+=T=(Te=Eo[C]).distanceTo(ct=Eo[C+1]))>E){Ht=[ct.x-(vt=($-E)/T)*(ct.x-Te.x),ct.y-vt*(ct.y-Te.y)];break}var ia=p.unproject(Je(Ht));return zn([ia.lat+pn.lat,ia.lng+pn.lng])}var cn={__proto__:null,simplify:Ns,pointToSegmentDistance:pp,closestPointOnSegment:function Yb(c,p,C){return Dl(c,p,C)},clipSegment:cm,_getEdgeIntersection:Lh,_getBitCode:Au,_sqClosestPointOnSegment:Dl,isFlat:ta,_flat:Sl,polylineCenter:vp},Yl={project:function(c){return new Dt(c.lng,c.lat)},unproject:function(c){return new ei(c.y,c.x)},bounds:new at([-180,-90],[180,90])},Mt={R:6378137,R_MINOR:6356752.314245179,bounds:new at([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(c){var p=Math.PI/180,C=this.R,E=c.lat*p,T=this.R_MINOR/C,$=Math.sqrt(1-T*T),Te=$*Math.sin(E),ct=Math.tan(Math.PI/4-E/2)/Math.pow((1-Te)/(1+Te),$/2);return E=-C*Math.log(Math.max(ct,1e-10)),new Dt(c.lng*p*C,E)},unproject:function(c){for(var Ht,p=180/Math.PI,C=this.R,E=this.R_MINOR/C,T=Math.sqrt(1-E*E),$=Math.exp(-c.y/C),Te=Math.PI/2-2*Math.atan($),ct=0,vt=.1;ct<15&&Math.abs(vt)>1e-7;ct++)Ht=T*Math.sin(Te),Ht=Math.pow((1-Ht)/(1+Ht),T/2),Te+=vt=Math.PI/2-2*Math.atan($*Ht)-Te;return new ei(Te*p,c.x*p/C)}},Nh={__proto__:null,LonLat:Yl,Mercator:Mt,SphericalMercator:Vr},cd=ue({},Pi,{code:"EPSG:3395",projection:Mt,transformation:function(){var c=.5/(Math.PI*Mt.R);return Jo(c,.5,-c,.5)}()}),du=ue({},Pi,{code:"EPSG:4326",projection:Yl,transformation:Jo(1/180,1,-1/180,.5)}),lA=ue({},wi,{projection:Yl,transformation:Jo(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},distance:function(c,p){var C=p.lng-c.lng,E=p.lat-c.lat;return Math.sqrt(C*C+E*E)},infinite:!0});wi.Earth=Pi,wi.EPSG3395=cd,wi.EPSG3857=Q,wi.EPSG900913=bt,wi.EPSG4326=du,wi.Simple=lA;var Do=gi.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){return c.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){return c&&c.removeLayer(this),this},getPane:function(c){return this._map.getPane(c?this.options[c]||c:this.options.pane)},addInteractiveTarget:function(c){return this._map._targets[xe(c)]=this,this},removeInteractiveTarget:function(c){return delete this._map._targets[xe(c)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var p=c.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var C=this.getEvents();p.on(C,this),this.once("remove",function(){p.off(C,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});Qi.include({addLayer:function(c){if(!c._layerAdd)throw new Error("The provided object is not a Layer.");var p=xe(c);return this._layers[p]||(this._layers[p]=c,c._mapToAdd=this,c.beforeAdd&&c.beforeAdd(this),this.whenReady(c._layerAdd,c)),this},removeLayer:function(c){var p=xe(c);return this._layers[p]?(this._loaded&&c.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove")),c._map=c._mapToAdd=null,this):this},hasLayer:function(c){return xe(c)in this._layers},eachLayer:function(c,p){for(var C in this._layers)c.call(p,this._layers[C]);return this},_addLayers:function(c){for(var p=0,C=(c=c?st(c)?c:[c]:[]).length;p<C;p++)this.addLayer(c[p])},_addZoomLimit:function(c){(!isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))&&(this._zoomBoundLayers[xe(c)]=c,this._updateZoomLevels())},_removeZoomLimit:function(c){var p=xe(c);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var c=1/0,p=-1/0,C=this._getZoomSpan();for(var E in this._zoomBoundLayers){var T=this._zoomBoundLayers[E].options;c=void 0===T.minZoom?c:Math.min(c,T.minZoom),p=void 0===T.maxZoom?p:Math.max(p,T.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=c===1/0?void 0:c,C!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var cA=Do.extend({initialize:function(c,p){var C,E;if(fe(this,p),this._layers={},c)for(C=0,E=c.length;C<E;C++)this.addLayer(c[C])},addLayer:function(c){var p=this.getLayerId(c);return this._layers[p]=c,this._map&&this._map.addLayer(c),this},removeLayer:function(c){var p=c in this._layers?c:this.getLayerId(c);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(c){return("number"==typeof c?c:this.getLayerId(c))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var C,E,p=Array.prototype.slice.call(arguments,1);for(C in this._layers)(E=this._layers[C])[c]&&E[c].apply(E,p);return this},onAdd:function(c){this.eachLayer(c.addLayer,c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,p){for(var C in this._layers)c.call(p,this._layers[C]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];return this.eachLayer(c.push,c),c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return xe(c)}}),fr=cA.extend({addLayer:function(c){return this.hasLayer(c)?this:(c.addEventParent(this),cA.prototype.addLayer.call(this,c),this.fire("layeradd",{layer:c}))},removeLayer:function(c){return this.hasLayer(c)?(c in this._layers&&(c=this._layers[c]),c.removeEventParent(this),cA.prototype.removeLayer.call(this,c),this.fire("layerremove",{layer:c})):this},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new ln;for(var p in this._layers){var C=this._layers[p];c.extend(C.getBounds?C.getBounds():C.getLatLng())}return c}}),Gr=Nt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(c){fe(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,p){var C=this._getIconUrl(c);if(!C){if("icon"===c)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(C,p&&"IMG"===p.tagName?p:null);return this._setIconStyles(E,c),(this.options.crossOrigin||""===this.options.crossOrigin)&&(E.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),E},_setIconStyles:function(c,p){var C=this.options,E=C[p+"Size"];"number"==typeof E&&(E=[E,E]);var T=Je(E),$=Je("shadow"===p&&C.shadowAnchor||C.iconAnchor||T&&T.divideBy(2,!0));c.className="leaflet-marker-"+p+" "+(C.className||""),$&&(c.style.marginLeft=-$.x+"px",c.style.marginTop=-$.y+"px"),T&&(c.style.width=T.x+"px",c.style.height=T.y+"px")},_createImg:function(c,p){return(p=p||document.createElement("img")).src=c,p},_getIconUrl:function(c){return dn.retina&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}});var zo=Gr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){return"string"!=typeof zo.imagePath&&(zo.imagePath=this._detectIconPath()),(this.options.imagePath||zo.imagePath)+Gr.prototype._getIconUrl.call(this,c)},_stripUrl:function(c){var p=function(C,E,T){var $=E.exec(C);return $&&$[T]};return(c=p(c,/^url\((['"])?(.+)\1\)$/,2))&&p(c,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var c=Yn("div","leaflet-default-icon-path",document.body),p=Kl(c,"background-image")||Kl(c,"backgroundImage");if(document.body.removeChild(c),p=this._stripUrl(p))return p;var C=document.querySelector('link[href$="leaflet.css"]');return C?C.href.substring(0,C.href.length-11-1):""}}),uA=Bl.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new Oc(c,c,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ci(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&li(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var p=this._marker,C=p._map,E=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,$=oA(p._icon),Te=C.getPixelBounds(),ct=C.getPixelOrigin(),vt=bn(Te.min._subtract(ct).add(T),Te.max._subtract(ct).subtract(T));if(!vt.contains($)){var Ht=Je((Math.max(vt.max.x,$.x)-vt.max.x)/(Te.max.x-vt.max.x)-(Math.min(vt.min.x,$.x)-vt.min.x)/(Te.min.x-vt.min.x),(Math.max(vt.max.y,$.y)-vt.max.y)/(Te.max.y-vt.max.y)-(Math.min(vt.min.y,$.y)-vt.min.y)/(Te.min.y-vt.min.y)).multiplyBy(E);C.panBy(Ht,{animate:!1}),this._draggable._newPos._add(Ht),this._draggable._startPos._add(Ht),Ro(p._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=Oe(this._adjustPan.bind(this,c))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(Bt(this._panRequest),this._panRequest=Oe(this._adjustPan.bind(this,c)))},_onDrag:function(c){var p=this._marker,C=p._shadow,E=oA(p._icon),T=p._map.layerPointToLatLng(E);C&&Ro(C,E),p._latlng=T,c.latlng=T,c.oldLatLng=this._oldLatLng,p.fire("move",c).fire("drag",c)},_onDragEnd:function(c){Bt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",c)}}),Di=Do.extend({options:{icon:new zo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,p){fe(this,p),this._latlng=zn(c)},onAdd:function(c){this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation,this._zoomAnimated&&c.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(c){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var p=this._latlng;return this._latlng=zn(c),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(c){return this.options.zIndexOffset=c,this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){return this.options.icon=c,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),C=c.icon.createIcon(this._icon),E=!1;C!==this._icon&&(this._icon&&this._removeIcon(),E=!0,c.title&&(C.title=c.title),"IMG"===C.tagName&&(C.alt=c.alt||"")),Ci(C,p),c.keyboard&&(C.tabIndex="0",C.setAttribute("role","button")),this._icon=C,c.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jn(C,"focus",this._panOnFocus,this);var T=c.icon.createShadow(this._shadow),$=!1;T!==this._shadow&&(this._removeShadow(),$=!0),T&&(Ci(T,p),T.alt=""),this._shadow=T,c.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&$&&this.getPane(c.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ur(this._icon,"focus",this._panOnFocus,this),jr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&jr(this._shadow),this._shadow=null},_setPos:function(c){this._icon&&Ro(this._icon,c),this._shadow&&Ro(this._shadow,c),this._zIndex=c.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){var p=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(Ci(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),uA)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable()),this.dragging=new uA(this),c&&this.dragging.enable()}},setOpacity:function(c){return this.options.opacity=c,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var c=this.options.opacity;this._icon&&el(this._icon,c),this._shadow&&el(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var c=this._map;if(c){var p=this.options.icon.options,C=p.iconSize?Je(p.iconSize):Je(0,0),E=p.iconAnchor?Je(p.iconAnchor):Je(0,0);c.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:C.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var El=Do.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(c){return fe(this,c),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fc=El.extend({options:{fill:!0,radius:10},initialize:function(c,p){fe(this,p),this._latlng=zn(c),this._radius=this.options.radius},setLatLng:function(c){var p=this._latlng;return this._latlng=zn(c),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){return this.options.radius=this._radius=c,this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var p=c&&c.radius||this._radius;return El.prototype.setStyle.call(this,c),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var c=this._radius,p=this._radiusY||c,C=this._clickTolerance(),E=[c+C,p+C];this._pxBounds=new at(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Tc=Fc.extend({initialize:function(c,p,C){if("number"==typeof p&&(p=ue({},C,{radius:p})),fe(this,p),this._latlng=zn(c),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){return this._mRadius=c,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new ln(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:El.prototype.setStyle,_project:function(){var c=this._latlng.lng,p=this._latlng.lat,C=this._map,E=C.options.crs;if(E.distance===Pi.distance){var T=Math.PI/180,$=this._mRadius/Pi.R/T,Te=C.project([p+$,c]),ct=C.project([p-$,c]),vt=Te.add(ct).divideBy(2),Ht=C.unproject(vt).lat,pn=Math.acos((Math.cos($*T)-Math.sin(p*T)*Math.sin(Ht*T))/(Math.cos(p*T)*Math.cos(Ht*T)))/T;(isNaN(pn)||0===pn)&&(pn=$/Math.cos(Math.PI/180*p)),this._point=vt.subtract(C.getPixelOrigin()),this._radius=isNaN(pn)?0:vt.x-C.project([Ht,c-pn]).x,this._radiusY=vt.y-Te.y}else{var Xn=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=C.latLngToLayerPoint(this._latlng),this._radius=this._point.x-C.latLngToLayerPoint(Xn).x}this._updateBounds()}});var tl=El.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,p){fe(this,p),this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){return this._setLatLngs(c),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var T,$,p=1/0,C=null,E=Dl,Te=0,ct=this._parts.length;Te<ct;Te++)for(var vt=this._parts[Te],Ht=1,pn=vt.length;Ht<pn;Ht++){var Xn=E(c,T=vt[Ht-1],$=vt[Ht],!0);Xn<p&&(p=Xn,C=E(c,T,$))}return C&&(C.distance=Math.sqrt(p)),C},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(c,p){return p=p||this._defaultShape(),c=zn(c),p.push(c),this._bounds.extend(c),this.redraw()},_setLatLngs:function(c){this._bounds=new ln,this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return ta(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var p=[],C=ta(c),E=0,T=c.length;E<T;E++)C?(p[E]=zn(c[E]),this._bounds.extend(p[E])):p[E]=this._convertLatLngs(c[E]);return p},_project:function(){var c=new at;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,c),this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance(),p=new Dt(c,c);this._rawPxBounds&&(this._pxBounds=new at([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(c,p,C){var $,Te,T=c.length;if(c[0]instanceof ei){for(Te=[],$=0;$<T;$++)Te[$]=this._map.latLngToLayerPoint(c[$]),C.extend(Te[$]);p.push(Te)}else for($=0;$<T;$++)this._projectLatlngs(c[$],p,C)},_clipPoints:function(){var c=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(c)){if(this.options.noClip)return void(this._parts=this._rings);var C,E,T,$,Te,ct,vt,p=this._parts;for(C=0,T=0,$=this._rings.length;C<$;C++)for(E=0,Te=(vt=this._rings[C]).length;E<Te-1;E++)(ct=cm(vt[E],vt[E+1],c,E,!0))&&(p[T]=p[T]||[],p[T].push(ct[0]),(ct[1]!==vt[E+1]||E===Te-2)&&(p[T].push(ct[1]),T++))}},_simplifyPoints:function(){for(var c=this._parts,p=this.options.smoothFactor,C=0,E=c.length;C<E;C++)c[C]=Ns(c[C],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,p){var C,E,T,$,Te,ct,vt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(C=0,$=this._parts.length;C<$;C++)for(E=0,T=(Te=(ct=this._parts[C]).length)-1;E<Te;T=E++)if((p||0!==E)&&pp(c,ct[T],ct[E])<=vt)return!0;return!1}});tl._flat=Sl;var Kr=tl.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(c){var p=tl.prototype._convertLatLngs.call(this,c),C=p.length;return C>=2&&p[0]instanceof ei&&p[0].equals(p[C-1])&&p.pop(),p},_setLatLngs:function(c){tl.prototype._setLatLngs.call(this,c),ta(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ta(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=this._renderer._bounds,p=this.options.weight,C=new Dt(p,p);if(c=new at(c.min.subtract(C),c.max.add(C)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(c)){if(this.options.noClip)return void(this._parts=this._rings);for(var $,E=0,T=this._rings.length;E<T;E++)($=Th(this._rings[E],c,!0)).length&&this._parts.push($)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var C,E,T,$,Te,ct,vt,Ht,p=!1;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for($=0,vt=this._parts.length;$<vt;$++)for(Te=0,ct=(Ht=(C=this._parts[$]).length)-1;Te<Ht;ct=Te++)(E=C[Te]).y>c.y!=(T=C[ct]).y>c.y&&c.x<(T.x-E.x)*(c.y-E.y)/(T.y-E.y)+E.x&&(p=!p);return p||tl.prototype._containsPoint.call(this,c,!0)}});var pr=fr.extend({initialize:function(c,p){fe(this,p),this._layers={},c&&this.addData(c)},addData:function(c){var C,E,T,p=st(c)?c:c.features;if(p){for(C=0,E=p.length;C<E;C++)((T=p[C]).geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var $=this.options;if($.filter&&!$.filter(c))return this;var Te=Il(c,$);return Te?(Te.feature=Rs(c),Te.defaultOptions=Te.options,this.resetStyle(Te),$.onEachFeature&&$.onEachFeature(c,Te),this.addLayer(Te)):this},resetStyle:function(c){return void 0===c?this.eachLayer(this.resetStyle,this):(c.options=ue({},c.defaultOptions),this._setLayerStyle(c,this.options.style),this)},setStyle:function(c){return this.eachLayer(function(p){this._setLayerStyle(p,c)},this)},_setLayerStyle:function(c,p){c.setStyle&&("function"==typeof p&&(p=p(c.feature)),c.setStyle(p))}});function Il(c,p){var ct,vt,Ht,pn,C="Feature"===c.type?c.geometry:c,E=C?C.coordinates:null,T=[],$=p&&p.pointToLayer,Te=p&&p.coordsToLatLng||ha;if(!E&&!C)return null;switch(C.type){case"Point":return Rh($,c,ct=Te(E),p);case"MultiPoint":for(Ht=0,pn=E.length;Ht<pn;Ht++)ct=Te(E[Ht]),T.push(Rh($,c,ct,p));return new fr(T);case"LineString":case"MultiLineString":return vt=zi(E,"LineString"===C.type?0:1,Te),new tl(vt,p);case"Polygon":case"MultiPolygon":return vt=zi(E,"Polygon"===C.type?1:2,Te),new Kr(vt,p);case"GeometryCollection":for(Ht=0,pn=C.geometries.length;Ht<pn;Ht++){var Xn=Il({geometry:C.geometries[Ht],type:"Feature",properties:c.properties},p);Xn&&T.push(Xn)}return new fr(T);case"FeatureCollection":for(Ht=0,pn=C.features.length;Ht<pn;Ht++){var vi=Il(C.features[Ht],p);vi&&T.push(vi)}return new fr(T);default:throw new Error("Invalid GeoJSON object.")}}function Rh(c,p,C,E){return c?c(p,C):new Di(C,E&&E.markersInheritOptions&&E)}function ha(c){return new ei(c[1],c[0],c[2])}function zi(c,p,C){for(var Te,E=[],T=0,$=c.length;T<$;T++)Te=p?zi(c[T],p-1,C):(C||ha)(c[T]),E.push(Te);return E}function Ol(c,p){return void 0!==(c=zn(c)).alt?[oe(c.lng,p),oe(c.lat,p),oe(c.alt,p)]:[oe(c.lng,p),oe(c.lat,p)]}function Ad(c,p,C,E){for(var T=[],$=0,Te=c.length;$<Te;$++)T.push(p?Ad(c[$],ta(c[$])?0:p-1,C,E):Ol(c[$],E));return!p&&C&&T.length>0&&T.push(T[0].slice()),T}function Ia(c,p){return c.feature?ue({},c.feature,{geometry:p}):Rs(p)}function Rs(c){return"Feature"===c.type||"FeatureCollection"===c.type?c:{type:"Feature",properties:{},geometry:c}}var AA={toGeoJSON:function(c){return Ia(this,{type:"Point",coordinates:Ol(this.getLatLng(),c)})}};function Oa(c,p){return new pr(c,p)}Di.include(AA),Tc.include(AA),Fc.include(AA),tl.include({toGeoJSON:function(c){var p=!ta(this._latlngs);return Ia(this,{type:(p?"Multi":"")+"LineString",coordinates:Ad(this._latlngs,p?1:0,!1,c)})}}),Kr.include({toGeoJSON:function(c){var p=!ta(this._latlngs),C=p&&!ta(this._latlngs[0]),E=Ad(this._latlngs,C?2:p?1:0,!0,c);return p||(E=[E]),Ia(this,{type:(C?"Multi":"")+"Polygon",coordinates:E})}}),cA.include({toMultiPoint:function(c){var p=[];return this.eachLayer(function(C){p.push(C.toGeoJSON(c).geometry.coordinates)}),Ia(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(c){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===p)return this.toMultiPoint(c);var C="GeometryCollection"===p,E=[];return this.eachLayer(function(T){if(T.toGeoJSON){var $=T.toGeoJSON(c);if(C)E.push($.geometry);else{var Te=Rs($);"FeatureCollection"===Te.type?E.push.apply(E,Te.features):E.push(Te)}}}),C?Ia(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});var Ir=Oa,dd=Do.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,p,C){this._url=c,this._bounds=qt(p),fe(this,C)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ci(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){jr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){return this.options.opacity=c,this._image&&this._updateOpacity(),this},setStyle:function(c){return c.opacity&&this.setOpacity(c.opacity),this},bringToFront:function(){return this._map&&Wl(this._image),this},bringToBack:function(){return this._map&&Ji(this._image),this},setUrl:function(c){return this._url=c,this._image&&(this._image.src=c),this},setBounds:function(c){return this._bounds=qt(c),this._map&&this._reset(),this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c="IMG"===this._url.tagName,p=this._image=c?this._url:Yn("img");Ci(p,"leaflet-image-layer"),this._zoomAnimated&&Ci(p,"leaflet-zoom-animated"),this.options.className&&Ci(p,this.options.className),p.onselectstart=Ce,p.onmousemove=Ce,p.onload=X(this.fire,this,"load"),p.onerror=X(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(p.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),c?this._url=p.src:(p.src=this._url,p.alt=this.options.alt)},_animateZoom:function(c){var p=this._map.getZoomScale(c.zoom),C=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;rA(this._image,C,p)},_reset:function(){var c=this._image,p=new at(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),C=p.getSize();Ro(c,p.min),c.style.width=C.x+"px",c.style.height=C.y+"px"},_updateOpacity:function(){el(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)},getCenter:function(){return this._bounds.getCenter()}}),bp=dd.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var c="VIDEO"===this._url.tagName,p=this._image=c?this._url:Yn("video");if(Ci(p,"leaflet-image-layer"),this._zoomAnimated&&Ci(p,"leaflet-zoom-animated"),this.options.className&&Ci(p,this.options.className),p.onselectstart=Ce,p.onmousemove=Ce,p.onloadeddata=X(this.fire,this,"load"),c){for(var C=p.getElementsByTagName("source"),E=[],T=0;T<C.length;T++)E.push(C[T].src);this._url=C.length>0?E:[p.src]}else{st(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var $=0;$<this._url.length;$++){var Te=Yn("source");Te.src=this._url[$],p.appendChild(Te)}}}});var fu=dd.extend({_initImage:function(){var c=this._image=this._url;Ci(c,"leaflet-image-layer"),this._zoomAnimated&&Ci(c,"leaflet-zoom-animated"),this.options.className&&Ci(c,this.options.className),c.onselectstart=Ce,c.onmousemove=Ce}});var il=Do.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(c,p){c&&(c instanceof ei||st(c))?(this._latlng=zn(c),fe(this,p)):(fe(this,c),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(c){return(c=arguments.length?c:this._source._map).hasLayer(this)||c.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(c){return this._map?this.close():(arguments.length?this._source=c:c=this._source,this._prepareOpen(),this.openOn(c._map)),this},onAdd:function(c){this._zoomAnimated=c._zoomAnimated,this._container||this._initLayout(),c._fadeAnimated&&el(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),c._fadeAnimated&&el(this._container,1),this.bringToFront(),this.options.interactive&&(Ci(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(c){c._fadeAnimated?(el(this._container,0),this._removeTimeout=setTimeout(X(jr,void 0,this._container),200)):jr(this._container),this.options.interactive&&(li(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(c){return this._latlng=zn(c),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(c){return this._content=c,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wl(this._container),this},bringToBack:function(){return this._map&&Ji(this._container),this},_prepareOpen:function(c){var p=this._source;if(!p._map)return!1;if(p instanceof fr){p=null;var C=this._source._layers;for(var E in C)if(C[E]._map){p=C[E];break}if(!p)return!1;this._source=p}if(!c)if(p.getCenter)c=p.getCenter();else if(p.getLatLng)c=p.getLatLng();else{if(!p.getBounds)throw new Error("Unable to get source layer LatLng.");c=p.getBounds().getCenter()}return this.setLatLng(c),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var c=this._contentNode,p="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof p)c.innerHTML=p;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),p=Je(this.options.offset),C=this._getAnchor();this._zoomAnimated?Ro(this._container,c.add(C)):p=p.add(c).add(C);var E=this._containerBottom=-p.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=E+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});Qi.include({_initOverlay:function(c,p,C,E){var T=p;return T instanceof c||(T=new c(E).setContent(p)),C&&T.setLatLng(C),T}}),Do.include({_initOverlay:function(c,p,C,E){var T=C;return T instanceof c?(fe(T,E),T._source=this):(T=p&&!E?p:new c(E,this)).setContent(C),T}});var pu=il.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){return!(c=arguments.length?c:this._source._map).hasLayer(this)&&c._popup&&c._popup.options.autoClose&&c.removeLayer(c._popup),c._popup=this,il.prototype.openOn.call(this,c)},onAdd:function(c){il.prototype.onAdd.call(this,c),c.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof El||this._source.on("preclick",xl))},onRemove:function(c){il.prototype.onRemove.call(this,c),c.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof El||this._source.off("preclick",xl))},getEvents:function(){var c=il.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(c.preclick=this.close),this.options.keepInView&&(c.moveend=this._adjustPan),c},_initLayout:function(){var c="leaflet-popup",p=this._container=Yn("div",c+" "+(this.options.className||"")+" leaflet-zoom-animated"),C=this._wrapper=Yn("div",c+"-content-wrapper",p);if(this._contentNode=Yn("div",c+"-content",C),rd(p),id(this._contentNode),jn(p,"contextmenu",xl),this._tipContainer=Yn("div",c+"-tip-container",p),this._tip=Yn("div",c+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=Yn("a",c+"-close-button",p);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',jn(E,"click",function(T){nn(T),this.close()},this)}},_updateLayout:function(){var c=this._contentNode,p=c.style;p.width="",p.whiteSpace="nowrap";var C=c.offsetWidth;C=Math.min(C,this.options.maxWidth),C=Math.max(C,this.options.minWidth),p.width=C+1+"px",p.whiteSpace="",p.height="";var T=this.options.maxHeight,$="leaflet-popup-scrolled";T&&c.offsetHeight>T?(p.height=T+"px",Ci(c,$)):li(c,$),this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){var p=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center),C=this._getAnchor();Ro(this._container,p.add(C))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var c=this._map,p=parseInt(Kl(this._container,"marginBottom"),10)||0,C=this._container.offsetHeight+p,E=this._containerWidth,T=new Dt(this._containerLeft,-C-this._containerBottom);T._add(oA(this._container));var $=c.layerPointToContainerPoint(T),Te=Je(this.options.autoPanPadding),ct=Je(this.options.autoPanPaddingTopLeft||Te),vt=Je(this.options.autoPanPaddingBottomRight||Te),Ht=c.getSize(),pn=0,Xn=0;$.x+E+vt.x>Ht.x&&(pn=$.x+E-Ht.x+vt.x),$.x-pn-ct.x<0&&(pn=$.x-ct.x),$.y+C+vt.y>Ht.y&&(Xn=$.y+C-Ht.y+vt.y),$.y-Xn-ct.y<0&&(Xn=$.y-ct.y),(pn||Xn)&&(this.options.keepInView&&(this._autopanning=!0),c.fire("autopanstart").panBy([pn,Xn]))}},_getAnchor:function(){return Je(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Qi.mergeOptions({closePopupOnClick:!0}),Qi.include({openPopup:function(c,p,C){return this._initOverlay(pu,c,p,C).openOn(this),this},closePopup:function(c){return(c=arguments.length?c:this._popup)&&c.close(),this}}),Do.include({bindPopup:function(c,p){return this._popup=this._initOverlay(pu,this._popup,c,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(c){return this._popup&&(this instanceof fr||(this._popup._source=this),this._popup._prepareOpen(c||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(c){return this._popup&&this._popup.setContent(c),this},getPopup:function(){return this._popup},_openPopup:function(c){if(this._popup&&this._map){$l(c);var p=c.layer||c.target;if(this._popup._source===p&&!(p instanceof El))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(c.latlng));this._popup._source=p,this.openPopup(c.latlng)}},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){13===c.originalEvent.keyCode&&this._openPopup(c)}});var hd=il.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(c){il.prototype.onAdd.call(this,c),this.setOpacity(this.options.opacity),c.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(c){il.prototype.onRemove.call(this,c),c.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var c=il.prototype.getEvents.call(this);return this.options.permanent||(c.preclick=this.close),c},_initLayout:function(){this._contentNode=this._container=Yn("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+xe(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(c){var p,C,E=this._map,T=this._container,$=E.latLngToContainerPoint(E.getCenter()),Te=E.layerPointToContainerPoint(c),ct=this.options.direction,vt=T.offsetWidth,Ht=T.offsetHeight,pn=Je(this.options.offset),Xn=this._getAnchor();"top"===ct?(p=vt/2,C=Ht):"bottom"===ct?(p=vt/2,C=0):"center"===ct?(p=vt/2,C=Ht/2):"right"===ct?(p=0,C=Ht/2):"left"===ct?(p=vt,C=Ht/2):Te.x<$.x?(ct="right",p=0,C=Ht/2):(ct="left",p=vt+2*(pn.x+Xn.x),C=Ht/2),c=c.subtract(Je(p,C,!0)).add(pn).add(Xn),li(T,"leaflet-tooltip-right"),li(T,"leaflet-tooltip-left"),li(T,"leaflet-tooltip-top"),li(T,"leaflet-tooltip-bottom"),Ci(T,"leaflet-tooltip-"+ct),Ro(T,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c,this._container&&el(this._container,c)},_animateZoom:function(c){var p=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(p)},_getAnchor:function(){return Je(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Qi.include({openTooltip:function(c,p,C){return this._initOverlay(hd,c,p,C).openOn(this),this},closeTooltip:function(c){return c.close(),this}}),Do.include({bindTooltip:function(c,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hd,this._tooltip,c,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(c){if(c||!this._tooltipHandlersAdded){var p=c?"off":"on",C={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?C.add=this._openTooltip:(C.mouseover=this._openTooltip,C.mouseout=this.closeTooltip,C.click=this._openTooltip,this._map?this._addFocusListeners():C.add=this._addFocusListeners),this._tooltip.options.sticky&&(C.mousemove=this._moveTooltip),this[p](C),this._tooltipHandlersAdded=!c}},openTooltip:function(c){return this._tooltip&&(this instanceof fr||(this._tooltip._source=this),this._tooltip._prepareOpen(c)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){return this._tooltip&&this._tooltip.setContent(c),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(c){var p="function"==typeof c.getElement&&c.getElement();p&&(jn(p,"focus",function(){this._tooltip._source=c,this.openTooltip()},this),jn(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(c){var p="function"==typeof c.getElement&&c.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(c){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;return void this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(c)})}this._tooltip._source=c.layer||c.target,this.openTooltip(this._tooltip.options.sticky?c.latlng:void 0)}},_moveTooltip:function(c){var C,E,p=c.latlng;this._tooltip.options.sticky&&c.originalEvent&&(C=this._map.mouseEventToContainerPoint(c.originalEvent),E=this._map.containerPointToLayerPoint(C),p=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(p)}});var fa=Gr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var p=c&&"DIV"===c.tagName?c:document.createElement("div"),C=this.options;if(C.html instanceof Element?(up(p),p.appendChild(C.html)):p.innerHTML=!1!==C.html?C.html:"",C.bgPos){var E=Je(C.bgPos);p.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});Gr.Default=zo;var gu=Do.extend({options:{tileSize:256,opacity:1,updateWhenIdle:dn.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){fe(this,c)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles(),jr(this._container),c._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wl(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ji(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(c){return this.options.opacity=c,this._updateOpacity(),this},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var c=this._clampZoom(this._map.getZoom());c!==this._tileZoom&&(this._tileZoom=c,this._updateLevels()),this._update()}return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Pe(this._onMoveEnd,this.options.updateInterval,this)),c.move=this._onMove),this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof Dt?c:new Dt(c,c)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var $,p=this.getPane().children,C=-c(-1/0,1/0),E=0,T=p.length;E<T;E++)$=p[E].style.zIndex,p[E]!==this._container&&$&&(C=c(C,+$));isFinite(C)&&(this.options.zIndex=C+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!dn.ielt9){el(this._container,this.options.opacity);var c=+new Date,p=!1,C=!1;for(var E in this._tiles){var T=this._tiles[E];if(T.current&&T.loaded){var $=Math.min(1,(c-T.loaded)/200);el(T.el,$),$<1?p=!0:(T.active?C=!0:this._onOpaqueTile(T),T.active=!0)}}C&&!this._noPrune&&this._pruneTiles(),p&&(Bt(this._fadeFrame),this._fadeFrame=Oe(this._updateOpacity,this))}},_onOpaqueTile:Ce,_initContainer:function(){this._container||(this._container=Yn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,p=this.options.maxZoom;if(void 0!==c){for(var C in this._levels)C=Number(C),this._levels[C].el.children.length||C===c?(this._levels[C].el.style.zIndex=p-Math.abs(c-C),this._onUpdateLevel(C)):(jr(this._levels[C].el),this._removeTilesAtZoom(C),this._onRemoveLevel(C),delete this._levels[C]);var E=this._levels[c],T=this._map;return E||((E=this._levels[c]={}).el=Yn("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=p,E.origin=T.project(T.unproject(T.getPixelOrigin()),c).round(),E.zoom=c,this._setZoomTransform(E,T.getCenter(),T.getZoom()),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:Ce,_onRemoveLevel:Ce,_onCreateLevel:Ce,_pruneTiles:function(){if(this._map){var c,p,C=this._map.getZoom();if(C>this.options.maxZoom||C<this.options.minZoom)return void this._removeAllTiles();for(c in this._tiles)(p=this._tiles[c]).retain=p.current;for(c in this._tiles)if((p=this._tiles[c]).current&&!p.active){var E=p.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}},_removeTilesAtZoom:function(c){for(var p in this._tiles)this._tiles[p].coords.z===c&&this._removeTile(p)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},_invalidateAll:function(){for(var c in this._levels)jr(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(c,p,C,E){var T=Math.floor(c/2),$=Math.floor(p/2),Te=C-1,ct=new Dt(+T,+$);ct.z=+Te;var vt=this._tileCoordsToKey(ct),Ht=this._tiles[vt];return Ht&&Ht.active?(Ht.retain=!0,!0):(Ht&&Ht.loaded&&(Ht.retain=!0),Te>E&&this._retainParent(T,$,Te,E))},_retainChildren:function(c,p,C,E){for(var T=2*c;T<2*c+2;T++)for(var $=2*p;$<2*p+2;$++){var Te=new Dt(T,$);Te.z=C+1;var ct=this._tileCoordsToKey(Te),vt=this._tiles[ct];vt&&vt.active?vt.retain=!0:(vt&&vt.loaded&&(vt.retain=!0),C+1<E&&this._retainChildren(T,$,C+1,E))}},_resetView:function(c){var p=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var p=this.options;return void 0!==p.minNativeZoom&&c<p.minNativeZoom?p.minNativeZoom:void 0!==p.maxNativeZoom&&p.maxNativeZoom<c?p.maxNativeZoom:c},_setView:function(c,p,C,E){var T=Math.round(p);T=void 0!==this.options.maxZoom&&T>this.options.maxZoom||void 0!==this.options.minZoom&&T<this.options.minZoom?void 0:this._clampZoom(T),(!E||this.options.updateWhenZooming&&T!==this._tileZoom)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==T&&this._update(c),C||this._pruneTiles(),this._noPrune=!!C),this._setZoomTransforms(c,p)},_setZoomTransforms:function(c,p){for(var C in this._levels)this._setZoomTransform(this._levels[C],c,p)},_setZoomTransform:function(c,p,C){var E=this._map.getZoomScale(C,c.zoom),T=c.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(p,C)).round();dn.any3d?rA(c.el,T,E):Ro(c.el,T)},_resetGrid:function(){var c=this._map,p=c.options.crs,C=this._tileSize=this.getTileSize(),E=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(c.project([0,p.wrapLng[0]],E).x/C.x),Math.ceil(c.project([0,p.wrapLng[1]],E).x/C.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([p.wrapLat[0],0],E).y/C.x),Math.ceil(c.project([p.wrapLat[1],0],E).y/C.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(c){var p=this._map,C=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),E=p.getZoomScale(C,this._tileZoom),T=p.project(c,this._tileZoom).floor(),$=p.getSize().divideBy(2*E);return new at(T.subtract($),T.add($))},_update:function(c){var p=this._map;if(p){var C=this._clampZoom(p.getZoom());if(void 0===c&&(c=p.getCenter()),void 0!==this._tileZoom){var E=this._getTiledPixelBounds(c),T=this._pxBoundsToTileRange(E),$=T.getCenter(),Te=[],ct=this.options.keepBuffer,vt=new at(T.getBottomLeft().subtract([ct,-ct]),T.getTopRight().add([ct,-ct]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ht in this._tiles){var pn=this._tiles[Ht].coords;(pn.z!==this._tileZoom||!vt.contains(new Dt(pn.x,pn.y)))&&(this._tiles[Ht].current=!1)}if(Math.abs(C-this._tileZoom)>1)return void this._setView(c,C);for(var Xn=T.min.y;Xn<=T.max.y;Xn++)for(var vi=T.min.x;vi<=T.max.x;vi++){var Us=new Dt(vi,Xn);if(Us.z=this._tileZoom,this._isValidTile(Us)){var Eo=this._tiles[this._tileCoordsToKey(Us)];Eo?Eo.current=!0:Te.push(Us)}}if(Te.sort(function(ia,Lc){return ia.distanceTo($)-Lc.distanceTo($)}),0!==Te.length){this._loading||(this._loading=!0,this.fire("loading"));var Qs=document.createDocumentFragment();for(vi=0;vi<Te.length;vi++)this._addTile(Te[vi],Qs);this._level.el.appendChild(Qs)}}}},_isValidTile:function(c){var p=this._map.options.crs;if(!p.infinite){var C=this._globalTileRange;if(!p.wrapLng&&(c.x<C.min.x||c.x>C.max.x)||!p.wrapLat&&(c.y<C.min.y||c.y>C.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(c);return qt(this.options.bounds).overlaps(E)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},_tileCoordsToNwSe:function(c){var p=this._map,C=this.getTileSize(),E=c.scaleBy(C),T=E.add(C);return[p.unproject(E,c.z),p.unproject(T,c.z)]},_tileCoordsToBounds:function(c){var p=this._tileCoordsToNwSe(c),C=new ln(p[0],p[1]);return this.options.noWrap||(C=this._map.wrapLatLngBounds(C)),C},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){var p=c.split(":"),C=new Dt(+p[0],+p[1]);return C.z=+p[2],C},_removeTile:function(c){var p=this._tiles[c];p&&(jr(p.el),delete this._tiles[c],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){Ci(c,"leaflet-tile");var p=this.getTileSize();c.style.width=p.x+"px",c.style.height=p.y+"px",c.onselectstart=Ce,c.onmousemove=Ce,dn.ielt9&&this.options.opacity<1&&el(c,this.options.opacity)},_addTile:function(c,p){var C=this._getTilePos(c),E=this._tileCoordsToKey(c),T=this.createTile(this._wrapCoords(c),X(this._tileReady,this,c));this._initTile(T),this.createTile.length<2&&Oe(X(this._tileReady,this,c,null,T)),Ro(T,C),this._tiles[E]={el:T,coords:c,current:!0},p.appendChild(T),this.fire("tileloadstart",{tile:T,coords:c})},_tileReady:function(c,p,C){p&&this.fire("tileerror",{error:p,tile:C,coords:c});var E=this._tileCoordsToKey(c);(C=this._tiles[E])&&(C.loaded=+new Date,this._map._fadeAnimated?(el(C.el,0),Bt(this._fadeFrame),this._fadeFrame=Oe(this._updateOpacity,this)):(C.active=!0,this._pruneTiles()),p||(Ci(C.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:C.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),dn.ielt9||!this._map._fadeAnimated?Oe(this._pruneTiles,this):setTimeout(X(this._pruneTiles,this),250)))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var p=new Dt(this._wrapX?Ne(c.x,this._wrapX):c.x,this._wrapY?Ne(c.y,this._wrapY):c.y);return p.z=c.z,p},_pxBoundsToTileRange:function(c){var p=this.getTileSize();return new at(c.min.unscaleBy(p).floor(),c.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}});var mu=gu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(c,p){this._url=c,(p=fe(this,p)).detectRetina&&dn.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),"string"==typeof p.subdomains&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(c,p){return this._url===c&&void 0===p&&(p=!0),this._url=c,p||this.redraw(),this},createTile:function(c,p){var C=document.createElement("img");return jn(C,"load",X(this._tileOnLoad,this,p,C)),jn(C,"error",X(this._tileOnError,this,p,C)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(C.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(C.referrerPolicy=this.options.referrerPolicy),C.alt="",C.src=this.getTileUrl(c),C},getTileUrl:function(c){var p={r:dn.retina?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var C=this._globalTileRange.max.y-c.y;this.options.tms&&(p.y=C),p["-y"]=C}return Ze(this._url,ue(p,this.options))},_tileOnLoad:function(c,p){dn.ielt9?setTimeout(X(c,this,null,p),0):c(null,p)},_tileOnError:function(c,p,C){var E=this.options.errorTileUrl;E&&p.getAttribute("src")!==E&&(p.src=E),c(C,p)},_onTileRemove:function(c){c.tile.onload=null},_getZoomForUrl:function(){var c=this._tileZoom;return this.options.zoomReverse&&(c=this.options.maxZoom-c),c+this.options.zoomOffset},_getSubdomain:function(c){var p=Math.abs(c.x+c.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var c,p;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom&&((p=this._tiles[c].el).onload=Ce,p.onerror=Ce,!p.complete)){p.src=Lt;var C=this._tiles[c].coords;jr(p),delete this._tiles[c],this.fire("tileabort",{tile:p,coords:C})}},_removeTile:function(c){var p=this._tiles[c];if(p)return p.el.setAttribute("src",Lt),gu.prototype._removeTile.call(this,c)},_tileReady:function(c,p,C){if(this._map&&(!C||C.getAttribute("src")!==Lt))return gu.prototype._tileReady.call(this,c,p,C)}});function Cp(c,p){return new mu(c,p)}var gm=mu.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(c,p){this._url=c;var C=ue({},this.defaultWmsParams);for(var E in p)E in this.options||(C[E]=p[E]);var T=(p=fe(this,p)).detectRetina&&dn.retina?2:1,$=this.getTileSize();C.width=$.x*T,C.height=$.y*T,this.wmsParams=C},onAdd:function(c){this._crs=this.options.crs||c.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,mu.prototype.onAdd.call(this,c)},getTileUrl:function(c){var p=this._tileCoordsToNwSe(c),C=this._crs,E=bn(C.project(p[0]),C.project(p[1])),T=E.min,$=E.max,Te=(this._wmsVersion>=1.3&&this._crs===du?[T.y,T.x,$.y,$.x]:[T.x,T.y,$.x,$.y]).join(","),ct=mu.prototype.getTileUrl.call(this,c);return ct+de(this.wmsParams,ct,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Te},setParams:function(c,p){return ue(this.wmsParams,c),p||this.redraw(),this}});mu.WMS=gm,Cp.wms=function fd(c,p){return new gm(c,p)};var Xl=Do.extend({options:{padding:.1},initialize:function(c){fe(this,c),xe(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ci(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(c.zoomanim=this._onAnimZoom),c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,p){var C=this._map.getZoomScale(p,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,p),$=E.multiplyBy(-C).add(T).subtract(this._map._getNewPixelOrigin(c,p));dn.any3d?rA(this._container,$,C):Ro(this._container,$)},_reset:function(){for(var c in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,p=this._map.getSize(),C=this._map.containerPointToLayerPoint(p.multiplyBy(-c)).round();this._bounds=new at(C,C.add(p.multiplyBy(1+2*c)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mm=Xl.extend({options:{tolerance:0},getEvents:function(){var c=Xl.prototype.getEvents.call(this);return c.viewprereset=this._onViewPreReset,c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xl.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");jn(c,"mousemove",this._onMouseMove,this),jn(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this),jn(c,"mouseout",this._handleMouseOut,this),c._leaflet_disable_events=!0,this._ctx=c.getContext("2d")},_destroyContainer:function(){Bt(this._redrawRequest),delete this._ctx,jr(this._container),Ur(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var p in this._redrawBounds=null,this._layers)this._layers[p]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Xl.prototype._update.call(this);var c=this._bounds,p=this._container,C=c.getSize(),E=dn.retina?2:1;Ro(p,c.min),p.width=E*C.x,p.height=E*C.y,p.style.width=C.x+"px",p.style.height=C.y+"px",dn.retina&&this._ctx.scale(2,2),this._ctx.translate(-c.min.x,-c.min.y),this.fire("update")}},_reset:function(){Xl.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c),this._layers[xe(c)]=c;var p=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},_removePath:function(c){var p=c._order,C=p.next,E=p.prev;C?C.prev=E:this._drawLast=E,E?E.next=C:this._drawFirst=C,delete c._order,delete this._layers[xe(c)],this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c),c._project(),c._update(),this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c),this._requestRedraw(c)},_updateDashArray:function(c){if("string"==typeof c.options.dashArray){var E,T,p=c.options.dashArray.split(/[, ]+/),C=[];for(T=0;T<p.length;T++){if(E=Number(p[T]),isNaN(E))return;C.push(E)}c.options._dashArray=C}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||Oe(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var p=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new at,this._redrawBounds.extend(c._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(c._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var p=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c,p=this._redrawBounds;if(this._ctx.save(),p){var C=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,C.x,C.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)c=E.layer,(!p||c._pxBounds&&c._pxBounds.intersects(p))&&c._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(c,p){if(this._drawing){var C,E,T,$,Te=c._parts,ct=Te.length,vt=this._ctx;if(ct){for(vt.beginPath(),C=0;C<ct;C++){for(E=0,T=Te[C].length;E<T;E++)vt[E?"lineTo":"moveTo"](($=Te[C][E]).x,$.y);p&&vt.closePath()}this._fillStroke(vt,c)}}},_updateCircle:function(c){if(this._drawing&&!c._empty()){var p=c._point,C=this._ctx,E=Math.max(Math.round(c._radius),1),T=(Math.max(Math.round(c._radiusY),1)||E)/E;1!==T&&(C.save(),C.scale(1,T)),C.beginPath(),C.arc(p.x,p.y/T,E,0,2*Math.PI,!1),1!==T&&C.restore(),this._fillStroke(C,c)}},_fillStroke:function(c,p){var C=p.options;C.fill&&(c.globalAlpha=C.fillOpacity,c.fillStyle=C.fillColor||C.color,c.fill(C.fillRule||"evenodd")),C.stroke&&0!==C.weight&&(c.setLineDash&&c.setLineDash(p.options&&p.options._dashArray||[]),c.globalAlpha=C.opacity,c.lineWidth=C.weight,c.strokeStyle=C.color,c.lineCap=C.lineCap,c.lineJoin=C.lineJoin,c.stroke())},_onClick:function(c){for(var C,E,p=this._map.mouseEventToLayerPoint(c),T=this._drawFirst;T;T=T.next)(C=T.layer).options.interactive&&C._containsPoint(p)&&("click"!==c.type&&"preclick"!==c.type||!this._map._draggableMoved(C))&&(E=C);this._fireEvent(!!E&&[E],c)},_onMouseMove:function(c){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var p=this._map.mouseEventToLayerPoint(c);this._handleMouseHover(c,p)}},_handleMouseOut:function(c){var p=this._hoveredLayer;p&&(li(this._container,"leaflet-interactive"),this._fireEvent([p],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,p){if(!this._mouseHoverThrottled){for(var C,E,T=this._drawFirst;T;T=T.next)(C=T.layer).options.interactive&&C._containsPoint(p)&&(E=C);E!==this._hoveredLayer&&(this._handleMouseOut(c),E&&(Ci(this._container,"leaflet-interactive"),this._fireEvent([E],c,"mouseover"),this._hoveredLayer=E)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],c),this._mouseHoverThrottled=!0,setTimeout(X(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,p,C){this._map._fireDOMEvent(p,C||p.type,c)},_bringToFront:function(c){var p=c._order;if(p){var C=p.next,E=p.prev;if(!C)return;C.prev=E,E?E.next=C:C&&(this._drawFirst=C),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(c)}},_bringToBack:function(c){var p=c._order;if(p){var C=p.next,E=p.prev;if(!E)return;E.next=C,C?C.prev=E:E&&(this._drawLast=E),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(c)}}});function Uh(c){return dn.canvas?new mm(c):null}var rr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch{}return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),vm={_initContainer:function(){this._container=Yn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xl.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var p=c._container=rr("shape");Ci(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",c._path=rr("path"),p.appendChild(c._path),this._updateStyle(c),this._layers[xe(c)]=c},_addPath:function(c){var p=c._container;this._container.appendChild(p),c.options.interactive&&c.addInteractiveTarget(p)},_removePath:function(c){var p=c._container;jr(p),c.removeInteractiveTarget(p),delete this._layers[xe(c)]},_updateStyle:function(c){var p=c._stroke,C=c._fill,E=c.options,T=c._container;T.stroked=!!E.stroke,T.filled=!!E.fill,E.stroke?(p||(p=c._stroke=rr("stroke")),T.appendChild(p),p.weight=E.weight+"px",p.color=E.color,p.opacity=E.opacity,p.dashStyle=E.dashArray?st(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):"",p.endcap=E.lineCap.replace("butt","flat"),p.joinstyle=E.lineJoin):p&&(T.removeChild(p),c._stroke=null),E.fill?(C||(C=c._fill=rr("fill")),T.appendChild(C),C.color=E.fillColor||E.color,C.opacity=E.fillOpacity):C&&(T.removeChild(C),c._fill=null)},_updateCircle:function(c){var p=c._point.round(),C=Math.round(c._radius),E=Math.round(c._radiusY||C);this._setPath(c,c._empty()?"M0 0":"AL "+p.x+","+p.y+" "+C+","+E+" 0,23592600")},_setPath:function(c,p){c._path.v=p},_bringToFront:function(c){Wl(c._container)},_bringToBack:function(c){Ji(c._container)}},Qh=dn.vml?rr:Ct,ws=Xl.extend({_initContainer:function(){this._container=Qh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Qh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){jr(this._container),Ur(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Xl.prototype._update.call(this);var c=this._bounds,p=c.getSize(),C=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,C.setAttribute("width",p.x),C.setAttribute("height",p.y)),Ro(C,c.min),C.setAttribute("viewBox",[c.min.x,c.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(c){var p=c._path=Qh("path");c.options.className&&Ci(p,c.options.className),c.options.interactive&&Ci(p,"leaflet-interactive"),this._updateStyle(c),this._layers[xe(c)]=c},_addPath:function(c){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(c._path),c.addInteractiveTarget(c._path)},_removePath:function(c){jr(c._path),c.removeInteractiveTarget(c._path),delete this._layers[xe(c)]},_updatePath:function(c){c._project(),c._update()},_updateStyle:function(c){var p=c._path,C=c.options;p&&(C.stroke?(p.setAttribute("stroke",C.color),p.setAttribute("stroke-opacity",C.opacity),p.setAttribute("stroke-width",C.weight),p.setAttribute("stroke-linecap",C.lineCap),p.setAttribute("stroke-linejoin",C.lineJoin),C.dashArray?p.setAttribute("stroke-dasharray",C.dashArray):p.removeAttribute("stroke-dasharray"),C.dashOffset?p.setAttribute("stroke-dashoffset",C.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),C.fill?(p.setAttribute("fill",C.fillColor||C.color),p.setAttribute("fill-opacity",C.fillOpacity),p.setAttribute("fill-rule",C.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(c,p){this._setPath(c,we(c._parts,p))},_updateCircle:function(c){var p=c._point,C=Math.max(Math.round(c._radius),1),T="a"+C+","+(Math.max(Math.round(c._radiusY),1)||C)+" 0 1,0 ",$=c._empty()?"M0 0":"M"+(p.x-C)+","+p.y+T+2*C+",0 "+T+2*-C+",0 ";this._setPath(c,$)},_setPath:function(c,p){c._path.setAttribute("d",p)},_bringToFront:function(c){Wl(c._path)},_bringToBack:function(c){Ji(c._path)}});function xp(c){return dn.svg||dn.vml?new ws(c):null}dn.vml&&ws.include(vm),Qi.include({getRenderer:function(c){var p=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(c){if("overlayPane"===c||void 0===c)return!1;var p=this._paneRenderers[c];return void 0===p&&(p=this._createRenderer({pane:c}),this._paneRenderers[c]=p),p},_createRenderer:function(c){return this.options.preferCanvas&&Uh(c)||xp(c)}});var ri=Kr.extend({initialize:function(c,p){Kr.prototype.initialize.call(this,this._boundsToLatLngs(c),p)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){return[(c=qt(c)).getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});ws.create=Qh,ws.pointsToPath=we,pr.geometryToLayer=Il,pr.coordsToLatLng=ha,pr.coordsToLatLngs=zi,pr.latLngToCoords=Ol,pr.latLngsToCoords=Ad,pr.getFeature=Ia,pr.asFeature=Rs,Qi.mergeOptions({boxZoom:!0});var mi=Bl.extend({initialize:function(c){this._map=c,this._container=c._container,this._pane=c._panes.overlayPane,this._resetStateTimeout=0,c.on("unload",this._destroy,this)},addHooks:function(){jn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ur(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){jr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||1!==c.which&&1!==c.button)return!1;this._clearDeferredResetState(),this._resetState(),Pc(),Fs(),this._startPoint=this._map.mouseEventToContainerPoint(c),jn(document,{contextmenu:$l,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=Yn("div","leaflet-zoom-box",this._container),Ci(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(c);var p=new at(this._point,this._startPoint),C=p.getSize();Ro(this._box,p.min),this._box.style.width=C.x+"px",this._box.style.height=C.y+"px"},_finish:function(){this._moved&&(jr(this._box),li(this._container,"leaflet-crosshair")),Eh(),Wn(),Ur(document,{contextmenu:$l,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if((1===c.which||1===c.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(X(this._resetState,this),0);var p=new ln(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(c){27===c.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qi.addInitHook("addHandler","boxZoom",mi),Qi.mergeOptions({doubleClickZoom:!0});var So=Bl.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var p=this._map,C=p.getZoom(),E=p.options.zoomDelta,T=c.originalEvent.shiftKey?C-E:C+E;"center"===p.options.doubleClickZoom?p.setZoom(T):p.setZoomAround(c.containerPoint,T)}});Qi.addInitHook("addHandler","doubleClickZoom",So),Qi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vo=Bl.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new Oc(c._mapPane,c._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}Ci(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){li(this._map._container,"leaflet-grab"),li(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var c=this._map;if(c._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=qt(this._map.options.maxBounds);this._offsetLimit=bn(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart"),c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var p=this._lastTime=+new Date,C=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(C),this._times.push(p),this._prunePositions(p)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;this._positions.length>1&&c-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(c).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,p){return c-(c-p)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var c=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;c.x<p.min.x&&(c.x=this._viscousLimit(c.x,p.min.x)),c.y<p.min.y&&(c.y=this._viscousLimit(c.y,p.min.y)),c.x>p.max.x&&(c.x=this._viscousLimit(c.x,p.max.x)),c.y>p.max.y&&(c.y=this._viscousLimit(c.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,p=Math.round(c/2),C=this._initialWorldOffset,E=this._draggable._newPos.x,T=(E-p+C)%c+p-C,$=(E+p+C)%c-p-C,Te=Math.abs(T+C)<Math.abs($+C)?T:$;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Te},_onDragEnd:function(c){var p=this._map,C=p.options,E=!C.inertia||c.noInertia||this._times.length<2;if(p.fire("dragend",c),E)p.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),Te=C.easeLinearity,ct=T.multiplyBy(Te/((this._lastTime-this._times[0])/1e3)),vt=ct.distanceTo([0,0]),Ht=Math.min(C.inertiaMaxSpeed,vt),pn=ct.multiplyBy(Ht/vt),Xn=Ht/(C.inertiaDeceleration*Te),vi=pn.multiplyBy(-Xn/2).round();vi.x||vi.y?(vi=p._limitOffset(vi,p.options.maxBounds),Oe(function(){p.panBy(vi,{duration:Xn,easeLinearity:Te,noMoveStart:!0,animate:!0})})):p.fire("moveend")}}});Qi.addInitHook("addHandler","dragging",Vo),Qi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Fa=Bl.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c,this._setPanDelta(c.options.keyboardPanDelta),this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;c.tabIndex<=0&&(c.tabIndex="0"),jn(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ur(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,p=document.documentElement,C=c.scrollTop||p.scrollTop,E=c.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(E,C)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(c){var E,T,p=this._panKeys={},C=this.keyCodes;for(E=0,T=C.left.length;E<T;E++)p[C.left[E]]=[-1*c,0];for(E=0,T=C.right.length;E<T;E++)p[C.right[E]]=[c,0];for(E=0,T=C.down.length;E<T;E++)p[C.down[E]]=[0,c];for(E=0,T=C.up.length;E<T;E++)p[C.up[E]]=[0,-1*c]},_setZoomDelta:function(c){var E,T,p=this._zoomKeys={},C=this.keyCodes;for(E=0,T=C.zoomIn.length;E<T;E++)p[C.zoomIn[E]]=c;for(E=0,T=C.zoomOut.length;E<T;E++)p[C.zoomOut[E]]=-c},_addHooks:function(){jn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ur(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var E,p=c.keyCode,C=this._map;if(p in this._panKeys){if(!C._panAnim||!C._panAnim._inProgress)if(E=this._panKeys[p],c.shiftKey&&(E=Je(E).multiplyBy(3)),C.options.maxBounds&&(E=C._limitOffset(Je(E),C.options.maxBounds)),C.options.worldCopyJump){var T=C.wrapLatLng(C.unproject(C.project(C.getCenter()).add(E)));C.panTo(T)}else C.panBy(E)}else if(p in this._zoomKeys)C.setZoom(C.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[p]);else{if(27!==p||!C._popup||!C._popup.options.closeOnEscapeKey)return;C.closePopup()}$l(c)}}});Qi.addInitHook("addHandler","keyboard",Fa),Qi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ts=Bl.extend({addHooks:function(){jn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ur(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var p=am(c),C=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(c),this._startTime||(this._startTime=+new Date);var E=Math.max(C-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(X(this._performZoom,this),E),$l(c)},_performZoom:function(){var c=this._map,p=c.getZoom(),C=this._map.options.zoomSnap||0;c._stop();var T=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,$=C?Math.ceil(T/C)*C:T,Te=c._limitZoom(p+(this._delta>0?$:-$))-p;this._delta=0,this._startTime=null,Te&&("center"===c.options.scrollWheelZoom?c.setZoom(p+Te):c.setZoomAround(this._lastMousePos,p+Te))}});Qi.addInitHook("addHandler","scrollWheelZoom",ts);Qi.mergeOptions({tapHold:dn.touchNative&&dn.safari&&dn.mobile,tapTolerance:15});var Mp=Bl.extend({addHooks:function(){jn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ur(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(clearTimeout(this._holdTimeout),1===c.touches.length){var p=c.touches[0];this._startPos=this._newPos=new Dt(p.clientX,p.clientY),this._holdTimeout=setTimeout(X(function(){this._cancel(),this._isTapValid()&&(jn(document,"touchend",nn),jn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),600),jn(document,"touchend touchcancel contextmenu",this._cancel,this),jn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function c(){Ur(document,"touchend",nn),Ur(document,"touchend touchcancel",c)},_cancel:function(){clearTimeout(this._holdTimeout),Ur(document,"touchend touchcancel contextmenu",this._cancel,this),Ur(document,"touchmove",this._onMove,this)},_onMove:function(c){var p=c.touches[0];this._newPos=new Dt(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(c,p){var C=new MouseEvent(c,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});C._simulated=!0,p.target.dispatchEvent(C)}});Qi.addInitHook("addHandler","tapHold",Mp),Qi.mergeOptions({touchZoom:dn.touch,bounceAtZoomLimits:!0});var pd=Bl.extend({addHooks:function(){Ci(this._map._container,"leaflet-touch-zoom"),jn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){li(this._map._container,"leaflet-touch-zoom"),Ur(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(c){var p=this._map;if(c.touches&&2===c.touches.length&&!p._animatingZoom&&!this._zooming){var C=p.mouseEventToContainerPoint(c.touches[0]),E=p.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),"center"!==p.options.touchZoom&&(this._pinchStartLatLng=p.containerPointToLatLng(C.add(E)._divideBy(2))),this._startDist=C.distanceTo(E),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),jn(document,"touchmove",this._onTouchMove,this),jn(document,"touchend touchcancel",this._onTouchEnd,this),nn(c)}},_onTouchMove:function(c){if(c.touches&&2===c.touches.length&&this._zooming){var p=this._map,C=p.mouseEventToContainerPoint(c.touches[0]),E=p.mouseEventToContainerPoint(c.touches[1]),T=C.distanceTo(E)/this._startDist;if(this._zoom=p.getScaleZoom(T,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&T<1||this._zoom>p.getMaxZoom()&&T>1)&&(this._zoom=p._limitZoom(this._zoom)),"center"===p.options.touchZoom){if(this._center=this._startLatLng,1===T)return}else{var $=C._add(E)._divideBy(2)._subtract(this._centerPoint);if(1===T&&0===$.x&&0===$.y)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract($),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),Bt(this._animRequest);var Te=X(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Oe(Te,this,!0),nn(c)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Bt(this._animRequest),Ur(document,"touchmove",this._onTouchMove,this),Ur(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Qi.addInitHook("addHandler","touchZoom",pd),Qi.BoxZoom=mi,Qi.DoubleClickZoom=So,Qi.Drag=Vo,Qi.Keyboard=Fa,Qi.ScrollWheelZoom=ts,Qi.TapHold=Mp,Qi.TouchZoom=pd,Ve.Bounds=at,Ve.Browser=dn,Ve.CRS=wi,Ve.Canvas=mm,Ve.Circle=Tc,Ve.CircleMarker=Fc,Ve.Class=Nt,Ve.Control=da,Ve.DivIcon=fa,Ve.DivOverlay=il,Ve.DomEvent=Ls,Ve.DomUtil=$b,Ve.Draggable=Oc,Ve.Evented=gi,Ve.FeatureGroup=fr,Ve.GeoJSON=pr,Ve.GridLayer=gu,Ve.Handler=Bl,Ve.Icon=Gr,Ve.ImageOverlay=dd,Ve.LatLng=ei,Ve.LatLngBounds=ln,Ve.Layer=Do,Ve.LayerGroup=cA,Ve.LineUtil=cn,Ve.Map=Qi,Ve.Marker=Di,Ve.Mixin=nv,Ve.Path=El,Ve.Point=Dt,Ve.PolyUtil=lm,Ve.Polygon=Kr,Ve.Polyline=tl,Ve.Popup=pu,Ve.PosAnimation=tv,Ve.Projection=Nh,Ve.Rectangle=ri,Ve.Renderer=Xl,Ve.SVG=ws,Ve.SVGOverlay=fu,Ve.TileLayer=mu,Ve.Tooltip=hd,Ve.Transformation=_s,Ve.Util=Z,Ve.VideoOverlay=bp,Ve.bind=X,Ve.bounds=bn,Ve.canvas=Uh,Ve.circle=function rv(c,p,C){return new Tc(c,p,C)},Ve.circleMarker=function ud(c,p){return new Fc(c,p)},Ve.control=ql,Ve.divIcon=function fm(c){return new fa(c)},Ve.extend=ue,Ve.featureGroup=function(c,p){return new fr(c,p)},Ve.geoJSON=Oa,Ve.geoJson=Ir,Ve.gridLayer=function pm(c){return new gu(c)},Ve.icon=function _p(c){return new Gr(c)},Ve.imageOverlay=function(c,p,C){return new dd(c,p,C)},Ve.latLng=zn,Ve.latLngBounds=qt,Ve.layerGroup=function(c,p){return new cA(c,p)},Ve.map=function qb(c,p){return new Qi(c,p)},Ve.marker=function hu(c,p){return new Di(c,p)},Ve.point=Je,Ve.polygon=function Pl(c,p){return new Kr(c,p)},Ve.polyline=function nl(c,p){return new tl(c,p)},Ve.popup=function(c,p){return new pu(c,p)},Ve.rectangle=function na(c,p){return new ri(c,p)},Ve.setOptions=fe,Ve.stamp=xe,Ve.svg=xp,Ve.svgOverlay=function dm(c,p,C){return new fu(c,p,C)},Ve.tileLayer=Cp,Ve.tooltip=function(c,p){return new hd(c,p)},Ve.transformation=Jo,Ve.version="1.9.4",Ve.videoOverlay=function ka(c,p,C){return new bp(c,p,C)};var Hh=window.L;Ve.noConflict=function(){return window.L=Hh,this},window.L=Ve}(Ge)},467:(XA,Ge,Ve)=>{"use strict";function qe(ce,X,_e,xe,Pe,Ne,Ce){try{var oe=ce[Ne](Ce),De=oe.value}catch(ne){return void _e(ne)}oe.done?X(De):Promise.resolve(De).then(xe,Pe)}function ue(ce){return function(){var X=this,_e=arguments;return new Promise(function(xe,Pe){var Ne=ce.apply(X,_e);function Ce(De){qe(Ne,xe,Pe,Ce,oe,"next",De)}function oe(De){qe(Ne,xe,Pe,Ce,oe,"throw",De)}Ce(void 0)})}}Ve.d(Ge,{A:()=>ue})}},XA=>{XA(XA.s=6864)}]);